<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>mysql主从复制&#43;读写分离的实现 | Wjy&#39;s Blog</title>
<meta name="keywords" content="mysql">
<meta name="description" content="准备

本机，安装mysql
一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通
">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://009965.xyz/posts/mysql/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://009965.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://009965.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://009965.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://009965.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://009965.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://009965.xyz/posts/mysql/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://009965.xyz/posts/mysql/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="mysql主从复制&#43;读写分离的实现">
  <meta property="og:description" content="准备 本机，安装mysql 一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通 ">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-12-06T18:09:14+00:00">
    <meta property="article:modified_time" content="2019-12-06T18:09:14+00:00">
    <meta property="article:tag" content="Mysql">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mysql主从复制&#43;读写分离的实现">
<meta name="twitter:description" content="准备

本机，安装mysql
一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通
">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://009965.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "mysql主从复制+读写分离的实现",
      "item": "https://009965.xyz/posts/mysql/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "mysql主从复制+读写分离的实现",
  "name": "mysql主从复制\u002b读写分离的实现",
  "description": "准备 本机，安装mysql 一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通 ",
  "keywords": [
    "mysql"
  ],
  "articleBody": "准备 本机，安装mysql 一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通 主数据库配置 打开my.ini (linux下为 /etc/my.cnf) 在mysqld下增加如下配置 1 2 3 log-bin=mysql-bin #slave会基于此log-bin来做replication server-id=1 #master的标示 binlog-do-db = ms_test #用于master-slave的具体数据库 进入mysql，增加一个从数据库连接主数据库的用户名和密码，repl为用户名，10.20.147.111为从数据库IP，111111为密码。\nGRANT REPLICATION SLAVE ON *.* TO repl@10.20.147.111 IDENTIFIED BY '111111';\n重启mysql\n进行mysql 输入show master status，查看主数据库状态\n配置从数据库 编辑 mysql配置文件 /etc/my.cnf 在文件最后 增加一行server-id=2 #slave 从数据库标识，保存退出 并且重启mysql 进入数据库，输入：\n10.20.147.110 为主数据库IP，\nrepl 连接主数据库的用户名，\n111111 连接主数据库的密码，\nmysql-bin.000003 是 show master status 中file字段的值，\n161261 是show master status 中position字段的值。 1 2 3 4 5 6 CHANGE MASTER TO MASTER_HOST='10.20.147.110', MASTER_USER='repl', MASTER_PASSWORD='111111', MASTER_LOG_FILE='mysql-bin.000003', MASTER_LOG_POS=161261; 启动从数据库\nstart slave;\n查看从数据库状态\nshow slave status \\G;\n以上，实现了主从复制，主数据库改变后，从数据库内容也会随之改变，反之亦然。\n安装amoeba 代理数据库 1.下载压缩包\n2.解压到本地\n3.进入conf文件夹，编辑amoeba.xml配置文件\n4.按照注释进行配置\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 \u003c?xml version=\"1.0\" encoding=\"gbk\"?\u003e \u003c!DOCTYPE amoeba:configuration SYSTEM \"amoeba.dtd\"\u003e \"http://amoeba.meidusa.com/\"\u003e \"port\"\u003e8066 \"readThreadPoolSize\"\u003e20 \"clientSideThreadPoolSize\"\u003e30 \"serverSideThreadPoolSize\"\u003e30 \"netBufferSize\"\u003e128 \"tcpNoDelay\"\u003etrue \"user\"\u003eroot \"password\"\u003eroot \"defaultManager\" class=\"com.meidusa.amoeba.net.MultiConnectionManagerWrapper\"\u003e \"subManagerClassName\"\u003ecom.meidusa.amoeba.net.AuthingableConnectionManager \"server1\"\u003e ",
  "wordCount" : "2065",
  "inLanguage": "en",
  "datePublished": "2019-12-06T18:09:14Z",
  "dateModified": "2019-12-06T18:09:14Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://009965.xyz/posts/mysql/mysql%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB%E7%9A%84%E5%AE%9E%E7%8E%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://009965.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      mysql主从复制&#43;读写分离的实现
    </h1>
    <div class="post-meta"><span title='2019-12-06 18:09:14 +0000 UTC'>2019-12-06</span>&nbsp;·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%87%86%e5%a4%87" aria-label="准备">准备</a></li>
                <li>
                    <a href="#%e4%b8%bb%e6%95%b0%e6%8d%ae%e5%ba%93%e9%85%8d%e7%bd%ae" aria-label="主数据库配置">主数据库配置</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e4%bb%8e%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="配置从数据库">配置从数据库</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85amoeba-%e4%bb%a3%e7%90%86%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="安装amoeba 代理数据库">安装amoeba 代理数据库</a></li>
                <li>
                    <a href="#%e6%b5%8b%e8%af%95" aria-label="测试">测试</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="准备">准备<a hidden class="anchor" aria-hidden="true" href="#准备">#</a></h1>
<ul>
<li>本机，安装mysql</li>
<li>一台虚拟机，或内网中的另一台主机，安装mysql 需要两台机器互相可以ping通</li>
</ul>
<h1 id="主数据库配置">主数据库配置<a hidden class="anchor" aria-hidden="true" href="#主数据库配置">#</a></h1>
<ul>
<li>打开my.ini    (linux下为 /etc/my.cnf)</li>
<li>在mysqld下增加如下配置</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>log-bin=mysql-bin #slave会基于此log-bin来做replication
</span></span><span style="display:flex;"><span>server-id=1 #master的标示
</span></span><span style="display:flex;"><span>binlog-do-db = ms_test #用于master-slave的具体数据库
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>进入mysql，增加一个从数据库连接主数据库的用户名和密码，repl为用户名，10.20.147.111为从数据库IP，111111为密码。<br>
<code>GRANT REPLICATION SLAVE ON *.* TO repl@10.20.147.111 IDENTIFIED BY '111111';</code></p>
</li>
<li>
<p>重启mysql</p>
</li>
<li>
<p>进行mysql  输入<code>show master status</code>，查看主数据库状态</p>
</li>
</ul>
<h1 id="配置从数据库">配置从数据库<a hidden class="anchor" aria-hidden="true" href="#配置从数据库">#</a></h1>
<ul>
<li>编辑 mysql配置文件  /etc/my.cnf</li>
<li>在文件最后 增加一行<code>server-id=2   #slave 从数据库标识</code>，保存退出 并且重启mysql</li>
<li>进入数据库，输入：<br>
10.20.147.110 为主数据库IP，<br>
repl 连接主数据库的用户名，<br>
111111 连接主数据库的密码，<br>
mysql-bin.000003 是 show master status 中file字段的值，<br>
161261 是show master status 中position字段的值。</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CHANGE MASTER TO
</span></span><span style="display:flex;"><span>MASTER_HOST=&#39;10.20.147.110&#39;, 
</span></span><span style="display:flex;"><span>MASTER_USER=&#39;repl&#39;,
</span></span><span style="display:flex;"><span>MASTER_PASSWORD=&#39;111111&#39;,
</span></span><span style="display:flex;"><span>MASTER_LOG_FILE=&#39;mysql-bin.000003&#39;,
</span></span><span style="display:flex;"><span>MASTER_LOG_POS=161261;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>启动从数据库<br>
<code>start slave;</code></p>
</li>
<li>
<p>查看从数据库状态<br>
<code>show slave status \G;</code></p>
</li>
</ul>
<p>以上，实现了主从复制，主数据库改变后，从数据库内容也会随之改变，反之亦然。</p>
<h1 id="安装amoeba-代理数据库">安装amoeba 代理数据库<a hidden class="anchor" aria-hidden="true" href="#安装amoeba-代理数据库">#</a></h1>
<p>1.下载压缩包<br>
2.解压到本地<br>
3.进入conf文件夹，编辑amoeba.xml配置文件<br>
4.按照注释进行配置</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>&lt;<span style="color:#f00">?</span>xml version=<span style="color:#0ff;font-weight:bold">&#34;1.0&#34;</span> encoding=<span style="color:#0ff;font-weight:bold">&#34;gbk&#34;</span><span style="color:#f00">?</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;!DOCTYPE amoeba:configuration SYSTEM <span style="color:#0ff;font-weight:bold">&#34;amoeba.dtd&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;amoeba:configuration xmlns:amoeba=<span style="color:#0ff;font-weight:bold">&#34;http://amoeba.meidusa.com/&#34;</span>&gt;
</span></span><span style="display:flex;"><span>	&lt;server&gt;
</span></span><span style="display:flex;"><span>		&lt;!-- proxy server绑定的端口 --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;port&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">8066</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- proxy server绑定的IP --&gt;
</span></span><span style="display:flex;"><span>		&lt;!-- 
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;ipAddress&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">127.0</span>.<span style="color:#ff0;font-weight:bold">0.1</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		 --&gt;
</span></span><span style="display:flex;"><span>		&lt;!-- proxy server net IO Read thread size --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;readThreadPoolSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">20</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- proxy server client process thread size --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;clientSideThreadPoolSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">30</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- mysql server data packet process thread size --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;serverSideThreadPoolSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">30</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- socket Send and receive BufferSize(unit:K)  --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;netBufferSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">128</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- Enable/disable TCP_NODELAY (disable/enable Nagle<span style="color:#0ff;font-weight:bold">&#39;s algorithm). --&gt;</span>
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;tcpNoDelay&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- <span style="color:#f00">对外验证的用户名</span> --&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>&gt;root&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- <span style="color:#f00">对外验证的密码</span> --&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>&gt;root&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>	&lt;/server&gt;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	&lt;!-- 
</span></span><span style="display:flex;"><span>		<span style="color:#f00">每个</span>ConnectionManager都将作为一个线程启动<span style="color:#f00">。</span>
</span></span><span style="display:flex;"><span>		manager负责Connection IO读写/<span style="color:#f00">死亡检测</span>
</span></span><span style="display:flex;"><span>	--&gt;
</span></span><span style="display:flex;"><span>	&lt;connectionManagerList&gt;
</span></span><span style="display:flex;"><span>		&lt;connectionManager name=<span style="color:#0ff;font-weight:bold">&#34;defaultManager&#34;</span> <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.net.MultiConnectionManagerWrapper&#34;</span>&gt;
</span></span><span style="display:flex;"><span>			&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;subManagerClassName&#34;</span>&gt;com.meidusa.amoeba.net.AuthingableConnectionManager&lt;/property&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;!-- 
</span></span><span style="display:flex;"><span>			  default value is avaliable Processors 
</span></span><span style="display:flex;"><span>			&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;processors&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">5</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>			 --&gt;
</span></span><span style="display:flex;"><span>		&lt;/connectionManager&gt;
</span></span><span style="display:flex;"><span>	&lt;/connectionManagerList&gt;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	&lt;dbServerList&gt;
</span></span><span style="display:flex;"><span>		&lt;!-- 
</span></span><span style="display:flex;"><span>			<span style="color:#f00">一台</span>mysqlServer <span style="color:#f00">需要配置一个</span>pool<span style="color:#f00">，</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f00">如果多台</span> <span style="color:#f00">平等的</span>mysql需要进行loadBalance<span style="color:#f00">，</span> 
</span></span><span style="display:flex;"><span>			<span style="color:#f00">平台已经提供一个具有负载均衡能力的</span>objectPool<span style="color:#f00">：</span>com.meidusa.amoeba.mysql.server.MultipleServerPool
</span></span><span style="display:flex;"><span>			<span style="color:#f00">简单的配置是属性加上</span> virtual=<span style="color:#0ff;font-weight:bold">&#34;true&#34;</span>,<span style="color:#f00">该</span>Pool <span style="color:#f00">不允许配置</span>factoryConfig
</span></span><span style="display:flex;"><span>			<span style="color:#f00">或者自己写一个</span>ObjectPool<span style="color:#f00">。</span>
</span></span><span style="display:flex;"><span>		--&gt;
</span></span><span style="display:flex;"><span>		&lt;!--<span style="color:#f00">主数据库配置</span>--&gt;
</span></span><span style="display:flex;"><span>		&lt;dbServer name=<span style="color:#0ff;font-weight:bold">&#34;server1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;!-- PoolableObjectFactory实现类 --&gt;
</span></span><span style="display:flex;"><span>			&lt;factoryConfig <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.mysql.net.MysqlServerConnectionFactory&#34;</span>&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;manager&#34;</span>&gt;defaultManager&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">真实</span>mysql数据库端口 --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">主数据库端口</span> --&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;port&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">3306</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">真实</span>mysql数据库IP --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">主数据库</span>IP --&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;ipAddress&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">127.0</span>.<span style="color:#ff0;font-weight:bold">0.1</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">需要做主从的数据库名字</span>--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;schema&#34;</span>&gt;ms_test&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">用于登陆</span>mysql的用户名 --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">主数据库用户名</span> --&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>&gt;root&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">用于登陆</span>mysql的密码 --&gt;	
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">主数据库密码</span> --&gt;				
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>&gt;root&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>			&lt;/factoryConfig&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;!-- ObjectPool实现类 --&gt;
</span></span><span style="display:flex;"><span>			&lt;poolConfig <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.net.poolable.PoolableObjectPool&#34;</span>&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;maxActive&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">200</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;maxIdle&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">200</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;minIdle&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">10</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;minEvictableIdleTimeMillis&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">600000</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;timeBetweenEvictionRunsMillis&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">600000</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;testOnBorrow&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;testWhileIdle&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>			&lt;/poolConfig&gt;
</span></span><span style="display:flex;"><span>		&lt;/dbServer&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!--<span style="color:#f00">从数据库配置</span>--&gt;
</span></span><span style="display:flex;"><span>		&lt;dbServer name=<span style="color:#0ff;font-weight:bold">&#34;server2&#34;</span>&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;!-- PoolableObjectFactory实现类 --&gt;
</span></span><span style="display:flex;"><span>			&lt;factoryConfig <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.mysql.net.MysqlServerConnectionFactory&#34;</span>&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;manager&#34;</span>&gt;defaultManager&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">真实</span>mysql数据库端口 --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">从数据库端口</span>--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;port&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">3306</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">真实</span>mysql数据库IP --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">从数据库</span>IP--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;ipAddress&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">192.168</span>.<span style="color:#ff0;font-weight:bold">11.151</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;schema&#34;</span>&gt;ms_test&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">用于登陆</span>mysql的用户名 --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">从数据库用户名</span>--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>&gt;root&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">用于登陆</span>mysql的密码 --&gt;
</span></span><span style="display:flex;"><span>				&lt;!--<span style="color:#f00">从数据库密码</span>--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>&gt;MyNewPass1!&lt;/property&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;/factoryConfig&gt;
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>			&lt;!-- ObjectPool实现类 --&gt;
</span></span><span style="display:flex;"><span>			&lt;poolConfig <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.net.poolable.PoolableObjectPool&#34;</span>&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;maxActive&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">200</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;maxIdle&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">200</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;minIdle&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">10</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;minEvictableIdleTimeMillis&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">600000</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;timeBetweenEvictionRunsMillis&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">600000</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;testOnBorrow&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;testWhileIdle&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>			&lt;/poolConfig&gt;
</span></span><span style="display:flex;"><span>		&lt;/dbServer&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;dbServer name=<span style="color:#0ff;font-weight:bold">&#34;multiPool&#34;</span> virtual=<span style="color:#0ff;font-weight:bold">&#34;true&#34;</span>&gt;
</span></span><span style="display:flex;"><span>			&lt;poolConfig <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.server.MultipleServerPool&#34;</span>&gt;
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">负载均衡参数</span> <span style="color:#ff0;font-weight:bold">1</span>=ROUNDROBIN , <span style="color:#ff0;font-weight:bold">2</span>=WEIGHTBASED , <span style="color:#ff0;font-weight:bold">3</span>=HA--&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;loadbalance&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">1</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>				&lt;!-- <span style="color:#f00">参与该</span>pool负载均衡的poolName列表以逗号分割 --&gt;
</span></span><span style="display:flex;"><span>				&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;poolNames&#34;</span>&gt;server1&lt;/property&gt;
</span></span><span style="display:flex;"><span>			&lt;/poolConfig&gt;
</span></span><span style="display:flex;"><span>		&lt;/dbServer&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>	&lt;/dbServerList&gt;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	&lt;queryRouter <span style="color:#fff;font-weight:bold">class</span>=<span style="color:#0ff;font-weight:bold">&#34;com.meidusa.amoeba.mysql.parser.MysqlQueryRouter&#34;</span>&gt;
</span></span><span style="display:flex;"><span>		&lt;!--
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;ruleConfig&#34;</span>&gt;${amoeba.home}/conf/rule.xml&lt;/property&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;functionConfig&#34;</span>&gt;${amoeba.home}/conf/functionMap.xml&lt;/property&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;ruleFunctionConfig&#34;</span>&gt;${amoeba.home}/conf/ruleFunctionMap.xml&lt;/property&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;LRUMapSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">1500</span>&lt;/property&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;defaultPool&#34;</span>&gt;server1&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;writePool&#34;</span>&gt;server1&lt;/property&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;readPool&#34;</span>&gt;server1&lt;/property&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;needParse&#34;</span>&gt;true&lt;/property&gt;
</span></span><span style="display:flex;"><span>		--&gt;
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;LRUMapSize&#34;</span>&gt;<span style="color:#ff0;font-weight:bold">1500</span>&lt;/property&gt;  
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;defaultPool&#34;</span>&gt;server1&lt;/property&gt;  
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;writePool&#34;</span>&gt;server1&lt;/property&gt;  
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;readPool&#34;</span>&gt;server2&lt;/property&gt;  
</span></span><span style="display:flex;"><span>		&lt;property name=<span style="color:#0ff;font-weight:bold">&#34;needParse&#34;</span>&gt;true&lt;/property&gt; 
</span></span><span style="display:flex;"><span>	&lt;/queryRouter&gt;
</span></span><span style="display:flex;"><span>&lt;/amoeba:configuration&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.进入amoeba  bin文件夹，双击amoeba.bat启动，显示：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>log4f config <span style="color:#fff;font-weight:bold">load</span> completed from file ....
</span></span><span style="display:flex;"><span>Server listening...
</span></span></code></pre></td></tr></table>
</div>
</div><p>证明启动成功。</p>
<h1 id="测试">测试<a hidden class="anchor" aria-hidden="true" href="#测试">#</a></h1>
<p>1.在主数据库建立一个表，从数据库无需建立表<br>
2.编写一段JDBC代码测试</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> msTest.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.sql.Connection;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.sql.DriverManager;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.sql.PreparedStatement;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 数据库工具类
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author muty
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>public class DBUtil {
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//amoeba数据库用户名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	private static final String username = <span style="color:#0ff;font-weight:bold">&#34;root&#34;</span>;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//amoeba数据库密码
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	private static final String password = <span style="color:#0ff;font-weight:bold">&#34;root&#34;</span>;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//连接到哪一个数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	private static final String db_name = <span style="color:#0ff;font-weight:bold">&#34;ms_test&#34;</span>;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * Connection 数据库连接对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * java.sql.Connection
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * 获取数据库连接
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 */</span>
</span></span><span style="display:flex;"><span>	public static Connection getConnection(){
</span></span><span style="display:flex;"><span>		Connection conn = null;
</span></span><span style="display:flex;"><span>		try{
</span></span><span style="display:flex;"><span>			<span style="color:#007f7f">//加载数据库驱动
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>			Class.forName(<span style="color:#0ff;font-weight:bold">&#34;com.mysql.jdbc.Driver&#34;</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#007f7f">//拼接连接数据的地址和参数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>			String url = <span style="color:#0ff;font-weight:bold">&#34;jdbc:mysql://localhost:8066/&#34;</span>+db_name
</span></span><span style="display:flex;"><span>					+<span style="color:#0ff;font-weight:bold">&#34;?user=&#34;</span>+username+<span style="color:#0ff;font-weight:bold">&#34;&amp;password=&#34;</span>+password+<span style="color:#0ff;font-weight:bold">&#34;&amp;characterEncoding=utf8&#34;</span>;
</span></span><span style="display:flex;"><span>			System.out.<span style="color:#fff;font-weight:bold">println</span>(url);
</span></span><span style="display:flex;"><span>			<span style="color:#007f7f">//获取连接
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>			conn = DriverManager.getConnection(url);
</span></span><span style="display:flex;"><span>		}catch(Exception e){
</span></span><span style="display:flex;"><span>			e.printStackTrace();
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> conn;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	public static void main(String[] args){
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		try{
</span></span><span style="display:flex;"><span>			Connection conn = DBUtil.getConnection();
</span></span><span style="display:flex;"><span>			PreparedStatement ps = conn.prepareStatement(<span style="color:#0ff;font-weight:bold">&#34;insert into stu(name,age) values(?,?)&#34;</span>);
</span></span><span style="display:flex;"><span>			ps.setString(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#0ff;font-weight:bold">&#34;测试学生&#34;</span>);
</span></span><span style="display:flex;"><span>			ps.setInt(<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">25</span>);
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">int</span> r = ps.executeUpdate();
</span></span><span style="display:flex;"><span>			System.out.<span style="color:#fff;font-weight:bold">println</span>(r);
</span></span><span style="display:flex;"><span>		}catch(Exception e){
</span></span><span style="display:flex;"><span>			e.printStackTrace();
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>4.执行代码，查看主数据库和从数据库，数据相同则证明配置成功</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/mysql/">Mysql</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
