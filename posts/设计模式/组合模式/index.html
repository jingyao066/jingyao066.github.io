<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ç»„åˆæ¨¡å¼ | Wjy&#39;s Blog</title>
<meta name="keywords" content="è®¾è®¡æ¨¡å¼">
<meta name="description" content="å¿«é€Ÿå­¦ä¹ 
ç±»å‹ï¼šç»“æ„å‹

å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚
">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ç»„åˆæ¨¡å¼" />
<meta property="og:description" content="å¿«é€Ÿå­¦ä¹ 
ç±»å‹ï¼šç»“æ„å‹

å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-29T13:50:35+00:00" />
<meta property="article:modified_time" content="2018-12-29T13:50:35+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ç»„åˆæ¨¡å¼"/>
<meta name="twitter:description" content="å¿«é€Ÿå­¦ä¹ 
ç±»å‹ï¼šç»“æ„å‹

å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚
"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ç»„åˆæ¨¡å¼",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç»„åˆæ¨¡å¼",
  "name": "ç»„åˆæ¨¡å¼",
  "description": "å¿«é€Ÿå­¦ä¹  ç±»å‹ï¼šç»“æ„å‹\nå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚\n",
  "keywords": [
    "è®¾è®¡æ¨¡å¼"
  ],
  "articleBody": "å¿«é€Ÿå­¦ä¹  ç±»å‹ï¼šç»“æ„å‹\nå°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚\nç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰ç»å¸¸ç”¨äºæ ‘å½¢ç»“æ„ï¼Œä¸ºäº†ç®€åŒ–ä»£ç ï¼Œä½¿ç”¨Compositeå¯ä»¥æŠŠä¸€ä¸ªå¶å­èŠ‚ç‚¹ä¸ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ç»Ÿä¸€èµ·æ¥å¤„ç†ã€‚\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚åœ¨XMLæˆ–HTMLä¸­ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯èƒ½åŒ…å«ä»»æ„ä¸ªå…¶ä»–èŠ‚ç‚¹ï¼Œè¿™äº›å±‚å±‚åµŒå¥—çš„èŠ‚ç‚¹å°±æ„æˆäº†ä¸€é¢—æ ‘ã€‚\nè¦ä»¥æ ‘çš„ç»“æ„è¡¨ç¤ºXMLï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠ½è±¡å‡ºèŠ‚ç‚¹ç±»å‹Nodeï¼š\n1 2 3 4 5 6 7 8 public interface Node { // æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå­èŠ‚ç‚¹: Node add(Node node); // è·å–å­èŠ‚ç‚¹: List children(); // è¾“å‡ºä¸ºXML: String toXml(); } å¯¹äºä¸€ä¸ªè¿™æ ·çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºElementNodeï¼Œå®ƒå¯ä»¥ä½œä¸ºå®¹å™¨åŒ…å«å¤šä¸ªå­èŠ‚ç‚¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class ElementNode implements Node { private String name; private List list = new ArrayList\u003c\u003e(); public ElementNode(String name) { this.name = name; } public Node add(Node node) { list.add(node); return this; } public List children() { return list; } public String toXml() { String start = \"\u003c\" + name + \"\u003e\\n\"; String end = \"\u003c/\" + name + \"\u003e\\n\"; StringJoiner sj = new StringJoiner(\"\", start, end); list.forEach(node -\u003e { sj.add(node.toXml() + \"\\n\"); }); return sj.toString(); } } å¯¹äºæ™®é€šæ–‡æœ¬ï¼Œæˆ‘ä»¬æŠŠå®ƒçœ‹ä½œTextNodeï¼Œå®ƒæ²¡æœ‰å­èŠ‚ç‚¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class TextNode implements Node { private String text; public TextNode(String text) { this.text = text; } public Node add(Node node) { throw new UnsupportedOperationException(); } public List children() { return List.of(); } public String toXml() { return text; } } æ­¤å¤–ï¼Œè¿˜å¯ä»¥æœ‰æ³¨é‡ŠèŠ‚ç‚¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class CommentNode implements Node { private String text; public CommentNode(String text) { this.text = text; } public Node add(Node node) { throw new UnsupportedOperationException(); } public List children() { return List.of(); } public String toXml() { return \"\"; } } é€šè¿‡ElementNodeã€TextNodeå’ŒCommentNodeï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„é€ å‡ºä¸€é¢—æ ‘ï¼š\n1 2 3 4 5 6 7 8 9 Node root = new ElementNode(\"school\"); root.add(new ElementNode(\"classA\") .add(new TextNode(\"Tom\")) .add(new TextNode(\"Alice\"))); root.add(new ElementNode(\"classB\") .add(new TextNode(\"Bob\")) .add(new TextNode(\"Grace\")) .add(new CommentNode(\"comment...\"))); System.out.println(root.toXml()); æœ€åé€šè¿‡rootèŠ‚ç‚¹è¾“å‡ºçš„XMLå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 Tom Alice Bob Grace å¯è§ï¼Œä½¿ç”¨Compositeæ¨¡å¼æ—¶ï¼Œéœ€è¦å…ˆç»Ÿä¸€å•ä¸ªèŠ‚ç‚¹ä»¥åŠâ€œå®¹å™¨â€èŠ‚ç‚¹çš„æ¥å£ï¼š\n1 2 3 4 5 6 7 8 9 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Node â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–² â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ElementNodeâ”‚â”‚ TextNode â”‚â”‚CommentNodeâ”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ä½œä¸ºå®¹å™¨èŠ‚ç‚¹çš„ElementNodeåˆå¯ä»¥æ·»åŠ ä»»æ„ä¸ªNodeï¼Œè¿™æ ·å°±å¯ä»¥æ„æˆå±‚çº§ç»“æ„ã€‚\nç±»ä¼¼çš„ï¼Œåƒæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€GUIçª—å£çš„å„ç§ç»„ä»¶ï¼Œéƒ½ç¬¦åˆCompositeæ¨¡å¼çš„å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬çš„ç»“æ„å¤©ç”Ÿå°±æ˜¯å±‚çº§ç»“æ„ã€‚\næ¦‚è¿° ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆæˆæ¨¡å¼ç³»ç»Ÿã€‚ä¸‹å›¾æ˜¯å¸¸è§çš„è®¡ç®—æœºXPæ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæ ‘ä¸Šé•¿æœ‰èŠ‚ç‚¹ã€‚æ ‘çš„èŠ‚ç‚¹æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ ‘æèŠ‚ç‚¹ï¼Œå³ç›®å½•ï¼Œæœ‰å†…éƒ¨æ ‘ç»“æ„ï¼Œåœ¨å›¾ä¸­æ¶‚æœ‰é¢œè‰²ï¼›å¦ä¸€ç§æ˜¯æ–‡ä»¶ï¼Œå³æ ‘å¶èŠ‚ç‚¹ï¼Œæ²¡æœ‰å†…éƒ¨æ ‘ç»“æ„ã€‚ æ˜¾ç„¶ï¼Œå¯ä»¥æŠŠç›®å½•å’Œæ–‡ä»¶å½“åšåŒä¸€ç§å¯¹è±¡åŒç­‰å¯¹å¾…å’Œå¤„ç†ï¼Œè¿™ä¹Ÿå°±æ˜¯åˆæˆæ¨¡å¼çš„åº”ç”¨ã€‚ åˆæˆæ¨¡å¼å¯ä»¥ä¸æä¾›çˆ¶å¯¹è±¡çš„ç®¡ç†æ–¹æ³•ï¼Œä½†æ˜¯åˆæˆæ¨¡å¼å¿…é¡»åœ¨åˆé€‚çš„åœ°æ–¹æä¾›å­å¯¹è±¡çš„ç®¡ç†æ–¹æ³•ï¼Œ å¦‚ï¼šadd()ã€remove()ã€ä»¥åŠgetChild()ç­‰ã€‚ åˆæˆæ¨¡å¼çš„å®ç°æ ¹æ®æ‰€å®ç°æ¥å£çš„åŒºåˆ«åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«ç§°ä¸ºå®‰å…¨å¼å’Œé€æ˜å¼ã€‚\nå®‰å…¨å¼åˆæˆæ¨¡å¼ å®‰å…¨æ¨¡å¼çš„åˆæˆæ¨¡å¼è¦æ±‚ç®¡ç†èšé›†çš„æ–¹æ³•åªå‡ºç°åœ¨æ ‘ææ„ä»¶ç±»ä¸­ï¼Œè€Œä¸å‡ºç°åœ¨æ ‘å¶æ„ä»¶ç±»ä¸­ã€‚ è¿™ç§å½¢å¼æ¶‰åŠåˆ°ä¸‰ä¸ªè§’è‰²ï¼š\næŠ½è±¡æ„ä»¶(Component)è§’è‰²ï¼š è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡è§’è‰²ï¼Œå®ƒç»™å‚åŠ ç»„åˆçš„å¯¹è±¡å®šä¹‰å‡ºå…¬å…±çš„æ¥å£åŠå…¶é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥ç”¨æ¥ç®¡ç†æ‰€æœ‰çš„å­å¯¹è±¡ã€‚åˆæˆå¯¹è±¡é€šå¸¸æŠŠå®ƒæ‰€åŒ…å«çš„å­å¯¹è±¡å½“åšç±»å‹ä¸ºComponentçš„å¯¹è±¡ã€‚åœ¨å®‰å…¨å¼çš„åˆæˆæ¨¡å¼é‡Œï¼Œæ„ä»¶è§’è‰²å¹¶ä¸å®šä¹‰å‡ºç®¡ç†å­å¯¹è±¡çš„æ–¹æ³•ï¼Œè¿™ä¸€å®šä¹‰ç”±æ ‘ææ„ä»¶å¯¹è±¡ç»™å‡ºã€‚\næ ‘å¶æ„ä»¶(Leaf)è§’è‰²ï¼š æ ‘å¶å¯¹è±¡æ˜¯æ²¡æœ‰ä¸‹çº§å­å¯¹è±¡çš„å¯¹è±¡ï¼Œå®šä¹‰å‡ºå‚åŠ ç»„åˆçš„åŸå§‹å¯¹è±¡çš„è¡Œä¸ºã€‚\næ ‘ææ„ä»¶(Composite)è§’è‰²ï¼š ä»£è¡¨å‚åŠ ç»„åˆçš„æœ‰ä¸‹çº§å­å¯¹è±¡çš„å¯¹è±¡ã€‚æ ‘ææ„ä»¶ç±»ç»™å‡ºæ‰€æœ‰çš„ç®¡ç†å­å¯¹è±¡çš„æ–¹æ³•ï¼Œå¦‚add()ã€remove()ä»¥åŠgetChild()ã€‚\nç®€å•å®ç° æŠ½è±¡æ„ä»¶è§’è‰²ç±»\n1 2 3 4 5 6 public interface Component { /** * è¾“å‡ºç»„å»ºè‡ªèº«çš„åç§° */ public void printStruct(String preStr); } æ ‘ææ„ä»¶è§’è‰²ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 public class Composite implements Component { /** * ç”¨æ¥å­˜å‚¨ç»„åˆå¯¹è±¡ä¸­åŒ…å«çš„å­ç»„ä»¶å¯¹è±¡ */ private List childComponents = new ArrayList(); /** * ç»„åˆå¯¹è±¡çš„åå­— */ private String name; /** * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥ç»„åˆå¯¹è±¡çš„åå­— * @param name ç»„åˆå¯¹è±¡çš„åå­— */ public Composite(String name){ this.name = name; } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param child å­æ„ä»¶å¯¹è±¡ */ public void addChild(Component child){ childComponents.add(child); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡ */ public void removeChild(int index){ childComponents.remove(index); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡ */ public List getChild(){ return childComponents; } /** * è¾“å‡ºå¯¹è±¡çš„è‡ªèº«ç»“æ„ * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿› */ @Override public void printStruct(String preStr) { // å…ˆæŠŠè‡ªå·±è¾“å‡º System.out.println(preStr + \"+\" + this.name); //å¦‚æœè¿˜åŒ…å«æœ‰å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°±è¾“å‡ºè¿™äº›å­ç»„ä»¶å¯¹è±¡ if(this.childComponents != null){ //æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œè¡¨ç¤ºå‘åç¼©è¿›ä¸¤ä¸ªç©ºæ ¼ preStr += \" \"; //è¾“å‡ºå½“å‰å¯¹è±¡çš„å­å¯¹è±¡ for(Component c : childComponents){ //é€’å½’è¾“å‡ºæ¯ä¸ªå­å¯¹è±¡ c.printStruct(preStr); } } } } æ ‘å¶æ„ä»¶è§’è‰²ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Leaf implements Component { /** * å¶å­å¯¹è±¡çš„åå­— */ private String name; /** * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥å¶å­å¯¹è±¡çš„åç§° * @param name å¶å­å¯¹è±¡çš„åå­— */ public Leaf(String name){ this.name = name; } /** * è¾“å‡ºå¶å­å¯¹è±¡çš„ç»“æ„ï¼Œå¶å­å¯¹è±¡æ²¡æœ‰å­å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºå¶å­å¯¹è±¡çš„åå­— * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥çš„ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿› */ @Override public void printStruct(String preStr) { // TODO Auto-generated method stub System.out.println(preStr + \"-\" + name); } } å®¢æˆ·ç«¯ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Client { public static void main(String[]args){ Composite root = new Composite(\"æœè£…\"); Composite c1 = new Composite(\"ç”·è£…\"); Composite c2 = new Composite(\"å¥³è£…\"); Leaf leaf1 = new Leaf(\"è¡¬è¡«\"); Leaf leaf2 = new Leaf(\"å¤¹å…‹\"); Leaf leaf3 = new Leaf(\"è£™å­\"); Leaf leaf4 = new Leaf(\"å¥—è£…\"); root.addChild(c1); root.addChild(c2); c1.addChild(leaf1); c1.addChild(leaf2); c2.addChild(leaf3); c2.addChild(leaf4); root.printStruct(\"\"); } } å¯ä»¥çœ‹å‡ºï¼Œæ ‘ææ„ä»¶ç±»(Composite)ç»™å‡ºäº†addChild()ã€removeChild()ä»¥åŠgetChild()ç­‰æ–¹æ³•çš„å£°æ˜å’Œå®ç°ï¼Œè€Œæ ‘å¶æ„ä»¶ç±»åˆ™æ²¡æœ‰ç»™å‡ºè¿™äº›æ–¹æ³•çš„å£°æ˜æˆ–å®ç°ã€‚è¿™æ ·çš„åšæ³•æ˜¯å®‰å…¨çš„åšæ³•ï¼Œç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸å¯èƒ½é”™è¯¯åœ°è°ƒç”¨æ ‘å¶æ„ä»¶çš„èšé›†æ–¹æ³•ï¼Œå› ä¸ºæ ‘å¶æ„ä»¶æ²¡æœ‰è¿™äº›æ–¹æ³•ï¼Œè°ƒç”¨ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚å®‰å…¨å¼åˆæˆæ¨¡å¼çš„ç¼ºç‚¹æ˜¯ä¸å¤Ÿé€æ˜ï¼Œå› ä¸ºæ ‘å¶ç±»å’Œæ ‘æç±»å°†å…·æœ‰ä¸åŒçš„æ¥å£ã€‚\né€æ˜å¼åˆæˆæ¨¡å¼ ä¸å®‰å…¨å¼çš„åˆæˆæ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œé€æ˜å¼çš„åˆæˆæ¨¡å¼è¦æ±‚æ‰€æœ‰çš„å…·ä½“æ„ä»¶ç±»ï¼Œä¸è®ºæ ‘ææ„ä»¶è¿˜æ˜¯æ ‘å¶æ„ä»¶ï¼Œå‡ç¬¦åˆä¸€ä¸ªå›ºå®šæ¥å£ã€‚ ç®€å•å®ç° æŠ½è±¡æ„ä»¶è§’è‰²ç±»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 public abstract class Component { /** * è¾“å‡ºç»„å»ºè‡ªèº«çš„åç§° */ public abstract void printStruct(String preStr); /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param child å­æ„ä»¶å¯¹è±¡ */ public void addChild(Component child){ /** * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½ * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½ */ throw new UnsupportedOperationException(\"å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½\"); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡ */ public void removeChild(int index){ /** * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½ * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½ */ throw new UnsupportedOperationException(\"å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½\"); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡ */ public List getChild(){ /** * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½ * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½ */ throw new UnsupportedOperationException(\"å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½\"); } } æ ‘ææ„ä»¶è§’è‰²ç±»ï¼Œæ­¤ç±»å°†implements Conponentæ”¹ä¸ºextends Conponentï¼Œå…¶ä»–åœ°æ–¹æ— å˜åŒ–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 public class Composite extends Component { /** * ç”¨æ¥å­˜å‚¨ç»„åˆå¯¹è±¡ä¸­åŒ…å«çš„å­ç»„ä»¶å¯¹è±¡ */ private List childComponents = new ArrayList(); /** * ç»„åˆå¯¹è±¡çš„åå­— */ private String name; /** * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥ç»„åˆå¯¹è±¡çš„åå­— * @param name ç»„åˆå¯¹è±¡çš„åå­— */ public Composite(String name){ this.name = name; } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param child å­æ„ä»¶å¯¹è±¡ */ public void addChild(Component child){ childComponents.add(child); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡ * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡ */ public void removeChild(int index){ childComponents.remove(index); } /** * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡ */ public List getChild(){ return childComponents; } /** * è¾“å‡ºå¯¹è±¡çš„è‡ªèº«ç»“æ„ * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿› */ @Override public void printStruct(String preStr) { // å…ˆæŠŠè‡ªå·±è¾“å‡º System.out.println(preStr + \"+\" + this.name); //å¦‚æœè¿˜åŒ…å«æœ‰å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°±è¾“å‡ºè¿™äº›å­ç»„ä»¶å¯¹è±¡ if(this.childComponents != null){ //æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œè¡¨ç¤ºå‘åç¼©è¿›ä¸¤ä¸ªç©ºæ ¼ preStr += \" \"; //è¾“å‡ºå½“å‰å¯¹è±¡çš„å­å¯¹è±¡ for(Component c : childComponents){ //é€’å½’è¾“å‡ºæ¯ä¸ªå­å¯¹è±¡ c.printStruct(preStr); } } } } æ ‘å¶æ„ä»¶è§’è‰²ç±»ï¼Œæ­¤ç±»å°†implements Conponentæ”¹ä¸ºextends Conponentï¼Œå…¶ä»–åœ°æ–¹æ— å˜åŒ–ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Leaf extends Component { /** * å¶å­å¯¹è±¡çš„åå­— */ private String name; /** * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥å¶å­å¯¹è±¡çš„åç§° * @param name å¶å­å¯¹è±¡çš„åå­— */ public Leaf(String name){ this.name = name; } /** * è¾“å‡ºå¶å­å¯¹è±¡çš„ç»“æ„ï¼Œå¶å­å¯¹è±¡æ²¡æœ‰å­å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºå¶å­å¯¹è±¡çš„åå­— * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥çš„ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿› */ @Override public void printStruct(String preStr) { // TODO Auto-generated method stub System.out.println(preStr + \"-\" + name); } } å®¢æˆ·ç«¯ç±»çš„ä¸»è¦å˜åŒ–æ˜¯ä¸å†åŒºåˆ†Compositeå¯¹è±¡å’ŒLeafå¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Client { public static void main(String[]args){ Component root = new Composite(\"æœè£…\"); Component c1 = new Composite(\"ç”·è£…\"); Component c2 = new Composite(\"å¥³è£…\"); Component leaf1 = new Leaf(\"è¡¬è¡«\"); Component leaf2 = new Leaf(\"å¤¹å…‹\"); Component leaf3 = new Leaf(\"è£™å­\"); Component leaf4 = new Leaf(\"å¥—è£…\"); root.addChild(c1); root.addChild(c2); c1.addChild(leaf1); c1.addChild(leaf2); c2.addChild(leaf3); c2.addChild(leaf4); root.printStruct(\"\"); } } å¯ä»¥çœ‹å‡ºï¼Œå®¢æˆ·ç«¯æ— éœ€å†åŒºåˆ†æ“ä½œçš„æ˜¯æ ‘æå¯¹è±¡(Composite)è¿˜æ˜¯æ ‘å¶å¯¹è±¡(Leaf)äº†ï¼›å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œæ“ä½œçš„éƒ½æ˜¯Componentå¯¹è±¡ã€‚\nä¸¤ç§å®ç°æ–¹æ³•çš„é€‰æ‹© è¿™é‡Œæ‰€è¯´çš„å®‰å…¨æ€§åˆæˆæ¨¡å¼æ˜¯æŒ‡ï¼šä»å®¢æˆ·ç«¯ä½¿ç”¨åˆæˆæ¨¡å¼ä¸Šçœ‹æ˜¯å¦æ›´å®‰å…¨ï¼Œå¦‚æœæ˜¯å®‰å…¨çš„ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰å‘ç”Ÿè¯¯æ“ä½œçš„å¯èƒ½ï¼Œèƒ½è®¿é—®çš„æ–¹æ³•éƒ½æ˜¯è¢«æ”¯æŒçš„ã€‚\nè¿™é‡Œæ‰€è¯´çš„é€æ˜æ€§åˆæˆæ¨¡å¼æ˜¯æŒ‡ï¼šä»å®¢æˆ·ç«¯ä½¿ç”¨åˆæˆæ¨¡å¼ä¸Šï¼Œæ˜¯å¦éœ€è¦åŒºåˆ†åˆ°åº•æ˜¯â€œæ ‘æå¯¹è±¡â€è¿˜æ˜¯â€œæ ‘å¶å¯¹è±¡â€ã€‚å¦‚æœæ˜¯é€æ˜çš„ï¼Œé‚£å°±ä¸ç”¨åŒºåˆ†ï¼Œå¯¹äºå®¢æˆ·è€Œè¨€ï¼Œéƒ½æ˜¯Compoentå¯¹è±¡ï¼Œå…·ä½“çš„ç±»å‹å¯¹äºå®¢æˆ·ç«¯è€Œè¨€æ˜¯é€æ˜çš„ï¼Œæ˜¯æ— é¡»å…³å¿ƒçš„ã€‚\nå¯¹äºåˆæˆæ¨¡å¼è€Œè¨€ï¼Œåœ¨å®‰å…¨æ€§å’Œé€æ˜æ€§ä¸Šï¼Œä¼šæ›´çœ‹é‡é€æ˜æ€§ï¼Œæ¯•ç«Ÿåˆæˆæ¨¡å¼çš„ç›®çš„æ˜¯ï¼šè®©å®¢æˆ·ç«¯ä¸å†åŒºåˆ†æ“ä½œçš„æ˜¯æ ‘æå¯¹è±¡è¿˜æ˜¯æ ‘å¶å¯¹è±¡ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªç»Ÿä¸€çš„æ–¹å¼æ¥æ“ä½œã€‚\nè€Œä¸”å¯¹äºå®‰å…¨æ€§çš„å®ç°ï¼Œéœ€è¦åŒºåˆ†æ˜¯æ ‘æå¯¹è±¡è¿˜æ˜¯æ ‘å¶å¯¹è±¡ã€‚æœ‰æ—¶å€™ï¼Œéœ€è¦å°†å¯¹è±¡è¿›è¡Œç±»å‹è½¬æ¢ï¼Œå´å‘ç°ç±»å‹ä¿¡æ¯ä¸¢å¤±äº†ï¼Œåªå¥½å¼ºè¡Œè½¬æ¢ï¼Œè¿™ç§ç±»å‹è½¬æ¢å¿…ç„¶æ˜¯ä¸å¤Ÿå®‰å…¨çš„ã€‚\nå› æ­¤åœ¨ä½¿ç”¨åˆæˆæ¨¡å¼çš„æ—¶å€™ï¼Œå»ºè®®å¤šé‡‡ç”¨é€æ˜æ€§çš„å®ç°æ–¹å¼ã€‚\nå‚è€ƒ\n",
  "wordCount" : "4419",
  "inLanguage": "en",
  "datePublished": "2018-12-29T13:50:35Z",
  "dateModified": "2018-12-29T13:50:35Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-chtml-full.min.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;Â»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      ç»„åˆæ¨¡å¼
    </h1>
    <div class="post-meta"><span title='2018-12-29 13:50:35 +0000 UTC'>2018-12-29</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%bf%ab%e9%80%9f%e5%ad%a6%e4%b9%a0" aria-label="å¿«é€Ÿå­¦ä¹ ">å¿«é€Ÿå­¦ä¹ </a></li>
                <li>
                    <a href="#%e6%a6%82%e8%bf%b0" aria-label="æ¦‚è¿°">æ¦‚è¿°</a></li>
                <li>
                    <a href="#%e5%ae%89%e5%85%a8%e5%bc%8f%e5%90%88%e6%88%90%e6%a8%a1%e5%bc%8f" aria-label="å®‰å…¨å¼åˆæˆæ¨¡å¼">å®‰å…¨å¼åˆæˆæ¨¡å¼</a><ul>
                        
                <li>
                    <a href="#%e7%ae%80%e5%8d%95%e5%ae%9e%e7%8e%b0" aria-label="ç®€å•å®ç°">ç®€å•å®ç°</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%80%8f%e6%98%8e%e5%bc%8f%e5%90%88%e6%88%90%e6%a8%a1%e5%bc%8f" aria-label="é€æ˜å¼åˆæˆæ¨¡å¼">é€æ˜å¼åˆæˆæ¨¡å¼</a><ul>
                        
                <li>
                    <a href="#%e7%ae%80%e5%8d%95%e5%ae%9e%e7%8e%b0-1" aria-label="ç®€å•å®ç°">ç®€å•å®ç°</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="å¿«é€Ÿå­¦ä¹ ">å¿«é€Ÿå­¦ä¹ <a hidden class="anchor" aria-hidden="true" href="#å¿«é€Ÿå­¦ä¹ ">#</a></h1>
<p>ç±»å‹ï¼šç»“æ„å‹</p>
<blockquote>
<p><em>å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œéƒ¨åˆ†-æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</em></p>
</blockquote>
<p>ç»„åˆæ¨¡å¼ï¼ˆCompositeï¼‰ç»å¸¸ç”¨äºæ ‘å½¢ç»“æ„ï¼Œä¸ºäº†ç®€åŒ–ä»£ç ï¼Œä½¿ç”¨Compositeå¯ä»¥æŠŠä¸€ä¸ªå¶å­èŠ‚ç‚¹ä¸ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ç»Ÿä¸€èµ·æ¥å¤„ç†ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚åœ¨XMLæˆ–HTMLä¸­ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å¯èƒ½åŒ…å«ä»»æ„ä¸ªå…¶ä»–èŠ‚ç‚¹ï¼Œè¿™äº›å±‚å±‚åµŒå¥—çš„èŠ‚ç‚¹å°±æ„æˆäº†ä¸€é¢—æ ‘ã€‚</p>
<p>è¦ä»¥æ ‘çš„ç»“æ„è¡¨ç¤ºXMLï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠ½è±¡å‡ºèŠ‚ç‚¹ç±»å‹<code>Node</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Node {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå­èŠ‚ç‚¹:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Node add(Node node);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–å­èŠ‚ç‚¹:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    List&lt;Node&gt; children();
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è¾“å‡ºä¸ºXML:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    String toXml();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºä¸€ä¸ª<code>&lt;abc&gt;</code>è¿™æ ·çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<code>ElementNode</code>ï¼Œå®ƒå¯ä»¥ä½œä¸ºå®¹å™¨åŒ…å«å¤šä¸ªå­èŠ‚ç‚¹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ElementNode <span style="color:#fff;font-weight:bold">implements</span> Node {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Node&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> ElementNode(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Node add(Node node) {
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(node);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> List&lt;Node&gt; children() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> list;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toXml() {
</span></span><span style="display:flex;"><span>        String start = <span style="color:#0ff;font-weight:bold">&#34;&lt;&#34;</span> + name + <span style="color:#0ff;font-weight:bold">&#34;&gt;\n&#34;</span>;
</span></span><span style="display:flex;"><span>        String end = <span style="color:#0ff;font-weight:bold">&#34;&lt;/&#34;</span> + name + <span style="color:#0ff;font-weight:bold">&#34;&gt;\n&#34;</span>;
</span></span><span style="display:flex;"><span>        StringJoiner sj = <span style="color:#fff;font-weight:bold">new</span> StringJoiner(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>, start, end);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">forEach</span>(node -&gt; {
</span></span><span style="display:flex;"><span>            sj.<span style="color:#007f7f">add</span>(node.<span style="color:#007f7f">toXml</span>() + <span style="color:#0ff;font-weight:bold">&#34;\n&#34;</span>);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> sj.<span style="color:#007f7f">toString</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºæ™®é€šæ–‡æœ¬ï¼Œæˆ‘ä»¬æŠŠå®ƒçœ‹ä½œ<code>TextNode</code>ï¼Œå®ƒæ²¡æœ‰å­èŠ‚ç‚¹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TextNode <span style="color:#fff;font-weight:bold">implements</span> Node {
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> String text;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> TextNode(String text) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">text</span> = text;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> Node add(Node node) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> List&lt;Node&gt; children() {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> List.<span style="color:#007f7f">of</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> String toXml() {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> text;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥æœ‰æ³¨é‡ŠèŠ‚ç‚¹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> CommentNode <span style="color:#fff;font-weight:bold">implements</span> Node {
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">private</span> String text;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> CommentNode(String text) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">text</span> = text;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> Node add(Node node) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> List&lt;Node&gt; children() {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> List.<span style="color:#007f7f">of</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">public</span> String toXml() {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;&lt;!-- &#34;</span> + text + <span style="color:#0ff;font-weight:bold">&#34; --&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡<code>ElementNode</code>ã€<code>TextNode</code>å’Œ<code>CommentNode</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„é€ å‡ºä¸€é¢—æ ‘ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Node root = <span style="color:#fff;font-weight:bold">new</span> ElementNode(<span style="color:#0ff;font-weight:bold">&#34;school&#34;</span>);
</span></span><span style="display:flex;"><span>root.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> ElementNode(<span style="color:#0ff;font-weight:bold">&#34;classA&#34;</span>)
</span></span><span style="display:flex;"><span>         .<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> TextNode(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>))
</span></span><span style="display:flex;"><span>         .<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> TextNode(<span style="color:#0ff;font-weight:bold">&#34;Alice&#34;</span>)));
</span></span><span style="display:flex;"><span>root.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> ElementNode(<span style="color:#0ff;font-weight:bold">&#34;classB&#34;</span>)
</span></span><span style="display:flex;"><span>         .<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> TextNode(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>))
</span></span><span style="display:flex;"><span>         .<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> TextNode(<span style="color:#0ff;font-weight:bold">&#34;Grace&#34;</span>))
</span></span><span style="display:flex;"><span>         .<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> CommentNode(<span style="color:#0ff;font-weight:bold">&#34;comment...&#34;</span>)));
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(root.<span style="color:#007f7f">toXml</span>());
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€åé€šè¿‡<code>root</code>èŠ‚ç‚¹è¾“å‡ºçš„XMLå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>&lt;school&gt;
</span></span><span style="display:flex;"><span>&lt;classA&gt;
</span></span><span style="display:flex;"><span>Tom
</span></span><span style="display:flex;"><span>Alice
</span></span><span style="display:flex;"><span>&lt;/classA&gt;
</span></span><span style="display:flex;"><span>&lt;classB&gt;
</span></span><span style="display:flex;"><span>Bob
</span></span><span style="display:flex;"><span>Grace
</span></span><span style="display:flex;"><span>&lt;!-- comment... --&gt;
</span></span><span style="display:flex;"><span>&lt;/classB&gt;
</span></span><span style="display:flex;"><span>&lt;/school&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯è§ï¼Œä½¿ç”¨Compositeæ¨¡å¼æ—¶ï¼Œéœ€è¦å…ˆç»Ÿä¸€å•ä¸ªèŠ‚ç‚¹ä»¥åŠâ€œå®¹å™¨â€èŠ‚ç‚¹çš„æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>             â”‚   Node    â”‚
</span></span><span style="display:flex;"><span>             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span><span style="display:flex;"><span>                   â–²
</span></span><span style="display:flex;"><span>      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>      â”‚            â”‚            â”‚
</span></span><span style="display:flex;"><span>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>â”‚ElementNodeâ”‚â”‚ TextNode  â”‚â”‚CommentNodeâ”‚
</span></span><span style="display:flex;"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½œä¸ºå®¹å™¨èŠ‚ç‚¹çš„<code>ElementNode</code>åˆå¯ä»¥æ·»åŠ ä»»æ„ä¸ª<code>Node</code>ï¼Œè¿™æ ·å°±å¯ä»¥æ„æˆå±‚çº§ç»“æ„ã€‚</p>
<p>ç±»ä¼¼çš„ï¼Œåƒæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€GUIçª—å£çš„å„ç§ç»„ä»¶ï¼Œéƒ½ç¬¦åˆCompositeæ¨¡å¼çš„å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬çš„ç»“æ„å¤©ç”Ÿå°±æ˜¯å±‚çº§ç»“æ„ã€‚</p>
<h1 id="æ¦‚è¿°">æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#æ¦‚è¿°">#</a></h1>
<p>ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„åˆæˆæ¨¡å¼ç³»ç»Ÿã€‚ä¸‹å›¾æ˜¯å¸¸è§çš„è®¡ç®—æœºXPæ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚
<img loading="lazy" src="1.png" alt=""  />
</p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæ ‘ä¸Šé•¿æœ‰èŠ‚ç‚¹ã€‚æ ‘çš„èŠ‚ç‚¹æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ ‘æèŠ‚ç‚¹ï¼Œå³ç›®å½•ï¼Œæœ‰å†…éƒ¨æ ‘ç»“æ„ï¼Œåœ¨å›¾ä¸­æ¶‚æœ‰é¢œè‰²ï¼›å¦ä¸€ç§æ˜¯æ–‡ä»¶ï¼Œå³æ ‘å¶èŠ‚ç‚¹ï¼Œæ²¡æœ‰å†…éƒ¨æ ‘ç»“æ„ã€‚
æ˜¾ç„¶ï¼Œå¯ä»¥æŠŠç›®å½•å’Œæ–‡ä»¶å½“åšåŒä¸€ç§å¯¹è±¡åŒç­‰å¯¹å¾…å’Œå¤„ç†ï¼Œè¿™ä¹Ÿå°±æ˜¯åˆæˆæ¨¡å¼çš„åº”ç”¨ã€‚
åˆæˆæ¨¡å¼å¯ä»¥ä¸æä¾›çˆ¶å¯¹è±¡çš„ç®¡ç†æ–¹æ³•ï¼Œä½†æ˜¯åˆæˆæ¨¡å¼å¿…é¡»åœ¨åˆé€‚çš„åœ°æ–¹æä¾›å­å¯¹è±¡çš„ç®¡ç†æ–¹æ³•ï¼Œ
å¦‚ï¼šadd()ã€remove()ã€ä»¥åŠgetChild()ç­‰ã€‚
åˆæˆæ¨¡å¼çš„å®ç°æ ¹æ®æ‰€å®ç°æ¥å£çš„åŒºåˆ«åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼Œåˆ†åˆ«ç§°ä¸ºå®‰å…¨å¼å’Œé€æ˜å¼ã€‚</p>
<h1 id="å®‰å…¨å¼åˆæˆæ¨¡å¼">å®‰å…¨å¼åˆæˆæ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#å®‰å…¨å¼åˆæˆæ¨¡å¼">#</a></h1>
<p>å®‰å…¨æ¨¡å¼çš„åˆæˆæ¨¡å¼è¦æ±‚ç®¡ç†èšé›†çš„æ–¹æ³•åªå‡ºç°åœ¨æ ‘ææ„ä»¶ç±»ä¸­ï¼Œè€Œä¸å‡ºç°åœ¨æ ‘å¶æ„ä»¶ç±»ä¸­ã€‚
<img loading="lazy" src="2.png" alt=""  />
</p>
<p>è¿™ç§å½¢å¼æ¶‰åŠåˆ°ä¸‰ä¸ªè§’è‰²ï¼š</p>
<ul>
<li>
<p>æŠ½è±¡æ„ä»¶(Component)è§’è‰²ï¼š
è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡è§’è‰²ï¼Œå®ƒç»™å‚åŠ ç»„åˆçš„å¯¹è±¡å®šä¹‰å‡ºå…¬å…±çš„æ¥å£åŠå…¶é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥ç”¨æ¥ç®¡ç†æ‰€æœ‰çš„å­å¯¹è±¡ã€‚åˆæˆå¯¹è±¡é€šå¸¸æŠŠå®ƒæ‰€åŒ…å«çš„å­å¯¹è±¡å½“åšç±»å‹ä¸ºComponentçš„å¯¹è±¡ã€‚åœ¨å®‰å…¨å¼çš„åˆæˆæ¨¡å¼é‡Œï¼Œæ„ä»¶è§’è‰²å¹¶ä¸å®šä¹‰å‡ºç®¡ç†å­å¯¹è±¡çš„æ–¹æ³•ï¼Œè¿™ä¸€å®šä¹‰ç”±æ ‘ææ„ä»¶å¯¹è±¡ç»™å‡ºã€‚</p>
</li>
<li>
<p>æ ‘å¶æ„ä»¶(Leaf)è§’è‰²ï¼š
æ ‘å¶å¯¹è±¡æ˜¯æ²¡æœ‰ä¸‹çº§å­å¯¹è±¡çš„å¯¹è±¡ï¼Œå®šä¹‰å‡ºå‚åŠ ç»„åˆçš„åŸå§‹å¯¹è±¡çš„è¡Œä¸ºã€‚</p>
</li>
<li>
<p>æ ‘ææ„ä»¶(Composite)è§’è‰²ï¼š
ä»£è¡¨å‚åŠ ç»„åˆçš„æœ‰ä¸‹çº§å­å¯¹è±¡çš„å¯¹è±¡ã€‚æ ‘ææ„ä»¶ç±»ç»™å‡ºæ‰€æœ‰çš„ç®¡ç†å­å¯¹è±¡çš„æ–¹æ³•ï¼Œå¦‚add()ã€remove()ä»¥åŠgetChild()ã€‚</p>
</li>
</ul>
<h2 id="ç®€å•å®ç°">ç®€å•å®ç°<a hidden class="anchor" aria-hidden="true" href="#ç®€å•å®ç°">#</a></h2>
<p>æŠ½è±¡æ„ä»¶è§’è‰²ç±»</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºç»„å»ºè‡ªèº«çš„åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ‘ææ„ä»¶è§’è‰²ç±»</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Composite <span style="color:#fff;font-weight:bold">implements</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç”¨æ¥å­˜å‚¨ç»„åˆå¯¹è±¡ä¸­åŒ…å«çš„å­ç»„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Component&gt; childComponents = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Component&gt;();
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param name    ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Composite(String name){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param child å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addChild(Component child){
</span></span><span style="display:flex;"><span>        childComponents.<span style="color:#007f7f">add</span>(child);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> removeChild(<span style="color:#fff;font-weight:bold">int</span> index){
</span></span><span style="display:flex;"><span>        childComponents.<span style="color:#007f7f">remove</span>(index);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> List&lt;Component&gt; getChild(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> childComponents;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºå¯¹è±¡çš„è‡ªèº«ç»“æ„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿›
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å…ˆæŠŠè‡ªå·±è¾“å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(preStr + <span style="color:#0ff;font-weight:bold">&#34;+&#34;</span> + <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//å¦‚æœè¿˜åŒ…å«æœ‰å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°±è¾“å‡ºè¿™äº›å­ç»„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">childComponents</span> != <span style="color:#fff;font-weight:bold">null</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œè¡¨ç¤ºå‘åç¼©è¿›ä¸¤ä¸ªç©ºæ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            preStr += <span style="color:#0ff;font-weight:bold">&#34;  &#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¾“å‡ºå½“å‰å¯¹è±¡çš„å­å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">for</span>(Component c : childComponents){
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//é€’å½’è¾“å‡ºæ¯ä¸ªå­å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                c.<span style="color:#007f7f">printStruct</span>(preStr);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ‘å¶æ„ä»¶è§’è‰²ç±»</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Leaf <span style="color:#fff;font-weight:bold">implements</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥å¶å­å¯¹è±¡çš„åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param name å¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Leaf(String name){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºå¶å­å¯¹è±¡çš„ç»“æ„ï¼Œå¶å­å¯¹è±¡æ²¡æœ‰å­å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºå¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥çš„ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿›
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// TODO Auto-generated method stub
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(preStr + <span style="color:#0ff;font-weight:bold">&#34;-&#34;</span> + name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®¢æˆ·ç«¯ç±»</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Client {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[]args){
</span></span><span style="display:flex;"><span>        Composite root = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;æœè£…&#34;</span>);
</span></span><span style="display:flex;"><span>        Composite c1 = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;ç”·è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        Composite c2 = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;å¥³è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        Leaf leaf1 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;è¡¬è¡«&#34;</span>);
</span></span><span style="display:flex;"><span>        Leaf leaf2 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;å¤¹å…‹&#34;</span>);
</span></span><span style="display:flex;"><span>        Leaf leaf3 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;è£™å­&#34;</span>);
</span></span><span style="display:flex;"><span>        Leaf leaf4 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;å¥—è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">addChild</span>(c1);
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">addChild</span>(c2);
</span></span><span style="display:flex;"><span>        c1.<span style="color:#007f7f">addChild</span>(leaf1);
</span></span><span style="display:flex;"><span>        c1.<span style="color:#007f7f">addChild</span>(leaf2);
</span></span><span style="display:flex;"><span>        c2.<span style="color:#007f7f">addChild</span>(leaf3);
</span></span><span style="display:flex;"><span>        c2.<span style="color:#007f7f">addChild</span>(leaf4);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">printStruct</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹å‡ºï¼Œæ ‘ææ„ä»¶ç±»(Composite)ç»™å‡ºäº†addChild()ã€removeChild()ä»¥åŠgetChild()ç­‰æ–¹æ³•çš„å£°æ˜å’Œå®ç°ï¼Œè€Œæ ‘å¶æ„ä»¶ç±»åˆ™æ²¡æœ‰ç»™å‡ºè¿™äº›æ–¹æ³•çš„å£°æ˜æˆ–å®ç°ã€‚è¿™æ ·çš„åšæ³•æ˜¯å®‰å…¨çš„åšæ³•ï¼Œç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸å¯èƒ½é”™è¯¯åœ°è°ƒç”¨æ ‘å¶æ„ä»¶çš„èšé›†æ–¹æ³•ï¼Œå› ä¸ºæ ‘å¶æ„ä»¶æ²¡æœ‰è¿™äº›æ–¹æ³•ï¼Œè°ƒç”¨ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚å®‰å…¨å¼åˆæˆæ¨¡å¼çš„ç¼ºç‚¹æ˜¯ä¸å¤Ÿé€æ˜ï¼Œå› ä¸ºæ ‘å¶ç±»å’Œæ ‘æç±»å°†å…·æœ‰ä¸åŒçš„æ¥å£ã€‚</p>
<h1 id="é€æ˜å¼åˆæˆæ¨¡å¼">é€æ˜å¼åˆæˆæ¨¡å¼<a hidden class="anchor" aria-hidden="true" href="#é€æ˜å¼åˆæˆæ¨¡å¼">#</a></h1>
<p>ä¸å®‰å…¨å¼çš„åˆæˆæ¨¡å¼ä¸åŒçš„æ˜¯ï¼Œé€æ˜å¼çš„åˆæˆæ¨¡å¼è¦æ±‚æ‰€æœ‰çš„å…·ä½“æ„ä»¶ç±»ï¼Œä¸è®ºæ ‘ææ„ä»¶è¿˜æ˜¯æ ‘å¶æ„ä»¶ï¼Œå‡ç¬¦åˆä¸€ä¸ªå›ºå®šæ¥å£ã€‚
<img loading="lazy" src="3.png" alt=""  />
</p>
<h2 id="ç®€å•å®ç°-1">ç®€å•å®ç°<a hidden class="anchor" aria-hidden="true" href="#ç®€å•å®ç°-1">#</a></h2>
<p>æŠ½è±¡æ„ä»¶è§’è‰²ç±»</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">class</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºç»„å»ºè‡ªèº«çš„åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param child å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addChild(Component child){
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException(<span style="color:#0ff;font-weight:bold">&#34;å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> removeChild(<span style="color:#fff;font-weight:bold">int</span> index){
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException(<span style="color:#0ff;font-weight:bold">&#34;å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> List&lt;Component&gt; getChild(){
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * ç¼ºçœå®ç°ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºå¶å­å¯¹è±¡æ²¡æœ‰æ­¤åŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * æˆ–è€…å­ç»„ä»¶æ²¡æœ‰å®ç°è¿™ä¸ªåŠŸèƒ½
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException(<span style="color:#0ff;font-weight:bold">&#34;å¯¹è±¡ä¸æ”¯æŒæ­¤åŠŸèƒ½&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ‘ææ„ä»¶è§’è‰²ç±»ï¼Œæ­¤ç±»å°†implements Conponentæ”¹ä¸ºextends Conponentï¼Œå…¶ä»–åœ°æ–¹æ— å˜åŒ–ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Composite <span style="color:#fff;font-weight:bold">extends</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç”¨æ¥å­˜å‚¨ç»„åˆå¯¹è±¡ä¸­åŒ…å«çš„å­ç»„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Component&gt; childComponents = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Component&gt;();
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param name    ç»„åˆå¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Composite(String name){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œå¢åŠ ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param child å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addChild(Component child){
</span></span><span style="display:flex;"><span>        childComponents.<span style="color:#007f7f">add</span>(child);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œåˆ é™¤ä¸€ä¸ªå­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param index å­æ„ä»¶å¯¹è±¡çš„ä¸‹æ ‡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> removeChild(<span style="color:#fff;font-weight:bold">int</span> index){
</span></span><span style="display:flex;"><span>        childComponents.<span style="color:#007f7f">remove</span>(index);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * èšé›†ç®¡ç†æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å­æ„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> List&lt;Component&gt; getChild(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> childComponents;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºå¯¹è±¡çš„è‡ªèº«ç»“æ„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿›
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å…ˆæŠŠè‡ªå·±è¾“å‡º
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(preStr + <span style="color:#0ff;font-weight:bold">&#34;+&#34;</span> + <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//å¦‚æœè¿˜åŒ…å«æœ‰å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°±è¾“å‡ºè¿™äº›å­ç»„ä»¶å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">childComponents</span> != <span style="color:#fff;font-weight:bold">null</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œè¡¨ç¤ºå‘åç¼©è¿›ä¸¤ä¸ªç©ºæ ¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            preStr += <span style="color:#0ff;font-weight:bold">&#34;  &#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¾“å‡ºå½“å‰å¯¹è±¡çš„å­å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">for</span>(Component c : childComponents){
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//é€’å½’è¾“å‡ºæ¯ä¸ªå­å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                c.<span style="color:#007f7f">printStruct</span>(preStr);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ‘å¶æ„ä»¶è§’è‰²ç±»ï¼Œæ­¤ç±»å°†implements Conponentæ”¹ä¸ºextends Conponentï¼Œå…¶ä»–åœ°æ–¹æ— å˜åŒ–ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Leaf <span style="color:#fff;font-weight:bold">extends</span> Component {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ„é€ æ–¹æ³•ï¼Œä¼ å…¥å¶å­å¯¹è±¡çš„åç§°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param name å¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Leaf(String name){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¾“å‡ºå¶å­å¯¹è±¡çš„ç»“æ„ï¼Œå¶å­å¯¹è±¡æ²¡æœ‰å­å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºå¶å­å¯¹è±¡çš„åå­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param preStr å‰ç¼€ï¼Œä¸»è¦æ˜¯æŒ‰ç…§å±‚çº§æ‹¼æ¥çš„ç©ºæ ¼ï¼Œå®ç°å‘åç¼©è¿›
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> printStruct(String preStr) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// TODO Auto-generated method stub
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(preStr + <span style="color:#0ff;font-weight:bold">&#34;-&#34;</span> + name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®¢æˆ·ç«¯ç±»çš„ä¸»è¦å˜åŒ–æ˜¯ä¸å†åŒºåˆ†Compositeå¯¹è±¡å’ŒLeafå¯¹è±¡ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Client {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[]args){
</span></span><span style="display:flex;"><span>        Component root = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;æœè£…&#34;</span>);
</span></span><span style="display:flex;"><span>        Component c1 = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;ç”·è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        Component c2 = <span style="color:#fff;font-weight:bold">new</span> Composite(<span style="color:#0ff;font-weight:bold">&#34;å¥³è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        Component leaf1 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;è¡¬è¡«&#34;</span>);
</span></span><span style="display:flex;"><span>        Component leaf2 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;å¤¹å…‹&#34;</span>);
</span></span><span style="display:flex;"><span>        Component leaf3 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;è£™å­&#34;</span>);
</span></span><span style="display:flex;"><span>        Component leaf4 = <span style="color:#fff;font-weight:bold">new</span> Leaf(<span style="color:#0ff;font-weight:bold">&#34;å¥—è£…&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">addChild</span>(c1);
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">addChild</span>(c2);
</span></span><span style="display:flex;"><span>        c1.<span style="color:#007f7f">addChild</span>(leaf1);
</span></span><span style="display:flex;"><span>        c1.<span style="color:#007f7f">addChild</span>(leaf2);
</span></span><span style="display:flex;"><span>        c2.<span style="color:#007f7f">addChild</span>(leaf3);
</span></span><span style="display:flex;"><span>        c2.<span style="color:#007f7f">addChild</span>(leaf4);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        root.<span style="color:#007f7f">printStruct</span>(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹å‡ºï¼Œå®¢æˆ·ç«¯æ— éœ€å†åŒºåˆ†æ“ä½œçš„æ˜¯æ ‘æå¯¹è±¡(Composite)è¿˜æ˜¯æ ‘å¶å¯¹è±¡(Leaf)äº†ï¼›å¯¹äºå®¢æˆ·ç«¯è€Œè¨€ï¼Œæ“ä½œçš„éƒ½æ˜¯Componentå¯¹è±¡ã€‚</p>
<p>ä¸¤ç§å®ç°æ–¹æ³•çš„é€‰æ‹©
è¿™é‡Œæ‰€è¯´çš„å®‰å…¨æ€§åˆæˆæ¨¡å¼æ˜¯æŒ‡ï¼šä»å®¢æˆ·ç«¯ä½¿ç”¨åˆæˆæ¨¡å¼ä¸Šçœ‹æ˜¯å¦æ›´å®‰å…¨ï¼Œå¦‚æœæ˜¯å®‰å…¨çš„ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰å‘ç”Ÿè¯¯æ“ä½œçš„å¯èƒ½ï¼Œèƒ½è®¿é—®çš„æ–¹æ³•éƒ½æ˜¯è¢«æ”¯æŒçš„ã€‚</p>
<p>è¿™é‡Œæ‰€è¯´çš„é€æ˜æ€§åˆæˆæ¨¡å¼æ˜¯æŒ‡ï¼šä»å®¢æˆ·ç«¯ä½¿ç”¨åˆæˆæ¨¡å¼ä¸Šï¼Œæ˜¯å¦éœ€è¦åŒºåˆ†åˆ°åº•æ˜¯â€œæ ‘æå¯¹è±¡â€è¿˜æ˜¯â€œæ ‘å¶å¯¹è±¡â€ã€‚å¦‚æœæ˜¯é€æ˜çš„ï¼Œé‚£å°±ä¸ç”¨åŒºåˆ†ï¼Œå¯¹äºå®¢æˆ·è€Œè¨€ï¼Œéƒ½æ˜¯Compoentå¯¹è±¡ï¼Œå…·ä½“çš„ç±»å‹å¯¹äºå®¢æˆ·ç«¯è€Œè¨€æ˜¯é€æ˜çš„ï¼Œæ˜¯æ— é¡»å…³å¿ƒçš„ã€‚</p>
<p>å¯¹äºåˆæˆæ¨¡å¼è€Œè¨€ï¼Œåœ¨å®‰å…¨æ€§å’Œé€æ˜æ€§ä¸Šï¼Œä¼šæ›´çœ‹é‡é€æ˜æ€§ï¼Œæ¯•ç«Ÿåˆæˆæ¨¡å¼çš„ç›®çš„æ˜¯ï¼šè®©å®¢æˆ·ç«¯ä¸å†åŒºåˆ†æ“ä½œçš„æ˜¯æ ‘æå¯¹è±¡è¿˜æ˜¯æ ‘å¶å¯¹è±¡ï¼Œè€Œæ˜¯ä»¥ä¸€ä¸ªç»Ÿä¸€çš„æ–¹å¼æ¥æ“ä½œã€‚</p>
<p>è€Œä¸”å¯¹äºå®‰å…¨æ€§çš„å®ç°ï¼Œéœ€è¦åŒºåˆ†æ˜¯æ ‘æå¯¹è±¡è¿˜æ˜¯æ ‘å¶å¯¹è±¡ã€‚æœ‰æ—¶å€™ï¼Œéœ€è¦å°†å¯¹è±¡è¿›è¡Œç±»å‹è½¬æ¢ï¼Œå´å‘ç°ç±»å‹ä¿¡æ¯ä¸¢å¤±äº†ï¼Œåªå¥½å¼ºè¡Œè½¬æ¢ï¼Œè¿™ç§ç±»å‹è½¬æ¢å¿…ç„¶æ˜¯ä¸å¤Ÿå®‰å…¨çš„ã€‚</p>
<p>å› æ­¤åœ¨ä½¿ç”¨åˆæˆæ¨¡å¼çš„æ—¶å€™ï¼Œå»ºè®®å¤šé‡‡ç”¨é€æ˜æ€§çš„å®ç°æ–¹å¼ã€‚</p>
<p><a href="https://www.cnblogs.com/java-my-life/archive/2012/04/17/2453861.html">å‚è€ƒ</a></p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>