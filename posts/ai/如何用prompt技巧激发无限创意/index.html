<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>如何用Prompt技巧激发无限创意 | Wjy&#39;s Blog</title>
<meta name="keywords" content="AI">
<meta name="description" content="背景 随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/ai/%E5%A6%82%E4%BD%95%E7%94%A8prompt%E6%8A%80%E5%B7%A7%E6%BF%80%E5%8F%91%E6%97%A0%E9%99%90%E5%88%9B%E6%84%8F/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://funny-toffee-4aa7c3.netlify.app/posts/ai/%E5%A6%82%E4%BD%95%E7%94%A8prompt%E6%8A%80%E5%B7%A7%E6%BF%80%E5%8F%91%E6%97%A0%E9%99%90%E5%88%9B%E6%84%8F/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/ai/%E5%A6%82%E4%BD%95%E7%94%A8prompt%E6%8A%80%E5%B7%A7%E6%BF%80%E5%8F%91%E6%97%A0%E9%99%90%E5%88%9B%E6%84%8F/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="如何用Prompt技巧激发无限创意">
  <meta property="og:description" content="背景 随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:tag" content="AI">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="如何用Prompt技巧激发无限创意">
<meta name="twitter:description" content="背景 随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "如何用Prompt技巧激发无限创意",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/ai/%E5%A6%82%E4%BD%95%E7%94%A8prompt%E6%8A%80%E5%B7%A7%E6%BF%80%E5%8F%91%E6%97%A0%E9%99%90%E5%88%9B%E6%84%8F/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "如何用Prompt技巧激发无限创意",
  "name": "如何用Prompt技巧激发无限创意",
  "description": "背景 随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本",
  "keywords": [
    "AI"
  ],
  "articleBody": "背景 随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本文中，我们将深入探讨当前最前沿的prompt engineering方案，结合OpenAI、Anthropic和Google等大模型公司的资料，以及开源社区中宝贵的prompt技巧分享，全面解析这一领域的实践策略。这篇文章旨在为您提供丰富而详尽的指南，帮助您在大模型的应用与开发过程中，实现更高级、更精准的互动效果。当然过程中也感谢各位大佬的指导帮助，并在此感谢请教和合作的每个人，就不一一列举了，也欢迎大家的指正和探讨。\n原文：https://mp.weixin.qq.com/s/Qlz2iyO6dN4-MWJmIHZIiQ\nprompt原则\u0026技巧 首先，最权威的提示词教程，莫过于ChatGPT官方文档里的6个写提示词的建议，如下对文档做了总结。\n指令清晰、详细 首先，指令要清晰。要准确表达你的需求，避免让GPT去猜测你的意图。如果你要生成较短的内容，就要求GPT简短回答；如果不想结果太简单，就用专业标准；不满意格式时，示例你期望的格式；总之减少GPT的猜测，我们可以得到更准确的响应。如何做到指令清晰呢？6个建议如下：\n问题里包含更多细节 在向ChatGPT提问时，应包含相关且重要细节，否则，GPT可能会胡乱猜测。例：\n1 2 3 4 5 6 不好的提示词：谁是总统？ 更好的提示词：谁是 2021 年的墨西哥总统，选举的频率如何？ 在向ChatGPT提问的时候，要在问题里，包含相关的、重要的细节。 否则的话，ChatGPT就会给你瞎猜。 不好的提示词： 总结会议记录。 更好的提示词： 将会议记录总结成一个段落。然后编写演讲者的Markdown列表及其要点。最后，列出演讲者建议的下一步行动或行动项目（如果有）。 让模型角色扮演 指定模型在回复中扮演特定角色。GitHub人设大全：\nhttps://github.com/f/awesome-chatgpt-prompts﻿\n例：\n1 2 不好的提示词：如何控制消极情绪？ 更好的提示词：我想让你担任心理健康顾问。我将为您提供一个寻求指导和建议的人，以管理他们的情绪、压力、焦虑和其他心理健康问题。您应该利用您的认知行为疗法、冥想技巧、正念练习和其他治疗方法的知识来制定个人可以实施的策略，以改善他们的整体健康状况。我的第一个请求是“如何控制消极情绪？” 使用分隔符 使用三重引号、XML标签、章节标题等分隔符，帮助划分文本的不同部分，便于大模型更好地理解。\n对于简单的内容，有分隔符和没有分隔符，得到的结果，可能差别不大。但是，任务越复杂，消除任务的歧义就越重要。大模型是为我们生成内容的，不要把它的算力，浪费在了理解我们输入的内容上。\n例：\n1 2 3 4 5 6 7 用三重引号分隔将三重引号中的古诗翻译成现代汉语。 \"\"\" 关关雎鸠，在河之洲。 窈窕淑女，君子好逑。 参差荇菜，左右流之。 窈窕淑女，寤寐求之。 求之不得，寤寐思服。 悠哉悠哉，辗转反侧。 参差荇菜，左右采之。 窈窕淑女，琴瑟友之。 参差荇菜，左右芼之。 窈窕淑女，钟鼓乐之。 \"\"\" 用XML标签分隔您将获得一对关于同一主题的文章(用 XML 标记分隔)，先总结一下每篇文章的论点。然后指出他们中的哪一个提出了更好的论点并解释原因。 在这里插入第一篇文章 指定完成任务所需的步骤 详细写出任务所需的步骤，可使模型更容易按步骤执行。\n例：\n1 2 3 4 5 6 7 使用以下步骤完成用户请求。 第 1 步：在三重引号内的文本中用一句话总结，加前缀“Summary:”。 第 2 步：将摘要翻译成西班牙语，加前缀“Translation:”。 \"\"\" 在此插入文本 \"\"\" 提供示例 通过示例让模型理解你的需求，多用于难以描述的任务或特殊风格中。\n例：\n1 2 3 4 5 6 7 假设你是一个旅行博主，你希望模型能以引人入胜的方式描述各种旅游地点。你可以这样写提示词：你是一个旅行博主，我会在三重括号内给你提供示例。你模仿示例，写出5个回答。 提示词：告诉我关于上海的事。 \"\"\" 提示词：告诉我关于巴黎的事。 回答：巴黎，犹如一首经久不衰的交响乐，每个角落都充满了艺术与浪漫的气息; 埃菲尔铁塔，卢浮宫，塞纳河都如同乐章，述说着这座城市的历史与未来。 \"\"\" 设定回答的长度 要求大模型根据单词/字数、段落数量、要点数量生成回答，这样大模型生成的答案更有条理。\n例：\n1 2 3 4 用大约 50 个字总结以下文本，并总结为两个段落，三个要点。 \"\"\" 插入文本 \"\"\" 提供参考文本 给模型提供可信的信息来编写答案，或者引用参考文本编写答案，避免胡乱回答。\n例：\n1 2 3 4 5 使用以下文章回答问题。如果找不到答案，回复“我找不到答案”。 \"\"\" 插入文章 \"\"\" 问题：插入问题 将复杂任务拆分 将复杂任务分解成简单步骤，方便模型操作，提高准确性。\n问题分类 先把这些任务按类型分类，然后给每一种类型的任务都制定一套相应的步骤或者指令。使用这种方法的好处就是，每一次我们只需要关注当前的任务和相应的步骤或者指令，这样就可以降低出错的几率，而且也能节省成本。因为处理大任务需要的电脑运行费用，通常会比处理小任务的费用要高。\n例：\n1 2 3 4 5 6 7 8 您是一个网络专家，将收到客户服务查询。将每个查询分为主要类别和次要类别。主要类别：计费、技术支持、账户管理或一般查询。次要类别：退订或升级、添加支付方式、收费说明、对收费提出异议。根据不同的类别给出详细的解答。假设客户需要“故障排除”方面的帮助。你将需要处理一些需要技术支持进行故障排查的客户服务咨询。请按照以下步骤帮助用户： ● 让他们检查路由器的所有线缆是否都已连接。注意，线缆随着时间的推移容易松动是常见的问题。 ● 如果所有的线缆都已连接，但问题依然存在，请询问他们正在使用的路由器型号。 ● 现在你需要指导他们如何重启设备： ○ 如果型号是 MTD-327J，建议他们按住红色按钮 5 秒钟，然后等待 5 分钟后再测试连接。 ○ 如果型号是 MTD-327S，建议他们拔掉电源后再插入，然后等待 5 分钟后再测试连接。 ● 如果客户在重启设备并等待 5 分钟后问题依然存在，通过输出 {\"IT support requested\"} 将他们转接到 IT 支持。 ● 如果用户开始提问与此主题无关的问题，那么确认他们是否想结束当前的故障排查聊天，并根据以下方案对他们的请求进行分类 分段总结长文/长对话 分段总结，再汇总，即总结前一部分的时候，带上之前的内容。多轮对话中，这样更利于后面回答的准确生成。\n例：\n1 2 3 4 5 6 7 问：请输入内容回答1： [段落1内容总结] 问2：请输入内容 回答2： [段落2内容总结] + [回答1] 请根据以上格式提供每段的内容，这样能更好地对每一段进行总结，并逐步汇总所有内容，有助于生成最终的回答。 给大模型时间“思考” 生成自己的答案再下结论 让模型先自行解决问题，之后比较并评估学生答案的正确性，让模型回答更有条理，也可提高准确性。\n例：\n1 首先想出你自己解决这个数学题的方法，然后将您的解决方案与学生的解决方案进行比较，并评估学生的解决方案是否正确。在您自己完成问题之前，不要判断学生的解决方案是否正确。 隐藏推理过程 在给用户答案前，模型先在内部思考，不展示部分思考过程，即一个\"内心独白（inner monologue）“的技巧。这样同样让模型回答更有条理，提高准确性，也不会干扰用户期望的输出。\n例：\n1 2 3 4 5 按照以下步骤回答用户查询。 第 1 步 - 首先找出您自己的问题解决方案。不要依赖学生的解决方案，因为它可能不正确。将您为此步骤所做的所有工作用三重引号 (\"\"\") 括起来。 第 2 步 - 将您的解决方案与学生的解决方案进行比较，并评估学生的解决方案是否正确。将您为此步骤所做的所有工作用三重引号 (\"\"\") 括起来。 第 3 步 - 如果学生犯了错误，请确定您可以在不给出答案的情况下给学生什么提示。将您为此步骤所做的所有工作用三重引号 (\"\"\") 括起来。 第 4 步 - 如果学生犯了错误，请向学生提供上一步的提示（三重引号外）。不要写“第 4 步 - ...”，而写“提示：”。 让模型反思回答 让大模型再去找找看有没有之前漏掉的内容，往往能让模型的输出结果，变得更好。\n例：\n1 2 3 4 You will be provided with a document delimited by triple quotes. Your task is to select excerpts which pertain to the following question: \"What significant paradigm shifts have occurred in the history of artificial intelligence.\" Ensure that excerpts contain all relevant context needed to interpret them - in other words don't extract small snippets that are missing important context. Please think about your answers and answer carefully. 使用外部工具 嵌入（embedding） 使用基于嵌入的搜索来实现高效的知识检索，利用外部信息作为其输入的一部分，有助于模型生成更加明智和最新的回答，即RAG(Retrieval-Augmented Generation)。\n例：\n1 2 3 4 5 如果用户提出关于特定电影的问题，结合 ``` 高质量的电影信息（如演员、导演等） ``` 来回答用户的问题。 调用API 提供文档与代码示例，指导模型使用API，使用代码或者调用外部的API，产生的输出一起输入给模型使用，来进行更精确推理。\n例：\n1 2 3 4 5 结合 ```文档与代码示例``` 您可以通过将生成的Python代码/API调用结果括在三重反引号中来进行下面的计算， ```代码在这里/API调用结果在这里``` 使用它来执行计算。 注：执行模型生成的代码或API可能本身并不安全，需要一个沙盒代码执行环境来限制不受信任的代码可能造成的危害。\n系统地测试更改 有时候很难判断新的指令或设计是让你的系统变得更好还是更糟。对于小样本量来说，很难区分真正的改进还是偶然运气。也许这种变化可以提高某些输入的性能，但却损害了其他方面的性能，所以建立一个系统测试流程更有必要。\n指标评估 以img2code指标对比，需要从页面整体布局、细节、字体等方面，详细评估code生成的好坏\n模型评估 把模型输出的结果，统一输入模型进行打分评估。\n例：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 请根据评估标准给结果打分，如下： ● 准确性（Accuracy） ○ 定义：模型生成的回答是否准确且符合事实。 ○ 评分标准： ■ 0-2分：回答严重不准确或与事实明显不符。 ■ 3-5分：回答部分正确，但有明显错误或遗漏关键信息。 ■ 6-8分：回答大部分正确，但有细微错误或偏差。 ■ 9-10分：回答完全准确且无可挑剔。 ● 理解能力（Comprehension） ○ 定义：模型是否正确理解了用户提出的问题或指示。 ○ 评分标准： ■ 0-2分：完全没有理解问题，回答与问题无关。 ■ 3-5分：部分理解了问题，但回答不完全相关。 ■ 6-8分：大部分理解了问题，但有细微的误解。 ■ 9-10分：完全理解问题，并能提供相关的回答。 ● 生成能力（Generation） ○ 定义：模型生成的文本是否流畅、自然，并且符合上下文逻辑。 ○ 评分标准： ■ 0-2分：生成的文本不连贯，逻辑混乱或难以理解。 ■ 3-5分：生成的文本有部分连贯，但存在明显的逻辑错误或不自然之处。 ■ 6-8分：生成的文本大部分连贯，逻辑合理，但有少许不自然之处。 ■ 9-10分：生成的文本完全连贯，自然且逻辑清晰 人工评估 有些美观、简洁等任务较主观，需要人工筛选，根据选定的baseline，给出评价。举例如下：\n大厂方案 CO-STAR无疑为我们的prompt工作提供了一个非常好的出发点，但对prompt engineering有所了解的同学可以发现，它提供的更多的是针对一些相关简单直观任务的通用方案，缺少了针对复杂的问题的prompt技巧，例如Few-Shot, Though Chain, Self-Reflection。我们转换视角，看一看anthropic、google等其他家公司的prompt技巧，看有没有相关说明来补充CO-STAR方案。\nAnthropic Anthropic最突出的特点是严谨。在官网资料的最开始就强调，prompt engineering绝大部分工作内容应该放在建立一个完善的评估指标，设计鲁棒的测试用例，而不是编写prompt上。\n具体流程如下：\n定义任务和成功标准 开发测试用例 设计初步prompt 测试prompt 调整prompt 完善prompt 这里主要关注具体的prompt技巧，整理了如下：\n清晰直接\n提供清晰的指令和上下文内容指导模型的输出；\n复杂任务提供指定时，将其分解为编号步骤或要点；\n使用示例\n给出带有完整输出格式的示例，准确性，一致性以及更好的性能；\n角色化\n指定分配一个角色，提供角色的清晰详细的背景信息，使大模型以特定方式做出响应，提高其准确性和性能，并调整其语气和举止以匹配所需的上下文（技术含量高，特定的交流风格，更好的基础性能）；\n标签化\n使用xml标签；\n将提示的关键部分（例如说明、示例或输入数据）包装在 XML 标记中，可以帮助 Claude 更好地理解上下文；\n输入变量和结构化输出处，保证标签描述和内容一致；\nChain Prompt连锁提示；\n多步骤，复杂任务；\n自我反馈输出；\n并行处理；\n鼓励模型循序渐进的思考；\nCOT\n更复杂的问题，可以指定思考步骤；\n显示的使用xml将思考和结果分开， and ；\n预填模型的输出；\n类似incontext learning方式，用几句话引导输出；\n控制输出格式，明确制定输出细节；\n所需格式的开头预填充 Assistant 字段。当使用 JSON 或 HTML 等结构化格式时，非常有用；\n重写\n鼓励模型自反馈；\n合理利用上下文；\n数据指令分离；\n将指令内容单独提供，实际的数据放在随后的输入中。\n﻿可以看到绝大部分内容，前面都已经提到。\n预填模型的输出，应该是其中的特色，可能和Claude独特的训练方式有关，在其他的prompt提示技巧中都很少提及； 数据指令分离，是一个很有价值的prompt方式； Prompt Generator。 Anthropic最有趣的一部分，是提供了一个称之为“MetaPrompt”的自动化提示生成工具，可以指导 Claude 生成适合您的特定任务的高质量提示。提示生成器作为解决“空白页问题”的工具特别有用，提供测试和迭代的起点，遵循上面提到的所有最佳实践，例如思维链和将数据指令分离。\n官网也提到了自动化提示生成工具的缺点：\n只针对单轮对话有较好的效果； 只针对Claude3 Optus模型； 并不是最佳指示一个好的基础起点； MetaPrompt实际上就是一个非常详尽的，提供了大量例子的提示词，由于过长这里就不填写原文。原始链接在这里，可以自行查看：\n﻿https://colab.research.google.com/drive/1SoAajN8CBYTl79VyTwxtxncfCWlHlyy9#scrollTo=BOYnM7A3g6HB﻿\n个人感觉意义不是很大，宣传的意义为主。\nGoogle Google作为老牌大厂，最近提出的Gemini系列模型依然极具竞争力。官方的prompt提示教程依然保持了老牌作风，是三个大厂里面最详尽的，甚至专门是一本四十多页的书，对新手非常友好。\n核心的四个要点，可以看到也是和之前的概念如出一辙，但提供了很详细的例子（实际文章中绝大部分都是例子）。\nPersona：人格化 Task：任务本身 Context：上下文 Format：格式 下文就是一个非常好的涵盖四个要点的prompt，每行对应其中一点。\n1 2 3 4 You are a Google Cloud program manager. Draft an executive summary email to [persona] based on [details about relevant program docs]. Limit to bullet points. 方案总结 可以看到几个大厂相关的prompt技巧总结，完全可以融入到CO-STAR这个框架中。我们需要强调或者增加的是：\nPersona：人格角色化； XML：更多的使用分割符； Prefill-respone：预填模型的输出； Example：增加例子； Response：必要的时候可以置顶输出的长度； Reflection ：自我反思； COT：Object中让模型在回答问题之前给出较为详细的推理； 最重要的是：要有完善的测试集、测试指标，给系统\u0026Prompt做准确的评估； ",
  "wordCount" : "6241",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/ai/%E5%A6%82%E4%BD%95%E7%94%A8prompt%E6%8A%80%E5%B7%A7%E6%BF%80%E5%8F%91%E6%97%A0%E9%99%90%E5%88%9B%E6%84%8F/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      如何用Prompt技巧激发无限创意
    </h1>
    <div class="post-meta">Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e8%83%8c%e6%99%af" aria-label="背景">背景</a></li>
                <li>
                    <a href="#prompt%e5%8e%9f%e5%88%99%e6%8a%80%e5%b7%a7" aria-label="prompt原则&amp;技巧">prompt原则&amp;技巧</a><ul>
                        
                <li>
                    <a href="#%e6%8c%87%e4%bb%a4%e6%b8%85%e6%99%b0%e8%af%a6%e7%bb%86" aria-label="指令清晰、详细">指令清晰、详细</a><ul>
                        
                <li>
                    <a href="#%e9%97%ae%e9%a2%98%e9%87%8c%e5%8c%85%e5%90%ab%e6%9b%b4%e5%a4%9a%e7%bb%86%e8%8a%82" aria-label="问题里包含更多细节">问题里包含更多细节</a></li>
                <li>
                    <a href="#%e8%ae%a9%e6%a8%a1%e5%9e%8b%e8%a7%92%e8%89%b2%e6%89%ae%e6%bc%94" aria-label="让模型角色扮演">让模型角色扮演</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%88%86%e9%9a%94%e7%ac%a6" aria-label="使用分隔符">使用分隔符</a></li>
                <li>
                    <a href="#%e6%8c%87%e5%ae%9a%e5%ae%8c%e6%88%90%e4%bb%bb%e5%8a%a1%e6%89%80%e9%9c%80%e7%9a%84%e6%ad%a5%e9%aa%a4" aria-label="指定完成任务所需的步骤">指定完成任务所需的步骤</a></li>
                <li>
                    <a href="#%e6%8f%90%e4%be%9b%e7%a4%ba%e4%be%8b" aria-label="提供示例">提供示例</a></li>
                <li>
                    <a href="#%e8%ae%be%e5%ae%9a%e5%9b%9e%e7%ad%94%e7%9a%84%e9%95%bf%e5%ba%a6" aria-label="设定回答的长度">设定回答的长度</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%8f%90%e4%be%9b%e5%8f%82%e8%80%83%e6%96%87%e6%9c%ac" aria-label="提供参考文本">提供参考文本</a></li>
                <li>
                    <a href="#%e5%b0%86%e5%a4%8d%e6%9d%82%e4%bb%bb%e5%8a%a1%e6%8b%86%e5%88%86" aria-label="将复杂任务拆分">将复杂任务拆分</a><ul>
                        
                <li>
                    <a href="#%e9%97%ae%e9%a2%98%e5%88%86%e7%b1%bb" aria-label="问题分类">问题分类</a></li>
                <li>
                    <a href="#%e5%88%86%e6%ae%b5%e6%80%bb%e7%bb%93%e9%95%bf%e6%96%87%e9%95%bf%e5%af%b9%e8%af%9d" aria-label="分段总结长文/长对话">分段总结长文/长对话</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bb%99%e5%a4%a7%e6%a8%a1%e5%9e%8b%e6%97%b6%e9%97%b4%e6%80%9d%e8%80%83" aria-label="给大模型时间“思考”">给大模型时间“思考”</a><ul>
                        
                <li>
                    <a href="#%e7%94%9f%e6%88%90%e8%87%aa%e5%b7%b1%e7%9a%84%e7%ad%94%e6%a1%88%e5%86%8d%e4%b8%8b%e7%bb%93%e8%ae%ba" aria-label="生成自己的答案再下结论">生成自己的答案再下结论</a></li>
                <li>
                    <a href="#%e9%9a%90%e8%97%8f%e6%8e%a8%e7%90%86%e8%bf%87%e7%a8%8b" aria-label="隐藏推理过程">隐藏推理过程</a></li>
                <li>
                    <a href="#%e8%ae%a9%e6%a8%a1%e5%9e%8b%e5%8f%8d%e6%80%9d%e5%9b%9e%e7%ad%94" aria-label="让模型反思回答">让模型反思回答</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%a4%96%e9%83%a8%e5%b7%a5%e5%85%b7" aria-label="使用外部工具">使用外部工具</a><ul>
                        
                <li>
                    <a href="#%e5%b5%8c%e5%85%a5embedding" aria-label="嵌入（embedding）">嵌入（embedding）</a></li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8api" aria-label="调用API">调用API</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%b3%bb%e7%bb%9f%e5%9c%b0%e6%b5%8b%e8%af%95%e6%9b%b4%e6%94%b9" aria-label="系统地测试更改">系统地测试更改</a><ul>
                        
                <li>
                    <a href="#%e6%8c%87%e6%a0%87%e8%af%84%e4%bc%b0" aria-label="指标评估">指标评估</a></li>
                <li>
                    <a href="#%e6%a8%a1%e5%9e%8b%e8%af%84%e4%bc%b0" aria-label="模型评估">模型评估</a></li>
                <li>
                    <a href="#%e4%ba%ba%e5%b7%a5%e8%af%84%e4%bc%b0" aria-label="人工评估">人工评估</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%a4%a7%e5%8e%82%e6%96%b9%e6%a1%88" aria-label="大厂方案">大厂方案</a><ul>
                        
                <li>
                    <a href="#anthropic" aria-label="Anthropic">Anthropic</a></li>
                <li>
                    <a href="#google" aria-label="Google">Google</a></li>
                <li>
                    <a href="#%e6%96%b9%e6%a1%88%e6%80%bb%e7%bb%93" aria-label="方案总结">方案总结</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="背景">背景<a hidden class="anchor" aria-hidden="true" href="#背景">#</a></h1>
<p>随着新一代模型的不断涌现，如GPT-4和Gemini版本，其在理解上下文方面的能力显著提升，prompt长度和复杂度限制越来越宽泛。在本文中，我们将深入探讨当前最前沿的prompt engineering方案，结合OpenAI、Anthropic和Google等大模型公司的资料，以及开源社区中宝贵的prompt技巧分享，全面解析这一领域的实践策略。这篇文章旨在为您提供丰富而详尽的指南，帮助您在大模型的应用与开发过程中，实现更高级、更精准的互动效果。当然过程中也感谢各位大佬的指导帮助，并在此感谢请教和合作的每个人，就不一一列举了，也欢迎大家的指正和探讨。</p>
<p>原文：https://mp.weixin.qq.com/s/Qlz2iyO6dN4-MWJmIHZIiQ</p>
<h1 id="prompt原则技巧">prompt原则&amp;技巧<a hidden class="anchor" aria-hidden="true" href="#prompt原则技巧">#</a></h1>
<p>首先，最权威的提示词教程，莫过于ChatGPT官方文档里的6个写提示词的建议，如下对文档做了总结。</p>
<p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLibBDibUWEicZATSMJ1Bic3PnqZnutjep1q53pQvWQLnMaIEpyFJaINUZTfXiapRwlWWfcZ9rDP7fZG3g/640?wx_fmt=other&from=appmsg&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<h2 id="指令清晰详细">指令清晰、详细<a hidden class="anchor" aria-hidden="true" href="#指令清晰详细">#</a></h2>
<p>首先，指令要清晰。要准确表达你的需求，避免让GPT去猜测你的意图。如果你要生成较短的内容，就要求GPT简短回答；如果不想结果太简单，就用专业标准；不满意格式时，示例你期望的格式；总之减少GPT的猜测，我们可以得到更准确的响应。如何做到指令清晰呢？6个建议如下：</p>
<h3 id="问题里包含更多细节">问题里包含更多细节<a hidden class="anchor" aria-hidden="true" href="#问题里包含更多细节">#</a></h3>
<p>在向ChatGPT提问时，应包含相关且重要细节，否则，GPT可能会胡乱猜测。例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>不好的提示词：谁是总统？
</span></span><span style="display:flex;"><span>更好的提示词：谁是 2021 年的墨西哥总统，选举的频率如何？
</span></span><span style="display:flex;"><span>在向ChatGPT提问的时候，要在问题里，包含相关的、重要的细节。 否则的话，ChatGPT就会给你瞎猜。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>不好的提示词： 总结会议记录。
</span></span><span style="display:flex;"><span>更好的提示词： 将会议记录总结成一个段落。然后编写演讲者的Markdown列表及其要点。最后，列出演讲者建议的下一步行动或行动项目（如果有）。
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="让模型角色扮演">让模型角色扮演<a hidden class="anchor" aria-hidden="true" href="#让模型角色扮演">#</a></h3>
<p>指定模型在回复中扮演特定角色。GitHub人设大全：</p>
<p><a href="https://github.com/f/awesome-chatgpt-prompts">https://github.com/f/awesome-chatgpt-prompts</a>﻿</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>不好的提示词：如何控制消极情绪？
</span></span><span style="display:flex;"><span>更好的提示词：我想让你担任心理健康顾问。我将为您提供一个寻求指导和建议的人，以管理他们的情绪、压力、焦虑和其他心理健康问题。您应该利用您的认知行为疗法、冥想技巧、正念练习和其他治疗方法的知识来制定个人可以实施的策略，以改善他们的整体健康状况。我的第一个请求是“如何控制消极情绪？”
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="使用分隔符">使用分隔符<a hidden class="anchor" aria-hidden="true" href="#使用分隔符">#</a></h3>
<p>使用三重引号、XML标签、章节标题等分隔符，帮助划分文本的不同部分，便于大模型更好地理解。</p>
<p>对于简单的内容，有分隔符和没有分隔符，得到的结果，可能差别不大。但是，任务越复杂，消除任务的歧义就越重要。大模型是为我们生成内容的，不要把它的算力，浪费在了理解我们输入的内容上。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>用三重引号分隔将三重引号中的古诗翻译成现代汉语。 
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>关关雎鸠，在河之洲。 窈窕淑女，君子好逑。 参差荇菜，左右流之。 窈窕淑女，寤寐求之。 求之不得，寤寐思服。 悠哉悠哉，辗转反侧。 参差荇菜，左右采之。 窈窕淑女，琴瑟友之。 参差荇菜，左右芼之。 窈窕淑女，钟鼓乐之。 
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>用XML标签分隔您将获得一对关于同一主题的文章(用 XML 标记分隔)，先总结一下每篇文章的论点。然后指出他们中的哪一个提出了更好的论点并解释原因。
</span></span><span style="display:flex;"><span>&lt;article&gt; 在这里插入第一篇文章&lt;/article&gt; 
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="指定完成任务所需的步骤">指定完成任务所需的步骤<a hidden class="anchor" aria-hidden="true" href="#指定完成任务所需的步骤">#</a></h3>
<p>详细写出任务所需的步骤，可使模型更容易按步骤执行。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>使用以下步骤完成用户请求。
</span></span><span style="display:flex;"><span>第 1 步：在三重引号内的文本中用一句话总结，加前缀“Summary:”。
</span></span><span style="display:flex;"><span>第 2 步：将摘要翻译成西班牙语，加前缀“Translation:”。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>在此插入文本
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="提供示例">提供示例<a hidden class="anchor" aria-hidden="true" href="#提供示例">#</a></h3>
<p>通过示例让模型理解你的需求，多用于难以描述的任务或特殊风格中。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>假设你是一个旅行博主，你希望模型能以引人入胜的方式描述各种旅游地点。你可以这样写提示词：你是一个旅行博主，我会在三重括号内给你提供示例。你模仿示例，写出5个回答。
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>提示词：告诉我关于上海的事。
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>提示词：告诉我关于巴黎的事。
</span></span><span style="display:flex;"><span>回答：巴黎，犹如一首经久不衰的交响乐，每个角落都充满了艺术与浪漫的气息; 埃菲尔铁塔，卢浮宫，塞纳河都如同乐章，述说着这座城市的历史与未来。
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="设定回答的长度">设定回答的长度<a hidden class="anchor" aria-hidden="true" href="#设定回答的长度">#</a></h3>
<p>要求大模型根据单词/字数、段落数量、要点数量生成回答，这样大模型生成的答案更有条理。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>用大约 50 个字总结以下文本，并总结为两个段落，三个要点。
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>插入文本
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="提供参考文本"><strong>提供参考文本</strong><a hidden class="anchor" aria-hidden="true" href="#提供参考文本">#</a></h2>
<p>给模型提供可信的信息来编写答案，或者引用参考文本编写答案，避免胡乱回答。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>使用以下文章回答问题。如果找不到答案，回复“我找不到答案”。
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>插入文章
</span></span><span style="display:flex;"><span>&#34;&#34;&#34;
</span></span><span style="display:flex;"><span>问题：插入问题
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="将复杂任务拆分"><strong>将复杂任务拆分</strong><a hidden class="anchor" aria-hidden="true" href="#将复杂任务拆分">#</a></h2>
<p>将复杂任务分解成简单步骤，方便模型操作，提高准确性。</p>
<h3 id="问题分类">问题分类<a hidden class="anchor" aria-hidden="true" href="#问题分类">#</a></h3>
<p>先把这些任务按类型分类，然后给每一种类型的任务都制定一套相应的步骤或者指令。使用这种方法的好处就是，每一次我们只需要关注当前的任务和相应的步骤或者指令，这样就可以降低出错的几率，而且也能节省成本。因为处理大任务需要的电脑运行费用，通常会比处理小任务的费用要高。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>您是一个网络专家，将收到客户服务查询。将每个查询分为主要类别和次要类别。主要类别：计费、技术支持、账户管理或一般查询。次要类别：退订或升级、添加支付方式、收费说明、对收费提出异议。根据不同的类别给出详细的解答。假设客户需要“故障排除”方面的帮助。你将需要处理一些需要技术支持进行故障排查的客户服务咨询。请按照以下步骤帮助用户：
</span></span><span style="display:flex;"><span>● 让他们检查路由器的所有线缆是否都已连接。注意，线缆随着时间的推移容易松动是常见的问题。
</span></span><span style="display:flex;"><span>● 如果所有的线缆都已连接，但问题依然存在，请询问他们正在使用的路由器型号。
</span></span><span style="display:flex;"><span>● 现在你需要指导他们如何重启设备：  
</span></span><span style="display:flex;"><span>    ○ 如果型号是 MTD-327J，建议他们按住红色按钮 5 秒钟，然后等待 5 分钟后再测试连接。  
</span></span><span style="display:flex;"><span>    ○ 如果型号是 MTD-327S，建议他们拔掉电源后再插入，然后等待 5 分钟后再测试连接。
</span></span><span style="display:flex;"><span>● 如果客户在重启设备并等待 5 分钟后问题依然存在，通过输出 {&#34;IT support requested&#34;} 将他们转接到 IT 支持。
</span></span><span style="display:flex;"><span>● 如果用户开始提问与此主题无关的问题，那么确认他们是否想结束当前的故障排查聊天，并根据以下方案对他们的请求进行分类
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="分段总结长文长对话">分段总结长文/长对话<a hidden class="anchor" aria-hidden="true" href="#分段总结长文长对话">#</a></h3>
<p>分段总结，再汇总，即总结前一部分的时候，带上之前的内容。多轮对话中，这样更利于后面回答的准确生成。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>问：请输入内容回答1： 
</span></span><span style="display:flex;"><span>[段落1内容总结]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>问2：请输入内容
</span></span><span style="display:flex;"><span>回答2： [段落2内容总结] + [回答1]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>请根据以上格式提供每段的内容，这样能更好地对每一段进行总结，并逐步汇总所有内容，有助于生成最终的回答。
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="给大模型时间思考">给大模型时间“思考”<a hidden class="anchor" aria-hidden="true" href="#给大模型时间思考">#</a></h2>
<h3 id="生成自己的答案再下结论">生成自己的答案再下结论<a hidden class="anchor" aria-hidden="true" href="#生成自己的答案再下结论">#</a></h3>
<p>让模型先自行解决问题，之后比较并评估学生答案的正确性，让模型回答更有条理，也可提高准确性。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>首先想出你自己解决这个数学题的方法，然后将您的解决方案与学生的解决方案进行比较，并评估学生的解决方案是否正确。在您自己完成问题之前，不要判断学生的解决方案是否正确。
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="隐藏推理过程">隐藏推理过程<a hidden class="anchor" aria-hidden="true" href="#隐藏推理过程">#</a></h3>
<p>在给用户答案前，模型先在内部思考，不展示部分思考过程，即一个&quot;内心独白（inner monologue）&ldquo;的技巧。这样同样让模型回答更有条理，提高准确性，也不会干扰用户期望的输出。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>按照以下步骤回答用户查询。
</span></span><span style="display:flex;"><span>第 1 步 - 首先找出您自己的问题解决方案。不要依赖学生的解决方案，因为它可能不正确。将您为此步骤所做的所有工作用三重引号 (&#34;&#34;&#34;) 括起来。
</span></span><span style="display:flex;"><span>第 2 步 - 将您的解决方案与学生的解决方案进行比较，并评估学生的解决方案是否正确。将您为此步骤所做的所有工作用三重引号 (&#34;&#34;&#34;) 括起来。
</span></span><span style="display:flex;"><span>第 3 步 - 如果学生犯了错误，请确定您可以在不给出答案的情况下给学生什么提示。将您为此步骤所做的所有工作用三重引号 (&#34;&#34;&#34;) 括起来。
</span></span><span style="display:flex;"><span>第 4 步 - 如果学生犯了错误，请向学生提供上一步的提示（三重引号外）。不要写“第 4 步 - ...”，而写“提示：”。
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="让模型反思回答">让模型反思回答<a hidden class="anchor" aria-hidden="true" href="#让模型反思回答">#</a></h3>
<p>让大模型再去找找看有没有之前漏掉的内容，往往能让模型的输出结果，变得更好。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>You will be provided with a document delimited by triple quotes. 
</span></span><span style="display:flex;"><span>Your task is to select excerpts which pertain to the following question: &#34;What significant paradigm shifts have occurred in the history of artificial intelligence.&#34; 
</span></span><span style="display:flex;"><span>Ensure that excerpts contain all relevant context needed to interpret them - in other words don&#39;t extract small snippets that are missing important context. 
</span></span><span style="display:flex;"><span>Please think about your answers and answer carefully.
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="使用外部工具">使用外部工具<a hidden class="anchor" aria-hidden="true" href="#使用外部工具">#</a></h2>
<h3 id="嵌入embedding">嵌入（embedding）<a hidden class="anchor" aria-hidden="true" href="#嵌入embedding">#</a></h3>
<p>使用基于嵌入的搜索来实现高效的知识检索，利用外部信息作为其输入的一部分，有助于模型生成更加明智和最新的回答，即RAG(Retrieval-Augmented Generation)。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>如果用户提出关于特定电影的问题，结合
</span></span><span style="display:flex;"><span>```
</span></span><span style="display:flex;"><span>高质量的电影信息（如演员、导演等）
</span></span><span style="display:flex;"><span>```
</span></span><span style="display:flex;"><span>来回答用户的问题。
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="调用api">调用API<a hidden class="anchor" aria-hidden="true" href="#调用api">#</a></h3>
<p>提供文档与代码示例，指导模型使用API，使用代码或者调用外部的API，产生的输出一起输入给模型使用，来进行更精确推理。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>结合
</span></span><span style="display:flex;"><span>```文档与代码示例```
</span></span><span style="display:flex;"><span>您可以通过将生成的Python代码/API调用结果括在三重反引号中来进行下面的计算，
</span></span><span style="display:flex;"><span>```代码在这里/API调用结果在这里```
</span></span><span style="display:flex;"><span>使用它来执行计算。
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：执行模型生成的代码或API可能本身并不安全，需要一个沙盒代码执行环境来限制不受信任的代码可能造成的危害。</p>
<h2 id="系统地测试更改">系统地测试更改<a hidden class="anchor" aria-hidden="true" href="#系统地测试更改">#</a></h2>
<p>有时候很难判断新的指令或设计是让你的系统变得更好还是更糟。对于小样本量来说，很难区分真正的改进还是偶然运气。也许这种变化可以提高某些输入的性能，但却损害了其他方面的性能，所以建立一个系统测试流程更有必要。</p>
<h3 id="指标评估">指标评估<a hidden class="anchor" aria-hidden="true" href="#指标评估">#</a></h3>
<p>以img2code指标对比，需要从页面整体布局、细节、字体等方面，详细评估code生成的好坏</p>
<p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naLibBDibUWEicZATSMJ1Bic3Pnqbib6JeicckUX8jVsgHiaDjLILicO79NMOgx9T5bZxcOKNfw5up2TJvcibmw/640?wx_fmt=png&from=appmsg&tp=wxpic&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<h3 id="模型评估">模型评估<a hidden class="anchor" aria-hidden="true" href="#模型评估">#</a></h3>
<p>把模型输出的结果，统一输入模型进行打分评估。</p>
<p>例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>请根据评估标准给结果打分，如下：
</span></span><span style="display:flex;"><span>● 准确性（Accuracy）
</span></span><span style="display:flex;"><span>  ○ 定义：模型生成的回答是否准确且符合事实。
</span></span><span style="display:flex;"><span>  ○ 评分标准：
</span></span><span style="display:flex;"><span>    ■ 0-2分：回答严重不准确或与事实明显不符。
</span></span><span style="display:flex;"><span>    ■ 3-5分：回答部分正确，但有明显错误或遗漏关键信息。
</span></span><span style="display:flex;"><span>    ■ 6-8分：回答大部分正确，但有细微错误或偏差。
</span></span><span style="display:flex;"><span>    ■ 9-10分：回答完全准确且无可挑剔。
</span></span><span style="display:flex;"><span>● 理解能力（Comprehension）
</span></span><span style="display:flex;"><span>  ○ 定义：模型是否正确理解了用户提出的问题或指示。
</span></span><span style="display:flex;"><span>  ○ 评分标准：
</span></span><span style="display:flex;"><span>    ■ 0-2分：完全没有理解问题，回答与问题无关。
</span></span><span style="display:flex;"><span>    ■ 3-5分：部分理解了问题，但回答不完全相关。
</span></span><span style="display:flex;"><span>    ■ 6-8分：大部分理解了问题，但有细微的误解。
</span></span><span style="display:flex;"><span>    ■ 9-10分：完全理解问题，并能提供相关的回答。
</span></span><span style="display:flex;"><span>● 生成能力（Generation）
</span></span><span style="display:flex;"><span>  ○ 定义：模型生成的文本是否流畅、自然，并且符合上下文逻辑。
</span></span><span style="display:flex;"><span>  ○ 评分标准：
</span></span><span style="display:flex;"><span>    ■ 0-2分：生成的文本不连贯，逻辑混乱或难以理解。
</span></span><span style="display:flex;"><span>    ■ 3-5分：生成的文本有部分连贯，但存在明显的逻辑错误或不自然之处。
</span></span><span style="display:flex;"><span>    ■ 6-8分：生成的文本大部分连贯，逻辑合理，但有少许不自然之处。
</span></span><span style="display:flex;"><span>    ■ 9-10分：生成的文本完全连贯，自然且逻辑清晰
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="人工评估">人工评估<a hidden class="anchor" aria-hidden="true" href="#人工评估">#</a></h3>
<p>有些美观、简洁等任务较主观，需要人工筛选，根据选定的baseline，给出评价。举例如下：</p>
<p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLibBDibUWEicZATSMJ1Bic3PnqiaZ9doEsXVqyE7Zh8rl9vAvtpwPLCLSUTSTChUlGXJAmflxNETS82pA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<h1 id="大厂方案">大厂方案<a hidden class="anchor" aria-hidden="true" href="#大厂方案">#</a></h1>
<p>CO-STAR无疑为我们的prompt工作提供了一个非常好的出发点，但对prompt engineering有所了解的同学可以发现，它提供的更多的是针对一些相关简单直观任务的通用方案，缺少了针对复杂的问题的prompt技巧，例如Few-Shot, Though Chain, Self-Reflection。我们转换视角，看一看anthropic、google等其他家公司的prompt技巧，看有没有相关说明来补充CO-STAR方案。</p>
<h2 id="anthropic"><strong>Anthropic</strong><a hidden class="anchor" aria-hidden="true" href="#anthropic">#</a></h2>
<p>Anthropic最突出的特点是严谨。在官网资料的最开始就强调，prompt engineering绝大部分工作内容应该放在建立一个完善的评估指标，设计鲁棒的测试用例，而不是编写prompt上。</p>
<p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLibBDibUWEicZATSMJ1Bic3PnqicTHoSH1CT53EXNY2VFV0fmMeKDjhwWA6qY2XVcOuEUMByibfcMR3UDQ/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<p>具体流程如下：</p>
<ul>
<li>定义任务和成功标准</li>
<li>开发测试用例</li>
<li>设计初步prompt</li>
<li>测试prompt</li>
<li>调整prompt</li>
<li>完善prompt</li>
</ul>
<p>这里主要关注具体的prompt技巧，整理了如下：</p>
<ul>
<li>
<p>清晰直接</p>
</li>
<li>
<p>提供清晰的指令和上下文内容指导模型的输出；</p>
</li>
<li>
<p>复杂任务提供指定时，将其分解为编号步骤或要点；</p>
</li>
<li>
<p>使用示例</p>
</li>
<li>
<p>给出带有完整输出格式的示例，准确性，一致性以及更好的性能；</p>
</li>
<li>
<p>角色化</p>
</li>
<li>
<p>指定分配一个角色，提供角色的清晰详细的背景信息，使大模型以特定方式做出响应，提高其准确性和性能，并调整其语气和举止以匹配所需的上下文（技术含量高，特定的交流风格，更好的基础性能）；</p>
</li>
<li>
<p>标签化</p>
</li>
<li>
<p>使用xml标签；</p>
</li>
<li>
<p>将提示的关键部分（例如说明、示例或输入数据）包装在 XML 标记中，可以帮助 Claude 更好地理解上下文；</p>
</li>
<li>
<p>输入变量和结构化输出处，保证标签描述和内容一致；</p>
</li>
<li>
<p>Chain Prompt连锁提示；</p>
</li>
<li>
<p>多步骤，复杂任务；</p>
</li>
<li>
<p>自我反馈输出；</p>
</li>
<li>
<p>并行处理；</p>
</li>
<li>
<p>鼓励模型循序渐进的思考；</p>
</li>
<li>
<p>COT</p>
</li>
<li>
<p>更复杂的问题，可以指定思考步骤；</p>
</li>
<li>
<p>显示的使用xml将思考和结果分开，<thinking> and <answer>；</p>
</li>
<li>
<p>预填模型的输出；</p>
</li>
<li>
<p>类似incontext learning方式，用几句话引导输出；</p>
</li>
<li>
<p>控制输出格式，明确制定输出细节；</p>
</li>
<li>
<p>所需格式的开头预填充 Assistant 字段。当使用 JSON 或 HTML 等结构化格式时，非常有用；</p>
</li>
<li>
<p>重写</p>
</li>
<li>
<p>鼓励模型自反馈；</p>
</li>
<li>
<p>合理利用上下文；</p>
</li>
<li>
<p>数据指令分离；</p>
</li>
<li>
<p>将指令内容单独提供，实际的数据放在随后的输入中。</p>
</li>
</ul>
<p>﻿可以看到绝大部分内容，前面都已经提到。</p>
<ul>
<li>预填模型的输出，应该是其中的特色，可能和Claude独特的训练方式有关，在其他的prompt提示技巧中都很少提及；</li>
<li>数据指令分离，是一个很有价值的prompt方式；</li>
<li>Prompt Generator。</li>
</ul>
<p>Anthropic最有趣的一部分，是提供了一个称之为“MetaPrompt”的自动化提示生成工具，可以指导 Claude 生成适合您的特定任务的高质量提示。提示生成器作为解决“空白页问题”的工具特别有用，提供测试和迭代的起点，遵循上面提到的所有最佳实践，例如思维链和将数据指令分离。</p>
<p>官网也提到了自动化提示生成工具的缺点：</p>
<ul>
<li>只针对单轮对话有较好的效果；</li>
<li>只针对Claude3 Optus模型；</li>
<li>并不是最佳指示一个好的基础起点；</li>
</ul>
<p>MetaPrompt实际上就是一个非常详尽的，提供了大量例子的提示词，由于过长这里就不填写原文。原始链接在这里，可以自行查看：</p>
<p>﻿https://colab.research.google.com/drive/1SoAajN8CBYTl79VyTwxtxncfCWlHlyy9#scrollTo=BOYnM7A3g6HB﻿</p>
<p>个人感觉意义不是很大，宣传的意义为主。</p>
<h2 id="google">Google<a hidden class="anchor" aria-hidden="true" href="#google">#</a></h2>
<p>Google作为老牌大厂，最近提出的Gemini系列模型依然极具竞争力。官方的prompt提示教程依然保持了老牌作风，是三个大厂里面最详尽的，甚至专门是一本四十多页的书，对新手非常友好。</p>
<p><img loading="lazy" src="https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naLibBDibUWEicZATSMJ1Bic3PnqnAveNwXN96artMILFGpoeYxsR2Okib3L9Tws9icxBbgzslBzeT17xsicA/640?wx_fmt=other&from=appmsg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1"></p>
<p>核心的四个要点，可以看到也是和之前的概念如出一辙，但提供了很详细的例子（实际文章中绝大部分都是例子）。</p>
<ul>
<li>Persona：人格化</li>
<li>Task：任务本身</li>
<li>Context：上下文</li>
<li>Format：格式</li>
</ul>
<p>下文就是一个非常好的涵盖四个要点的prompt，每行对应其中一点。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>You are a Google Cloud program manager. 
</span></span><span style="display:flex;"><span>Draft an executive summary email to [persona]
</span></span><span style="display:flex;"><span>based on [details about relevant program docs]. 
</span></span><span style="display:flex;"><span>Limit to bullet points.
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="方案总结"><strong>方案总结</strong><a hidden class="anchor" aria-hidden="true" href="#方案总结">#</a></h2>
<p>可以看到几个大厂相关的prompt技巧总结，完全可以融入到CO-STAR这个框架中。我们需要强调或者增加的是：</p>
<ul>
<li>Persona：人格角色化；</li>
<li>XML：更多的使用分割符；</li>
<li>Prefill-respone：预填模型的输出；</li>
<li>Example：增加例子；</li>
<li>Response：必要的时候可以置顶输出的长度；</li>
<li>Reflection ：自我反思；</li>
<li>COT：Object中让模型在回答问题之前给出较为详细的推理；</li>
<li>最重要的是：要有完善的测试集、测试指标，给系统&amp;Prompt做准确的评估；</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/ai/">AI</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>