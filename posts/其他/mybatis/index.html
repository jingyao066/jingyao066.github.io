<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>mybatis | Wjy&#39;s Blog</title>
<meta name="keywords" content="其他">
<meta name="description" content="基础
面向接口编程


Mapper文件的namespace要和dao层接口的完整路径对应
&lt;mapper namespace=&quot;com.wjy.mapper.TestMapper&quot;&gt;


接口中的方法名字要和Mapper文件中SQL语句的ID对应
dao层接口
xxxBean selectByPrimaryKey(Integer id);




1
2
3
4
5
6


&lt;select id=&#34;selectByPrimaryKey&#34; resultMap=&#34;BaseResultMap&#34; parameterType=&#34;java.lang.Integer&#34; &gt;
    select
    &lt;include refid=&#34;Base_Column_List&#34; /&gt;
    from unit
    where id = #{id,jdbcType=INTEGER}
&lt;/select&gt;


">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/%E5%85%B6%E4%BB%96/mybatis/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="mybatis" />
<meta property="og:description" content="基础
面向接口编程


Mapper文件的namespace要和dao层接口的完整路径对应
&lt;mapper namespace=&quot;com.wjy.mapper.TestMapper&quot;&gt;


接口中的方法名字要和Mapper文件中SQL语句的ID对应
dao层接口
xxxBean selectByPrimaryKey(Integer id);




1
2
3
4
5
6


&lt;select id=&#34;selectByPrimaryKey&#34; resultMap=&#34;BaseResultMap&#34; parameterType=&#34;java.lang.Integer&#34; &gt;
    select
    &lt;include refid=&#34;Base_Column_List&#34; /&gt;
    from unit
    where id = #{id,jdbcType=INTEGER}
&lt;/select&gt;


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/%E5%85%B6%E4%BB%96/mybatis/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-27T15:07:56+00:00" />
<meta property="article:modified_time" content="2020-03-27T15:07:56+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="mybatis"/>
<meta name="twitter:description" content="基础
面向接口编程


Mapper文件的namespace要和dao层接口的完整路径对应
&lt;mapper namespace=&quot;com.wjy.mapper.TestMapper&quot;&gt;


接口中的方法名字要和Mapper文件中SQL语句的ID对应
dao层接口
xxxBean selectByPrimaryKey(Integer id);




1
2
3
4
5
6


&lt;select id=&#34;selectByPrimaryKey&#34; resultMap=&#34;BaseResultMap&#34; parameterType=&#34;java.lang.Integer&#34; &gt;
    select
    &lt;include refid=&#34;Base_Column_List&#34; /&gt;
    from unit
    where id = #{id,jdbcType=INTEGER}
&lt;/select&gt;


"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "mybatis",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/%E5%85%B6%E4%BB%96/mybatis/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "mybatis",
  "name": "mybatis",
  "description": "基础 面向接口编程 Mapper文件的namespace要和dao层接口的完整路径对应 \u0026lt;mapper namespace=\u0026quot;com.wjy.mapper.TestMapper\u0026quot;\u0026gt;\n接口中的方法名字要和Mapper文件中SQL语句的ID对应 dao层接口 xxxBean selectByPrimaryKey(Integer id);\n1 2 3 4 5 6 \u0026lt;select id=\u0026#34;selectByPrimaryKey\u0026#34; resultMap=\u0026#34;BaseResultMap\u0026#34; parameterType=\u0026#34;java.lang.Integer\u0026#34; \u0026gt; select \u0026lt;include refid=\u0026#34;Base_Column_List\u0026#34; /\u0026gt; from unit where id = #{id,jdbcType=INTEGER} \u0026lt;/select\u0026gt; ",
  "keywords": [
    "其他"
  ],
  "articleBody": "基础 面向接口编程 Mapper文件的namespace要和dao层接口的完整路径对应 接口中的方法名字要和Mapper文件中SQL语句的ID对应 dao层接口 xxxBean selectByPrimaryKey(Integer id);\n1 2 3 4 5 6 ",
  "wordCount" : "17520",
  "inLanguage": "en",
  "datePublished": "2020-03-27T15:07:56Z",
  "dateModified": "2020-03-27T15:07:56Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/%E5%85%B6%E4%BB%96/mybatis/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      mybatis
    </h1>
    <div class="post-meta"><span title='2020-03-27 15:07:56 +0000 UTC'>2020-03-27</span>&nbsp;·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%9f%ba%e7%a1%80" aria-label="基础">基础</a><ul>
                        
                <li>
                    <a href="#%e9%9d%a2%e5%90%91%e6%8e%a5%e5%8f%a3%e7%bc%96%e7%a8%8b" aria-label="面向接口编程">面向接口编程</a></li>
                <li>
                    <a href="#resulttype" aria-label="ResultType">ResultType</a></li>
                <li>
                    <a href="#%e7%ae%80%e5%8d%95%e7%9a%84resultmap" aria-label="简单的ResultMap">简单的ResultMap</a></li>
                <li>
                    <a href="#resultmap%e4%b8%80%e5%af%b9%e4%b8%80" aria-label="resultMap一对一">resultMap一对一</a></li>
                <li>
                    <a href="#resultmap%e4%b8%80%e5%af%b9%e5%a4%9a" aria-label="resultMap一对多">resultMap一对多</a></li></ul>
                </li>
                <li>
                    <a href="#mybatis%e4%bc%a0%e5%8f%82" aria-label="MyBatis传参">MyBatis传参</a><ul>
                        
                <li>
                    <a href="#%e5%8d%95%e4%b8%aa%e5%8f%82%e6%95%b0" aria-label="单个参数">单个参数</a><ul>
                        
                <li>
                    <a href="#%e5%90%8d%e5%ad%97%e4%b8%80%e8%87%b4" aria-label="名字一致">名字一致</a></li>
                <li>
                    <a href="#_parameter" aria-label="#{_parameter}">#{_parameter}</a></li>
                <li>
                    <a href="#arg0-%e4%b8%8e-0" aria-label="{arg0} 与 {0}">{arg0} 与 {0}</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%a4%9a%e5%8f%82%e6%95%b0" aria-label="多参数">多参数</a></li>
                <li>
                    <a href="#map%e5%b0%81%e8%a3%85%e5%a4%9a%e5%8f%82%e6%95%b0" aria-label="Map封装多参数">Map封装多参数</a></li>
                <li>
                    <a href="#list%e5%b0%81%e8%a3%85in" aria-label="List封装in">List封装in</a></li>
                <li>
                    <a href="#%e5%a4%9a%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92%e4%b9%8b%e6%b3%a8%e8%a7%a3%e6%96%b9%e5%bc%8f%e7%a4%ba" aria-label="多参数传递之注解方式示">多参数传递之注解方式示</a></li>
                <li>
                    <a href="#%e5%a4%8d%e6%9d%82%e5%8f%82%e6%95%b0%e7%b1%bb%e5%9e%8b" aria-label="复杂参数类型">复杂参数类型</a></li></ul>
                </li>
                <li>
                    <a href="#trick" aria-label="trick">trick</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%89%93%e5%8d%b0sql" aria-label="配置打印sql">配置打印sql</a></li>
                <li>
                    <a href="#%e6%89%b9%e9%87%8f%e6%8f%92%e5%85%a5" aria-label="批量插入">批量插入</a></li>
                <li>
                    <a href="#%e6%89%b9%e9%87%8f%e6%9b%b4%e6%96%b0" aria-label="批量更新">批量更新</a><ul>
                        
                <li>
                    <a href="#%e9%80%90%e6%9d%a1%e6%9b%b4%e6%96%b0java%e5%ae%9e%e7%8e%b0%e4%b8%8d%e6%8e%a8%e8%8d%90" aria-label="逐条更新（java实现：不推荐）">逐条更新（java实现：不推荐）</a></li>
                <li>
                    <a href="#%e9%80%90%e6%9d%a1%e6%9b%b4%e6%96%b0mybatis%e5%ae%9e%e7%8e%b0%e4%b8%8d%e6%8e%a8%e8%8d%90" aria-label="逐条更新（mybatis实现：不推荐）">逐条更新（mybatis实现：不推荐）</a></li>
                <li>
                    <a href="#sql%e6%89%b9%e9%87%8f%e6%9b%b4%e6%96%b0%e6%8e%a8%e8%8d%90" aria-label="sql批量更新（推荐）">sql批量更新（推荐）</a></li>
                <li>
                    <a href="#%e6%89%b9%e9%87%8f%e6%9b%b4%e6%96%b0%e5%8d%95%e4%b8%aa%e5%ad%97%e6%ae%b5" aria-label="批量更新单个字段">批量更新单个字段</a></li>
                <li>
                    <a href="#sql%e6%89%b9%e9%87%8f%e6%9b%b4%e6%96%b0%e9%80%9a%e8%bf%87insert%e5%ae%9e%e7%8e%b0" aria-label="sql批量更新（通过insert实现）">sql批量更新（通过insert实现）</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%ae%80%e5%8d%95%e7%9a%84sql%e6%b3%a8%e5%85%a5%e5%8e%9f%e7%90%86" aria-label="简单的SQL注入原理">简单的SQL注入原理</a></li>
                <li>
                    <a href="#%e6%89%b9%e9%87%8f%e6%96%b0%e5%a2%9e%e8%bf%94%e5%9b%9eid" aria-label="批量新增返回id">批量新增返回id</a></li>
                <li>
                    <a href="#pagehelper%e6%b2%a1%e6%9c%89%e6%95%88%e6%9e%9c" aria-label="Pagehelper没有效果">Pagehelper没有效果</a></li>
                <li>
                    <a href="#mybatis%e7%9a%84xml%e5%88%a4%e6%96%ad" aria-label="MyBatis的xml判断">MyBatis的xml判断</a></li>
                <li>
                    <a href="#mybatis%e6%8a%a5%e9%94%99" aria-label="Mybatis报错">Mybatis报错</a></li>
                <li>
                    <a href="#%e6%95%b0%e6%8d%ae%e5%ba%93int%e7%b1%bb%e5%9e%8b%e8%a2%ab%e6%a0%bc%e5%bc%8f%e5%8c%96%e4%b8%balong" aria-label="数据库int类型被格式化为Long">数据库int类型被格式化为Long</a></li>
                <li>
                    <a href="#mybatis%e6%89%b9%e9%87%8f%e5%88%a0%e9%99%a4%e5%a4%9a%e4%b8%aa%e6%9d%a1%e4%bb%b6" aria-label="mybatis批量删除，多个条件">mybatis批量删除，多个条件</a></li>
                <li>
                    <a href="#mybatispagehelper%e4%b8%80%e5%af%b9%e5%a4%9a%e5%88%86%e9%a1%b5" aria-label="mybatis&#43;pageHelper，一对多分页">mybatis+pageHelper，一对多分页</a></li>
                <li>
                    <a href="#mybatis-%e6%97%a5%e6%9c%9f%e6%97%b6%e9%97%b4%e6%a0%bc%e5%bc%8f%e5%8c%96%e7%9a%84%e9%97%ae%e9%a2%98" aria-label="mybatis 日期时间格式化的问题">mybatis 日期时间格式化的问题</a></li>
                <li>
                    <a href="#autowired%e6%b3%a8%e5%85%a5mapper%e6%96%87%e4%bb%b6%e6%8a%a5%e9%94%99" aria-label="@Autowired注入mapper文件报错">@Autowired注入mapper文件报错</a></li>
                <li>
                    <a href="#%e9%80%9a%e7%94%a8mapper" aria-label="通用mapper">通用mapper</a></li>
                <li>
                    <a href="#%e6%98%a0%e5%b0%84%e9%97%ae%e9%a2%98" aria-label="映射问题">映射问题</a></li>
                <li>
                    <a href="#map%e5%8f%82%e6%95%b0%e8%bf%94%e5%9b%9e%e4%b8%bb%e9%94%ae" aria-label="map参数返回主键">map参数返回主键</a></li>
                <li>
                    <a href="#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" aria-label="遇到的问题">遇到的问题</a></li>
                <li>
                    <a href="#mybatis%e4%bd%bf%e7%94%a8map%e8%bf%94%e5%9b%9e%e5%80%bc%e8%bf%94%e5%9b%9ekey%e4%b8%ba%e7%a9%ba%e7%9a%84%e5%80%bc" aria-label="mybatis使用map返回值，返回key为空的值">mybatis使用map返回值，返回key为空的值</a></li>
                <li>
                    <a href="#mybatis%e8%bf%94%e5%9b%9emap%e5%8f%82%e6%95%b0" aria-label="mybatis返回map参数">mybatis返回map参数</a></li>
                <li>
                    <a href="#%e5%ae%9e%e4%bd%93%e7%b1%bb%e4%b8%ad%e6%9c%89%e5%86%85%e9%83%a8%e7%b1%bb" aria-label="实体类中有内部类">实体类中有内部类</a></li>
                <li>
                    <a href="#xml%e4%b8%ad%e5%88%a4%e6%96%ad%e6%95%b0%e5%ad%97%e7%b1%bb%e5%9e%8b%e7%9a%84%e9%97%ae%e9%a2%98" aria-label="xml中判断数字类型的问题">xml中判断数字类型的问题</a></li></ul>
                </li>
                <li>
                    <a href="#mybatis-generator" aria-label="mybatis-Generator">mybatis-Generator</a><ul>
                        
                <li>
                    <a href="#%e5%ae%8c%e6%95%b4%e7%9a%84%e9%85%8d%e7%bd%ae%e8%af%b4%e6%98%8e" aria-label="完整的配置说明">完整的配置说明</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%80%e4%ba%9b%e9%97%ae%e9%a2%98" aria-label="一些问题">一些问题</a><ul>
                        
                <li>
                    <a href="#%e5%92%8c%e7%9a%84%e5%8c%ba%e5%88%ab%e6%98%af%e4%bb%80%e4%b9%88" aria-label="#{}和${}的区别是什么">#{}和${}的区别是什么</a></li>
                <li>
                    <a href="#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e4%b8%ad%e9%80%9a%e5%b8%b8%e4%b8%80%e4%b8%aaxml%e6%98%a0%e5%b0%84%e6%96%87%e4%bb%b6%e9%83%bd%e4%bc%9a%e5%86%99%e4%b8%80%e4%b8%aadao%e6%8e%a5%e5%8f%a3%e4%b8%8e%e4%b9%8b%e5%af%b9%e5%ba%94%e8%af%b7%e9%97%ae%e8%bf%99%e4%b8%aadao%e6%8e%a5%e5%8f%a3%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86%e6%98%af%e4%bb%80%e4%b9%88dao%e6%8e%a5%e5%8f%a3%e9%87%8c%e7%9a%84%e6%96%b9%e6%b3%95%e5%8f%82%e6%95%b0%e4%b8%8d%e5%90%8c%e6%97%b6%e6%96%b9%e6%b3%95%e8%83%bd%e9%87%8d%e8%bd%bd%e5%90%97" aria-label="最佳实践中，通常一个Xml映射文件，都会写一个Dao接口与之对应，请问，这个Dao接口的工作原理是什么？Dao接口里的方法，参数不同时，方法能重载吗？">最佳实践中，通常一个Xml映射文件，都会写一个Dao接口与之对应，请问，这个Dao接口的工作原理是什么？Dao接口里的方法，参数不同时，方法能重载吗？</a></li>
                <li>
                    <a href="#mybatis%e6%98%af%e5%a6%82%e4%bd%95%e5%b0%86sql%e6%89%a7%e8%a1%8c%e7%bb%93%e6%9e%9c%e5%b0%81%e8%a3%85%e4%b8%ba%e7%9b%ae%e6%a0%87%e5%af%b9%e8%b1%a1%e5%b9%b6%e8%bf%94%e5%9b%9e%e7%9a%84%e9%83%bd%e6%9c%89%e5%93%aa%e4%ba%9b%e6%98%a0%e5%b0%84%e5%bd%a2%e5%bc%8f" aria-label="Mybatis是如何将sql执行结果封装为目标对象并返回的？都有哪些映射形式？">Mybatis是如何将sql执行结果封装为目标对象并返回的？都有哪些映射形式？</a></li>
                <li>
                    <a href="#mybatis%e6%98%af%e5%90%a6%e6%94%af%e6%8c%81%e5%bb%b6%e8%bf%9f%e5%8a%a0%e8%bd%bd%e5%a6%82%e6%9e%9c%e6%94%af%e6%8c%81%e5%ae%83%e7%9a%84%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e6%98%af%e4%bb%80%e4%b9%88" aria-label="Mybatis是否支持延迟加载？如果支持，它的实现原理是什么？">Mybatis是否支持延迟加载？如果支持，它的实现原理是什么？</a></li>
                <li>
                    <a href="#mybatis%e7%9a%84xml%e6%98%a0%e5%b0%84%e6%96%87%e4%bb%b6%e4%b8%ad%e4%b8%8d%e5%90%8c%e7%9a%84xml%e6%98%a0%e5%b0%84%e6%96%87%e4%bb%b6id%e6%98%af%e5%90%a6%e5%8f%af%e4%bb%a5%e9%87%8d%e5%a4%8d" aria-label="Mybatis的Xml映射文件中，不同的Xml映射文件，id是否可以重复？">Mybatis的Xml映射文件中，不同的Xml映射文件，id是否可以重复？</a></li>
                <li>
                    <a href="#mybatis%e9%83%bd%e6%9c%89%e5%93%aa%e4%ba%9bexecutor%e6%89%a7%e8%a1%8c%e5%99%a8%e5%ae%83%e4%bb%ac%e4%b9%8b%e9%97%b4%e7%9a%84%e5%8c%ba%e5%88%ab%e6%98%af%e4%bb%80%e4%b9%88" aria-label="Mybatis都有哪些Executor执行器？它们之间的区别是什么？">Mybatis都有哪些Executor执行器？它们之间的区别是什么？</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="基础">基础<a hidden class="anchor" aria-hidden="true" href="#基础">#</a></h1>
<h2 id="面向接口编程">面向接口编程<a hidden class="anchor" aria-hidden="true" href="#面向接口编程">#</a></h2>
<ol>
<li>
<p><code>Mapper</code>文件的<code>namespace</code>要和<code>dao层接口</code>的完整路径对应
<code>&lt;mapper namespace=&quot;com.wjy.mapper.TestMapper&quot;&gt;</code></p>
</li>
<li>
<p>接口中的方法名字要和Mapper文件中SQL语句的ID对应
dao层接口
<code>xxxBean selectByPrimaryKey(Integer id);</code></p>
</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;selectByPrimaryKey&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;BaseResultMap&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.lang.Integer&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    select
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;include</span> <span style="color:#007f7f">refid=</span><span style="color:#0ff;font-weight:bold">&#34;Base_Column_List&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    from unit
</span></span><span style="display:flex;"><span>    where id = #{id,jdbcType=INTEGER}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>接口中方法的返回值要和Mapper文件中的resultType对应</li>
<li>接口中方法的参数要和Mapper文件中的parameterType对应</li>
</ol>
<h2 id="resulttype">ResultType<a hidden class="anchor" aria-hidden="true" href="#resulttype">#</a></h2>
<p>使用MyBatis查询 返回类型为int，但是当查询结果为空NULL，会直接报错。
<code>select id from users where id = 1</code></p>
<p>可以使用<code>ifnull()</code>和聚合函数<code>max()</code>解决该问题：
<code>select ifnull(max(id),0) from users where id = 1</code>
只使用ifnull，还是会返回<code>(N/A)</code>，所以必须加上max函数。</p>
<p>使用ResultType返回实体类时，因为实体类字段都是驼峰，数据库字段都是下划线，如果不想每个字段都as成驼峰，需要加入配置
<code>mybatis.configuration.map-underscore-to-camel-case=true</code></p>
<h2 id="简单的resultmap">简单的ResultMap<a hidden class="anchor" aria-hidden="true" href="#简单的resultmap">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    type：返回类型  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    id：唯一标识 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">type =</span> <span style="color:#0ff;font-weight:bold">&#34;EmpBean&#34;</span> <span style="color:#007f7f">id =</span> <span style="color:#0ff;font-weight:bold">&#34;selectAllMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        id标签是主键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        column：sql查询结果的字段，需要和查询结果的表头字段一致，即如果用了as，需要和as后边的别名一致
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        property：对应的java实体类属性
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        javaType：property对应的数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        jdbcType：column对应的数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 普通字段 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 此处的resultMap需要和上边resultMap标签的id相对应 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id =</span> <span style="color:#0ff;font-weight:bold">&#34;selectAll&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;selectAllMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    select * from emp
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="resultmap一对一">resultMap一对一<a hidden class="anchor" aria-hidden="true" href="#resultmap一对一">#</a></h2>
<p>在<code>ResultMap</code>中使用<code>association</code>标签</p>
<p>EmpBean 实体类中存在一对一关系：
<code>private DeptBean deptBean</code></p>
<p>定义sql语句：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id =</span> <span style="color:#0ff;font-weight:bold">&#34;selectEmpResultMap&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;selectEmpMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    select
</span></span><span style="display:flex;"><span>        e.*,
</span></span><span style="display:flex;"><span>        d.dept_name,
</span></span><span style="display:flex;"><span>        d.id as dept_id
</span></span><span style="display:flex;"><span>    from emp e
</span></span><span style="display:flex;"><span>    left join dept d 
</span></span><span style="display:flex;"><span>    on d.id = e.dept_id
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    column为数据库字段，property为实体类的属性
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    Bean模型属性与数据库字段不相同的，需要写一下result标签，其他的可以用自动映射automapping，也可以全部写上
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">type =</span> <span style="color:#0ff;font-weight:bold">&#34;EmpBean&#34;</span> <span style="color:#007f7f">id =</span> <span style="color:#0ff;font-weight:bold">&#34;selectAllMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 一对一关系 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;association</span> <span style="color:#007f7f">property =</span> <span style="color:#0ff;font-weight:bold">&#34;deptBean&#34;</span> <span style="color:#007f7f">javaType =</span> <span style="color:#0ff;font-weight:bold">&#34;DeptBean&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column =</span> <span style="color:#0ff;font-weight:bold">&#34;dept_id&#34;</span> <span style="color:#007f7f">property =</span> <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column =</span> <span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span> <span style="color:#007f7f">property =</span> <span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/association&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="resultmap一对多">resultMap一对多<a hidden class="anchor" aria-hidden="true" href="#resultmap一对多">#</a></h2>
<p>在<code>resultMap</code>中使用<code>collection</code>标签
<code>DeptBean</code>实体类中存在一对多关系，站在部门的角度，部门和员工是一对多关系(一个部门对应多个员工)<code>private List&lt;Emp&gt; empList</code></p>
<p>编写sql</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select&gt;</span>
</span></span><span style="display:flex;"><span>    select
</span></span><span style="display:flex;"><span>        d.*,
</span></span><span style="display:flex;"><span>        e.*,
</span></span><span style="display:flex;"><span>        e.id as e_id
</span></span><span style="display:flex;"><span>    from dept d
</span></span><span style="display:flex;"><span>    left join emp e on e.dept_id = d.id
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>编写resultMap映射结果集</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;selectAllMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;DeptBean&#34;</span> <span style="color:#007f7f">autoMapping=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="font-weight:bold">/&gt;</span> -- 就算使用了autoMapping，还是需要映射该字段，该字段必须单独映射，否则报错
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;dept_name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;deptName&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;collection</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;empList&#34;</span> <span style="color:#007f7f">ofType=</span><span style="color:#0ff;font-weight:bold">&#34;com.zjx.model.Emp&#34;</span> <span style="color:#007f7f">autoMapping=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            一对多使用collection
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            property：实体类中list属性的名字(必须)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            ofType：list中的对象类型List&lt;EmpBean&gt;(必须)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            若使用自动映射automapping，需要为使用as别名的字段单独使用result标签
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>		若返回结果需要id，该字段必须映射，否则会把主表的id映射到每一条子数据上，造成子数据每条id都一样的错误
</span></span><span style="display:flex;"><span>		而且查询的id必须起别名，不能和主表的id一样(主表的主键叫id，子表的主键也叫id，会造成映射错误)
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;e_id&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="font-weight:bold">/&gt;</span> 此处的cloumn必须改为和id的别名一致，否则会造成映射错误
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column =</span> <span style="color:#0ff;font-weight:bold">&#34;emp_name&#34;</span> <span style="color:#007f7f">property =</span> <span style="color:#0ff;font-weight:bold">&#34;empName&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/collection&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：一对多关系中，<code>一</code>方(主表)的<code>id</code>和<code>多</code>方(子表)的<code>id</code>，其中：</p>
<ol>
<li><code>一方的id(主表)</code>必须被查询和成功的映射(自动映射autoMapping不可以，必须单独映射)。</li>
<li><code>多方的id(子表)</code>必须被查询和成功的映射</li>
<li>主表和子表如果有一样的字段名，必须映射不一样的别名。</li>
</ol>
<p>若不符合上方条件，会造成结果集的关系匹配不正确。</p>
<p>resultMap的用法以及关联结果集映射：
<a href="https://blog.csdn.net/qq_42780864/article/details/81429114">https://blog.csdn.net/qq_42780864/article/details/81429114</a></p>
<h1 id="mybatis传参">MyBatis传参<a hidden class="anchor" aria-hidden="true" href="#mybatis传参">#</a></h1>
<h2 id="单个参数">单个参数<a hidden class="anchor" aria-hidden="true" href="#单个参数">#</a></h2>
<h3 id="名字一致">名字一致<a hidden class="anchor" aria-hidden="true" href="#名字一致">#</a></h3>
<p><code>public List&lt;XXBean&gt; getXXBeanList(String xxCode);</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getXXXBeanList&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.lang.String&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;XXBean&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>　　select t.* from tableName t where t.id= #{id}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中方法名和ID一致，#{}中的参数名与方法中的参数名一直， 我这里采用的是XXXBean是采用的短名字,select 后的字段列表要和bean中的属性名一致， 如果不一致的可以用as来补充。</p>
<h3 id="_parameter">#{_parameter}<a hidden class="anchor" aria-hidden="true" href="#_parameter">#</a></h3>
<p>只传入一个参数，可以使用
<code>#{_parameter}</code>
当作占位符。</p>
<h3 id="arg0-与-0">{arg0} 与 {0}<a hidden class="anchor" aria-hidden="true" href="#arg0-与-0">#</a></h3>
<p>mybatis3.4.2或者之后的版本，使用<code>#{0}</code>就会产生绑定异常：
<code>org.apache.ibatis.binding.BindingException: Parameter '0' not found. Available parameters are [arg1, arg0, param1, param2]</code></p>
<p>从异常可以看出在没有使用@参数注解的情况下，传递参数需要使用：
<code>#{arg0},#{argN}</code>或<code>#{param1},#{paramN}</code></p>
<p>3.4.1以及之前版本的绑定异常信息：
<code>org.apache.ibatis.binding.BindingException: Parameter 'arg0' not found. Available parameters are [0, 1, param1, param2]</code>
可以发现3.4.1版本中传递参数可以使用#{0} - #{N}</p>
<p>原因：
MyBatis的通过XMLConfigBuilder类来加载配置文件中的各项参数</p>
<p>3.4.2版本之前设置属性中useActualParamName参数的默认值为flase
XMLConfigBuilder.class的settingsElement方法中的源代码：
<code>configuration.setUseActualParamName(booleanValueOf(props.getProperty(&quot;useActualParamName&quot;), true));</code></p>
<p>3.4.2版本之后设置属性中useActualParamName参数的默认值为true
XMLConfigBuilder.class的settingsElement方法中的源代码
<code>configuration.setUseActualParamName(booleanValueOf(props.getProperty(&quot;useActualParamName&quot;), false));</code></p>
<p>虽然<code>#{arg0}</code>和<code>#{param1}</code>可以混用，如
<code>where id = #{arg0} and user_id = #{param2}</code>
但是最好别这么用，容易让人懵逼。
arg参数从0开始，param从1开始，注意。</p>
<p><a href="https://www.cnblogs.com/keyi/p/8509155.html">其他参考</a></p>
<h2 id="多参数">多参数<a hidden class="anchor" aria-hidden="true" href="#多参数">#</a></h2>
<p><code>public List&lt;XXXBean&gt; getXXXBeanList(String xxId, String xxCode);</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getXXXBeanList&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;XXBean&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>　　select t.* from tableName where id = #{0} and name = #{1}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>由于是多参数那么就不能使用parameterType， 改用#｛index｝是第几个就用第几个的索引，索引从0开始。</p>
<h2 id="map封装多参数">Map封装多参数<a hidden class="anchor" aria-hidden="true" href="#map封装多参数">#</a></h2>
<p><code>public List&lt;XXXBean&gt; getXXXBeanList(HashMap map);</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getXXXBeanList&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;hashmap&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;XXBean&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>　　select 字段... from XXX where id=#{xxId} code = #{xxCode}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中hashmap是mybatis自己配置好的直接使用就行。map中key的名字是那个就在#{}使用那个，map如何封装就不用了我说了吧。</p>
<h2 id="list封装in">List封装in<a hidden class="anchor" aria-hidden="true" href="#list封装in">#</a></h2>
<p><code>public List&lt;XXXBean&gt; getXXXBeanList(List&lt;String&gt; list);</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getXXXBeanList&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;XXBean&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>　　select 字段... from XXX where id in
</span></span><span style="display:flex;"><span>　　<span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>　　　　#{item}
</span></span><span style="display:flex;"><span>　　<span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>foreach 最后的效果是select 字段&hellip; from XXX where id in (&lsquo;1&rsquo;,&lsquo;2&rsquo;,&lsquo;3&rsquo;,&lsquo;4&rsquo;)</p>
<h2 id="多参数传递之注解方式示">多参数传递之注解方式示<a hidden class="anchor" aria-hidden="true" href="#多参数传递之注解方式示">#</a></h2>
<p>例子：
<code>public AddrInfo getAddrInfo(@Param(&quot;corpId&quot;)int corpId, @Param(&quot;addrId&quot;)int addrId);</code>
xml配置这样写：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getAddrInfo&#34;</span>  <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;com.xxx.xxx.AddrInfo&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       SELECT * FROM addr__info 
</span></span><span style="display:flex;"><span>　　　　where addr_id=#{addrId} and corp_id=#{corpId}
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>以前在<code>&lt;select&gt;</code>语句中要带parameterType的，现在可以不要这样写。</p>
<h2 id="复杂参数类型">复杂参数类型<a hidden class="anchor" aria-hidden="true" href="#复杂参数类型">#</a></h2>
<p><code>selectList()</code>只能传递一个参数，但实际所需参数既要包含String类型，又要包含List类型时的处理方法将参数放入Map，再取出Map中的List遍历。如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list_3 = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span><span style="display:flex;"><span>Map&lt;String, Object&gt; map2 = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;String, Object&gt;();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>);
</span></span><span style="display:flex;"><span>map2.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;list&#34;</span>, list); <span style="color:#007f7f">//网址id
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>map2.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;siteTag&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;0&#34;</span>);<span style="color:#007f7f">//网址类型
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> List&lt;SysWeb&gt; getSysInfo(Map&lt;String, Object&gt; map2) {
</span></span><span style="display:flex;"><span><span style="color:#f00">　　</span><span style="color:#fff;font-weight:bold">return</span> getSqlSession().<span style="color:#007f7f">selectList</span>(<span style="color:#0ff;font-weight:bold">&#34;sysweb.getSysInfo&#34;</span>, map2);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;getSysInfo&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.util.Map&#34;</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;SysWeb&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    select t.sysSiteId, t.siteName, t1.mzNum as siteTagNum, t1.mzName as siteTag, t.url, t.iconPath
</span></span><span style="display:flex;"><span>    from TD_WEB_SYSSITE t
</span></span><span style="display:flex;"><span>    left join TD_MZ_MZDY t1 on t1.mzNum = t.siteTag and t1.mzType = 10
</span></span><span style="display:flex;"><span>    WHERE t.siteTag = #{siteTag } 
</span></span><span style="display:flex;"><span>    and t.sysSiteId not in 
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       #{item}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="trick">trick<a hidden class="anchor" aria-hidden="true" href="#trick">#</a></h1>
<h2 id="配置打印sql">配置打印sql<a hidden class="anchor" aria-hidden="true" href="#配置打印sql">#</a></h2>
<p>logging.level.com，后面的路径指的是mybatis对应的方法接口所在的包。并不是mapper.xml所在的包。
<code>logging.level.com.example.demo.dao=debug</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 打印sql
</span></span><span style="display:flex;"><span>logging:
</span></span><span style="display:flex;"><span>  level:
</span></span><span style="display:flex;"><span>     com.example.demo.dao : debug
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="批量插入">批量插入<a hidden class="anchor" aria-hidden="true" href="#批量插入">#</a></h2>
<p>批量插入大致有两种形式</p>
<ol>
<li>复杂参数类型，传入参数为map
<code>void bulkInsertImg(@Param(&quot;imgMap&quot;) Map&lt;String,Object&gt; map);</code></li>
</ol>
<p>这里我们可以只传递一个map参数，也可以传入多个参数：
<code>void insertBatch(@Param(&quot;skuList&quot;) List&lt;GoodsSku&gt; skuList,@Param(&quot;goodsId&quot;) Integer goodsId);</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!--批量插入商品图片--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;bulkInsertImg&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>INSERT INTO
</span></span><span style="display:flex;"><span>goods_img
</span></span><span style="display:flex;"><span>(
</span></span><span style="display:flex;"><span>  goods_id,
</span></span><span style="display:flex;"><span>  goods_img
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>VALUES
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;imgMap.imgArr&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span>  <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;idx&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  (
</span></span><span style="display:flex;"><span>  #{imgMap.goodsId},
</span></span><span style="display:flex;"><span>  #{i}
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>需要注意foreach循环数组和list是有区别的：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 批量插入商品规格 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;bulkInsert&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>INSERT INTO
</span></span><span style="display:flex;"><span>  goods_spec(
</span></span><span style="display:flex;"><span>	goods_id,
</span></span><span style="display:flex;"><span>	spec_name,
</span></span><span style="display:flex;"><span>	spec_val)
</span></span><span style="display:flex;"><span>VALUES
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;specMap.specName&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span>  <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;idx&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  (
</span></span><span style="display:flex;"><span>	#{specMap.goodsId},
</span></span><span style="display:flex;"><span>	#{i},
</span></span><span style="display:flex;"><span>	${specMap.specVal[idx]}
</span></span><span style="display:flex;"><span>  )
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="批量更新">批量更新<a hidden class="anchor" aria-hidden="true" href="#批量更新">#</a></h2>
<p><a href="https://www.cnblogs.com/eternityz/p/12284760.html">参考</a>
<a href="https://blog.csdn.net/xyjawq1/article/details/74129316/">参考2</a>
通常如果需要一次更新多条数据有两个方式，</p>
<ul>
<li>在业务代码中循环遍历逐条更新。</li>
<li>一次性更新所有数据（更准确的说是一条sql语句来更新所有数据，逐条更新的操作放到数据库端，在业务代码端展现的就是一次性更新所有数据）。</li>
</ul>
<h3 id="逐条更新java实现不推荐">逐条更新（java实现：不推荐）<a hidden class="anchor" aria-hidden="true" href="#逐条更新java实现不推荐">#</a></h3>
<p>这种方式显然是最简单，也最不容易出错的，即便出错也只是影响到当条出错的数据，而且可以对每条数据都比较可控，更新失败或成功，从什么内容更新到什么内容，都可以在逻辑代码中获取。代码可能像下面这个样子：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>updateBatch(List&lt;MyData&gt; datas){
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span>(MyData data : datas){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span>{
</span></span><span style="display:flex;"><span>            myDataDao.<span style="color:#007f7f">update</span>(data);<span style="color:#007f7f">//更新一条数据，mybatis中如下面的xml文件的update
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">catch</span>(Exception e){
</span></span><span style="display:flex;"><span>            ...<span style="color:#007f7f">//如果更新失败可以做一些其他的操作，比如说打印出错日志等
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//mybatis中update操作的实现
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>&lt;update&gt;
</span></span><span style="display:flex;"><span>    update mydata
</span></span><span style="display:flex;"><span>    set   ...
</span></span><span style="display:flex;"><span>    where ...
</span></span><span style="display:flex;"><span>&lt;/update&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>这种方式最大的问题就是效率问题，逐条更新，每次都会连接数据库，然后更新，再释放连接资源（虽然通过连接池可以将频繁连接数据的效率大大提高，抗不住数据量大），这中损耗在数据量较大的时候便会体现出效率问题。这也是在满足业务需求的时候，通常会使用上述提到的第二种批量更新的实现（当然这种方式也有数据规模的限制，后面会提到）。</p>
<h3 id="逐条更新mybatis实现不推荐">逐条更新（mybatis实现：不推荐）<a hidden class="anchor" aria-hidden="true" href="#逐条更新mybatis实现不推荐">#</a></h3>
<p>通过循环，依次执行多条update的sql。
要实现批量更新，首先得设置mysql支持批量操作，在jdbc链接中需要附加&amp;allowMultiQueries=true属性才行：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>jdbc:mysql://localhost:3306/dbname?characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;allowMultiQueries=true
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;update</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;updateBatch&#34;</span>  <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.util.List&#34;</span><span style="font-weight:bold">&gt;</span>  
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        update course
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;set&gt;</span>
</span></span><span style="display:flex;"><span>            name=${item.name}
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/set&gt;</span>
</span></span><span style="display:flex;"><span>        where id = ${item.id}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>      
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/update&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>一条记录update一次，性能比较差，容易造成阻塞。</p>
<h3 id="sql批量更新推荐">sql批量更新（推荐）<a hidden class="anchor" aria-hidden="true" href="#sql批量更新推荐">#</a></h3>
<p>MySQL没有提供直接的方法来实现批量更新，但可以使用<code>case when</code>语法来实现这个功能。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">UPDATE</span> course
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">SET</span> name = 
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">CASE</span> id 
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;name1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">2</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;name2&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">3</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;name3&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">END</span>, 
</span></span><span style="display:flex;"><span>    title = 
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">CASE</span> id 
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;New Title 1&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">2</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;New Title 2&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">WHEN</span> <span style="color:#ff0;font-weight:bold">3</span> <span style="color:#fff;font-weight:bold">THEN</span> <span style="color:#0ff;font-weight:bold">&#39;New Title 3&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">END</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">WHERE</span> id <span style="color:#fff;font-weight:bold">IN</span> (<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>传参：List&lt;Map&lt;String, Object&raquo;
注意：一定要加where条件，id为需要更新的数据的id。如果不加where条件，则会全部更新。
但是需要更新且有数据的更新为传递的数据，没有数据的则更新为null，此时更新出错。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;update</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;updateBatch&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>     update course
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;set&#34;</span> <span style="color:#007f7f">suffixOverrides=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#007f7f">&lt;!--people_id是字段名--&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;people_id = case&#34;</span> <span style="color:#007f7f">suffix=</span><span style="color:#0ff;font-weight:bold">&#34;end,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                   <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;i.peopleId != null&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                    when id = #{i.id} then #{i.peopleId}
</span></span><span style="display:flex;"><span>                   <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;type = case&#34;</span> <span style="color:#007f7f">suffix=</span><span style="color:#0ff;font-weight:bold">&#34;end,&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                   <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;i.type != null&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                    when id = #{i.id} then #{i.type}
</span></span><span style="display:flex;"><span>                   <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span><span style="display:flex;"><span>    where
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;or&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        id=#{i.id}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/update&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果需要更新多个字段，就复制多个
<code>&lt;trim prefix=&quot;type =case&quot; suffix=&quot;end,&quot;&gt;&lt;/trim&gt;</code>
复制拷贝多次，更改prefix和when&hellip;then&hellip;的内容即可。而如果当需要为某个字段设置默认值的时候可以使用else</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;status =case&#34;</span> <span style="color:#007f7f">suffix=</span><span style="color:#0ff;font-weight:bold">&#34;end,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>          when id=#{item.id} then #{item.status}
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>     else default_value
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>还有更常见的情况就是需要对要更新的数据进行判断，只有符合条件的数据才能进行更新，这种情况可以这么做：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;status = case&#34;</span> <span style="color:#007f7f">suffix=</span><span style="color:#0ff;font-weight:bold">&#34;end,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;item.status != null and item.status != -1&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>             when id=#{item.id} then #{item.status}
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样的话只有要更新的list中<code>status != null &amp;&amp; status != -1</code>的数据才能进行status更新。其他的将使用默认值更新，而不会保持原数据不变。如果要保持原数据不变呢?即满足条件的更新，不满足条件的保持原数据不变，简单的来做就是再加一个，因为mybatis中没有if&hellip;else&hellip;语法，但可以通过多个实现同样的效果，如下</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;trim</span> <span style="color:#007f7f">prefix=</span><span style="color:#0ff;font-weight:bold">&#34;status =case&#34;</span> <span style="color:#007f7f">suffix=</span><span style="color:#0ff;font-weight:bold">&#34;end,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;item.status !=null and item.status != -1&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>             when id=#{item.id} then #{item.status}
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;item.status == null or item.status == -1&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	         //这里就是原数据
</span></span><span style="display:flex;"><span>             when id=#{item.id} then mydata_table.status
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/trim&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="批量更新单个字段">批量更新单个字段<a hidden class="anchor" aria-hidden="true" href="#批量更新单个字段">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;update</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;updateByBatch&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.util.List&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    update t_goods
</span></span><span style="display:flex;"><span>    set id =
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34; &#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;case&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;end&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      when id = #{item.id} then #{item.nodeId}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>    where id in
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      #{item.id}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;/update&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="sql批量更新通过insert实现">sql批量更新（通过insert实现）<a hidden class="anchor" aria-hidden="true" href="#sql批量更新通过insert实现">#</a></h3>
<p>传入的是List&lt;Map&lt;String,Object&raquo;
直接运行插入,如果有插入的数据转为更新该条数据</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;updateChartParamByAccountAndChartid&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    insert into followme_parameters
</span></span><span style="display:flex;"><span>    (account,chart_id,signal_source,rate)
</span></span><span style="display:flex;"><span>    values
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        (#{item.account},#{item.chartId},#{item.signalSource},#{item.rate})
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>    ON duplicate KEY UPDATE
</span></span><span style="display:flex;"><span>    signal_source=values(signal_source),rate=values(rate) 
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="简单的sql注入原理">简单的SQL注入原理<a hidden class="anchor" aria-hidden="true" href="#简单的sql注入原理">#</a></h2>
<p>登录界面用户名输入：<code>or 1=1#</code>，密码随便输入，密码随便输，有可能进入系统。
通常我们的登录语句是这样的
<code>select * from users where username = '' and password = ''</code>
而#在mysql中是注释符，#号后面的内容将被Mysql视为注释内容，上边的sql会变成这样：
<code>select * from users where username = '' or 1=1</code></p>
<h2 id="批量新增返回id">批量新增返回id<a hidden class="anchor" aria-hidden="true" href="#批量新增返回id">#</a></h2>
<ul>
<li>mybatis版本必须在3.3.1及以上</li>
<li>dao层方法返回值依旧是int</li>
<li>dao层接口如果只有一个参数，可以不用<code>@Param</code>注解，但是xml中<code>&lt;foreach&gt;</code>标签的<code>collection</code>参数名必须是<code>list</code></li>
<li>dao层接口如果多个参数，需要用到<code>@Param</code>注解，value值必须是<code>list</code>，与<code>&lt;foreach&gt;</code>标签的<code>collection</code>参数名对应。</li>
<li>xml中insert方法的参数类型<code>parameterType=&quot;list&quot;</code>可写可不写。</li>
<li>和一条新增返回id一样，从传入的参数list中获取id</li>
</ul>
<h2 id="pagehelper没有效果">Pagehelper没有效果<a hidden class="anchor" aria-hidden="true" href="#pagehelper没有效果">#</a></h2>
<p>pagehelper只对紧跟着的第一个sql语句起作用，所以直接把<code>PageHelper.startPage(pageNum,pageSize)</code>放在需要分页的语句前边。</p>
<h2 id="mybatis的xml判断">MyBatis的xml判断<a hidden class="anchor" aria-hidden="true" href="#mybatis的xml判断">#</a></h2>
<p>mybatis判断int类型时，不可以加<code>!= ''</code>非空判断，否则判断会失效，不会进入到判断中。</p>
<h2 id="mybatis报错">Mybatis报错<a hidden class="anchor" aria-hidden="true" href="#mybatis报错">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>The content of element type &#34;resultMap&#34; must match &#34;(constructor?,id*,result*,association*,collection*,discriminator?)&#34;
</span></span></code></pre></td></tr></table>
</div>
</div><p>resultMap中标签的顺序需要和错误信息中标签出现的顺序一致，一对一映射(association)必须写在一对多映射(collection)前边。</p>
<h2 id="数据库int类型被格式化为long">数据库int类型被格式化为Long<a hidden class="anchor" aria-hidden="true" href="#数据库int类型被格式化为long">#</a></h2>
<p>使用map.get(&ldquo;type&rdquo;)获取，并用Integer强转时，报错，错误说明是long类型不能转为Integer。what？怎么会变成long类型了？
后来查了下，貌似mybatis偶尔会抽风，数据库里int类型的字段会时不时的被转成long或者int，所以强转就有问题了。
那怎么办呢，有个思路，是不管什么类型，统统转为string类型，然后再解析为Integer或者Long。所以可以使用以下方法：
<code>Integer type = Integer.parseInt(map.get(&quot;type&quot;).toString());</code></p>
<h2 id="mybatis批量删除多个条件">mybatis批量删除，多个条件<a hidden class="anchor" aria-hidden="true" href="#mybatis批量删除多个条件">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;delete</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;deleteList&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;java.util.List&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>	delete from table where
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;list&#34;</span>  <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34; or &#34;</span> <span style="color:#007f7f">index=</span><span style="color:#0ff;font-weight:bold">&#34;index&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>		(id= #{item.id} and itemcode= #{item.itemcode})
</span></span><span style="display:flex;"><span>	<span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/delete&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mybatispagehelper一对多分页">mybatis+pageHelper，一对多分页<a hidden class="anchor" aria-hidden="true" href="#mybatispagehelper一对多分页">#</a></h2>
<p>有三种解决方案：</p>
<ul>
<li>使用collection的select标签(参考，zjx项目，<code>questionMapper.xml</code>-&gt;<code>getAppQuestionListWithSelect</code>)</li>
<li>先在java代码中根据分页查出<code>一</code>的列表，然后将id放到一个数组中作为参数，把多条数据查出来，然后根据id循环匹配一对多条</li>
<li><a href="https://www.jianshu.com/p/1a0c48e8bfb7">自己实现分页插件 </a></li>
<li>group by id ????</li>
</ul>
<h2 id="mybatis-日期时间格式化的问题">mybatis 日期时间格式化的问题<a hidden class="anchor" aria-hidden="true" href="#mybatis-日期时间格式化的问题">#</a></h2>
<p>mysql 数据库 datetime类型字段，实体中类型为Date，映射出来的格式是:<code>2019-03-11T11:03:53.000+0000</code>
在实体类属性上加上该注解：
<code>@JsonFormat(timezone = &quot;GMT+8&quot;,pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)</code></p>
<h2 id="autowired注入mapper文件报错">@Autowired注入mapper文件报错<a hidden class="anchor" aria-hidden="true" href="#autowired注入mapper文件报错">#</a></h2>
<p>虽然报错，但是不影响编译，为了不碍眼，在mapper文件上加@Repository注解即可。</p>
<h2 id="通用mapper">通用mapper<a hidden class="anchor" aria-hidden="true" href="#通用mapper">#</a></h2>
<p>使用通用mapper的<code>updateByPrimaryKeySelective</code>方法时，<code>UPDATE role SET id = ?,name = ? WHERE id = ? AND name = ?</code>，发现where条件后，不仅有id，还有其他条件，导致更新失败。
解决：
原来是在实体类中的主键id字段没有加@id注解，导致找不到主键。</p>
<h2 id="映射问题">映射问题<a hidden class="anchor" aria-hidden="true" href="#映射问题">#</a></h2>
<p>dao层返回值为<code>Map&lt;String,String&gt;</code>，数据库中是int，在获取map的值时候，把id字段映射成了<code>Long</code>类型，为何？
最后只能用<code>Map&lt;String,Object&gt;</code>去接收返回值，然后在java中再转。
所以说，接收mybatis的返回值，尽量用<code>Map&lt;String,Object&gt;</code>去接收。</p>
<h2 id="map参数返回主键">map参数返回主键<a hidden class="anchor" aria-hidden="true" href="#map参数返回主键">#</a></h2>
<p>mybatis新增时，参数为map，需要返回自增的主键。</p>
<p>paramMap中要有key为id 的属性，在参数map中加入id索引
paramMap.put(&ldquo;id&rdquo;,null);</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;insert</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;addCase&#34;</span> <span style="color:#007f7f">useGeneratedKeys=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;map&#34;</span> <span style="color:#007f7f">keyProperty=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;selectKey</span> <span style="color:#007f7f">resultType=</span><span style="color:#0ff;font-weight:bold">&#34;int&#34;</span> <span style="color:#007f7f">order=</span><span style="color:#0ff;font-weight:bold">&#34;AFTER&#34;</span> <span style="color:#007f7f">keyProperty=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      SELECT LAST_INSERT_ID() as id
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/selectKey&gt;</span>
</span></span><span style="display:flex;"><span>    insert into ${tableName}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;columnList&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      ${i}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>    values
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;valueList&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      #{i}
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/insert&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后在程序中获取新增的主键
<code>doc.setField(&quot;dataId&quot;,paramMap.get(&quot;id&quot;));</code></p>
<h2 id="遇到的问题">遇到的问题<a hidden class="anchor" aria-hidden="true" href="#遇到的问题">#</a></h2>
<p>条件1：项目中引用了PageHelper
条件2：map为参数传入mybatis，map中有参数名<code>pageSize</code>。
如果同时触发了上边两个条件，那么即使你不在语句执行前加<code>PageHelper.startPage()</code>，它还会给你在语句后边拼一个limit。</p>
<h2 id="mybatis使用map返回值返回key为空的值">mybatis使用map返回值，返回key为空的值<a hidden class="anchor" aria-hidden="true" href="#mybatis使用map返回值返回key为空的值">#</a></h2>
<p><code>mybatis.configuration.call-setters-on-nulls=true</code></p>
<h2 id="mybatis返回map参数">mybatis返回map参数<a hidden class="anchor" aria-hidden="true" href="#mybatis返回map参数">#</a></h2>
<p>如果使用map作为mybatis方法的返回值，不要使用<code>Map&lt;String,String&gt;</code>类型，一定要使用<code>Map&lt;String,Object&gt;</code>。
因为mysql的数据，通过mybatis返回，也是有类型的，如果使用<code>Map&lt;String,String&gt;</code>泛型，如果类型不匹配，会报类型转换错误。
而且，即使使用<code>Map&lt;String,Object&gt;</code>泛型，也需要注意返回的数据类型，因为mybatis会按照一定规则返回数据类型。
这个问题上边说过，比如int类型的会转换成long类型的，那么比较理想的解决方法是：
<code>Integer type = Integer.parseInt(map.get(&quot;type&quot;).toString());</code></p>
<h2 id="实体类中有内部类">实体类中有内部类<a hidden class="anchor" aria-hidden="true" href="#实体类中有内部类">#</a></h2>
<p>因为涉及到一对一和一对多，而且是内部类，需要注意写法：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;ExplodeOrderMap&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;com.tubitu.model.apiDto.ExplodeOrderDto&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;id&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;INTEGER&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;order_no&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;orderNo&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;VARCHAR&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;consignee&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;consignee&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;VARCHAR&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;tel&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;tel&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;VARCHAR&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;address&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;address&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;VARCHAR&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;status&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;status&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;INTEGER&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;create_time&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;createTime&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;TIMESTAMP&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">&lt;!--一对一--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;association</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;wxGroup&#34;</span> <span style="color:#007f7f">javaType=</span><span style="color:#0ff;font-weight:bold">&#34;com.tubitu.model.apiDto.ExplodeOrderDto$WxGroup&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;groupId&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;groupId&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;INTEGER&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;group_name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;groupName&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#007f7f">&lt;!--一对一对一--&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;association</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;store&#34;</span> <span style="color:#007f7f">javaType=</span><span style="color:#0ff;font-weight:bold">&#34;com.tubitu.model.apiDto.ExplodeOrderDto$InnerStore&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;storeId&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;storeId&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;INTEGER&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;store_name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;storeName&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;contacts&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;contacts&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;mobile&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;mobile&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;/association&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/association&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#007f7f">&lt;!--一对多--&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;collection</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;detailList&#34;</span> <span style="color:#007f7f">ofType=</span><span style="color:#0ff;font-weight:bold">&#34;com.tubitu.model.apiDto.ExplodeOrderDto$DetailInnerDto&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;id</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;detailId&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;detailId&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;INTEGER&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;goods_name&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;goodsName&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;goods_img&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;goodsImg&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;goods_price&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;goodsPrice&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;goods_num&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;goodsNum&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/collection&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="xml中判断数字类型的问题">xml中判断数字类型的问题<a hidden class="anchor" aria-hidden="true" href="#xml中判断数字类型的问题">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 根据条件获取学生信息--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;select</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;listByConditions&#34;</span> <span style="color:#007f7f">parameterType=</span><span style="color:#0ff;font-weight:bold">&#34;studentQuery&#34;</span> <span style="color:#007f7f">resultMap=</span><span style="color:#0ff;font-weight:bold">&#34;BaseResultMap&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    select
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;include</span> <span style="color:#007f7f">refid=</span><span style="color:#0ff;font-weight:bold">&#34;Base_Column_List&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    from t_student
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;where&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;ids != null and ids.size() &gt; 0&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            AND id IN
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;foreach</span> <span style="color:#007f7f">collection=</span><span style="color:#0ff;font-weight:bold">&#34;ids&#34;</span> <span style="color:#007f7f">item=</span><span style="color:#0ff;font-weight:bold">&#34;item&#34;</span> <span style="color:#007f7f">open=</span><span style="color:#0ff;font-weight:bold">&#34;(&#34;</span> <span style="color:#007f7f">close=</span><span style="color:#0ff;font-weight:bold">&#34;)&#34;</span> <span style="color:#007f7f">separator=</span><span style="color:#0ff;font-weight:bold">&#34;,&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>                #{item}
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;/foreach&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;name != null and name != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            AND name LIKE CONCAT(&#39;%&#39;, #{name}, &#39;%&#39;)
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>        注意这里：判断了sex != &#39;&#39;
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;sex != null and sex != &#39;&#39;&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            AND sex = #{sex}
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;if</span> <span style="color:#007f7f">test=</span><span style="color:#0ff;font-weight:bold">&#34;selfcardNo != null&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            AND selfcard_no = #{selfcardNo}
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/if&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/where&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/select&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>因为判断了<code>sex != ''</code>，导致<code>sex=0</code>时，sex = 0 的条件没有出现在生成的 SQL 中。</p>
<p>结论：对于数值类型的参数，在配置 where 条件的时候要注意，不能把它当成字符串类型判断，数值型只需要判断 sex != null 就可以了。</p>
<h1 id="mybatis-generator">mybatis-Generator<a hidden class="anchor" aria-hidden="true" href="#mybatis-generator">#</a></h1>
<p>推荐使用maven-plugin的方式，直接把配置文件放到项目中。
将下面的配置文件放到合适的位置。分布式项目可以放到common模块下，<code>src-&gt;main-&gt;resources</code>，路径下新建<code>MGB</code>包，包内放下面的xml配置文件。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE generatorConfiguration
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">        &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;generatorConfiguration&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;context</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;test&#34;</span> <span style="color:#007f7f">targetRuntime=</span><span style="color:#0ff;font-weight:bold">&#34;MyBatis3&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;javaFileEncoding&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--generate entity时，生成hashcode和equals方法--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.plugins.EqualsHashCodePlugin&#34;</span><span style="font-weight:bold">&gt;&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- JavaBean 实现 序列化 接口 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.plugins.SerializablePlugin&#34;</span><span style="font-weight:bold">&gt;&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 生成toString --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.plugins.ToStringPlugin&#34;</span><span style="font-weight:bold">&gt;&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;commentGenerator&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- 这个元素用来去除指定生成的注释中是否包含生成的日期 false:表示保护 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- 如果生成日期，会造成即使修改一个字段，整个实体类所有属性都会发生变化，不利于版本控制，所以设置为true --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;suppressDate&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;suppressAllComments&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/commentGenerator&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--数据库链接URL，用户名、密码 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;jdbcConnection</span> <span style="color:#007f7f">driverClass=</span><span style="color:#0ff;font-weight:bold">&#34;com.mysql.jdbc.Driver&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#007f7f">connectionURL=</span><span style="color:#0ff;font-weight:bold">&#34;jdbc:mysql://localhost:3306/test?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;allowMultiQueries=true&amp;amp;autoReconnect=true&amp;amp;tinyInt1isBit=false&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#007f7f">userId=</span><span style="color:#0ff;font-weight:bold">&#34;root&#34;</span> <span style="color:#007f7f">password=</span><span style="color:#0ff;font-weight:bold">&#34;root&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;javaTypeResolver&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- This property is used to specify whether MyBatis Generator should
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                force the use of java.math.BigDecimal for DECIMAL and NUMERIC fields, --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">&lt;!-- 默认false，把JDBC DECIMAL 和 NUMERIC 类型解析为 Integer，为 true时把JDBC DECIMAL 和
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                NUMERIC 类型解析为java.math.BigDecimal --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;forceBigDecimals&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/javaTypeResolver&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--去掉Mybatis Generator生成的一堆 example
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		&lt;table schema=&#34;general&#34; tableName=&#34;tb_table_name&#34; domainObjectName=&#34;EntityName&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">			   enableCountByExample=&#34;false&#34; enableUpdateByExample=&#34;false&#34; enableDeleteByExample=&#34;false&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">			   enableSelectByExample=&#34;false&#34; selectByExampleQueryId=&#34;false&#34; &gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">			&lt;property name=&#34;useActualColumnNames&#34; value=&#34;true&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		&lt;/table&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 生成模型的包名和位置，注意这里使用相对路径，而且要使用左斜杠/ --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;javaModelGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com.zjx.model&#34;</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;trimStrings&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/javaModelGenerator&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 生成映射文件的包名和位置 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;sqlMapGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;mapper&#34;</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/resources/&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/sqlMapGenerator&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 生成DAO的包名和位置 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;javaClientGenerator</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;XMLMAPPER&#34;</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com.zjx.mapper&#34;</span>   
</span></span><span style="display:flex;"><span>                            <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/javaClientGenerator&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 要生成哪些表 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;table</span> <span style="color:#007f7f">tableName=</span><span style="color:#0ff;font-weight:bold">&#34;unit&#34;</span> <span style="color:#007f7f">domainObjectName=</span><span style="color:#0ff;font-weight:bold">&#34;unit&#34;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#007f7f">enableCountByExample=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span> <span style="color:#007f7f">enableUpdateByExample=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#007f7f">enableDeleteByExample=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span> <span style="color:#007f7f">enableSelectByExample=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#007f7f">selectByExampleQueryId=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">&gt;&lt;/table&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 有些表的字段需要指定java类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 &lt;table schema=&#34;&#34; tableName=&#34;&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">			&lt;columnOverride column=&#34;&#34; javaType=&#34;&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		&lt;/table&gt; --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/context&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/generatorConfiguration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后在模块的pom文件中加入如下plugin：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;groupId&gt;</span>org.mybatis.generator<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;artifactId&gt;</span>mybatis-generator-maven-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;version&gt;</span>1.3.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;groupId&gt;</span>mysql<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;artifactId&gt;</span>mysql-connector-java<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;version&gt;</span>5.1.38<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">&lt;!--配置文件的路径--&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;configurationFile&gt;</span>src/main/resources/MBG/generatorConfig.xml<span style="font-weight:bold">&lt;/configurationFile&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;overwrite&gt;</span>true<span style="font-weight:bold">&lt;/overwrite&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/build&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后刷新maven</p>
<p>问题：
mysql有字段是text类型，使用generator生成xml后，多生成一个sql片段：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;sql</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;Blob_Column_List&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    content
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/sql&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>同时resultMap也会有变化：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;resultMap</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;ResultMapWithBLOBs&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;com.zjx.model.Question&#34;</span> <span style="color:#007f7f">extends=</span><span style="color:#0ff;font-weight:bold">&#34;BaseResultMap&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;result</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;content&#34;</span> <span style="color:#007f7f">property=</span><span style="color:#0ff;font-weight:bold">&#34;content&#34;</span> <span style="color:#007f7f">jdbcType=</span><span style="color:#0ff;font-weight:bold">&#34;LONGVARCHAR&#34;</span> <span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/resultMap&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>jdbcType=&quot;LONGVARCHAR&quot;</code>
update语句也会多出一个<code>updateByPrimaryKeyWithBLOBs</code>方法。</p>
<p>可以在generator中通过加入下面的代码避免上面的情况：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;!-- 有些表的字段需要指定java类型
</span></span><span style="display:flex;"><span>&lt;table schema=&#34;&#34; tableName=&#34;&#34;&gt;
</span></span><span style="display:flex;"><span>	&lt;columnOverride column=&#34;content&#34; javaType=&#34;java.lang.String&#34; jdbcType=&#34;VARCHAR&#34;/&gt;
</span></span><span style="display:flex;"><span>&lt;/table&gt; --&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>但是，不建议这样修改，数据库字段设置成text，就是想多承载数据，生成的mapper数据类型是varchar 那么承装的数据量不就没有longvarchar高了。
如果这样的话还不如直接写个String 就不用text属性了，是不是这个理？</p>
<h2 id="完整的配置说明">完整的配置说明<a hidden class="anchor" aria-hidden="true" href="#完整的配置说明">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">188
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">189
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">190
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">191
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">192
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">193
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">194
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">195
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">196
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">197
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">198
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">199
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">200
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">201
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">202
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">203
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">204
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">205
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">206
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">207
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">208
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">209
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">210
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">211
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">212
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">213
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">214
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">215
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">216
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">217
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">218
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">219
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">220
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">221
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">222
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">223
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">224
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">225
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">226
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">227
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">228
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">229
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">230
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">231
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">232
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">233
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">234
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">235
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">236
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">237
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">238
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">239
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">240
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">241
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">242
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">243
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">244
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">245
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">246
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">247
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">248
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">249
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">250
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">251
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">252
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">253
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">254
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">255
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">256
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">257
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">258
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">259
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">260
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">261
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">262
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">263
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">264
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">265
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">266
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">267
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">268
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">269
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">270
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">271
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">272
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">273
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">274
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">275
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">276
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">277
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">278
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">279
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">280
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">281
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">282
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE generatorConfiguration
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">  PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 配置生成器 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;generatorConfiguration&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 可以用于加载配置项或者配置文件，在整个配置文件中就可以使用${propertyKey}的方式来引用配置项
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    resource：配置资源加载地址，使用resource，MBG从classpath开始找，比如com/myproject/generatorConfig.properties        
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    url：配置资源加载地质，使用URL的方式，比如file:///C:/myfolder/generatorConfig.properties.
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    注意，两个属性只能选址一个;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    另外，如果使用了mybatis-generator-maven-plugin，那么在pom.xml中定义的properties都可以直接在generatorConfig.xml中使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;properties resource=&#34;&#34; url=&#34;&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#007f7f">&lt;!-- 在MBG工作的时候，需要额外加载的依赖包
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     location属性指明加载jar/zip包的全路径
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;classPathEntry location=&#34;/Program Files/IBM/SQLLIB/java/db2java.zip&#34; /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">  --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    context:生成一组对象的环境 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    id:必选，上下文id，用于在生成错误时提示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    defaultModelType:指定生成对象的样式
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        1，conditional：类似hierarchical；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        2，flat：所有内容（主键，blob）等全部生成在一个对象中；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        3，hierarchical：主键生成一个XXKey对象(key class)，Blob等单独生成一个对象，其他简单属性在一个对象中(record class)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    targetRuntime:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        1，MyBatis3：默认的值，生成基于MyBatis3.x以上版本的内容，包括XXXBySample；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        2，MyBatis3Simple：类似MyBatis3，只是不生成XXXBySample；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    introspectedColumnImpl：类全限定名，用于扩展MBG
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">--&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;context</span> <span style="color:#007f7f">id=</span><span style="color:#0ff;font-weight:bold">&#34;mysql&#34;</span> <span style="color:#007f7f">defaultModelType=</span><span style="color:#0ff;font-weight:bold">&#34;hierarchical&#34;</span> <span style="color:#007f7f">targetRuntime=</span><span style="color:#0ff;font-weight:bold">&#34;MyBatis3Simple&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 自动识别数据库关键字，默认false，如果设置为true，根据SqlReservedWords中定义的关键字列表；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        一般保留默认值，遇到数据库关键字（Java关键字），使用columnOverride覆盖
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;autoDelimitKeywords&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 生成的Java文件的编码 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;javaFileEncoding&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 格式化java代码 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;javaFormatter&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.api.dom.DefaultJavaFormatter&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 格式化XML代码 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;xmlFormatter&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.api.dom.DefaultXmlFormatter&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- beginningDelimiter和endingDelimiter：指明数据库的用于标记数据库对象名的符号，比如ORACLE就是双引号，MYSQL默认是`反引号； --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;beginningDelimiter&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;`&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;endingDelimiter&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;`&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 必须要有的，使用这个配置链接数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        @TODO:是否可以扩展
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;jdbcConnection</span> <span style="color:#007f7f">driverClass=</span><span style="color:#0ff;font-weight:bold">&#34;com.mysql.jdbc.Driver&#34;</span> <span style="color:#007f7f">connectionURL=</span><span style="color:#0ff;font-weight:bold">&#34;jdbc:mysql:///pss&#34;</span> <span style="color:#007f7f">userId=</span><span style="color:#0ff;font-weight:bold">&#34;root&#34;</span> <span style="color:#007f7f">password=</span><span style="color:#0ff;font-weight:bold">&#34;admin&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 这里面可以设置property属性，每一个property属性都设置到配置的Driver上 --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/jdbcConnection&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- java类型处理器 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        用于处理DB中的类型到Java中的类型，默认使用JavaTypeResolverDefaultImpl；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        注意一点，默认会先尝试使用Integer，Long，Short等来对应DECIMAL和 NUMERIC数据类型； 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;javaTypeResolver</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;org.mybatis.generator.internal.types.JavaTypeResolverDefaultImpl&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            true：使用BigDecimal对应DECIMAL和 NUMERIC数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            false：默认,
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                scale&gt;0;length&gt;18：使用BigDecimal;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                scale=0;length[10,18]：使用Long；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                scale=0;length[5,9]：使用Integer；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                scale=0;length&lt;5：使用Short；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;forceBigDecimals&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/javaTypeResolver&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- java模型创建器，是必须要的元素
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        负责：1，key类（见context的defaultModelType）；2，java类；3，查询类
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        targetPackage：生成的类要放的包，真实的包受enableSubPackages属性控制；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        targetProject：目标项目，指定一个存在的目录下，生成的内容会放到指定目录中，如果目录不存在，MBG不会自动建目录
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;javaModelGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com._520it.mybatis.domain&#34;</span> <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!--  for MyBatis3/MyBatis3Simple
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            自动为每一个生成的类创建一个构造方法，构造方法包含了所有的field；而不是使用setter；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;constructorBased&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 在targetPackage的基础上，根据数据库的schema再生成一层package，最终生成的类放在这个package下，默认为false --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- for MyBatis3 / MyBatis3Simple
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            是否创建一个不可变的类，如果为true，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            那么MBG会创建一个没有setter方法的类，取而代之的是类似constructorBased的类
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;immutable&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 设置一个根对象，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            如果设置了这个根对象，那么生成的keyClass或者recordClass会继承这个类；在Table的rootClass属性中可以覆盖该选项
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            注意：如果在key class或者record class中有root class相同的属性，MBG就不会重新生成这些属性了，包括：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                1，属性名相同，类型相同，有相同的getter/setter方法；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;rootClass&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;com._520it.mybatis.domain.BaseDomain&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 设置是否在getter方法中，对String类型字段调用trim()方法 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;trimStrings&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/javaModelGenerator&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 生成SQL map的XML文件生成器，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        注意，在Mybatis3之后，我们可以使用mapper.xml文件+Mapper接口（或者不用mapper接口），
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            或者只使用Mapper接口+Annotation，所以，如果 javaClientGenerator配置中配置了需要生成XML的话，这个元素就必须配置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        targetPackage/targetProject:同javaModelGenerator
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;sqlMapGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com._520it.mybatis.mapper&#34;</span> <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/resources&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 在targetPackage的基础上，根据数据库的schema再生成一层package，最终生成的类放在这个package下，默认为false --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/sqlMapGenerator&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 对于mybatis来说，即生成Mapper接口，注意，如果没有配置该元素，那么默认不会生成Mapper接口 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        targetPackage/targetProject:同javaModelGenerator
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        type：选择怎么生成mapper接口（在MyBatis3/MyBatis3Simple下）：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            1，ANNOTATEDMAPPER：会生成使用Mapper接口+Annotation的方式创建（SQL生成在annotation中），不会生成对应的XML；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            2，MIXEDMAPPER：使用混合配置，会生成Mapper接口，并适当添加合适的Annotation，但是XML会生成在XML中；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            3，XMLMAPPER：会生成Mapper接口，接口完全依赖XML；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        注意，如果context是MyBatis3Simple：只支持ANNOTATEDMAPPER和XMLMAPPER
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">    --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;javaClientGenerator</span> <span style="color:#007f7f">targetPackage=</span><span style="color:#0ff;font-weight:bold">&#34;com._520it.mybatis.mapper&#34;</span> <span style="color:#007f7f">type=</span><span style="color:#0ff;font-weight:bold">&#34;ANNOTATEDMAPPER&#34;</span> <span style="color:#007f7f">targetProject=</span><span style="color:#0ff;font-weight:bold">&#34;src/main/java&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 在targetPackage的基础上，根据数据库的schema再生成一层package，最终生成的类放在这个package下，默认为false --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;enableSubPackages&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 可以为所有生成的接口添加一个父接口，但是MBG只负责生成，不负责检查
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;rootInterface&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/javaClientGenerator&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 选择一个table来生成相关文件，可以有一个或多个table，必须要有table元素
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        选择的table会生成一下文件：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        1，SQL map文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        2，生成一个主键类；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        3，除了BLOB和主键的其他字段的类；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        4，包含BLOB的类；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        5，一个用户生成动态查询的条件类（selectByExample, deleteByExample），可选；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        6，Mapper接口（可选）
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        tableName（必要）：要生成对象的表名；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        注意：大小写敏感问题。正常情况下，MBG会自动的去识别数据库标识符的大小写敏感度，在一般情况下，MBG会
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            根据设置的schema，catalog或tablename去查询数据表，按照下面的流程：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            1，如果schema，catalog或tablename中有空格，那么设置的是什么格式，就精确的使用指定的大小写格式去查询；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            2，否则，如果数据库的标识符使用大写的，那么MBG自动把表名变成大写再查找；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            3，否则，如果数据库的标识符使用小写的，那么MBG自动把表名变成小写再查找；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            4，否则，使用指定的大小写格式查询；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        另外的，如果在创建表的时候，使用的&#34;&#34;把数据库对象规定大小写，就算数据库标识符是使用的大写，在这种情况下也会使用给定的大小写来创建表名；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        这个时候，请设置delimitIdentifiers=&#34;true&#34;即可保留大小写格式；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        可选：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        1，schema：数据库的schema；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        2，catalog：数据库的catalog；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        3，alias：为数据表设置的别名，如果设置了alias，那么生成的所有的SELECT SQL语句中，列名会变成：alias_actualColumnName
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        4，domainObjectName：生成的domain类的名字，如果不设置，直接使用表名作为domain类的名字；可以设置为somepck.domainName，那么会自动把domainName类再放到somepck包里面；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        5，enableInsert（默认true）：指定是否生成insert语句；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        6，enableSelectByPrimaryKey（默认true）：指定是否生成按照主键查询对象的语句（就是getById或get）；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        7，enableSelectByExample（默认true）：MyBatis3Simple为false，指定是否生成动态查询语句；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        8，enableUpdateByPrimaryKey（默认true）：指定是否生成按照主键修改对象的语句（即update)；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        9，enableDeleteByPrimaryKey（默认true）：指定是否生成按照主键删除对象的语句（即delete）；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        10，enableDeleteByExample（默认true）：MyBatis3Simple为false，指定是否生成动态删除语句；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        11，enableCountByExample（默认true）：MyBatis3Simple为false，指定是否生成动态查询总条数语句（用于分页的总条数查询）；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        12，enableUpdateByExample（默认true）：MyBatis3Simple为false，指定是否生成动态修改语句（只修改对象中不为空的属性）；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        13，modelType：参考context元素的defaultModelType，相当于覆盖；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        14，delimitIdentifiers：参考tableName的解释，注意，默认的delimitIdentifiers是双引号，如果类似MYSQL这样的数据库，使用的是`（反引号，那么还需要设置context的beginningDelimiter和endingDelimiter属性）
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        15，delimitAllColumns：设置是否所有生成的SQL中的列名都使用标识符引起来。默认为false，delimitIdentifiers参考context的属性
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        注意，table里面很多参数都是对javaModelGenerator，context等元素的默认属性的一个复写；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;table</span> <span style="color:#007f7f">tableName=</span><span style="color:#0ff;font-weight:bold">&#34;userinfo&#34;</span> <span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 参考 javaModelGenerator 的 constructorBased属性--&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;constructorBased&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 默认为false，如果设置为true，在生成的SQL中，table名字不会加上catalog或schema； --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;ignoreQualifiersAtRuntime&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 参考 javaModelGenerator 的 immutable 属性 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;immutable&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 指定是否只生成domain类，如果设置为true，只生成domain类，如果还配置了sqlMapGenerator，那么在mapper XML文件中，只生成resultMap元素 --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;modelOnly&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 参考 javaModelGenerator 的 rootClass 属性 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;rootClass&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 参考javaClientGenerator 的  rootInterface 属性
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;rootInterface&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 如果设置了runtimeCatalog，那么在生成的SQL中，使用该指定的catalog，而不是table元素上的catalog 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;runtimeCatalog&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 如果设置了runtimeSchema，那么在生成的SQL中，使用该指定的schema，而不是table元素上的schema 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;runtimeSchema&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 如果设置了runtimeTableName，那么在生成的SQL中，使用该指定的tablename，而不是table元素上的tablename 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;property name=&#34;runtimeTableName&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 注意，该属性只针对MyBatis3Simple有用；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            如果选择的runtime是MyBatis3Simple，那么会生成一个SelectAll方法，如果指定了selectAllOrderByClause，那么会在该SQL中添加指定的这个order条件；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;selectAllOrderByClause&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;age desc,username asc&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 如果设置为true，生成的model类会直接使用column本身的名字，而不会再使用驼峰命名方法，比如BORN_DATE，生成的属性名字就是BORN_DATE,而不会是bornDate --&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;useActualColumnNames&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;false&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- generatedKey用于生成生成主键的方法，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            如果设置了该元素，MBG会在生成的&lt;insert&gt;元素中生成一条正确的&lt;selectKey&gt;元素，该元素可选
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            column:主键的列名；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            sqlStatement：要生成的selectKey语句，有以下可选项：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                Cloudscape:相当于selectKey的SQL为： VALUES IDENTITY_VAL_LOCAL()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                DB2       :相当于selectKey的SQL为： VALUES IDENTITY_VAL_LOCAL()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                DB2_MF    :相当于selectKey的SQL为：SELECT IDENTITY_VAL_LOCAL() FROM SYSIBM.SYSDUMMY1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                Derby      :相当于selectKey的SQL为：VALUES IDENTITY_VAL_LOCAL()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                HSQLDB      :相当于selectKey的SQL为：CALL IDENTITY()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                Informix  :相当于selectKey的SQL为：select dbinfo(&#39;sqlca.sqlerrd1&#39;) from systables where tabid=1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                MySql      :相当于selectKey的SQL为：SELECT LAST_INSERT_ID()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                SqlServer :相当于selectKey的SQL为：SELECT SCOPE_IDENTITY()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                SYBASE      :相当于selectKey的SQL为：SELECT @@IDENTITY
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                JDBC      :相当于在生成的insert元素上添加useGeneratedKeys=&#34;true&#34;和keyProperty属性
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;generatedKey column=&#34;&#34; sqlStatement=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">&lt;!-- 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            该元素会在根据表中列名计算对象属性名之前先重命名列名，非常适合用于表中的列都有公用的前缀字符串的时候，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            比如列名为：CUST_ID,CUST_NAME,CUST_EMAIL,CUST_ADDRESS等；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            那么就可以设置searchString为&#34;^CUST_&#34;，并使用空白替换，那么生成的Customer对象中的属性名称就不是
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            custId,custName等，而是先被替换为ID,NAME,EMAIL,然后变成属性：id，name，email；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            注意，MBG是使用java.util.regex.Matcher.replaceAll来替换searchString和replaceString的，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">            如果使用了columnOverride元素，该属性无效；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">        &lt;columnRenamingRule searchString=&#34;&#34; replaceString=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">&lt;!-- 用来修改表中某个列的属性，MBG会使用修改后的列来生成domain的属性；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             column:要重新设置的列名；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             注意，一个table元素中可以有多个columnOverride元素哈~
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">          --&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;columnOverride</span> <span style="color:#007f7f">column=</span><span style="color:#0ff;font-weight:bold">&#34;username&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">&lt;!-- 使用property属性来指定列要生成的属性名称 --&gt;</span>
</span></span><span style="display:flex;"><span>             <span style="font-weight:bold">&lt;property</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;property&#34;</span> <span style="color:#007f7f">value=</span><span style="color:#0ff;font-weight:bold">&#34;userName&#34;</span><span style="font-weight:bold">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">&lt;!-- javaType用于指定生成的domain的属性类型，使用类型的全限定名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             &lt;property name=&#34;javaType&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">              --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">&lt;!-- jdbcType用于指定该列的JDBC类型 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             &lt;property name=&#34;jdbcType&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">              --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">&lt;!-- typeHandler 用于指定该列使用到的TypeHandler，如果要指定，配置类型处理器的全限定名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                 注意，mybatis中，不会生成到mybatis-config.xml中的typeHandler
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">                 只会生成类似：where id = #{id,jdbcType=BIGINT,typeHandler=com._520it.mybatis.MyTypeHandler}的参数描述
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             &lt;property name=&#34;jdbcType&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             --&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>             <span style="color:#007f7f">&lt;!-- 参考table元素的delimitAllColumns配置，默认为false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             &lt;property name=&#34;delimitedColumnName&#34; value=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">              --&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="font-weight:bold">&lt;/columnOverride&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">&lt;!-- ignoreColumn设置一个MGB忽略的列，如果设置了改列，那么在生成的domain中，生成的SQL中，都不会有该列出现 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             column:指定要忽略的列的名字；
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             delimitedColumnName：参考table元素的delimitAllColumns配置，默认为false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">             注意，一个table元素中可以有多个ignoreColumn元素
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         &lt;ignoreColumn column=&#34;deptId&#34; delimitedColumnName=&#34;&#34;/&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         --&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/table&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/context&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/generatorConfiguration&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="一些问题">一些问题<a hidden class="anchor" aria-hidden="true" href="#一些问题">#</a></h1>
<h2 id="和的区别是什么">#{}和${}的区别是什么<a hidden class="anchor" aria-hidden="true" href="#和的区别是什么">#</a></h2>
<p><code>#{}</code>是预编译处理，<code>${}</code>是字符串替换。
mybatis在处理<code>#{}</code>时，会将sql中的<code>#{}</code>替换为?号，然后调用PreparedStatement的set方法来赋值。
mybatis在处理<code>${}</code>时，就是把<code>${}</code>替换成变量的值。
使用<code>#{}</code>可以有效的防止SQL注入，提高系统安全性。原因在于：预编译机制。预编译完成之后，SQL的结构已经固定，即便用户输入非法参数，也不会对SQL的结构产生影响，从而避免了潜在的安全风险。
简单来说，#会给传入的参数加上引号，$会被直接替换成传入的参数。</p>
<h2 id="最佳实践中通常一个xml映射文件都会写一个dao接口与之对应请问这个dao接口的工作原理是什么dao接口里的方法参数不同时方法能重载吗">最佳实践中，通常一个Xml映射文件，都会写一个Dao接口与之对应，请问，这个Dao接口的工作原理是什么？Dao接口里的方法，参数不同时，方法能重载吗？<a hidden class="anchor" aria-hidden="true" href="#最佳实践中通常一个xml映射文件都会写一个dao接口与之对应请问这个dao接口的工作原理是什么dao接口里的方法参数不同时方法能重载吗">#</a></h2>
<p>Dao接口，就是人们常说的Mapper接口，接口的全名，就是映射文件中的namespace的值，接口的方法名，就是映射文件中MappedStatement的id值，接口方法内的参数，就是传递给sql的参数。
Mapper接口是没有实现类的，当调用接口方法时，接口全限名+方法名拼接字符串作为key值，可唯一定位一个MappedStatement，
举例：com.mybatis3.mappers.StudentDao.findStudentById，可以唯一找到namespace为com.mybatis3.mappers.StudentDao下面id = findStudentById的MappedStatement。
在Mybatis中，每一个<code>&lt;select&gt;、&lt;insert&gt;、&lt;update&gt;、&lt;delete&gt;</code>标签，都会被解析为一个MappedStatement对象。
Dao接口里的方法，是不能重载的，因为是全限名+方法名的保存和寻找策略。
Dao接口的工作原理是JDK动态代理，Mybatis运行时会使用JDK动态代理为Dao接口生成代理proxy对象，代理对象proxy会拦截接口方法，转而执行MappedStatement所代表的sql，然后将sql执行结果返回。</p>
<h2 id="mybatis是如何将sql执行结果封装为目标对象并返回的都有哪些映射形式">Mybatis是如何将sql执行结果封装为目标对象并返回的？都有哪些映射形式？<a hidden class="anchor" aria-hidden="true" href="#mybatis是如何将sql执行结果封装为目标对象并返回的都有哪些映射形式">#</a></h2>
<p>第一种是使用<code>&lt;resultMap&gt;</code>标签，逐一定义列名和对象属性名之间的映射关系。
第二种是使用sql列的别名功能，将列别名书写为对象属性名，比如T_NAME AS NAME，对象属性名一般是name，小写，但是列名不区分大小写，Mybatis会忽略列名大小写，智能找到与之对应对象属性名，你甚至可以写成T_NAME AS NaMe，Mybatis一样可以正常工作。有了列名与属性名的映射关系后，Mybatis通过反射创建对象，同时使用反射给对象的属性逐一赋值并返回，那些找不到映射关系的属性，是无法完成赋值的。</p>
<h2 id="mybatis是否支持延迟加载如果支持它的实现原理是什么">Mybatis是否支持延迟加载？如果支持，它的实现原理是什么？<a hidden class="anchor" aria-hidden="true" href="#mybatis是否支持延迟加载如果支持它的实现原理是什么">#</a></h2>
<p>Mybatis仅支持association关联对象和collection关联集合对象的延迟加载，association指的就是一对一，collection指的就是一对多查询。
在Mybatis配置文件中，可以配置是否启用延迟加载lazyLoadingEnabled=true|false。
它的原理是，使用cglib创建目标对象的代理对象，当调用目标方法时，进入拦截器方法，比如调用a.getB().getName()，拦截器invoke()方法发现a.getB()是null值，那么就会单独发送事先保存好的查询关联B对象的sql，把B查询上来，然后调用a.setB(b)，于是a的对象b属性就有值了，接着完成a.getB().getName()方法的调用。这就是延迟加载的基本原理。
当然了，不光是Mybatis，几乎所有的包括Hibernate，支持延迟加载的原理都是一样的。</p>
<h2 id="mybatis的xml映射文件中不同的xml映射文件id是否可以重复">Mybatis的Xml映射文件中，不同的Xml映射文件，id是否可以重复？<a hidden class="anchor" aria-hidden="true" href="#mybatis的xml映射文件中不同的xml映射文件id是否可以重复">#</a></h2>
<p>不同的Xml映射文件，如果配置了namespace，那么id可以重复；如果没有配置namespace，那么id不能重复；毕竟namespace不是必须的，只是最佳实践而已。
原因就是namespace+id是作为Map&lt;String, MappedStatement&gt;的key使用的，如果没有namespace，就剩下id，那么，id重复会导致数据互相覆盖。
有了namespace，自然id就可以重复，namespace不同，namespace+id自然也就不同。</p>
<h2 id="mybatis都有哪些executor执行器它们之间的区别是什么">Mybatis都有哪些Executor执行器？它们之间的区别是什么？<a hidden class="anchor" aria-hidden="true" href="#mybatis都有哪些executor执行器它们之间的区别是什么">#</a></h2>
<p>Mybatis有三种基本的Executor执行器，SimpleExecutor、ReuseExecutor、BatchExecutor。
SimpleExecutor：每执行一次update或select，就开启一个Statement对象，用完立刻关闭Statement对象。
ReuseExecutor：执行update或select，以sql作为key查找Statement对象，存在就使用，不存在就创建，用完后，不关闭Statement对象，而是放置于Map&lt;String, Statement&gt;内，供下一次使用。简言之，就是重复使用Statement对象。
BatchExecutor：执行update（没有select，JDBC批处理不支持select），将所有sql都添加到批处理中（addBatch()），等待统一执行（executeBatch()），它缓存了多个Statement对象，每个Statement对象都是addBatch()完毕后，等待逐一执行executeBatch()批处理。与JDBC批处理相同。
作用范围：Executor的这些特点，都严格限制在SqlSession生命周期范围内。</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/%E5%85%B6%E4%BB%96/">其他</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>