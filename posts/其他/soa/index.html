<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>SOA | Wjy&#39;s Blog</title>
<meta name="keywords" content="其他">
<meta name="description" content="概述
maven&#43;dubbo&#43;zookeeper构建soa建构系统。
dubbo是目前国内最广泛的rpc框架，这是官网
本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://009965.xyz/posts/%E5%85%B6%E4%BB%96/soa/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://009965.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://009965.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://009965.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://009965.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://009965.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://009965.xyz/posts/%E5%85%B6%E4%BB%96/soa/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://009965.xyz/posts/%E5%85%B6%E4%BB%96/soa/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="SOA">
  <meta property="og:description" content="概述 maven&#43;dubbo&#43;zookeeper构建soa建构系统。
dubbo是目前国内最广泛的rpc框架，这是官网
本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2018-11-09T16:51:22+00:00">
    <meta property="article:modified_time" content="2018-11-09T16:51:22+00:00">
    <meta property="article:tag" content="其他">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SOA">
<meta name="twitter:description" content="概述
maven&#43;dubbo&#43;zookeeper构建soa建构系统。
dubbo是目前国内最广泛的rpc框架，这是官网
本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://009965.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "SOA",
      "item": "https://009965.xyz/posts/%E5%85%B6%E4%BB%96/soa/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SOA",
  "name": "SOA",
  "description": "概述 maven+dubbo+zookeeper构建soa建构系统。\ndubbo是目前国内最广泛的rpc框架，这是官网\n本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。\n",
  "keywords": [
    "其他"
  ],
  "articleBody": "概述 maven+dubbo+zookeeper构建soa建构系统。\ndubbo是目前国内最广泛的rpc框架，这是官网\n本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。\n准备工作 idea jdk_1.8 项目搭建 搭建父项目 File-\u003eNew-\u003eProject\n类型选择maven，然后勾选Create from archetype，选择maven-archetype-quickstart，生成一个普通的maven项目。\nGroupID：GroupID是项目组织唯一的标识符，实际对应JAVA的包的结构，是main目录里java的目录结构。一般这样填写：com.companyName\nArtifactID：是项目的唯一的标识符，实际对应项目的名称，就是项目根目录的名称。一般写为项目的具体名称，如：tomcat\nGroupId：com.wjy\nArtifactID：testDubbo\nidea已经集成了maven的环境，默认的jar包存放目录在\nC:\\Users\\wjy.m2\n如果有src目录，可以直接删除，因为我们搭建的是父项目，不需要存放源码。\n然后打开父项目的pom文件，新建packaging标签，内容为pom，表示父项目只提供pom依赖。\n搭建spring boot子模块 在父项目上右键\nNew-\u003emodule，选择spring initializer，点击next，\n在new module窗口上，Group需要与父项目的GroupId保持一致，artifact为项目名，即子模块的名字。\n子模块名字建议采用统一前缀，如项目名或项目名中的关键字。如：test_service_user\n并填写好name和packge(应该在填好artifact之后自动填好了，无需变更)，packaging根据需要可以填写jar、war等包类型，推荐使用jar包。全部填好后，点击next。\n然后无需勾选任何组件，因为我们的子模块是依赖父项目的，我们会将依赖配置在父项目的pom文件中。\n注意本页面右上角的spring boot的版本，目前最新版是2.1.0，这个版本后续可以在pom文件中修改。\n然后点击下一步，点击Finsh。\n自动生成的mvnw和mvnw.cmd：\nmvnw是一个maven wrapper script,它可以让你在没有安装maven或者maven版本不兼容的条件下运行maven命令\n原理:\n它会寻找maven在你电脑环境变量path中的路径 如果没有找到这个路径它就会自动下载maven到一个默认的路径下,之后你就可以运行maven命令了 有时你会碰到一些项目的peoject和你本地的maven不兼容,它会帮你下载合适的maven版本,然后运行 因为本机已经安装了maven，所以把这两个文件删掉即可。\n注意：\ncommon模块：存放实体类、dao接口、mapper文件；\nservice模块：存放service接口；\nutil模块：存放工具类；\n上面三个模块，只需要建成普通的maven模块就好，不需要spring initializer。\n即New-\u003emodule，选择Maven,勾选右侧的Create from archetype，选择maven-archetype-quickstart，artifactId填写子模块名称，然后一路next直到finsh。\n如果不小心建错了，需要将启动类和配置文件以及对应的文件夹，以及pom中的boot相关的jar包删除。\n父子关联 重复第二步，创建自己需要的各个模块，结构如下：\n在父项目的pom文件中增加modules标签，然后将module与子项目的artifactId一一关联。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 test_service_user test_service_api test_common test_util test_service test_service_business test_service_mall test_service_pay test_service_log test_service_monitor test_service_calculate test_service_task test_web_platform test_data_synchronous test_service_vouchers 然后，分别在子模块的pom文件中，与父项目关联。\n1 2 3 4 5 test_project test_project 1.0 原来的子模块pom文件依赖：\n1 2 3 4 5 6 org.springframework.boot spring-boot-starter-parent 2.1.3.RELEASE 现在还需要在父项目的pom文件中，加入如下代码：\n1 2 3 4 5 6 7 8 9 10 11 org.springframework.boot spring-boot-dependencies 2.1.3.RELEASE pom import 依赖统一管理(maven) 在父项目的pom文件中定义公共jar包或框架的统一版本，只定义而不引入，在子模块中引入。\n例如：\n在父项目的pom文件中配置统一属性：\nproperties标签下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 1.0 UTF-8 UTF-8 1.8 3.4.6 4.3.14.RELEASE 1.7.7 1.2.12 1.7.2 5.1.10 4.3.0 2.9.0 2.12.0 3.4.10 2.6.2 1.3.2 1.2.3 1.1.13 2.1.5.RELEASE 定义依赖：\ndependencyManagement标签下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 org.springframework.boot spring-boot-dependencies 2.1.3.RELEASE pom import org.mybatis.spring.boot mybatis-spring-boot-starter ${mybatis.starter.version} com.wjy test_util 1.0-SNAPSHOT org.slf4j slf4j-log4j12 log4j log4j org.slf4j slf4j-simple com.wjy test_interface 1.0-SNAPSHOT com.wjy test_common 1.0-SNAPSHOT org.aspectj aspectjweaver ${aspectj.version} mysql mysql-connector-java ${mysql-connector-java.version} runtime com.alibaba dubbo ${dubbo.version} org.apache.curator curator-framework ${curator.version} org.apache.zookeeper zookeeper ${zookeeper.version} org.slf4j slf4j-log4j12 log4j log4j com.alibaba druid-spring-boot-starter ${druid.starter.version} com.github.pagehelper pagehelper-spring-boot-starter ${pagehelper.starter.version} org.slf4j slf4j-api ${slf4j.version} org.slf4j slf4j-log4j12 ${slf4j.version} org.springframework.data spring-data-redis ${spring.data.version} 在子模块中，直接引入，无需定义版本。\ndependencies标签下\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 mysql mysql-connector-java javax.servlet javax.servlet-api org.mybatis.spring.boot mybatis-spring-boot-starter com.alibaba dubbo 除了父子模块之间的maven依赖，还需要注意各个子模块之间的依赖。例如：\napi(cunsumer)模块，因为需要注入service接口，即interface模块，所以需要在maven中引入interface才可以。\n1 2 3 4 com.wjy test_interface 项目结构 common common模块包结构如下：\nsrc-\u003emain-\u003ejava-\u003ecom-\u003ewjy\nwjy包下有：\nmapper包：放dao层借口(如：testMapper.java)\nmodel包：放实体类\nenum包：枚举类\nsrc-\u003emain-\u003eresourse\nresourse包下：\nmapper包：mybatis的xml文件\ninterface interface模块包结构如下：\nsrc-\u003emain-\u003ejava\u003ecom\u003ewjy\nwjy包下：\nservice包：service接口\ncomsumer(消费者) src-\u003emain-\u003ejava-\u003ecom-\u003ewjy\nwjy包下：\ncontroller包：存放控制器\nconfig包：存放配置类，包括dubbo配置类就在这\napplication.java：启动类\n如果没有包可以按照该结构创建，创建之后需要指定sources(源代码)包和resources(资源文件)\nFile -\u003e Project Structure -\u003e Modules -\u003eclick your module -\u003e Sources(Tab) -\u003e 选择你的resource folder，点Resources\nprovider(提供者) src-\u003emain-\u003ejava-\u003ecom-\u003ewjy\nwjy包下：\nservice-\u003eimpl包：service接口的实现类\nconfig包：存放配置类，包括dubbo配置类就在这\napplication.java：启动类\n配置文件 通过spring initializer创建的模块，会在resourse目录下生成一个application.properties文件，该文件是当前模块的配置文件。\n我们使用.yml的配置方式，所以直接将后缀改成.yml。\n注意：使用spring cloud的maven进行构造的项目，在把properties换成yml后，一定要进行mvn clean insatll\n下面是dubbo_consumer(消费者)的配置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 # 当前服务端口号 server: port: 9000 # Dubbo消费者配置 dubbo: # 当前应用信息 application: id: test_api name: test_api # 动态控制服务qos配置 qos: port: 22222 enable: true # 协议配置，用于配置提供服务的协议信息，协议由提供方指定，消费方被动接受。 protocol: id: dubbo name: dubbo port: 20880 # 消费方配置 consumer: version: 1.0.0 timeout: 60000 check: false # 注册中心配置 registry: address: zookeeper://127.0.0.1:2188 check: false #日志打印级别 logging: level: com: testDubbo: info #Redis配置 spring: redis: database: 0 host: 127.0.0.1 port: 6379 password: # 文件上传 multipart: maxFileSize: 10MB maxRequestSize: 50MB comsumer(消费者)需要的jar包:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 org.springframework.boot spring-boot-starter org.springframework.boot spring-boot-starter-web org.springframework.boot spring-boot-starter-data-redis com.alibaba dubbo org.apache.curator curator-framework org.apache.zookeeper zookeeper org.slf4j slf4j-log4j12 log4j log4j 提供者(provider)配置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 # 端口 server: port=9001 #dubbo生产者配置 dubbo: # 当前应用信息 application: id: test_service_user name: test_service_user # 动态控制服务qos配置 qos: port: 22224 enable: true # 协议配置，用于配置提供服务的协议信息，协议由提供方指定，消费方被动接受。 protocol: id: dubbo name: dubbo port: 20885 status: server # 注册中心配置 registry: address: zookeeper://127.0.0.1:2188 scan: basePackages: com.wjy.service provider: version: 1.0.0 # mybatis xml文件所在以及实体类别名 mybatis: mapper-locations: classpath:mapper/*.xml type-aliases-package: com.wjy.model configuration: map-underscore-to-camel-case: true log-impl: org.apache.ibatis.logging.stdout.StdOutImpl callSettersOnNulls: true # 日志打印级别 logging: level: com: wjy: info # 分页 pagehelper: helper-dialect: mysql reasonable: false support-methods-arguments: true params: count=countSql # 上传文件大小 multipart: maxFileSize: 10MB maxRequestSize: 50MB # 数据库 spring: datasource: driver-class-name: com.mysql.jdbc.Driver username: root password: root type: com.alibaba.druid.pool.DruidDataSource url: jdbc:mysql://120.27.22.226:3306/yuan_project?useUnicode=true\u0026characterEncoding=UTF-8\u0026zeroDateTimeBehavior=convertToNull\u0026useSSL=false\u0026allowMultiQueries=true 注意区分comsumer(消费者)和provider(提供者)的配置区别。\n提供者(provider)需要jar包:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 org.mybatis.spring.boot mybatis-spring-boot-starter org.springframework.boot spring-boot-starter-web com.alibaba druid-spring-boot-starter org.springframework.boot spring-boot-starter-data-redis javax.servlet javax.servlet-api javax.servlet javax.servlet-api org.aspectj aspectjweaver com.alibaba dubbo mysql mysql-connector-java com.alibaba dubbo org.apache.curator curator-framework org.apache.zookeeper zookeeper org.slf4j slf4j-log4j12 log4j log4j common、interface、util三个模块不需要配置文件。\ndubbo集成 使用方式请移步官网：http://dubbo.apache.org/zh-cn/index.html\ndubbo的配置方式有四种：xml配置文件、api配置、properties配置文件和annotation(注解)配置。下边只介绍注解配置方式。\n首先在父项目pom中引入dubbo。\nproperties\n2.6.2\ndependencyManagement-\u003edependencies\n1 2 3 4 5 com.alibaba dubbo ${dubbo.version} 然后在子项目中具体引入\n1 2 3 4 com.alibaba dubbo 注：一些模块如：common、service、util不需要引入dubbo\n使用apollo后，发现apollo无法读取dubbo的配置，所以需要在项目中加入如下配置文件。\n然后在启动的同级目录新建config-\u003edubbo目录，新建DubboConfig类，提供者(provider)和消费者(consumer)分别写入如下配置：\n提供者(provider)配置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 @Configuration public class DubboConfig { /** * @author: wjy * @description: dubbo.application配置 */ @Bean public ApplicationConfig applicationConfig() { ApplicationConfig applicationConfig = new ApplicationConfig(); applicationConfig.setId(\"provider_users\"); applicationConfig.setName(\"provider_users\"); applicationConfig.setQosEnable(false); applicationConfig.setQosPort(22222); return applicationConfig; } /** * @author: wjy * @description: dubbo.registry配置 */ @Bean public RegistryConfig registryConfig() { RegistryConfig registryConfig = new RegistryConfig(); registryConfig.setAddress(\"zookeeper://127.0.0.1:2181\"); registryConfig.setCheck(true); return registryConfig; } /** * @author: wjy * @description: dubbo.protocol配置 */ @Bean public ProtocolConfig protocolConfig() { ProtocolConfig protocolConfig = new ProtocolConfig(); protocolConfig.setId(\"dubbo\"); protocolConfig.setName(\"dubbo\"); protocolConfig.setPort(20881); return protocolConfig; } /** * @author: wjy * @description: dubbo.provider配置 */ @Bean public ProviderConfig providerConfig(){ ProviderConfig providerConfig = new ProviderConfig(); providerConfig.setVersion(\"1.0.0\"); return providerConfig; } } 同时修改启动类如下：\n1 2 3 4 5 6 7 8 9 10 @SpringBootApplication @EnableTransactionManagement @EnableAspectJAutoProxy @MapperScan(\"com.wjy.mapper\") @DubboComponentScan(\"com.wjy.service\") public class TestServiceUserApplication { public static void main(String[] args) { SpringApplication.run(TestServiceUserApplication.class, args); } } 消费者(consumer)配置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 @Configuration public class DubboConfig { /** * @author: wjy * @description: dubbo.application配置 */ @Bean public ApplicationConfig applicationConfig() { ApplicationConfig applicationConfig = new ApplicationConfig(); applicationConfig.setId(\"test_api\"); applicationConfig.setName(\"test_api\"); applicationConfig.setQosEnable(false); applicationConfig.setQosPort(22222); return applicationConfig; } /** * @author: wjy * @description: dubbo.registry配置 */ @Bean public RegistryConfig registryConfig() { RegistryConfig registryConfig = new RegistryConfig(); registryConfig.setAddress(\"zookeeper://127.0.0.1:2181\"); registryConfig.setCheck(true); return registryConfig; } /** * @author: wjy * @description: dubbo.protocol配置 */ @Bean public ProtocolConfig protocolConfig() { ProtocolConfig protocolConfig = new ProtocolConfig(); protocolConfig.setId(\"dubbo\"); protocolConfig.setName(\"dubbo\"); protocolConfig.setPort(20880); return protocolConfig; } /** * @author: wjy * @description: dubbo.consumer配置 */ @Bean public ConsumerConfig consumerConfig() { ConsumerConfig consumerConfig = new ConsumerConfig(); consumerConfig.setTimeout(3000); consumerConfig.setCheck(true); consumerConfig.setVersion(\"1.0.0\"); return consumerConfig; } } 同时修改启动类：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 @SpringBootApplication public class TestApiApplication { /** * @author: wjy * @description: 跨域配置 */ @Bean public CorsFilter corsFilter(){ UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource(); CorsConfiguration configuration = new CorsConfiguration(); configuration.addAllowedOrigin(\"*\"); configuration.addAllowedMethod(\"*\"); configuration.addAllowedHeader(\"*\"); source.registerCorsConfiguration(\"/**\",configuration); return new CorsFilter(source); } /** * @author: wjy * @description: 设置上传文件的大小 */ @Bean public MultipartConfigElement multipartConfigElement( @Value(\"${multipart.maxFileSize}\") String maxFileSize, @Value(\"${multipart.maxRequestSize}\") String maxRequestSize) { MultipartConfigFactory factory = new MultipartConfigFactory(); // 单个文件最大 factory.setMaxFileSize(maxFileSize); // 设置总上传数据总大小 factory.setMaxRequestSize(maxRequestSize); return factory.createMultipartConfig(); } /** * redis配置 */ @Bean(name = \"redisTemplate\") public RedisTemplate getRedisTemplate(RedisConnectionFactory redisConnectionFactory){ RedisTemplate redisTemplate = new RedisTemplate(); redisTemplate.setConnectionFactory(redisConnectionFactory); redisTemplate.setKeySerializer(new StringRedisSerializer()); redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer()); return redisTemplate; } public static void main(String[] args) { SpringApplication.run(TestApiApplication.class, args); } } 测试 1.在interface模块创建TestService接口。\n1 2 3 public interface TestService { String testFunction(); } 2.在provider_user中创建接口的实现类：\n1 2 3 4 5 6 7 @Service(version = \"1.0.0\") public class TestServiceImpl implements TestService { @Override public String testFunction() { return \"hello dubbo\"; } } 3.在cunsumer_api中创建controller，注入service接口\n1 2 3 4 5 6 7 8 9 10 11 12 @RequestMapping(\"/test\") @Controller public class TestController { @Reference(version = \"1.0.0\",timeout = 60000) private TestService testService; @ResponseBody @RequestMapping(\"/getStr\") public String test(){ return testService.testFunction(); } } 4.打开postMan，直接get请求我们的接口：\nlocalhost:9000/test/getStr\n发现返回了实现类中写的字符串，说明成功。\ncloud集成 首先在父项目pom中引入cloud，\n1.properties标签下指定版本号，截至2019/2/19，版本号为：Greenwich.RELEASE\nGreenwich.RELEASE\n1 2 3 4 5 6 7 8 9 2.dependencyManagement-\u003edependencies标签下，定义cloud依赖 org.springframework.cloud spring-cloud-dependencies ${spring-cloud.version} pom import 3.然后在子模块中具体引入cloud\n1 2 3 4 org.springframework.cloud spring-cloud-starter 4.服务注册发现中心，我们使用的是consul，由于eureka2.x之后官方说明已经不再开源，所以我不想用。\n直接在需要注册服务的子模块中引入consul：\n1 2 3 4 5 6 7 8 9 10 11 12 org.springframework.cloud spring-cloud-starter-consul-discovery org.springframework.boot spring-boot-starter-actuator compile 5.修改启动器类，添加 @EnableDiscoveryClient 注解，开启服务发现支持\n@EnableDiscoveryClient\n6.编写配置文件\nspring boot生成的是application.properties，这里我们将后缀改为.yml，这种风格更加有层次。\n配置如下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 server: port: 8510 #当前服务的端口号 spring: application: name: yuan_service_api cloud: consul: host: localhost port: 8500 #Consul监听端口8500 enabled: true discovery: register: true #配置服务注册到Consul上 health-check-path: /actuator/health #配置服务健康检测地址 供Consul 调用 health-check-interval: 15s # consul 健康检测频率 enabled: true instance-id: ${spring.application.name}:${server.port} #配置注册到consul 服务的id #指注册到 Consul 的服务名称，后期客户端会根据这个名称来进行服务调用，为确保Consul实例ID的唯一性，采用如下方式 serviceName: ${spring.application.name}:${vcap.application.instance_id:${spring.application.instance_id:${random.value}}} 需要注意：\n.冒号后边必须跟一个空格，不是tab\n.注意缩进，稍有不慎就会报错\n7.官网下载consul客户端\nhttps://www.consul.io/downloads.html\n下载好解压到理想的位置(只有一个.exe文件)，然后设置环境变量，在系统变量的path下添加解压好consul的位置\n8.启动consul\n需要cmd启动，直接双击.exe都是闪退的。\n启动指令：\nconsul agent -dev\n结束指令：\nconsul leave\n这些指令在linux,mac上同样有效\n为了方便，我们在存放consul的根目录新建一个bat脚本，脚本内容如下：\n1 2 consul agent -dev pause 然后将脚本快捷方式发送到桌面，这样就省了每次都去cmd启动consul了。\n控制台会提示：\n1 2 Starting Consul agent... Consul agent running! 这样就是启动成功了。然后浏览器访问localhost:8500，8500为consul的默认端口，就可以看到consul的控制面板了。\n注：consul服务会占用8502接口，所以不要用8501、8502端口。\n9.启动配置好的子模块的启动类。\n如果启动成功，刷新consul的控制台，就可以看到我们的服务已经注册到consul上了。\n10.测试\n在提供者的模块中新建 HelloController，提供 hello 接口， 返回 hello consul 字符串。\n1 2 3 4 5 6 7 @RestController public class HelloController { @RequestMapping(\"/hello\") public String hello() { return \"hello consul.\"; } } 服务注册发现中心有了，服务提供者也有了，现在我们来开发服务消费者。\n11.Consul 消费者\n事务配置 启用事务需要使用cglib的方式实现aop代理：\nspring.aop.proxy-target-class=true\n在启动类加入下面两个注解：\n1 2 @EnableTransactionManagement @EnableAspectJAutoProxy 在实现类上加上注解：\n@Transactional(rollbackFor = Exception.class)\n打包配置 对于tubitu_common、tubitu_util和tubitu_service这几个项目，第一个和第二个分别为实体类以及工具类所在项目，而tubitu_service是作为dubbo提供父和调用方的一个公共接口。这三个项目均可以打成单独的jar包作为其他项目依赖而存在，所以可以指定maven编译插件和源码版本。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 org.apache.maven.plugins maven-compiler-plugin 3.5.1 1.8 1.8 UTF-8 但是对于spring boot项目，由于父项目不再是spring boot的官方父pom，因此需要再上述的基础上，配置repackage\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 org.springframework.boot spring-boot-maven-plugin repackage maven-compiler-plugin 1.8 1.8 UTF-8 ",
  "wordCount" : "6706",
  "inLanguage": "en",
  "datePublished": "2018-11-09T16:51:22Z",
  "dateModified": "2018-11-09T16:51:22Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://009965.xyz/posts/%E5%85%B6%E4%BB%96/soa/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://009965.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      SOA
    </h1>
    <div class="post-meta"><span title='2018-11-09 16:51:22 +0000 UTC'>2018-11-09</span>&nbsp;·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%a6%82%e8%bf%b0" aria-label="概述">概述</a></li>
                <li>
                    <a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" aria-label="准备工作">准备工作</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e6%90%ad%e5%bb%ba" aria-label="项目搭建">项目搭建</a><ul>
                        
                <li>
                    <a href="#%e6%90%ad%e5%bb%ba%e7%88%b6%e9%a1%b9%e7%9b%ae" aria-label="搭建父项目">搭建父项目</a></li>
                <li>
                    <a href="#%e6%90%ad%e5%bb%baspring-boot%e5%ad%90%e6%a8%a1%e5%9d%97" aria-label="搭建spring boot子模块">搭建spring boot子模块</a></li>
                <li>
                    <a href="#%e7%88%b6%e5%ad%90%e5%85%b3%e8%81%94" aria-label="父子关联">父子关联</a></li>
                <li>
                    <a href="#%e4%be%9d%e8%b5%96%e7%bb%9f%e4%b8%80%e7%ae%a1%e7%90%86maven" aria-label="依赖统一管理(maven)">依赖统一管理(maven)</a></li>
                <li>
                    <a href="#%e9%a1%b9%e7%9b%ae%e7%bb%93%e6%9e%84" aria-label="项目结构">项目结构</a><ul>
                        
                <li>
                    <a href="#common" aria-label="common">common</a></li>
                <li>
                    <a href="#interface" aria-label="interface">interface</a></li>
                <li>
                    <a href="#comsumer%e6%b6%88%e8%b4%b9%e8%80%85" aria-label="comsumer(消费者)">comsumer(消费者)</a></li>
                <li>
                    <a href="#provider%e6%8f%90%e4%be%9b%e8%80%85" aria-label="provider(提供者)">provider(提供者)</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="配置文件">配置文件</a></li>
                <li>
                    <a href="#dubbo%e9%9b%86%e6%88%90" aria-label="dubbo集成">dubbo集成</a><ul>
                        
                <li>
                    <a href="#%e6%b5%8b%e8%af%95" aria-label="测试">测试</a></li></ul>
                </li>
                <li>
                    <a href="#cloud%e9%9b%86%e6%88%90" aria-label="cloud集成">cloud集成</a></li>
                <li>
                    <a href="#%e4%ba%8b%e5%8a%a1%e9%85%8d%e7%bd%ae" aria-label="事务配置">事务配置</a></li>
                <li>
                    <a href="#%e6%89%93%e5%8c%85%e9%85%8d%e7%bd%ae" aria-label="打包配置">打包配置</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="概述">概述<a hidden class="anchor" aria-hidden="true" href="#概述">#</a></h1>
<p>maven+dubbo+zookeeper构建soa建构系统。<br>
dubbo是目前国内最广泛的rpc框架，<a href="http://dubbo.apache.org/zh-cn/index.html">这是官网</a><br>
本文只阐述框架的搭建过程，原理和区别对比(dubbo/cloud)会在另一篇文章中说明。</p>
<h1 id="准备工作">准备工作<a hidden class="anchor" aria-hidden="true" href="#准备工作">#</a></h1>
<ul>
<li>idea</li>
<li>jdk_1.8</li>
</ul>
<h1 id="项目搭建">项目搭建<a hidden class="anchor" aria-hidden="true" href="#项目搭建">#</a></h1>
<h2 id="搭建父项目">搭建父项目<a hidden class="anchor" aria-hidden="true" href="#搭建父项目">#</a></h2>
<p>File-&gt;New-&gt;Project<br>
类型选择maven，然后勾选Create from archetype，选择maven-archetype-quickstart，生成一个普通的maven项目。</p>
<p>GroupID：GroupID是项目组织唯一的标识符，实际对应JAVA的包的结构，是main目录里java的目录结构。一般这样填写：com.companyName<br>
ArtifactID：是项目的唯一的标识符，实际对应项目的名称，就是项目根目录的名称。一般写为项目的具体名称，如：tomcat</p>
<p>GroupId：com.wjy<br>
ArtifactID：testDubbo<br>
<img loading="lazy" src="/posts/%E5%85%B6%E4%BB%96/soa/1.png"><br>
idea已经集成了maven的环境，默认的jar包存放目录在<br>
C:\Users\wjy.m2</p>
<p>如果有src目录，可以直接删除，因为我们搭建的是父项目，不需要存放源码。<br>
然后打开父项目的pom文件，新建packaging标签，内容为pom，表示父项目只提供pom依赖。</p>
<h2 id="搭建spring-boot子模块">搭建spring boot子模块<a hidden class="anchor" aria-hidden="true" href="#搭建spring-boot子模块">#</a></h2>
<p>在父项目上右键<br>
New-&gt;module，选择spring initializer，点击next，<br>
在new module窗口上，Group需要与父项目的GroupId保持一致，artifact为项目名，即子模块的名字。</p>
<p>子模块名字建议采用统一前缀，如项目名或项目名中的关键字。如：test_service_user<br>
并填写好name和packge(应该在填好artifact之后自动填好了，无需变更)，packaging根据需要可以填写jar、war等包类型，推荐使用jar包。全部填好后，点击next。</p>
<p>然后无需勾选任何组件，因为我们的子模块是依赖父项目的，我们会将依赖配置在父项目的pom文件中。<br>
注意本页面右上角的spring boot的版本，目前最新版是2.1.0，这个版本后续可以在pom文件中修改。<br>
然后点击下一步，点击Finsh。</p>
<p>自动生成的mvnw和mvnw.cmd：<br>
mvnw是一个maven wrapper script,它可以让你在没有安装maven或者maven版本不兼容的条件下运行maven命令<br>
原理:</p>
<ul>
<li>它会寻找maven在你电脑环境变量path中的路径</li>
<li>如果没有找到这个路径它就会自动下载maven到一个默认的路径下,之后你就可以运行maven命令了</li>
<li>有时你会碰到一些项目的peoject和你本地的maven不兼容,它会帮你下载合适的maven版本,然后运行</li>
</ul>
<p>因为本机已经安装了maven，所以把这两个文件删掉即可。</p>
<p>注意：<br>
common模块：存放实体类、dao接口、mapper文件；<br>
service模块：存放service接口；<br>
util模块：存放工具类；<br>
上面三个模块，只需要建成普通的maven模块就好，不需要spring initializer。<br>
即New-&gt;module，选择Maven,勾选右侧的Create from archetype，选择maven-archetype-quickstart，artifactId填写子模块名称，然后一路next直到finsh。<br>
如果不小心建错了，需要将启动类和配置文件以及对应的文件夹，以及pom中的boot相关的jar包删除。</p>
<h2 id="父子关联">父子关联<a hidden class="anchor" aria-hidden="true" href="#父子关联">#</a></h2>
<p>重复第二步，创建自己需要的各个模块，结构如下：<br>
<img loading="lazy" src="/posts/%E5%85%B6%E4%BB%96/soa/2.png"></p>
<p>在父项目的pom文件中增加modules标签，然后将module与子项目的artifactId一一关联。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;modules&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_user&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_api&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_common&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_util&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_business&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_mall&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_pay&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_log&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_monitor&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_calculate&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_task&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_web_platform&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_data_synchronous&lt;/module&gt;
</span></span><span style="display:flex;"><span>	&lt;module&gt;test_service_vouchers&lt;/module&gt;
</span></span><span style="display:flex;"><span>&lt;/modules&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后，分别在子模块的pom文件中，与父项目关联。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;parent&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;test_project&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;test_project&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;1.0&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/parent&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>原来的子模块pom文件依赖：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;parent&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;
</span></span><span style="display:flex;"><span>	&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
</span></span><span style="display:flex;"><span>&lt;/parent&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>现在还需要在父项目的pom文件中，加入如下代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependencyManagement&gt;
</span></span><span style="display:flex;"><span>	&lt;dependencies&gt;
</span></span><span style="display:flex;"><span>	  &lt;dependency&gt;
</span></span><span style="display:flex;"><span>		&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>		&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>		&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;type&gt;pom&lt;/type&gt;
</span></span><span style="display:flex;"><span>		&lt;scope&gt;import&lt;/scope&gt;
</span></span><span style="display:flex;"><span>	  &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;/dependencies&gt;
</span></span><span style="display:flex;"><span>&lt;/dependencyManagement&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="依赖统一管理maven">依赖统一管理(maven)<a hidden class="anchor" aria-hidden="true" href="#依赖统一管理maven">#</a></h2>
<p>在父项目的pom文件中定义公共jar包或框架的统一版本，只定义而不引入，在子模块中引入。<br>
例如：<br>
在父项目的pom文件中配置统一属性：<br>
properties标签下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;properties&gt;
</span></span><span style="display:flex;"><span>	&lt;test.version&gt;1.0&lt;/test.version&gt;
</span></span><span style="display:flex;"><span>	&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
</span></span><span style="display:flex;"><span>	&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;
</span></span><span style="display:flex;"><span>	&lt;java.version&gt;1.8&lt;/java.version&gt;
</span></span><span style="display:flex;"><span>	&lt;mybatis.version&gt;3.4.6&lt;/mybatis.version&gt;
</span></span><span style="display:flex;"><span>	&lt;spring.version&gt;4.3.14.RELEASE&lt;/spring.version&gt;
</span></span><span style="display:flex;"><span>	&lt;!--项目基本依赖--&gt;
</span></span><span style="display:flex;"><span>	&lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt;
</span></span><span style="display:flex;"><span>	&lt;log4j.version&gt;1.2.12&lt;/log4j.version&gt;
</span></span><span style="display:flex;"><span>	&lt;aspectj.version&gt;1.7.2&lt;/aspectj.version&gt;
</span></span><span style="display:flex;"><span>	&lt;mysql-connector-java.version&gt;5.1.10&lt;/mysql-connector-java.version&gt;
</span></span><span style="display:flex;"><span>	&lt;rocketmq.version&gt;4.3.0&lt;/rocketmq.version&gt;
</span></span><span style="display:flex;"><span>	&lt;fasterxml.jackson.version&gt;2.9.0&lt;/fasterxml.jackson.version&gt;
</span></span><span style="display:flex;"><span>	&lt;!--&lt;javax.servlet.version&gt;3.1.0&lt;/javax.servlet.version&gt;--&gt;
</span></span><span style="display:flex;"><span>	&lt;!--分布式配置中心--&gt;
</span></span><span style="display:flex;"><span>	&lt;!--&lt;apollo.client.version&gt;1.0.0&lt;/apollo.client.version&gt;--&gt;
</span></span><span style="display:flex;"><span>	&lt;!--dubbo依赖--&gt;
</span></span><span style="display:flex;"><span>	&lt;curator.version&gt;2.12.0&lt;/curator.version&gt;
</span></span><span style="display:flex;"><span>	&lt;zookeeper.version&gt;3.4.10&lt;/zookeeper.version&gt;
</span></span><span style="display:flex;"><span>	&lt;dubbo.version&gt;2.6.2&lt;/dubbo.version&gt;
</span></span><span style="display:flex;"><span>	&lt;!--spring boot所需依赖--&gt;
</span></span><span style="display:flex;"><span>	&lt;mybatis.starter.version&gt;1.3.2&lt;/mybatis.starter.version&gt;
</span></span><span style="display:flex;"><span>	&lt;pagehelper.starter.version&gt;1.2.3&lt;/pagehelper.starter.version&gt;
</span></span><span style="display:flex;"><span>	&lt;druid.starter.version&gt;1.1.13&lt;/druid.starter.version&gt;
</span></span><span style="display:flex;"><span>	&lt;spring.data.version&gt;2.1.5.RELEASE&lt;/spring.data.version&gt;
</span></span><span style="display:flex;"><span>&lt;/properties&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>定义依赖：<br>
dependencyManagement标签下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependencyManagement&gt;
</span></span><span style="display:flex;"><span>	&lt;!--定义全局公用的一些依赖，此处只定义依赖而不引入--&gt;
</span></span><span style="display:flex;"><span>	&lt;dependencies&gt;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>		&lt;!-- boot版本 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;2.1.3.RELEASE&lt;/version&gt;
</span></span><span style="display:flex;"><span>			&lt;type&gt;pom&lt;/type&gt;
</span></span><span style="display:flex;"><span>			&lt;scope&gt;import&lt;/scope&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- boot整合mybatis(无需配置文件，全部注解) --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${mybatis.starter.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- 日志 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.wjy&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;test_util&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
</span></span><span style="display:flex;"><span>			&lt;exclusions&gt;
</span></span><span style="display:flex;"><span>				&lt;exclusion&gt;
</span></span><span style="display:flex;"><span>					&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>					&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>				&lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>				&lt;exclusion&gt;
</span></span><span style="display:flex;"><span>					&lt;groupId&gt;log4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>					&lt;artifactId&gt;log4j&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>				&lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>				&lt;exclusion&gt;
</span></span><span style="display:flex;"><span>					&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>					&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>				&lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>			&lt;/exclusions&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- interface子模块依赖 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.wjy&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;test_interface&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- common子模块依赖 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.wjy&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;test_common&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- AOP实现 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.aspectj&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${aspectj.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- JDBC驱动 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;mysql&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${mysql-connector-java.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>			&lt;scope&gt;runtime&lt;/scope&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- dubbo --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${dubbo.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- 对zookeeper的底层api的一些封装 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;curator-framework&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${curator.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- zookeeper --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${zookeeper.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>			&lt;exclusions&gt;
</span></span><span style="display:flex;"><span>				&lt;exclusion&gt;
</span></span><span style="display:flex;"><span>					&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>					&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>				&lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>				&lt;exclusion&gt;
</span></span><span style="display:flex;"><span>					&lt;groupId&gt;log4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>					&lt;artifactId&gt;log4j&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>				&lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>			&lt;/exclusions&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- Druid连接池 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${druid.starter.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>		
</span></span><span style="display:flex;"><span>		&lt;!-- servlet --&gt;
</span></span><span style="display:flex;"><span>		&lt;!--&lt;dependency&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;groupId&gt;javax.servlet&lt;/groupId&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;version&gt;${javax.servlet.version}&lt;/version&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;scope&gt;compile&lt;/scope&gt;--&gt;
</span></span><span style="display:flex;"><span>		&lt;!--&lt;/dependency&gt;--&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- boot整合pagehelper --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${pagehelper.starter.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- 日志接入的接口 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${slf4j.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- 链接slf4j-api和log4j中间的适配器 --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${slf4j.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- spring整合redis --&gt;
</span></span><span style="display:flex;"><span>		&lt;dependency&gt;
</span></span><span style="display:flex;"><span>			&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>			&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>			&lt;version&gt;${spring.data.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>		&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		&lt;!-- apollo配置中心 --&gt;
</span></span><span style="display:flex;"><span>		&lt;!--&lt;dependency&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;groupId&gt;com.ctrip.framework.apollo&lt;/groupId&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;artifactId&gt;apollo-client&lt;/artifactId&gt;--&gt;
</span></span><span style="display:flex;"><span>			&lt;!--&lt;version&gt;${apollo.client.version}&lt;/version&gt;--&gt;
</span></span><span style="display:flex;"><span>		&lt;!--&lt;/dependency&gt;--&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	&lt;/dependencies&gt;
</span></span><span style="display:flex;"><span>&lt;/dependencyManagement&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>在子模块中，直接引入，无需定义版本。<br>
dependencies标签下</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependencies&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        &lt;dependency&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;mysql&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        &lt;dependency&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        &lt;dependency&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        &lt;dependency&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;/dependencies&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>除了父子模块之间的maven依赖，还需要注意各个子模块之间的依赖。例如：<br>
api(cunsumer)模块，因为需要注入service接口，即interface模块，所以需要在maven中引入interface才可以。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>    &lt;groupId&gt;com.wjy&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>    &lt;artifactId&gt;test_interface&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="项目结构">项目结构<a hidden class="anchor" aria-hidden="true" href="#项目结构">#</a></h2>
<h3 id="common">common<a hidden class="anchor" aria-hidden="true" href="#common">#</a></h3>
<p>common模块包结构如下：<br>
<code>src-&gt;main-&gt;java-&gt;com-&gt;wjy</code></p>
<p>wjy包下有：<br>
mapper包：放dao层借口(如：testMapper.java)<br>
model包：放实体类<br>
enum包：枚举类</p>
<p><code>src-&gt;main-&gt;resourse</code><br>
resourse包下：<br>
mapper包：mybatis的xml文件</p>
<h3 id="interface">interface<a hidden class="anchor" aria-hidden="true" href="#interface">#</a></h3>
<p>interface模块包结构如下：<br>
<code>src-&gt;main-&gt;java&gt;com&gt;wjy</code></p>
<p>wjy包下：<br>
service包：service接口</p>
<h3 id="comsumer消费者">comsumer(消费者)<a hidden class="anchor" aria-hidden="true" href="#comsumer消费者">#</a></h3>
<p><code>src-&gt;main-&gt;java-&gt;com-&gt;wjy</code></p>
<p>wjy包下：<br>
controller包：存放控制器<br>
config包：存放配置类，包括dubbo配置类就在这<br>
application.java：启动类</p>
<p>如果没有包可以按照该结构创建，创建之后需要指定sources(源代码)包和resources(资源文件)<br>
File -&gt; Project Structure -&gt; Modules -&gt;click your module -&gt; Sources(Tab) -&gt; 选择你的resource folder，点Resources</p>
<h3 id="provider提供者">provider(提供者)<a hidden class="anchor" aria-hidden="true" href="#provider提供者">#</a></h3>
<p><code>src-&gt;main-&gt;java-&gt;com-&gt;wjy</code></p>
<p>wjy包下：<br>
service-&gt;impl包：service接口的实现类<br>
config包：存放配置类，包括dubbo配置类就在这<br>
application.java：启动类</p>
<h2 id="配置文件">配置文件<a hidden class="anchor" aria-hidden="true" href="#配置文件">#</a></h2>
<p>通过spring initializer创建的模块，会在resourse目录下生成一个application.properties文件，该文件是当前模块的配置文件。<br>
我们使用.yml的配置方式，所以直接将后缀改成.yml。<br>
注意：使用spring cloud的maven进行构造的项目，在把properties换成yml后，一定要进行mvn clean insatll</p>
<p>下面是dubbo_consumer(消费者)的配置：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 当前服务端口号
</span></span><span style="display:flex;"><span>server:
</span></span><span style="display:flex;"><span>  port: 9000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Dubbo消费者配置
</span></span><span style="display:flex;"><span>dubbo:
</span></span><span style="display:flex;"><span>  # 当前应用信息
</span></span><span style="display:flex;"><span>  application:
</span></span><span style="display:flex;"><span>    id: test_api
</span></span><span style="display:flex;"><span>    name: test_api
</span></span><span style="display:flex;"><span>    # 动态控制服务qos配置
</span></span><span style="display:flex;"><span>    qos:
</span></span><span style="display:flex;"><span>      port: 22222
</span></span><span style="display:flex;"><span>      enable: true
</span></span><span style="display:flex;"><span>  # 协议配置，用于配置提供服务的协议信息，协议由提供方指定，消费方被动接受。
</span></span><span style="display:flex;"><span>  protocol:
</span></span><span style="display:flex;"><span>    id: dubbo
</span></span><span style="display:flex;"><span>    name: dubbo
</span></span><span style="display:flex;"><span>    port: 20880
</span></span><span style="display:flex;"><span>  # 消费方配置
</span></span><span style="display:flex;"><span>  consumer:
</span></span><span style="display:flex;"><span>    version: 1.0.0
</span></span><span style="display:flex;"><span>    timeout: 60000
</span></span><span style="display:flex;"><span>    check: false
</span></span><span style="display:flex;"><span>  # 注册中心配置
</span></span><span style="display:flex;"><span>  registry:
</span></span><span style="display:flex;"><span>    address: zookeeper://127.0.0.1:2188
</span></span><span style="display:flex;"><span>    check: false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#日志打印级别
</span></span><span style="display:flex;"><span>logging:
</span></span><span style="display:flex;"><span>  level:
</span></span><span style="display:flex;"><span>    com:
</span></span><span style="display:flex;"><span>      testDubbo: info
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#Redis配置
</span></span><span style="display:flex;"><span>spring:
</span></span><span style="display:flex;"><span>  redis:
</span></span><span style="display:flex;"><span>    database: 0
</span></span><span style="display:flex;"><span>    host: 127.0.0.1
</span></span><span style="display:flex;"><span>    port: 6379
</span></span><span style="display:flex;"><span>    password:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 文件上传
</span></span><span style="display:flex;"><span>multipart:
</span></span><span style="display:flex;"><span>  maxFileSize: 10MB
</span></span><span style="display:flex;"><span>  maxRequestSize: 50MB
</span></span></code></pre></td></tr></table>
</div>
</div><p>comsumer(消费者)需要的jar包:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependencies&gt;
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;exclusions&gt;
</span></span><span style="display:flex;"><span>            &lt;exclusion&gt;
</span></span><span style="display:flex;"><span>                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>            &lt;exclusion&gt;
</span></span><span style="display:flex;"><span>                &lt;groupId&gt;log4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>                &lt;artifactId&gt;log4j&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>        &lt;/exclusions&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/dependencies&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>提供者(provider)配置：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 端口
</span></span><span style="display:flex;"><span>server:
</span></span><span style="display:flex;"><span>  port=9001
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#dubbo生产者配置
</span></span><span style="display:flex;"><span>dubbo:
</span></span><span style="display:flex;"><span>  # 当前应用信息
</span></span><span style="display:flex;"><span>  application:
</span></span><span style="display:flex;"><span>    id: test_service_user
</span></span><span style="display:flex;"><span>    name: test_service_user
</span></span><span style="display:flex;"><span>    # 动态控制服务qos配置
</span></span><span style="display:flex;"><span>    qos:
</span></span><span style="display:flex;"><span>      port: 22224
</span></span><span style="display:flex;"><span>      enable: true
</span></span><span style="display:flex;"><span>  # 协议配置，用于配置提供服务的协议信息，协议由提供方指定，消费方被动接受。
</span></span><span style="display:flex;"><span>  protocol:
</span></span><span style="display:flex;"><span>    id: dubbo
</span></span><span style="display:flex;"><span>    name: dubbo
</span></span><span style="display:flex;"><span>    port: 20885
</span></span><span style="display:flex;"><span>    status: server
</span></span><span style="display:flex;"><span>  # 注册中心配置
</span></span><span style="display:flex;"><span>  registry:
</span></span><span style="display:flex;"><span>    address: zookeeper://127.0.0.1:2188
</span></span><span style="display:flex;"><span>  scan:
</span></span><span style="display:flex;"><span>    basePackages: com.wjy.service
</span></span><span style="display:flex;"><span>  provider:
</span></span><span style="display:flex;"><span>    version: 1.0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># mybatis xml文件所在以及实体类别名
</span></span><span style="display:flex;"><span>mybatis:
</span></span><span style="display:flex;"><span>  mapper-locations: classpath:mapper/*.xml
</span></span><span style="display:flex;"><span>  type-aliases-package: com.wjy.model
</span></span><span style="display:flex;"><span>  configuration:
</span></span><span style="display:flex;"><span>    map-underscore-to-camel-case: true
</span></span><span style="display:flex;"><span>    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
</span></span><span style="display:flex;"><span>    callSettersOnNulls: true
</span></span><span style="display:flex;"><span># 日志打印级别
</span></span><span style="display:flex;"><span>logging:
</span></span><span style="display:flex;"><span>  level:
</span></span><span style="display:flex;"><span>    com:
</span></span><span style="display:flex;"><span>      wjy: info
</span></span><span style="display:flex;"><span># 分页
</span></span><span style="display:flex;"><span>pagehelper:
</span></span><span style="display:flex;"><span>  helper-dialect: mysql
</span></span><span style="display:flex;"><span>  reasonable: false
</span></span><span style="display:flex;"><span>  support-methods-arguments: true
</span></span><span style="display:flex;"><span>  params: count=countSql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 上传文件大小
</span></span><span style="display:flex;"><span>multipart:
</span></span><span style="display:flex;"><span>  maxFileSize: 10MB
</span></span><span style="display:flex;"><span>  maxRequestSize: 50MB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># 数据库
</span></span><span style="display:flex;"><span>spring:
</span></span><span style="display:flex;"><span>  datasource:
</span></span><span style="display:flex;"><span>    driver-class-name: com.mysql.jdbc.Driver
</span></span><span style="display:flex;"><span>    username: root
</span></span><span style="display:flex;"><span>    password: root
</span></span><span style="display:flex;"><span>    type: com.alibaba.druid.pool.DruidDataSource
</span></span><span style="display:flex;"><span>    url: jdbc:mysql://120.27.22.226:3306/yuan_project?useUnicode=true&amp;characterEncoding=UTF-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowMultiQueries=true
</span></span></code></pre></td></tr></table>
</div>
</div><p>注意区分comsumer(消费者)和provider(提供者)的配置区别。</p>
<p>提供者(provider)需要jar包:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependencies&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;mysql&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    &lt;dependency&gt;
</span></span><span style="display:flex;"><span>        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>        &lt;exclusions&gt;
</span></span><span style="display:flex;"><span>            &lt;exclusion&gt;
</span></span><span style="display:flex;"><span>                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>            &lt;exclusion&gt;
</span></span><span style="display:flex;"><span>                &lt;groupId&gt;log4j&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>                &lt;artifactId&gt;log4j&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;/exclusion&gt;
</span></span><span style="display:flex;"><span>        &lt;/exclusions&gt;
</span></span><span style="display:flex;"><span>    &lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;/dependencies&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>common、interface、util三个模块不需要配置文件。</p>
<h2 id="dubbo集成">dubbo集成<a hidden class="anchor" aria-hidden="true" href="#dubbo集成">#</a></h2>
<p>使用方式请移步官网：http://dubbo.apache.org/zh-cn/index.html<br>
dubbo的配置方式有四种：xml配置文件、api配置、properties配置文件和annotation(注解)配置。下边只介绍注解配置方式。</p>
<p>首先在父项目pom中引入dubbo。<br>
properties<br>
<code>&lt;dubbo.version&gt;2.6.2&lt;/dubbo.version&gt;</code></p>
<p>dependencyManagement-&gt;dependencies</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>  &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>  &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>  &lt;version&gt;${dubbo.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后在子项目中具体引入</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>    &lt;artifactId&gt;dubbo&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：一些模块如：common、service、util不需要引入dubbo</p>
<p>使用apollo后，发现apollo无法读取dubbo的配置，所以需要在项目中加入如下配置文件。<br>
然后在启动的同级目录新建config-&gt;dubbo目录，新建DubboConfig类，提供者(provider)和消费者(consumer)分别写入如下配置：</p>
<p>提供者(provider)配置：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span>public class DubboConfig {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.application配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ApplicationConfig applicationConfig() {
</span></span><span style="display:flex;"><span>        ApplicationConfig applicationConfig = new ApplicationConfig();
</span></span><span style="display:flex;"><span>        applicationConfig.setId(&#34;provider_users&#34;);
</span></span><span style="display:flex;"><span>        applicationConfig.setName(&#34;provider_users&#34;);
</span></span><span style="display:flex;"><span>        applicationConfig.setQosEnable(false);
</span></span><span style="display:flex;"><span>        applicationConfig.setQosPort(22222);
</span></span><span style="display:flex;"><span>        return applicationConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.registry配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public RegistryConfig registryConfig() {
</span></span><span style="display:flex;"><span>        RegistryConfig registryConfig = new RegistryConfig();
</span></span><span style="display:flex;"><span>        registryConfig.setAddress(&#34;zookeeper://127.0.0.1:2181&#34;);
</span></span><span style="display:flex;"><span>        registryConfig.setCheck(true);
</span></span><span style="display:flex;"><span>        return registryConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.protocol配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ProtocolConfig protocolConfig() {
</span></span><span style="display:flex;"><span>        ProtocolConfig protocolConfig = new ProtocolConfig();
</span></span><span style="display:flex;"><span>        protocolConfig.setId(&#34;dubbo&#34;);
</span></span><span style="display:flex;"><span>        protocolConfig.setName(&#34;dubbo&#34;);
</span></span><span style="display:flex;"><span>        protocolConfig.setPort(20881);
</span></span><span style="display:flex;"><span>        return protocolConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.provider配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ProviderConfig providerConfig(){
</span></span><span style="display:flex;"><span>        ProviderConfig providerConfig = new ProviderConfig();
</span></span><span style="display:flex;"><span>        providerConfig.setVersion(&#34;1.0.0&#34;);
</span></span><span style="display:flex;"><span>        return providerConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>同时修改启动类如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@SpringBootApplication
</span></span><span style="display:flex;"><span>@EnableTransactionManagement
</span></span><span style="display:flex;"><span>@EnableAspectJAutoProxy
</span></span><span style="display:flex;"><span>@MapperScan(&#34;com.wjy.mapper&#34;)
</span></span><span style="display:flex;"><span>@DubboComponentScan(&#34;com.wjy.service&#34;)
</span></span><span style="display:flex;"><span>public class TestServiceUserApplication {
</span></span><span style="display:flex;"><span>    public static void main(String[] args) {
</span></span><span style="display:flex;"><span>        SpringApplication.run(TestServiceUserApplication.class, args);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>消费者(consumer)配置：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span>public class DubboConfig {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy
</span></span><span style="display:flex;"><span>     * @description: dubbo.application配置
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ApplicationConfig applicationConfig() {
</span></span><span style="display:flex;"><span>        ApplicationConfig applicationConfig = new ApplicationConfig();
</span></span><span style="display:flex;"><span>        applicationConfig.setId(&#34;test_api&#34;);
</span></span><span style="display:flex;"><span>        applicationConfig.setName(&#34;test_api&#34;);
</span></span><span style="display:flex;"><span>        applicationConfig.setQosEnable(false);
</span></span><span style="display:flex;"><span>        applicationConfig.setQosPort(22222);
</span></span><span style="display:flex;"><span>        return applicationConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.registry配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public RegistryConfig registryConfig() {
</span></span><span style="display:flex;"><span>        RegistryConfig registryConfig = new RegistryConfig();
</span></span><span style="display:flex;"><span>        registryConfig.setAddress(&#34;zookeeper://127.0.0.1:2181&#34;);
</span></span><span style="display:flex;"><span>        registryConfig.setCheck(true);
</span></span><span style="display:flex;"><span>        return registryConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.protocol配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ProtocolConfig protocolConfig() {
</span></span><span style="display:flex;"><span>        ProtocolConfig protocolConfig = new ProtocolConfig();
</span></span><span style="display:flex;"><span>        protocolConfig.setId(&#34;dubbo&#34;);
</span></span><span style="display:flex;"><span>        protocolConfig.setName(&#34;dubbo&#34;);
</span></span><span style="display:flex;"><span>        protocolConfig.setPort(20880);
</span></span><span style="display:flex;"><span>        return protocolConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: dubbo.consumer配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public ConsumerConfig consumerConfig() {
</span></span><span style="display:flex;"><span>        ConsumerConfig consumerConfig = new ConsumerConfig();
</span></span><span style="display:flex;"><span>        consumerConfig.setTimeout(3000);
</span></span><span style="display:flex;"><span>        consumerConfig.setCheck(true);
</span></span><span style="display:flex;"><span>        consumerConfig.setVersion(&#34;1.0.0&#34;);
</span></span><span style="display:flex;"><span>        return consumerConfig;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>同时修改启动类：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@SpringBootApplication
</span></span><span style="display:flex;"><span>public class TestApiApplication {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: 跨域配置
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public CorsFilter corsFilter(){
</span></span><span style="display:flex;"><span>        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
</span></span><span style="display:flex;"><span>        CorsConfiguration configuration = new CorsConfiguration();
</span></span><span style="display:flex;"><span>        configuration.addAllowedOrigin(&#34;*&#34;);
</span></span><span style="display:flex;"><span>        configuration.addAllowedMethod(&#34;*&#34;);
</span></span><span style="display:flex;"><span>        configuration.addAllowedHeader(&#34;*&#34;);
</span></span><span style="display:flex;"><span>        source.registerCorsConfiguration(&#34;/**&#34;,configuration);
</span></span><span style="display:flex;"><span>        return new CorsFilter(source);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * @author: wjy 
</span></span><span style="display:flex;"><span>     * @description: 设置上传文件的大小
</span></span><span style="display:flex;"><span>     */ 
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    public MultipartConfigElement multipartConfigElement(
</span></span><span style="display:flex;"><span>            @Value(&#34;${multipart.maxFileSize}&#34;) String maxFileSize,
</span></span><span style="display:flex;"><span>            @Value(&#34;${multipart.maxRequestSize}&#34;) String maxRequestSize) {
</span></span><span style="display:flex;"><span>        MultipartConfigFactory factory = new MultipartConfigFactory();
</span></span><span style="display:flex;"><span>        // 单个文件最大
</span></span><span style="display:flex;"><span>        factory.setMaxFileSize(maxFileSize);
</span></span><span style="display:flex;"><span>        // 设置总上传数据总大小
</span></span><span style="display:flex;"><span>        factory.setMaxRequestSize(maxRequestSize);
</span></span><span style="display:flex;"><span>        return factory.createMultipartConfig();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * redis配置
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    @Bean(name = &#34;redisTemplate&#34;)
</span></span><span style="display:flex;"><span>    public RedisTemplate getRedisTemplate(RedisConnectionFactory redisConnectionFactory){
</span></span><span style="display:flex;"><span>        RedisTemplate redisTemplate = new RedisTemplate();
</span></span><span style="display:flex;"><span>        redisTemplate.setConnectionFactory(redisConnectionFactory);
</span></span><span style="display:flex;"><span>        redisTemplate.setKeySerializer(new StringRedisSerializer());
</span></span><span style="display:flex;"><span>        redisTemplate.setValueSerializer(new JdkSerializationRedisSerializer());
</span></span><span style="display:flex;"><span>        return redisTemplate;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    public static void main(String[] args) {
</span></span><span style="display:flex;"><span>        SpringApplication.run(TestApiApplication.class, args);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="测试">测试<a hidden class="anchor" aria-hidden="true" href="#测试">#</a></h3>
<p>1.在interface模块创建TestService接口。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public interface TestService {
</span></span><span style="display:flex;"><span>    String testFunction();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>2.在provider_user中创建接口的实现类：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Service(version = &#34;1.0.0&#34;)
</span></span><span style="display:flex;"><span>public class TestServiceImpl implements TestService {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    public String testFunction() {
</span></span><span style="display:flex;"><span>        return &#34;hello dubbo&#34;;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>3.在cunsumer_api中创建controller，注入service接口</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@RequestMapping(&#34;/test&#34;)
</span></span><span style="display:flex;"><span>@Controller
</span></span><span style="display:flex;"><span>public class TestController {
</span></span><span style="display:flex;"><span>    @Reference(version = &#34;1.0.0&#34;,timeout = 60000)
</span></span><span style="display:flex;"><span>    private TestService testService;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @ResponseBody
</span></span><span style="display:flex;"><span>    @RequestMapping(&#34;/getStr&#34;)
</span></span><span style="display:flex;"><span>    public String test(){
</span></span><span style="display:flex;"><span>        return testService.testFunction();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>4.打开postMan，直接get请求我们的接口：<br>
<code>localhost:9000/test/getStr</code></p>
<p>发现返回了实现类中写的字符串，说明成功。</p>
<h2 id="cloud集成">cloud集成<a hidden class="anchor" aria-hidden="true" href="#cloud集成">#</a></h2>
<p>首先在父项目pom中引入cloud，<br>
1.properties标签下指定版本号，截至2019/2/19，版本号为：Greenwich.RELEASE<br>
<code>&lt;spring-cloud.version&gt;Greenwich.RELEASE&lt;/spring-cloud.version&gt;</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2.dependencyManagement-&gt;dependencies标签下，定义cloud依赖
</span></span><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;${spring-cloud.version}&lt;/version&gt;
</span></span><span style="display:flex;"><span>	&lt;type&gt;pom&lt;/type&gt;
</span></span><span style="display:flex;"><span>	&lt;scope&gt;import&lt;/scope&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>3.然后在子模块中具体引入cloud</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>4.服务注册发现中心，我们使用的是consul，由于eureka2.x之后官方说明已经不再开源，所以我不想用。<br>
直接在需要注册服务的子模块中引入consul：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;!-- Spring Cloud Consul 的支持 --&gt;
</span></span><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;!--  健康检查依赖于此包 --&gt;
</span></span><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;scope&gt;compile&lt;/scope&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.修改启动器类，添加 @EnableDiscoveryClient 注解，开启服务发现支持<br>
<code>@EnableDiscoveryClient</code></p>
<p>6.编写配置文件<br>
spring boot生成的是application.properties，这里我们将后缀改为.yml，这种风格更加有层次。<br>
配置如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>server:
</span></span><span style="display:flex;"><span>  port: 8510  #当前服务的端口号
</span></span><span style="display:flex;"><span>spring:
</span></span><span style="display:flex;"><span>  application:
</span></span><span style="display:flex;"><span>    name: yuan_service_api
</span></span><span style="display:flex;"><span>  cloud:
</span></span><span style="display:flex;"><span>    consul:
</span></span><span style="display:flex;"><span>      host: localhost
</span></span><span style="display:flex;"><span>      port: 8500  #Consul监听端口8500
</span></span><span style="display:flex;"><span>      enabled: true
</span></span><span style="display:flex;"><span>      discovery:
</span></span><span style="display:flex;"><span>        register: true #配置服务注册到Consul上
</span></span><span style="display:flex;"><span>        health-check-path: /actuator/health #配置服务健康检测地址  供Consul 调用
</span></span><span style="display:flex;"><span>        health-check-interval: 15s        # consul 健康检测频率
</span></span><span style="display:flex;"><span>        enabled: true
</span></span><span style="display:flex;"><span>        instance-id: ${spring.application.name}:${server.port}  #配置注册到consul 服务的id
</span></span><span style="display:flex;"><span>        #指注册到 Consul 的服务名称，后期客户端会根据这个名称来进行服务调用，为确保Consul实例ID的唯一性，采用如下方式
</span></span><span style="display:flex;"><span>        serviceName: ${spring.application.name}:${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}
</span></span></code></pre></td></tr></table>
</div>
</div><p>需要注意：<br>
.冒号后边必须跟一个空格，不是tab<br>
.注意缩进，稍有不慎就会报错</p>
<p>7.官网下载consul客户端<br>
<a href="https://www.consul.io/downloads.html">https://www.consul.io/downloads.html</a><br>
下载好解压到理想的位置(只有一个.exe文件)，然后设置环境变量，在系统变量的path下添加解压好consul的位置</p>
<p>8.启动consul<br>
需要cmd启动，直接双击.exe都是闪退的。<br>
启动指令：<br>
<code>consul agent -dev</code></p>
<p>结束指令：<br>
<code>consul leave</code><br>
这些指令在linux,mac上同样有效</p>
<p>为了方便，我们在存放consul的根目录新建一个bat脚本，脚本内容如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>consul agent -dev
</span></span><span style="display:flex;"><span>pause
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后将脚本快捷方式发送到桌面，这样就省了每次都去cmd启动consul了。<br>
控制台会提示：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Starting Consul agent...
</span></span><span style="display:flex;"><span>Consul agent running!
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样就是启动成功了。然后浏览器访问localhost:8500，8500为consul的默认端口，就可以看到consul的控制面板了。<br>
注：consul服务会占用8502接口，所以不要用8501、8502端口。</p>
<p>9.启动配置好的子模块的启动类。<br>
如果启动成功，刷新consul的控制台，就可以看到我们的服务已经注册到consul上了。</p>
<p>10.测试<br>
在提供者的模块中新建 HelloController，提供 hello 接口， 返回 hello consul 字符串。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>public class HelloController {
</span></span><span style="display:flex;"><span>    @RequestMapping(&#34;/hello&#34;)
</span></span><span style="display:flex;"><span>    public String hello() {
</span></span><span style="display:flex;"><span>        return &#34;hello consul.&#34;;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>服务注册发现中心有了，服务提供者也有了，现在我们来开发服务消费者。</p>
<p>11.Consul 消费者</p>
<h2 id="事务配置">事务配置<a hidden class="anchor" aria-hidden="true" href="#事务配置">#</a></h2>
<p>启用事务需要使用cglib的方式实现aop代理：<br>
<code>spring.aop.proxy-target-class=true</code><br>
在启动类加入下面两个注解：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@EnableTransactionManagement
</span></span><span style="display:flex;"><span>@EnableAspectJAutoProxy
</span></span></code></pre></td></tr></table>
</div>
</div><p>在实现类上加上注解：<br>
<code>@Transactional(rollbackFor = Exception.class)</code></p>
<h2 id="打包配置">打包配置<a hidden class="anchor" aria-hidden="true" href="#打包配置">#</a></h2>
<p>对于tubitu_common、tubitu_util和tubitu_service这几个项目，第一个和第二个分别为实体类以及工具类所在项目，而tubitu_service是作为dubbo提供父和调用方的一个公共接口。这三个项目均可以打成单独的jar包作为其他项目依赖而存在，所以可以指定maven编译插件和源码版本。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;build&gt;
</span></span><span style="display:flex;"><span>    &lt;plugins&gt;
</span></span><span style="display:flex;"><span>        &lt;plugin&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;version&gt;3.5.1&lt;/version&gt;
</span></span><span style="display:flex;"><span>            &lt;configuration&gt;
</span></span><span style="display:flex;"><span>                &lt;source&gt;1.8&lt;/source&gt;
</span></span><span style="display:flex;"><span>                &lt;target&gt;1.8&lt;/target&gt;
</span></span><span style="display:flex;"><span>                &lt;encoding&gt;UTF-8&lt;/encoding&gt;
</span></span><span style="display:flex;"><span>            &lt;/configuration&gt;
</span></span><span style="display:flex;"><span>        &lt;/plugin&gt;
</span></span><span style="display:flex;"><span>    &lt;/plugins&gt;
</span></span><span style="display:flex;"><span>&lt;/build&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>但是对于spring boot项目，由于父项目不再是spring boot的官方父pom，因此需要再上述的基础上，配置repackage</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;build&gt;
</span></span><span style="display:flex;"><span>    &lt;plugins&gt;
</span></span><span style="display:flex;"><span>        &lt;plugin&gt;
</span></span><span style="display:flex;"><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;executions&gt;
</span></span><span style="display:flex;"><span>                &lt;execution&gt;
</span></span><span style="display:flex;"><span>                    &lt;goals&gt;
</span></span><span style="display:flex;"><span>                        &lt;goal&gt;repackage&lt;/goal&gt;
</span></span><span style="display:flex;"><span>                    &lt;/goals&gt;
</span></span><span style="display:flex;"><span>                &lt;/execution&gt;
</span></span><span style="display:flex;"><span>            &lt;/executions&gt;
</span></span><span style="display:flex;"><span>        &lt;/plugin&gt;
</span></span><span style="display:flex;"><span>        &lt;plugin&gt;
</span></span><span style="display:flex;"><span>            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>            &lt;configuration&gt;
</span></span><span style="display:flex;"><span>                &lt;source&gt;1.8&lt;/source&gt;
</span></span><span style="display:flex;"><span>                &lt;target&gt;1.8&lt;/target&gt;
</span></span><span style="display:flex;"><span>                &lt;encoding&gt;UTF-8&lt;/encoding&gt;
</span></span><span style="display:flex;"><span>            &lt;/configuration&gt;
</span></span><span style="display:flex;"><span>        &lt;/plugin&gt;
</span></span><span style="display:flex;"><span>    &lt;/plugins&gt;
</span></span><span style="display:flex;"><span>&lt;/build&gt;
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/%E5%85%B6%E4%BB%96/">其他</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
