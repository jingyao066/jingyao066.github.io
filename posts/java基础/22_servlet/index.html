<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>22_Servlet | Wjy&#39;s Blog</title>
<meta name="keywords" content="java基础">
<meta name="description" content="系统架构概述 一、系统架构的形式 系统架构主要包括以下两种形式： C/S 架构（Client/Server） B/S 架构（Browser/Server） 二、C">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://009965.xyz/posts/java%E5%9F%BA%E7%A1%80/22_servlet/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://009965.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://009965.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://009965.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://009965.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://009965.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://009965.xyz/posts/java%E5%9F%BA%E7%A1%80/22_servlet/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://009965.xyz/posts/java%E5%9F%BA%E7%A1%80/22_servlet/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="22_Servlet">
  <meta property="og:description" content="系统架构概述 一、系统架构的形式 系统架构主要包括以下两种形式： C/S 架构（Client/Server） B/S 架构（Browser/Server） 二、C">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-08-17T15:40:43+00:00">
    <meta property="article:modified_time" content="2022-08-17T15:40:43+00:00">
    <meta property="article:tag" content="Java基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="22_Servlet">
<meta name="twitter:description" content="系统架构概述 一、系统架构的形式 系统架构主要包括以下两种形式： C/S 架构（Client/Server） B/S 架构（Browser/Server） 二、C">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://009965.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "22_Servlet",
      "item": "https://009965.xyz/posts/java%E5%9F%BA%E7%A1%80/22_servlet/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "22_Servlet",
  "name": "22_Servlet",
  "description": "系统架构概述 一、系统架构的形式 系统架构主要包括以下两种形式： C/S 架构（Client/Server） B/S 架构（Browser/Server） 二、C",
  "keywords": [
    "java基础"
  ],
  "articleBody": "系统架构概述 一、系统架构的形式 系统架构主要包括以下两种形式：\nC/S 架构（Client/Server） B/S 架构（Browser/Server） 二、C/S 架构详解 1. 什么是 C/S 架构？ C/S 架构即客户端 / 服务器架构，是一种典型的两层结构。\n2. 常见的 C/S 架构系统有哪些？ QQ 微信 3. C/S 架构的特点 需要安装特定的客户端软件。 4. C/S 架构的优缺点 ✅ 优点： 速度快：客户端本地存储大量数据，仅需少量网络传输。 体验好：界面响应快，交互流畅。 界面酷炫：可使用专业开发语言实现丰富界面。 服务器压力小：大部分处理在客户端完成。 安全性高：数据分散在多个客户端，即使服务器故障也不易丢失全部数据。 ❌ 缺点： 升级维护成本高：每个客户端都需要单独更新。 部署复杂：部分软件安装过程繁琐。 三、B/S 架构详解 1. 什么是 B/S 架构？ B/S 架构即浏览器 / 服务器架构，用户通过浏览器访问服务器资源。\n2. 常见的 B/S 架构系统示例 百度：http://www.baidu.com 京东：http://www.jd.com 网易邮箱：http://www.126.com 3. B/S 是否属于 C/S 的一种？ 是的，B/S 是一种特殊的 C/S 架构。其中，“客户端”是一个通用浏览器。\n4. B/S 架构的优缺点 ✅ 优点： 升级维护方便：只需更新服务器端即可。 无需安装客户端：用户只需打开浏览器访问网址即可操作。 ❌ 缺点： 速度较慢：所有数据都需从服务器获取，依赖网络带宽。 用户体验较差：受限于 HTML/CSS/JS，界面表现力有限。 安全性较低：所有数据集中在服务器，一旦服务器出问题，数据可能全部丢失。 四、C/S 与 B/S 架构哪个更好？ 这个问题没有绝对答案，取决于具体业务场景：\n场景 推荐架构 娱乐类软件（如社交、游戏） C/S 架构 公司内部管理系统（如OA、ERP） B/S 架构 原因说明： 公司内部系统要求： 升级维护成本低 不需要特别炫酷的界面 主要用于数据维护和流程管理 五、开发 B/S 系统所需技术 开发一个 B/S 系统，其实就是开发一个 Web 系统，通常包括以下几个方面：\n1. Web 前端技术（运行在浏览器中） HTML CSS JavaScript 2. Web 后端技术（运行在服务器上） 可以使用多种语言开发，例如：\nJava（JavaWEB 开发，核心规范为 Servlet） C C++ Python PHP … 六、JavaEE 是什么？ Java 分为三大方向：\n1. JavaSE（Java 标准版） 提供基础类库和 API。 是学习 JavaEE 和 JavaME 的基础。 2. JavaEE（Java 企业版） 专为企业级应用设计的一套类库。 支持 Web 系统开发，包含 13 种规范，Servlet 是其中之一。 是目前 Java 最热门的方向之一。 3. JavaME（Java 微型版） 适用于嵌入式设备开发，如： 机顶盒 吸尘器 电冰箱 电饭煲等小型电子设备 总结 架构类型 特点 适用场景 C/S 快速、体验好、界面炫、安全 娱乐类、客户端需求高的应用 B/S 易维护、无需安装、跨平台 企业内部系统、Web 应用 提示：选择架构时应结合项目需求、团队能力及长期维护等因素综合考虑。\nB/S 结构的系统通信原理（不涉及 Java 小程序） 一、WEB 系统的访问过程 打开浏览器 找到地址栏 输入一个合法的网址 按下回车键 浏览器展示响应结果 二、关于域名 示例网址：https://www.baidu.com/ www.baidu.com 是一个域名 在浏览器中输入域名后： 域名解析器会将域名解析为具体的 IP 地址和端口号 解析示例： http://110.242.68.3:80/index.html 三、IP 地址的作用 IP 地址是计算机在网络中的“身份证号” 在同一个网络中，IP 地址具有唯一性 要实现两台计算机之间的通信，必须知道对方的 IP 地址 四、端口号的作用 一个端口代表一个软件或服务 每个软件启动后都会占用一个端口号 同一台计算机上，端口号具有唯一性 五、WEB 系统的通信原理与步骤 用户在浏览器中输入网址（URL） 域名解析器进行解析，得到完整的 URL（如 http://110.242.68.3:80/index.html） 浏览器根据 IP 地址在网络上寻找对应的主机（如 110.242.68.3） 定位该主机上的服务器软件（通过端口号 80） 服务器得知用户请求的资源名称（如 index.html） 服务器查找并读取该资源文件 服务器将文件内容发送给浏览器（响应数据） 浏览器接收 HTML/CSS/JS 数据 浏览器渲染页面，执行代码，最终展示网页效果 六、什么是 URL？ 定义：统一资源定位符（Uniform Resource Locator） 示例：http://www.baidu.com 七、请求与响应的概念 类型 数据流向 英文术语 中文解释 请求 浏览器 → 服务器 request Browser 向 Server 发送数据 响应 服务器 → 浏览器 response Server 向 Browser 返回数据 关于Web服务器软件 常见的Web服务器软件 以下是一些常见的Web服务器软件（均为已开发完成的成熟产品）：\nTomcat：轻量级Web服务器 Jetty：嵌入式Web服务器 JBoss：应用服务器 WebLogic：企业级应用服务器 WebSphere：IBM出品的企业级应用服务器 应用服务器与Web服务器的关系 应用服务器实现了JavaEE平台中的所有13个规范。 Web服务器仅实现了Servlet和JSP两个核心规范。 由此可见，应用服务器包含Web服务器。 例如，JBoss中就内嵌了一个Tomcat服务器。 Tomcat概述 官网地址： Apache官网：https://www.apache.org Tomcat官网：https://tomcat.apache.org 特点： 开源免费 轻量级Web服务器 使用Java语言编写 运行需要JRE环境支持 别名：Catalina 名字来源于美国的一个风景优美的岛屿，寓意Tomcat服务器小巧、高效。 Logo：一只公猫，象征其轻巧、快速的特性。 Tomcat配置Java运行环境 Tomcat是基于Java编写的，因此运行前必须安装JDK并配置Java运行环境变量：\n1 2 JAVA_HOME=C:\\Program Files\\Java\\jdk-17.0.1 PATH=%JAVA_HOME%\\bin;%CATALINA_HOME%\\bin 💡 思考问题：如果没有配置JAVA_HOME是否可行？\n虽然在某些情况下可以运行，但为了稳定性和兼容性，建议始终正确配置。\nTomcat安装方式 Tomcat为绿色版本，无需复杂安装，只需解压ZIP包即可使用。\n推荐安装路径（示例）： C:\\dev\\tomcat：将所有开发工具集中管理，便于维护。 启动Tomcat 进入bin目录，执行以下命令启动Tomcat：\nWindows系统：startup.bat Linux系统：startup.sh 批处理文件说明 .bat 文件：Windows下的批处理脚本，可批量执行DOS命令。 .sh 文件：Linux下的Shell脚本，用于执行Shell命令。 Tomcat提供了跨平台的支持，适配多种操作系统。 启动流程解析 startup.bat 实际调用了 catalina.bat。 在 catalina.bat 中定义了主类： 1 MAINCLASS=org.apache.catalina.startup.Bootstrap 该类中包含 main() 方法，即Tomcat启动入口。 环境变量要求 启动Tomcat需要配置以下环境变量：\n1 2 3 JAVA_HOME=JDK安装目录 CATALINA_HOME=Tomcat安装目录 PATH=%JAVA_HOME%\\bin;%CATALINA_HOME%\\bin Tomcat目录结构详解 目录名 用途说明 bin/ 存放启动、关闭等命令脚本（如 startup.bat, shutdown.sh） conf/ 配置文件目录，如 server.xml 可修改端口号等设置 lib/ 核心类库目录，存放Tomcat运行所需的JAR文件 logs/ 日志文件目录，记录服务器运行日志 temp/ 临时文件存储目录 webapps/ Web应用部署目录，放置 .war 包或项目文件夹 work/ JSP编译后生成的Java文件和 .class 文件 Tomcat启动与关闭 启动：执行 startup.bat 或 startup.sh 关闭：执行 shutdown.bat（建议重命名为 stop.bat，避免与系统关机命令冲突） 测试Tomcat是否启动成功 打开浏览器访问以下任一地址：\n1 2 http://127.0.0.1:8080 http://localhost:8080 如果看到Tomcat欢迎页面，则表示服务器已成功启动。\n实现一个最基本的 Web 应用（该应用中不包含 Java 小程序） 一、准备工作 在开始之前，请确保你已经安装并配置好了 Tomcat 服务器，并设置了 CATALINA_HOME 环境变量。\n二、步骤详解 第一步：定位到 webapps 目录 找到 Tomcat 的 webapps 目录：\n1 CATALINA_HOME\\webapps ⚠️ 注意：所有 Web 应用都必须放置在该目录下，这是 Tomcat 的规定。否则服务器将无法识别你的应用。\n第二步：创建一个新的 Web 应用目录 在 webapps 目录下新建一个子目录，命名为 oa。 📁 说明：目录名 oa 即为你的 Web 应用名称。\n第三步：添加资源文件 在 oa 目录下创建资源文件，例如 index.html。 编写 HTML 文件内容以展示页面信息。 第四步：启动 Tomcat 服务器 启动 Tomcat，等待服务器完成部署。 第五步：访问你的 Web 应用 打开浏览器，在地址栏输入以下 URL： 1 http://127.0.0.1:8080/oa/index.html 三、关于 URL 访问的思考 浏览器直接输入 URL 与超链接的区别？ 当你在浏览器地址栏输入一个 URL 并回车时，其本质与点击一个超链接是一样的。因此，我们可以在网页中使用超链接来实现相同的效果。\n示例代码： 1 2 3 4 5 \u003ca href=\"/oa/login.html\"\u003e用户登录\u003c/a\u003e \u003ca href=\"/oa/test/debug/d.html\"\u003ed 页面\u003c/a\u003e ✅ 提示：前端路径建议统一使用绝对路径，格式为 /项目名/资源路径，无需添加协议和域名。\n四、静态资源与动态资源的区别 静态资源示例： 1 http://127.0.0.1:8080/oa/userList.html 当前这个页面是静态 HTML 文件，数据是“硬编码”写死在文件中的。 这类资源被称为 静态资源。 动态资源的需求： 如果希望页面上的数据能够根据数据库中的内容变化而自动更新，则需要引入动态网页技术。 动态网页不是指有动画效果的页面，而是指页面的数据是动态生成的。 如何实现动态网页？ 使用 JDBC 技术连接数据库。 编写 Java 程序从数据库中读取数据。 根据查询结果动态生成 HTML 页面内容。 💡 总结：动态网页的关键在于“数据可变”，通常依赖于后端逻辑和数据库交互。\n动态 Web 应用中请求与响应过程涉及的角色与协议 一、参与的角色 在一个典型的 B/S（Browser/Server）架构系统中，一个完整的请求与响应过程会涉及到多个角色的协同工作。具体包括以下几个开发团队及其所代表的技术角色：\n1. 浏览器软件开发团队 负责开发浏览器程序。 常见浏览器包括： Google Chrome Mozilla Firefox Microsoft Edge / Internet Explorer Safari 等 2. Web Server 开发团队 提供 Web 容器服务，负责接收 HTTP 请求并处理静态资源或转发给 Web 应用处理。 常见 Web Server 包括： Apache Tomcat Jetty Oracle WebLogic JBoss IBM WebSphere 等 3. DB Server 开发团队 提供数据库管理系统，用于存储和管理数据。 常见数据库系统包括： Oracle MySQL PostgreSQL SQL Server 等 4. Web 应用开发团队（Java Web 开发者） 编写实际业务逻辑的 Web 应用程序（WebApp），部署在 Web Server 上运行。 二、角色之间的规范与协议 为了保证各个角色之间能够有效协作，需要遵循一系列标准和协议。\n1. Web App 开发团队 与 Web Server 开发团队之间 规范：Servlet 规范（属于 JavaEE 标准的一部分） 作用： 实现 Web Server 与 Web 应用之间的解耦合。 确保 Web 应用可以在不同的 Web Server 中兼容运行。 Servlet 规范包含哪些内容？ 规定了哪些接口和类必须存在。 规定了 Web 应用应包含的配置文件： 配置文件名称（如 web.xml） 存放路径（如 /WEB-INF/） 文件内容格式 规定了 Web 应用的标准目录结构。 其他与 Web 应用生命周期、请求处理相关的规范。 2. 浏览器（Browser） 与 Web Server 之间 协议：HTTP 协议（HyperText Transfer Protocol） 作用： 浏览器向服务器发起请求。 服务器返回 HTML 页面或其他资源。 是浏览器与服务器之间通信的基础协议。 3. Web App 开发团队 与 DB Server 开发团队之间 规范：JDBC（Java Database Connectivity） 作用： 提供统一的 API 接口，使 Java 程序可以访问各种数据库。 实现数据库操作的标准化和可移植性。 三、Servlet 规范详解 1. 什么是 Servlet 规范？ 是 JavaEE 标准中定义的一套编程规范。 只要 Web 应用遵循该规范编写，就可以部署在任何支持该规范的 Web Server 上运行。 2. Servlet 规范的主要内容 内容类型 描述 接口与类 定义了 Servlet, HttpServlet, ServletRequest, ServletResponse 等核心接口和类 配置文件 指定 web.xml 的格式、位置和内容 目录结构 明确 Web 应用的标准目录结构（如 WEB-INF, classes, lib 等） 生命周期 规定 Servlet 的初始化、服务、销毁等生命周期方法 请求处理 规定如何处理 HTTP 请求（GET、POST 等） 开发一个带有 Servlet 的 Web 应用（重点） 一、开发步骤 第一步：创建 Web 应用的根目录 在 webapps 目录下新建一个项目文件夹，例如：\ncrm（客户关系管理系统） bank（银行系统） oa（办公自动化系统） 注意：该目录即为 Web 应用的“根目录”。\n第二步：创建 WEB-INF 目录 在项目根目录下新建一个名为 WEB-INF 的子目录。\n注意：\n名称必须全大写，不能更改。 该目录是 Servlet 规范中规定的标准目录。 第三步：创建 classes 子目录 在 WEB-INF 下创建 classes 目录。\n注意：\n名称必须小写。 用于存放 Java 编译后的 .class 文件（字节码）。 第四步：创建 lib 子目录（可选） 在 WEB-INF 下创建 lib 目录。\n注意：\n名称必须小写。 用于存放第三方 JAR 包（如数据库驱动等）。 并非必须存在。 第五步：创建 web.xml 配置文件 在 WEB-INF 目录下创建 web.xml 文件。\n注意：\n必须存在。 文件名必须为 web.xml。 用于配置请求路径与 Servlet 类之间的映射关系。 推荐从已有项目复制模板，避免手动编写。 示例模板： 1 2 3 4 5 6 7 8 \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e ",
  "wordCount" : "33151",
  "inLanguage": "en",
  "datePublished": "2022-08-17T15:40:43Z",
  "dateModified": "2022-08-17T15:40:43Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://009965.xyz/posts/java%E5%9F%BA%E7%A1%80/22_servlet/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://009965.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      22_Servlet
    </h1>
    <div class="post-meta"><span title='2022-08-17 15:40:43 +0000 UTC'>2022-08-17</span>&nbsp;·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84%e6%a6%82%e8%bf%b0" aria-label="系统架构概述">系统架构概述</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e7%b3%bb%e7%bb%9f%e6%9e%b6%e6%9e%84%e7%9a%84%e5%bd%a2%e5%bc%8f" aria-label="一、系统架构的形式">一、系统架构的形式</a></li>
                <li>
                    <a href="#%e4%ba%8ccs-%e6%9e%b6%e6%9e%84%e8%af%a6%e8%a7%a3" aria-label="二、C/S 架构详解">二、C/S 架构详解</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af-cs-%e6%9e%b6%e6%9e%84" aria-label="1. 什么是 C/S 架构？">1. 什么是 C/S 架构？</a></li>
                <li>
                    <a href="#2-%e5%b8%b8%e8%a7%81%e7%9a%84-cs-%e6%9e%b6%e6%9e%84%e7%b3%bb%e7%bb%9f%e6%9c%89%e5%93%aa%e4%ba%9b" aria-label="2. 常见的 C/S 架构系统有哪些？">2. 常见的 C/S 架构系统有哪些？</a></li>
                <li>
                    <a href="#3-cs-%e6%9e%b6%e6%9e%84%e7%9a%84%e7%89%b9%e7%82%b9" aria-label="3. C/S 架构的特点">3. C/S 架构的特点</a></li>
                <li>
                    <a href="#4-cs-%e6%9e%b6%e6%9e%84%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9" aria-label="4. C/S 架构的优缺点">4. C/S 架构的优缺点</a><ul>
                        
                <li>
                    <a href="#-%e4%bc%98%e7%82%b9" aria-label="✅ 优点：">✅ 优点：</a></li>
                <li>
                    <a href="#-%e7%bc%ba%e7%82%b9" aria-label="❌ 缺点：">❌ 缺点：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89bs-%e6%9e%b6%e6%9e%84%e8%af%a6%e8%a7%a3" aria-label="三、B/S 架构详解">三、B/S 架构详解</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af-bs-%e6%9e%b6%e6%9e%84" aria-label="1. 什么是 B/S 架构？">1. 什么是 B/S 架构？</a></li>
                <li>
                    <a href="#2-%e5%b8%b8%e8%a7%81%e7%9a%84-bs-%e6%9e%b6%e6%9e%84%e7%b3%bb%e7%bb%9f%e7%a4%ba%e4%be%8b" aria-label="2. 常见的 B/S 架构系统示例">2. 常见的 B/S 架构系统示例</a></li>
                <li>
                    <a href="#3-bs-%e6%98%af%e5%90%a6%e5%b1%9e%e4%ba%8e-cs-%e7%9a%84%e4%b8%80%e7%a7%8d" aria-label="3. B/S 是否属于 C/S 的一种？">3. B/S 是否属于 C/S 的一种？</a></li>
                <li>
                    <a href="#4-bs-%e6%9e%b6%e6%9e%84%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9" aria-label="4. B/S 架构的优缺点">4. B/S 架构的优缺点</a><ul>
                        
                <li>
                    <a href="#-%e4%bc%98%e7%82%b9-1" aria-label="✅ 优点：">✅ 优点：</a></li>
                <li>
                    <a href="#-%e7%bc%ba%e7%82%b9-1" aria-label="❌ 缺点：">❌ 缺点：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bcs-%e4%b8%8e-bs-%e6%9e%b6%e6%9e%84%e5%93%aa%e4%b8%aa%e6%9b%b4%e5%a5%bd" aria-label="四、C/S 与 B/S 架构哪个更好？">四、C/S 与 B/S 架构哪个更好？</a><ul>
                        
                <li>
                    <a href="#%e5%8e%9f%e5%9b%a0%e8%af%b4%e6%98%8e" aria-label="原因说明：">原因说明：</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e5%bc%80%e5%8f%91-bs-%e7%b3%bb%e7%bb%9f%e6%89%80%e9%9c%80%e6%8a%80%e6%9c%af" aria-label="五、开发 B/S 系统所需技术">五、开发 B/S 系统所需技术</a><ul>
                        
                <li>
                    <a href="#1-web-%e5%89%8d%e7%ab%af%e6%8a%80%e6%9c%af%e8%bf%90%e8%a1%8c%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e4%b8%ad" aria-label="1. Web 前端技术（运行在浏览器中）">1. Web 前端技术（运行在浏览器中）</a></li>
                <li>
                    <a href="#2-web-%e5%90%8e%e7%ab%af%e6%8a%80%e6%9c%af%e8%bf%90%e8%a1%8c%e5%9c%a8%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8a" aria-label="2. Web 后端技术（运行在服务器上）">2. Web 后端技术（运行在服务器上）</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%adjavaee-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="六、JavaEE 是什么？">六、JavaEE 是什么？</a><ul>
                        
                <li>
                    <a href="#1-javasejava-%e6%a0%87%e5%87%86%e7%89%88" aria-label="1. JavaSE（Java 标准版）">1. JavaSE（Java 标准版）</a></li>
                <li>
                    <a href="#2-javaeejava-%e4%bc%81%e4%b8%9a%e7%89%88" aria-label="2. JavaEE（Java 企业版）">2. JavaEE（Java 企业版）</a></li>
                <li>
                    <a href="#3-javamejava-%e5%be%ae%e5%9e%8b%e7%89%88" aria-label="3. JavaME（Java 微型版）">3. JavaME（Java 微型版）</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a></li></ul>
                </li>
                <li>
                    <a href="#bs-%e7%bb%93%e6%9e%84%e7%9a%84%e7%b3%bb%e7%bb%9f%e9%80%9a%e4%bf%a1%e5%8e%9f%e7%90%86%e4%b8%8d%e6%b6%89%e5%8f%8a-java-%e5%b0%8f%e7%a8%8b%e5%ba%8f" aria-label="B/S 结构的系统通信原理（不涉及 Java 小程序）">B/S 结构的系统通信原理（不涉及 Java 小程序）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80web-%e7%b3%bb%e7%bb%9f%e7%9a%84%e8%ae%bf%e9%97%ae%e8%bf%87%e7%a8%8b" aria-label="一、WEB 系统的访问过程">一、WEB 系统的访问过程</a></li>
                <li>
                    <a href="#%e4%ba%8c%e5%85%b3%e4%ba%8e%e5%9f%9f%e5%90%8d" aria-label="二、关于域名">二、关于域名</a></li>
                <li>
                    <a href="#%e4%b8%89ip-%e5%9c%b0%e5%9d%80%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="三、IP 地址的作用">三、IP 地址的作用</a></li>
                <li>
                    <a href="#%e5%9b%9b%e7%ab%af%e5%8f%a3%e5%8f%b7%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="四、端口号的作用">四、端口号的作用</a></li>
                <li>
                    <a href="#%e4%ba%94web-%e7%b3%bb%e7%bb%9f%e7%9a%84%e9%80%9a%e4%bf%a1%e5%8e%9f%e7%90%86%e4%b8%8e%e6%ad%a5%e9%aa%a4" aria-label="五、WEB 系统的通信原理与步骤">五、WEB 系统的通信原理与步骤</a></li>
                <li>
                    <a href="#%e5%85%ad%e4%bb%80%e4%b9%88%e6%98%af-url" aria-label="六、什么是 URL？">六、什么是 URL？</a></li>
                <li>
                    <a href="#%e4%b8%83%e8%af%b7%e6%b1%82%e4%b8%8e%e5%93%8d%e5%ba%94%e7%9a%84%e6%a6%82%e5%bf%b5" aria-label="七、请求与响应的概念">七、请求与响应的概念</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8eweb%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bd%af%e4%bb%b6" aria-label="关于Web服务器软件">关于Web服务器软件</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e8%a7%81%e7%9a%84web%e6%9c%8d%e5%8a%a1%e5%99%a8%e8%bd%af%e4%bb%b6" aria-label="常见的Web服务器软件">常见的Web服务器软件</a></li>
                <li>
                    <a href="#%e5%ba%94%e7%94%a8%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%b8%8eweb%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="应用服务器与Web服务器的关系">应用服务器与Web服务器的关系</a></li>
                <li>
                    <a href="#tomcat%e6%a6%82%e8%bf%b0" aria-label="Tomcat概述">Tomcat概述</a></li>
                <li>
                    <a href="#tomcat%e9%85%8d%e7%bd%aejava%e8%bf%90%e8%a1%8c%e7%8e%af%e5%a2%83" aria-label="Tomcat配置Java运行环境">Tomcat配置Java运行环境</a></li>
                <li>
                    <a href="#tomcat%e5%ae%89%e8%a3%85%e6%96%b9%e5%bc%8f" aria-label="Tomcat安装方式">Tomcat安装方式</a><ul>
                        
                <li>
                    <a href="#%e6%8e%a8%e8%8d%90%e5%ae%89%e8%a3%85%e8%b7%af%e5%be%84%e7%a4%ba%e4%be%8b" aria-label="推荐安装路径（示例）：">推荐安装路径（示例）：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%90%af%e5%8a%a8tomcat" aria-label="启动Tomcat">启动Tomcat</a><ul>
                        
                <li>
                    <a href="#%e6%89%b9%e5%a4%84%e7%90%86%e6%96%87%e4%bb%b6%e8%af%b4%e6%98%8e" aria-label="批处理文件说明">批处理文件说明</a></li>
                <li>
                    <a href="#%e5%90%af%e5%8a%a8%e6%b5%81%e7%a8%8b%e8%a7%a3%e6%9e%90" aria-label="启动流程解析">启动流程解析</a></li>
                <li>
                    <a href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f%e8%a6%81%e6%b1%82" aria-label="环境变量要求">环境变量要求</a></li></ul>
                </li>
                <li>
                    <a href="#tomcat%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84%e8%af%a6%e8%a7%a3" aria-label="Tomcat目录结构详解">Tomcat目录结构详解</a></li>
                <li>
                    <a href="#tomcat%e5%90%af%e5%8a%a8%e4%b8%8e%e5%85%b3%e9%97%ad" aria-label="Tomcat启动与关闭">Tomcat启动与关闭</a></li>
                <li>
                    <a href="#%e6%b5%8b%e8%af%95tomcat%e6%98%af%e5%90%a6%e5%90%af%e5%8a%a8%e6%88%90%e5%8a%9f" aria-label="测试Tomcat是否启动成功">测试Tomcat是否启动成功</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e6%9c%80%e5%9f%ba%e6%9c%ac%e7%9a%84-web-%e5%ba%94%e7%94%a8%e8%af%a5%e5%ba%94%e7%94%a8%e4%b8%ad%e4%b8%8d%e5%8c%85%e5%90%ab-java-%e5%b0%8f%e7%a8%8b%e5%ba%8f" aria-label="实现一个最基本的 Web 应用（该应用中不包含 Java 小程序）">实现一个最基本的 Web 应用（该应用中不包含 Java 小程序）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" aria-label="一、准备工作">一、准备工作</a></li>
                <li>
                    <a href="#%e4%ba%8c%e6%ad%a5%e9%aa%a4%e8%af%a6%e8%a7%a3" aria-label="二、步骤详解">二、步骤详解</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%ae%9a%e4%bd%8d%e5%88%b0-webapps-%e7%9b%ae%e5%bd%95" aria-label="第一步：定位到 webapps 目录">第一步：定位到 webapps 目录</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%96%b0%e7%9a%84-web-%e5%ba%94%e7%94%a8%e7%9b%ae%e5%bd%95" aria-label="第二步：创建一个新的 Web 应用目录">第二步：创建一个新的 Web 应用目录</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%89%e6%ad%a5%e6%b7%bb%e5%8a%a0%e8%b5%84%e6%ba%90%e6%96%87%e4%bb%b6" aria-label="第三步：添加资源文件">第三步：添加资源文件</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%90%af%e5%8a%a8-tomcat-%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="第四步：启动 Tomcat 服务器">第四步：启动 Tomcat 服务器</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%94%e6%ad%a5%e8%ae%bf%e9%97%ae%e4%bd%a0%e7%9a%84-web-%e5%ba%94%e7%94%a8" aria-label="第五步：访问你的 Web 应用">第五步：访问你的 Web 应用</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%85%b3%e4%ba%8e-url-%e8%ae%bf%e9%97%ae%e7%9a%84%e6%80%9d%e8%80%83" aria-label="三、关于 URL 访问的思考">三、关于 URL 访问的思考</a><ul>
                        
                <li>
                    <a href="#%e6%b5%8f%e8%a7%88%e5%99%a8%e7%9b%b4%e6%8e%a5%e8%be%93%e5%85%a5-url-%e4%b8%8e%e8%b6%85%e9%93%be%e6%8e%a5%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="浏览器直接输入 URL 与超链接的区别？">浏览器直接输入 URL 与超链接的区别？</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e4%bb%a3%e7%a0%81" aria-label="示例代码：">示例代码：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e4%b8%8e%e5%8a%a8%e6%80%81%e8%b5%84%e6%ba%90%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="四、静态资源与动态资源的区别">四、静态资源与动态资源的区别</a><ul>
                        
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e7%a4%ba%e4%be%8b" aria-label="静态资源示例：">静态资源示例：</a></li>
                <li>
                    <a href="#%e5%8a%a8%e6%80%81%e8%b5%84%e6%ba%90%e7%9a%84%e9%9c%80%e6%b1%82" aria-label="动态资源的需求：">动态资源的需求：</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e5%8a%a8%e6%80%81%e7%bd%91%e9%a1%b5" aria-label="如何实现动态网页？">如何实现动态网页？</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%8a%a8%e6%80%81-web-%e5%ba%94%e7%94%a8%e4%b8%ad%e8%af%b7%e6%b1%82%e4%b8%8e%e5%93%8d%e5%ba%94%e8%bf%87%e7%a8%8b%e6%b6%89%e5%8f%8a%e7%9a%84%e8%a7%92%e8%89%b2%e4%b8%8e%e5%8d%8f%e8%ae%ae" aria-label="动态 Web 应用中请求与响应过程涉及的角色与协议">动态 Web 应用中请求与响应过程涉及的角色与协议</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%8f%82%e4%b8%8e%e7%9a%84%e8%a7%92%e8%89%b2" aria-label="一、参与的角色">一、参与的角色</a><ul>
                        
                <li>
                    <a href="#1-%e6%b5%8f%e8%a7%88%e5%99%a8%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f" aria-label="1. 浏览器软件开发团队">1. 浏览器软件开发团队</a></li>
                <li>
                    <a href="#2-web-server-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f" aria-label="2. Web Server 开发团队">2. Web Server 开发团队</a></li>
                <li>
                    <a href="#3-db-server-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f" aria-label="3. DB Server 开发团队">3. DB Server 开发团队</a></li>
                <li>
                    <a href="#4-web-%e5%ba%94%e7%94%a8%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9fjava-web-%e5%bc%80%e5%8f%91%e8%80%85" aria-label="4. Web 应用开发团队（Java Web 开发者）">4. Web 应用开发团队（Java Web 开发者）</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e8%a7%92%e8%89%b2%e4%b9%8b%e9%97%b4%e7%9a%84%e8%a7%84%e8%8c%83%e4%b8%8e%e5%8d%8f%e8%ae%ae" aria-label="二、角色之间的规范与协议">二、角色之间的规范与协议</a><ul>
                        
                <li>
                    <a href="#1-web-app-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f-%e4%b8%8e-web-server-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f%e4%b9%8b%e9%97%b4" aria-label="1. Web App 开发团队 与 Web Server 开发团队之间">1. Web App 开发团队 与 Web Server 开发团队之间</a><ul>
                        
                <li>
                    <a href="#servlet-%e8%a7%84%e8%8c%83%e5%8c%85%e5%90%ab%e5%93%aa%e4%ba%9b%e5%86%85%e5%ae%b9" aria-label="Servlet 规范包含哪些内容？">Servlet 规范包含哪些内容？</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e6%b5%8f%e8%a7%88%e5%99%a8browser-%e4%b8%8e-web-server-%e4%b9%8b%e9%97%b4" aria-label="2. 浏览器（Browser） 与 Web Server 之间">2. 浏览器（Browser） 与 Web Server 之间</a></li>
                <li>
                    <a href="#3-web-app-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f-%e4%b8%8e-db-server-%e5%bc%80%e5%8f%91%e5%9b%a2%e9%98%9f%e4%b9%8b%e9%97%b4" aria-label="3. Web App 开发团队 与 DB Server 开发团队之间">3. Web App 开发团队 与 DB Server 开发团队之间</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89servlet-%e8%a7%84%e8%8c%83%e8%af%a6%e8%a7%a3" aria-label="三、Servlet 规范详解">三、Servlet 规范详解</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af-servlet-%e8%a7%84%e8%8c%83" aria-label="1. 什么是 Servlet 规范？">1. 什么是 Servlet 规范？</a></li>
                <li>
                    <a href="#2-servlet-%e8%a7%84%e8%8c%83%e7%9a%84%e4%b8%bb%e8%a6%81%e5%86%85%e5%ae%b9" aria-label="2. Servlet 规范的主要内容">2. Servlet 规范的主要内容</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%bc%80%e5%8f%91%e4%b8%80%e4%b8%aa%e5%b8%a6%e6%9c%89-servlet-%e7%9a%84-web-%e5%ba%94%e7%94%a8%e9%87%8d%e7%82%b9" aria-label="开发一个带有 Servlet 的 Web 应用（重点）">开发一个带有 Servlet 的 Web 应用（重点）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%bc%80%e5%8f%91%e6%ad%a5%e9%aa%a4" aria-label="一、开发步骤">一、开发步骤</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%88%9b%e5%bb%ba-web-%e5%ba%94%e7%94%a8%e7%9a%84%e6%a0%b9%e7%9b%ae%e5%bd%95" aria-label="第一步：创建 Web 应用的根目录">第一步：创建 Web 应用的根目录</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%88%9b%e5%bb%ba-web-inf-%e7%9b%ae%e5%bd%95" aria-label="第二步：创建 WEB-INF 目录">第二步：创建 WEB-INF 目录</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%88%9b%e5%bb%ba-classes-%e5%ad%90%e7%9b%ae%e5%bd%95" aria-label="第三步：创建 classes 子目录">第三步：创建 classes 子目录</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%88%9b%e5%bb%ba-lib-%e5%ad%90%e7%9b%ae%e5%bd%95%e5%8f%af%e9%80%89" aria-label="第四步：创建 lib 子目录（可选）">第四步：创建 lib 子目录（可选）</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%94%e6%ad%a5%e5%88%9b%e5%bb%ba-webxml-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="第五步：创建 web.xml 配置文件">第五步：创建 web.xml 配置文件</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e6%a8%a1%e6%9d%bf" aria-label="示例模板：">示例模板：</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%ac%ac%e5%85%ad%e6%ad%a5%e7%bc%96%e5%86%99-servlet-%e7%a8%8b%e5%ba%8f" aria-label="第六步：编写 Servlet 程序">第六步：编写 Servlet 程序</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%83%e6%ad%a5%e7%bc%96%e8%af%91-servlet" aria-label="第七步：编译 Servlet">第七步：编译 Servlet</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%85%ab%e6%ad%a5%e5%b0%86%e7%bc%96%e8%af%91%e5%90%8e%e7%9a%84-class-%e6%96%87%e4%bb%b6%e6%8b%b7%e8%b4%9d%e5%88%b0-web-infclasses" aria-label="第八步：将编译后的 .class 文件拷贝到 WEB-INF/classes">第八步：将编译后的 .class 文件拷贝到 WEB-INF/classes</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b9%9d%e6%ad%a5%e5%9c%a8-webxml-%e4%b8%ad%e6%b3%a8%e5%86%8c-servlet" aria-label="第九步：在 web.xml 中注册 Servlet">第九步：在 web.xml 中注册 Servlet</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e9%85%8d%e7%bd%ae" aria-label="示例配置：">示例配置：</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%ac%ac%e5%8d%81%e6%ad%a5%e5%90%af%e5%8a%a8-tomcat-%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="第十步：启动 Tomcat 服务器">第十步：启动 Tomcat 服务器</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%8d%81%e4%b8%80%e6%ad%a5%e8%ae%bf%e9%97%ae-servlet" aria-label="第十一步：访问 Servlet">第十一步：访问 Servlet</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8chtml-%e9%a1%b5%e9%9d%a2%e7%9a%84%e6%94%be%e7%bd%ae%e4%bd%8d%e7%bd%ae" aria-label="二、HTML 页面的放置位置">二、HTML 页面的放置位置</a></li>
                <li>
                    <a href="#%e4%b8%89web-%e5%ba%94%e7%94%a8%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84%e7%a4%ba%e4%be%8b" aria-label="三、Web 应用目录结构示例">三、Web 应用目录结构示例</a></li>
                <li>
                    <a href="#%e5%9b%9bservlet-%e6%89%a7%e8%a1%8c%e6%b5%81%e7%a8%8b%e7%ae%80%e8%bf%b0" aria-label="四、Servlet 执行流程简述">四、Servlet 执行流程简述</a></li>
                <li>
                    <a href="#%e4%ba%94%e6%80%bb%e7%bb%93" aria-label="五、总结">五、总结</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e-javaee-%e7%9a%84%e7%89%88%e6%9c%ac%e6%bc%94%e8%bf%9b" aria-label="关于 JavaEE 的版本演进">关于 JavaEE 的版本演进</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80javaee-%e7%9a%84%e5%8f%91%e5%b1%95%e5%8e%86%e5%8f%b2" aria-label="一、JavaEE 的发展历史">一、JavaEE 的发展历史</a></li>
                <li>
                    <a href="#%e4%ba%8c%e5%90%8d%e7%a7%b0%e5%8f%98%e6%9b%b4%e4%b8%8e%e5%90%8e%e7%bb%ad%e5%8f%91%e5%b1%95" aria-label="二、名称变更与后续发展">二、名称变更与后续发展</a></li>
                <li>
                    <a href="#%e4%b8%89%e7%89%88%e6%9c%ac%e5%af%b9%e5%ba%94%e5%85%b3%e7%b3%bb%e4%b8%8e%e5%8c%85%e5%90%8d%e5%8f%98%e5%8c%96" aria-label="三、版本对应关系与包名变化">三、版本对应关系与包名变化</a></li>
                <li>
                    <a href="#%e5%9b%9b%e9%83%a8%e7%bd%b2%e5%bb%ba%e8%ae%ae" aria-label="四、部署建议">四、部署建议</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%a7%a3%e5%86%b3tomcat%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%9c%a8dos%e5%91%bd%e4%bb%a4%e7%aa%97%e5%8f%a3%e4%b8%ad%e7%9a%84%e4%b9%b1%e7%a0%81%e9%97%ae%e9%a2%98%e6%8e%a7%e5%88%b6%e5%8f%b0%e4%b9%b1%e7%a0%81" aria-label="解决Tomcat服务器在DOS命令窗口中的乱码问题（控制台乱码）">解决Tomcat服务器在DOS命令窗口中的乱码问题（控制台乱码）</a></li>
                <li>
                    <a href="#%e5%90%91%e6%b5%8f%e8%a7%88%e5%99%a8%e5%93%8d%e5%ba%94%e4%b8%80%e6%ae%b5html%e4%bb%a3%e7%a0%81" aria-label="向浏览器响应一段HTML代码">向浏览器响应一段HTML代码</a></li>
                <li>
                    <a href="#%e5%9c%a8servlet%e4%b8%ad%e8%bf%9e%e6%8e%a5%e6%95%b0%e6%8d%ae%e5%ba%93%e6%80%8e%e4%b9%88%e5%81%9a" aria-label="在Servlet中连接数据库，怎么做？">在Servlet中连接数据库，怎么做？</a></li>
                <li>
                    <a href="#%e5%9c%a8%e9%9b%86%e6%88%90%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83ide%e4%b8%ad%e5%bc%80%e5%8f%91-servlet-%e7%a8%8b%e5%ba%8f" aria-label="在集成开发环境（IDE）中开发 Servlet 程序">在集成开发环境（IDE）中开发 Servlet 程序</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%b8%b8%e7%94%a8%e7%9a%84%e9%9b%86%e6%88%90%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7%e7%ae%80%e4%bb%8b" aria-label="一、常用的集成开发工具简介">一、常用的集成开发工具简介</a><ul>
                        
                <li>
                    <a href="#1-intellij-idea" aria-label="1. IntelliJ IDEA">1. IntelliJ IDEA</a></li>
                <li>
                    <a href="#2-eclipse" aria-label="2. Eclipse">2. Eclipse</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e4%bd%bf%e7%94%a8-intellij-idea-%e5%bc%80%e5%8f%91-servlet-%e7%9a%84%e6%ad%a5%e9%aa%a4" aria-label="二、使用 IntelliJ IDEA 开发 Servlet 的步骤">二、使用 IntelliJ IDEA 开发 Servlet 的步骤</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%88%9b%e5%bb%ba%e7%a9%ba%e9%a1%b9%e7%9b%aeempty-project" aria-label="第一步：创建空项目（Empty Project）">第一步：创建空项目（Empty Project）</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e6%96%b0%e5%bb%ba%e6%a8%a1%e5%9d%97module" aria-label="第二步：新建模块（Module）">第二步：新建模块（Module）</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%b0%86%e6%a8%a1%e5%9d%97%e8%bd%ac%e6%8d%a2%e4%b8%ba-web-application" aria-label="第三步：将模块转换为 Web Application">第三步：将模块转换为 Web Application</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%8f%af%e9%80%89%e5%88%a0%e9%99%a4%e9%bb%98%e8%ae%a4%e7%94%9f%e6%88%90%e7%9a%84-indexjsp-%e6%96%87%e4%bb%b6" aria-label="第四步（可选）：删除默认生成的 index.jsp 文件">第四步（可选）：删除默认生成的 index.jsp 文件</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%94%e6%ad%a5%e7%bc%96%e5%86%99-servlet-%e7%b1%bb" aria-label="第五步：编写 Servlet 类">第五步：编写 Servlet 类</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e7%b1%bb%e5%90%8dstudentservlet" aria-label="示例类名：StudentServlet">示例类名：StudentServlet</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%ac%ac%e5%85%ad%e6%ad%a5%e5%9c%a8-service-%e6%96%b9%e6%b3%95%e4%b8%ad%e7%bc%96%e5%86%99%e4%b8%9a%e5%8a%a1%e9%80%bb%e8%be%91" aria-label="第六步：在 service 方法中编写业务逻辑">第六步：在 service 方法中编写业务逻辑</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%83%e6%ad%a5%e6%b7%bb%e5%8a%a0%e6%95%b0%e6%8d%ae%e5%ba%93%e9%a9%b1%e5%8a%a8%e5%8c%85" aria-label="第七步：添加数据库驱动包">第七步：添加数据库驱动包</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%85%ab%e6%ad%a5%e9%85%8d%e7%bd%ae-webxml-%e6%b3%a8%e5%86%8c-servlet" aria-label="第八步：配置 web.xml 注册 Servlet">第八步：配置 web.xml 注册 Servlet</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b9%9d%e6%ad%a5%e5%88%9b%e5%bb%ba-html-%e9%a1%b5%e9%9d%a2%e7%94%a8%e4%ba%8e%e6%b5%8b%e8%af%95" aria-label="第九步：创建 HTML 页面用于测试">第九步：创建 HTML 页面用于测试</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%8d%81%e6%ad%a5%e9%85%8d%e7%bd%ae-idea-%e5%85%b3%e8%81%94-tomcat-%e5%b9%b6%e9%83%a8%e7%bd%b2%e9%a1%b9%e7%9b%ae" aria-label="第十步：配置 IDEA 关联 Tomcat 并部署项目">第十步：配置 IDEA 关联 Tomcat 并部署项目</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%8d%81%e4%b8%80%e6%ad%a5%e5%90%af%e5%8a%a8-tomcat-%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="第十一步：启动 Tomcat 服务器">第十一步：启动 Tomcat 服务器</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%8d%81%e4%ba%8c%e6%ad%a5%e8%ae%bf%e9%97%ae%e6%b5%8b%e8%af%95%e9%a1%b5%e9%9d%a2" aria-label="第十二步：访问测试页面">第十二步：访问测试页面</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e6%80%bb%e7%bb%93" aria-label="三、总结">三、总结</a></li></ul>
                </li>
                <li>
                    <a href="#servlet-%e5%af%b9%e8%b1%a1%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="Servlet 对象的生命周期">Servlet 对象的生命周期</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af-servlet-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="一、什么是 Servlet 生命周期？">一、什么是 Servlet 生命周期？</a></li>
                <li>
                    <a href="#%e4%ba%8cservlet-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e7%94%b1%e8%b0%81%e7%ae%a1%e7%90%86" aria-label="二、Servlet 生命周期由谁管理？">二、Servlet 生命周期由谁管理？</a><ul>
                        
                <li>
                    <a href="#%e5%85%b3%e9%94%ae%e7%82%b9" aria-label="关键点：">关键点：</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e9%bb%98%e8%ae%a4%e6%83%85%e5%86%b5%e4%b8%8b%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%90%af%e5%8a%a8%e6%97%b6%e6%98%af%e5%90%a6%e5%88%9b%e5%bb%ba-servlet-%e5%af%b9%e8%b1%a1" aria-label="三、默认情况下，服务器启动时是否创建 Servlet 对象？">三、默认情况下，服务器启动时是否创建 Servlet 对象？</a></li>
                <li>
                    <a href="#%e5%9b%9b%e5%a6%82%e4%bd%95%e8%ae%a9%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%9c%a8%e5%90%af%e5%8a%a8%e6%97%b6%e5%88%9b%e5%bb%ba-servlet" aria-label="四、如何让服务器在启动时创建 Servlet？">四、如何让服务器在启动时创建 Servlet？</a></li>
                <li>
                    <a href="#%e4%ba%94servlet-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e8%af%a6%e8%a7%a3" aria-label="五、Servlet 生命周期详解">五、Servlet 生命周期详解</a><ul>
                        
                <li>
                    <a href="#1-%e7%ac%ac%e4%b8%80%e6%ac%a1%e8%af%b7%e6%b1%82%e5%8f%91%e7%94%9f%e6%97%b6%e7%9a%84%e8%a1%8c%e4%b8%ba" aria-label="1. 第一次请求发生时的行为">1. 第一次请求发生时的行为</a><ul>
                        
                <li>
                    <a href="#%e7%bb%93%e8%ae%ba" aria-label="结论：">结论：</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e5%90%8e%e7%bb%ad%e8%af%b7%e6%b1%82%e8%a1%8c%e4%b8%ba" aria-label="2. 后续请求行为">2. 后续请求行为</a><ul>
                        
                <li>
                    <a href="#%e7%bb%93%e8%ae%ba-1" aria-label="结论：">结论：</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%85%b3%e9%97%ad%e6%97%b6%e7%9a%84%e8%a1%8c%e4%b8%ba" aria-label="3. 服务器关闭时的行为">3. 服务器关闭时的行为</a><ul>
                        
                <li>
                    <a href="#%e7%bb%93%e8%ae%ba-2" aria-label="结论：">结论：</a></li></ul>
                </li>
                <li>
                    <a href="#4-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e7%b1%bb%e6%af%94%e4%ba%ba%e7%94%9f%e9%98%b6%e6%ae%b5" aria-label="4. 生命周期类比人生阶段">4. 生命周期类比人生阶段</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%adservlet-%e6%96%b9%e6%b3%95%e6%89%a7%e8%a1%8c%e6%ac%a1%e6%95%b0%e6%80%bb%e7%bb%93" aria-label="六、Servlet 方法执行次数总结">六、Servlet 方法执行次数总结</a></li>
                <li>
                    <a href="#%e4%b8%83%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e4%b8%8e%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="七、常见问题与注意事项">七、常见问题与注意事项</a><ul>
                        
                <li>
                    <a href="#1-%e5%a6%82%e6%9e%9c%e8%87%aa%e5%ae%9a%e4%b9%89%e6%9c%89%e5%8f%82%e6%9e%84%e9%80%a0%e6%96%b9%e6%b3%95%e8%80%8c%e6%b2%a1%e6%9c%89%e6%97%a0%e5%8f%82%e6%9e%84%e9%80%a0%e6%96%b9%e6%b3%95%e4%bc%9a%e5%8f%91%e7%94%9f%e4%bb%80%e4%b9%88" aria-label="1. 如果自定义有参构造方法而没有无参构造方法会发生什么？">1. 如果自定义有参构造方法而没有无参构造方法会发生什么？</a></li>
                <li>
                    <a href="#2-%e8%83%bd%e5%90%a6%e7%94%a8%e6%9e%84%e9%80%a0%e6%96%b9%e6%b3%95%e4%bb%a3%e6%9b%bf-init-%e6%96%b9%e6%b3%95" aria-label="2. 能否用构造方法代替 init() 方法？">2. 能否用构造方法代替 init() 方法？</a></li>
                <li>
                    <a href="#3-%e5%93%aa%e4%ba%9b%e6%96%b9%e6%b3%95%e6%9c%80%e5%b8%b8%e8%a2%ab%e4%bd%bf%e7%94%a8" aria-label="3. 哪些方法最常被使用？">3. 哪些方法最常被使用？</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#genericservlet-%e6%a6%82%e8%bf%b0" aria-label="GenericServlet 概述">GenericServlet 概述</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e7%9b%b4%e6%8e%a5%e5%ae%9e%e7%8e%b0-servlet-%e6%8e%a5%e5%8f%a3%e7%9a%84%e7%bc%ba%e7%82%b9" aria-label="一、直接实现 Servlet 接口的缺点">一、直接实现 Servlet 接口的缺点</a></li>
                <li>
                    <a href="#%e4%ba%8c%e9%80%82%e9%85%8d%e5%99%a8%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8fadapter-pattern" aria-label="二、适配器设计模式（Adapter Pattern）">二、适配器设计模式（Adapter Pattern）</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e5%85%85%e7%94%b5%e5%99%a8%e4%bd%9c%e4%b8%ba%e9%80%82%e9%85%8d%e5%99%a8" aria-label="示例：充电器作为适配器">示例：充电器作为适配器</a></li>
                <li>
                    <a href="#%e5%9c%a8-servlet-%e4%b8%ad%e7%9a%84%e5%ba%94%e7%94%a8" aria-label="在 Servlet 中的应用">在 Servlet 中的应用</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89genericservlet-%e7%9a%84%e4%bd%9c%e7%94%a8%e4%b8%8e%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" aria-label="三、GenericServlet 的作用与使用方式">三、GenericServlet 的作用与使用方式</a><ul>
                        
                <li>
                    <a href="#1-genericservlet-%e7%9a%84%e7%89%b9%e7%82%b9" aria-label="1. GenericServlet 的特点">1. GenericServlet 的特点</a></li>
                <li>
                    <a href="#2-%e4%bd%bf%e7%94%a8%e6%96%b9%e5%bc%8f" aria-label="2. 使用方式">2. 使用方式</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e5%85%b3%e4%ba%8e-genericservlet-%e7%9a%84%e5%87%a0%e4%b8%aa%e6%80%9d%e8%80%83%e9%97%ae%e9%a2%98" aria-label="四、关于 GenericServlet 的几个思考问题">四、关于 GenericServlet 的几个思考问题</a><ul>
                        
                <li>
                    <a href="#1-init-%e6%96%b9%e6%b3%95%e8%bf%98%e4%bc%9a%e6%89%a7%e8%a1%8c%e5%90%97" aria-label="1. init() 方法还会执行吗？">1. init() 方法还会执行吗？</a></li>
                <li>
                    <a href="#2-init-%e6%96%b9%e6%b3%95%e6%98%af%e8%b0%81%e8%b0%83%e7%94%a8%e7%9a%84" aria-label="2. init() 方法是谁调用的？">2. init() 方法是谁调用的？</a></li>
                <li>
                    <a href="#3-servletconfig-%e5%af%b9%e8%b1%a1%e6%98%af%e8%b0%81%e5%88%9b%e5%bb%ba%e5%b9%b6%e4%bc%a0%e5%85%a5%e7%9a%84" aria-label="3. ServletConfig 对象是谁创建并传入的？">3. ServletConfig 对象是谁创建并传入的？</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94tomcat-%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%bc%aa%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b" aria-label="五、Tomcat 服务器伪代码示例">五、Tomcat 服务器伪代码示例</a></li></ul>
                </li>
                <li>
                    <a href="#servletconfig-%e6%a6%82%e8%bf%b0" aria-label="ServletConfig 概述">ServletConfig 概述</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af-servletconfig" aria-label="1. 什么是 ServletConfig？">1. 什么是 ServletConfig？</a></li>
                <li>
                    <a href="#2-%e4%b8%8e-servlet-%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="2. 与 Servlet 的关系">2. 与 Servlet 的关系</a></li>
                <li>
                    <a href="#3-%e5%88%9d%e5%a7%8b%e5%8c%96%e8%bf%87%e7%a8%8b" aria-label="3. 初始化过程">3. 初始化过程</a></li>
                <li>
                    <a href="#4-%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82" aria-label="4. 实现细节">4. 实现细节</a></li>
                <li>
                    <a href="#5-%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95" aria-label="5. 常用方法">5. 常用方法</a></li></ul>
                </li>
                <li>
                    <a href="#servletcontext-%e8%af%a6%e8%a7%a3" aria-label="ServletContext 详解">ServletContext 详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="一、基本概念">一、基本概念</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%80%e4%b9%88%e6%98%af-servletcontext" aria-label="1. 什么是 ServletContext？">1. 什么是 ServletContext？</a></li>
                <li>
                    <a href="#2-%e7%b1%bb%e6%af%94%e7%94%9f%e6%b4%bb%e5%9c%ba%e6%99%af" aria-label="2. 类比生活场景">2. 类比生活场景</a></li>
                <li>
                    <a href="#3-%e6%8e%a5%e5%8f%a3%e5%ae%9e%e7%8e%b0" aria-label="3. 接口实现">3. 接口实现</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e9%85%8d%e7%bd%ae%e4%b8%8e%e5%88%9d%e5%a7%8b%e5%8c%96%e5%8f%82%e6%95%b0" aria-label="二、配置与初始化参数">二、配置与初始化参数</a><ul>
                        
                <li>
                    <a href="#1-%e8%8e%b7%e5%8f%96%e5%88%9d%e5%a7%8b%e5%8c%96%e5%8f%82%e6%95%b0" aria-label="1. 获取初始化参数">1. 获取初始化参数</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95" aria-label="三、常用方法">三、常用方法</a><ul>
                        
                <li>
                    <a href="#1-%e8%8e%b7%e5%8f%96%e5%ba%94%e7%94%a8%e6%a0%b9%e8%b7%af%e5%be%84" aria-label="1. 获取应用根路径">1. 获取应用根路径</a></li>
                <li>
                    <a href="#2-%e8%8e%b7%e5%8f%96%e6%96%87%e4%bb%b6%e7%9c%9f%e5%ae%9e%e8%b7%af%e5%be%84" aria-label="2. 获取文件真实路径">2. 获取文件真实路径</a></li>
                <li>
                    <a href="#3-%e8%ae%b0%e5%bd%95%e6%97%a5%e5%bf%97" aria-label="3. 记录日志">3. 记录日志</a></li>
                <li>
                    <a href="#4-%e5%ba%94%e7%94%a8%e5%9f%9fapplication-scope" aria-label="4. 应用域（Application Scope）">4. 应用域（Application Scope）</a><ul>
                        
                <li>
                    <a href="#%e5%ad%98%e5%82%a8%e4%b8%8e%e8%af%bb%e5%8f%96%e6%95%b0%e6%8d%ae%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="存储与读取数据的方法：">存储与读取数据的方法：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bservlet-%e7%bb%a7%e6%89%bf%e4%bd%93%e7%b3%bb%e7%ae%80%e4%bb%8b" aria-label="四、Servlet 继承体系简介">四、Servlet 继承体系简介</a><ul>
                        
                <li>
                    <a href="#%e7%bb%a7%e6%89%bf%e7%bb%93%e6%9e%84%e5%a6%82%e4%b8%8b" aria-label="继承结构如下：">继承结构如下：</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%bb%ba%e8%ae%ae" aria-label="使用建议：">使用建议：</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e7%bc%93%e5%ad%98%e6%9c%ba%e5%88%b6%e5%9b%9e%e9%a1%be" aria-label="五、缓存机制回顾">五、缓存机制回顾</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93-1" aria-label="总结">总结</a></li></ul>
                </li>
                <li>
                    <a href="#http-%e5%8d%8f%e8%ae%ae%e8%af%a6%e8%a7%a3" aria-label="HTTP 协议详解">HTTP 协议详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af%e5%8d%8f%e8%ae%ae" aria-label="一、什么是协议？">一、什么是协议？</a></li>
                <li>
                    <a href="#%e4%ba%8c%e4%bb%80%e4%b9%88%e6%98%af-http-%e5%8d%8f%e8%ae%ae" aria-label="二、什么是 HTTP 协议？">二、什么是 HTTP 协议？</a><ul>
                        
                <li>
                    <a href="#1-%e7%ae%80%e4%bb%8b" aria-label="1. 简介">1. 简介</a></li>
                <li>
                    <a href="#2-w3c-%e7%bb%84%e7%bb%87%e7%ae%80%e4%bb%8b" aria-label="2. W3C 组织简介">2. W3C 组织简介</a></li>
                <li>
                    <a href="#3-%e8%b6%85%e6%96%87%e6%9c%achypertext" aria-label="3. 超文本（Hypertext）">3. 超文本（Hypertext）</a></li>
                <li>
                    <a href="#4-%e8%a7%a3%e8%80%a6%e5%90%88%e6%9c%ba%e5%88%b6" aria-label="4. 解耦合机制">4. 解耦合机制</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89http-%e8%af%b7%e6%b1%82%e5%8d%8f%e8%ae%aebrowser--server" aria-label="三、HTTP 请求协议（Browser → Server）">三、HTTP 请求协议（Browser → Server）</a><ul>
                        
                <li>
                    <a href="#1-%e7%bb%93%e6%9e%84%e7%bb%84%e6%88%90" aria-label="1. 结构组成">1. 结构组成</a></li>
                <li>
                    <a href="#2-%e7%a4%ba%e4%be%8bget-%e8%af%b7%e6%b1%82" aria-label="2. 示例：GET 请求">2. 示例：GET 请求</a></li>
                <li>
                    <a href="#3-%e7%a4%ba%e4%be%8bpost-%e8%af%b7%e6%b1%82" aria-label="3. 示例：POST 请求">3. 示例：POST 请求</a></li>
                <li>
                    <a href="#4-%e5%90%84%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e8%af%a6%e8%a7%a3" aria-label="4. 各组成部分详解">4. 各组成部分详解</a><ul>
                        
                <li>
                    <a href="#1%e8%af%b7%e6%b1%82%e8%a1%8crequest-line" aria-label="（1）请求行（Request Line）">（1）请求行（Request Line）</a></li>
                <li>
                    <a href="#2%e8%af%b7%e6%b1%82%e5%a4%b4headers" aria-label="（2）请求头（Headers）">（2）请求头（Headers）</a></li>
                <li>
                    <a href="#3%e7%a9%ba%e7%99%bd%e8%a1%8cempty-line" aria-label="（3）空白行（Empty Line）">（3）空白行（Empty Line）</a></li>
                <li>
                    <a href="#4%e8%af%b7%e6%b1%82%e4%bd%93body" aria-label="（4）请求体（Body）">（4）请求体（Body）</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bhttp-%e5%93%8d%e5%ba%94%e5%8d%8f%e8%ae%aeserver--browser" aria-label="四、HTTP 响应协议（Server → Browser）">四、HTTP 响应协议（Server → Browser）</a><ul>
                        
                <li>
                    <a href="#1-%e7%bb%93%e6%9e%84%e7%bb%84%e6%88%90-1" aria-label="1. 结构组成">1. 结构组成</a></li>
                <li>
                    <a href="#2-%e7%a4%ba%e4%be%8b%e5%93%8d%e5%ba%94%e6%8a%a5%e6%96%87" aria-label="2. 示例：响应报文">2. 示例：响应报文</a></li>
                <li>
                    <a href="#3-%e5%90%84%e7%bb%84%e6%88%90%e9%83%a8%e5%88%86%e8%af%a6%e8%a7%a3" aria-label="3. 各组成部分详解">3. 各组成部分详解</a><ul>
                        
                <li>
                    <a href="#1%e7%8a%b6%e6%80%81%e8%a1%8cstatus-line" aria-label="（1）状态行（Status Line）">（1）状态行（Status Line）</a></li>
                <li>
                    <a href="#2%e5%93%8d%e5%ba%94%e5%a4%b4headers" aria-label="（2）响应头（Headers）">（2）响应头（Headers）</a></li>
                <li>
                    <a href="#3%e7%a9%ba%e7%99%bd%e8%a1%8cempty-line-1" aria-label="（3）空白行（Empty Line）">（3）空白行（Empty Line）</a></li>
                <li>
                    <a href="#4%e5%93%8d%e5%ba%94%e4%bd%93body" aria-label="（4）响应体（Body）">（4）响应体（Body）</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e5%a6%82%e4%bd%95%e6%9f%a5%e7%9c%8b-http-%e5%8d%8f%e8%ae%ae%e5%86%85%e5%ae%b9" aria-label="五、如何查看 HTTP 协议内容？">五、如何查看 HTTP 协议内容？</a></li>
                <li>
                    <a href="#%e5%85%adget-%e4%b8%8e-post-%e8%af%b7%e6%b1%82%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="六、GET 与 POST 请求的区别">六、GET 与 POST 请求的区别</a></li>
                <li>
                    <a href="#%e4%b8%83get-%e5%92%8c-post-%e7%9a%84%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="七、GET 和 POST 的使用场景">七、GET 和 POST 的使用场景</a></li>
                <li>
                    <a href="#%e5%85%ab%e8%af%b7%e6%b1%82%e6%95%b0%e6%8d%ae%e6%a0%bc%e5%bc%8f%e7%bb%9f%e4%b8%80" aria-label="八、请求数据格式统一">八、请求数据格式统一</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93-2" aria-label="总结">总结</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%a8%a1%e6%9d%bf%e6%96%b9%e6%b3%95%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" aria-label="模板方法设计模式">模板方法设计模式</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" aria-label="一、什么是设计模式？">一、什么是设计模式？</a></li>
                <li>
                    <a href="#%e4%ba%8c%e5%b8%b8%e8%a7%81%e7%9a%84%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e5%88%86%e7%b1%bb" aria-label="二、常见的设计模式分类">二、常见的设计模式分类</a><ul>
                        
                <li>
                    <a href="#1-gof-%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8fgang-of-four" aria-label="1. GoF 设计模式（Gang of Four）">1. GoF 设计模式（Gang of Four）</a></li>
                <li>
                    <a href="#2-javaee-%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" aria-label="2. JavaEE 设计模式">2. JavaEE 设计模式</a></li>
                <li>
                    <a href="#3-%e5%85%b6%e4%bb%96%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f" aria-label="3. 其他设计模式">3. 其他设计模式</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e6%a8%a1%e6%9d%bf%e6%96%b9%e6%b3%95%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e8%af%a6%e8%a7%a3" aria-label="三、模板方法设计模式详解">三、模板方法设计模式详解</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%9a%e4%b9%89" aria-label="1. 定义">1. 定义</a></li>
                <li>
                    <a href="#2-%e6%a0%b8%e5%bf%83%e7%89%b9%e7%82%b9" aria-label="2. 核心特点">2. 核心特点</a></li>
                <li>
                    <a href="#3-%e7%a4%ba%e4%be%8b%e8%af%b4%e6%98%8e%e7%ae%80%e8%a6%81" aria-label="3. 示例说明（简要）">3. 示例说明（简要）</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e6%80%bb%e7%bb%93" aria-label="四、总结">四、总结</a></li></ul>
                </li>
                <li>
                    <a href="#httpservlet-%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90" aria-label="HttpServlet 源码分析">HttpServlet 源码分析</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80httpservlet-%e7%ae%80%e4%bb%8b" aria-label="一、HttpServlet 简介">一、HttpServlet 简介</a></li>
                <li>
                    <a href="#%e4%ba%8cservlet-%e8%a7%84%e8%8c%83%e4%b8%ad%e7%9a%84%e4%b8%bb%e8%a6%81%e6%8e%a5%e5%8f%a3%e4%b8%8e%e7%b1%bb" aria-label="二、Servlet 规范中的主要接口与类">二、Servlet 规范中的主要接口与类</a><ul>
                        
                <li>
                    <a href="#%e6%88%91%e4%bb%ac%e5%b7%b2%e6%8e%a5%e8%a7%a6%e7%9a%84%e6%8e%a5%e5%8f%a3jakartaservlet" aria-label="我们已接触的接口（jakarta.servlet.*）">我们已接触的接口（jakarta.servlet.*）</a></li>
                <li>
                    <a href="#http-%e5%8c%85%e4%b8%ad%e7%9a%84%e7%b1%bb%e4%b8%8e%e6%8e%a5%e5%8f%a3jakartaservlethttp" aria-label="HTTP 包中的类与接口（jakarta.servlet.http.*）">HTTP 包中的类与接口（jakarta.servlet.http.*）</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89httpservletrequest-%e5%92%8c-httpservletresponse" aria-label="三、HttpServletRequest 和 HttpServletResponse">三、HttpServletRequest 和 HttpServletResponse</a><ul>
                        
                <li>
                    <a href="#httpservletrequest" aria-label="HttpServletRequest">HttpServletRequest</a></li>
                <li>
                    <a href="#httpservletresponse" aria-label="HttpServletResponse">HttpServletResponse</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bservlet-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e5%9b%9e%e9%a1%be" aria-label="四、Servlet 生命周期回顾">四、Servlet 生命周期回顾</a></li>
                <li>
                    <a href="#%e4%ba%94httpservlet-%e6%ba%90%e7%a0%81%e5%89%96%e6%9e%90" aria-label="五、HttpServlet 源码剖析">五、HttpServlet 源码剖析</a><ul>
                        
                <li>
                    <a href="#httpservlet-%e7%9a%84%e6%a0%b8%e5%bf%83%e6%96%b9%e6%b3%95service" aria-label="HttpServlet 的核心方法：service">HttpServlet 的核心方法：service</a><ul>
                        
                <li>
                    <a href="#1-serviceservletrequest-servletresponse" aria-label="1. service(ServletRequest, ServletResponse)">1. service(ServletRequest, ServletResponse)</a></li>
                <li>
                    <a href="#2-servicehttpservletrequest-httpservletresponse" aria-label="2. service(HttpServletRequest, HttpServletResponse)">2. service(HttpServletRequest, HttpServletResponse)</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%bb%98%e8%ae%a4%e7%9a%84-doget--dopost-%e6%96%b9%e6%b3%95" aria-label="默认的 doGet / doPost 方法">默认的 doGet / doPost 方法</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ad%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e8%a7%a3%e7%ad%94" aria-label="六、常见问题解答">六、常见问题解答</a><ul>
                        
                <li>
                    <a href="#1-%e5%a6%82%e6%9e%9c%e5%89%8d%e7%ab%af%e8%af%b7%e6%b1%82%e6%96%b9%e5%bc%8f%e5%92%8c%e5%90%8e%e7%ab%af%e9%87%8d%e5%86%99%e6%96%b9%e6%b3%95%e4%b8%8d%e5%8c%b9%e9%85%8d%e4%bc%9a%e5%8f%91%e7%94%9f%e4%bb%80%e4%b9%88" aria-label="1. 如果前端请求方式和后端重写方法不匹配会发生什么？">1. 如果前端请求方式和后端重写方法不匹配会发生什么？</a></li>
                <li>
                    <a href="#2-%e5%a6%82%e4%bd%95%e9%81%bf%e5%85%8d-405-%e9%94%99%e8%af%af" aria-label="2. 如何避免 405 错误？">2. 如何避免 405 错误？</a></li>
                <li>
                    <a href="#3-%e6%98%af%e5%90%a6%e5%8f%af%e4%bb%a5%e7%9b%b4%e6%8e%a5%e9%87%8d%e5%86%99-httpservlet-%e7%9a%84-service-%e6%96%b9%e6%b3%95" aria-label="3. 是否可以直接重写 HttpServlet 的 service() 方法？">3. 是否可以直接重写 HttpServlet 的 service() 方法？</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83servlet-%e5%bc%80%e5%8f%91%e6%a0%87%e5%87%86%e6%b5%81%e7%a8%8b" aria-label="七、Servlet 开发标准流程">七、Servlet 开发标准流程</a></li></ul>
                </li>
                <li>
                    <a href="#web-%e7%ab%99%e7%82%b9%e7%9a%84%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e8%af%a6%e8%a7%a3" aria-label="Web 站点的欢迎页面详解">Web 站点的欢迎页面详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af-web-%e7%ab%99%e7%82%b9%e7%9a%84%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="一、什么是 Web 站点的欢迎页面？">一、什么是 Web 站点的欢迎页面？</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e8%af%b4%e6%98%8e" aria-label="示例说明：">示例说明：</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e5%a6%82%e4%bd%95%e8%ae%be%e7%bd%ae%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="二、如何设置欢迎页面？">二、如何设置欢迎页面？</a><ul>
                        
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-1%e5%9c%a8-web-%e7%9b%ae%e5%bd%95%e4%b8%8b%e5%88%9b%e5%bb%ba%e7%99%bb%e5%bd%95%e9%a1%b5%e9%9d%a2" aria-label="步骤 1：在 web 目录下创建登录页面">步骤 1：在 web 目录下创建登录页面</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-2%e5%9c%a8-webxml-%e4%b8%ad%e9%85%8d%e7%bd%ae%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="步骤 2：在 web.xml 中配置欢迎页面">步骤 2：在 web.xml 中配置欢迎页面</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-3%e5%90%af%e5%8a%a8%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b9%b6%e8%ae%bf%e9%97%ae%e7%ab%99%e7%82%b9" aria-label="步骤 3：启动服务器并访问站点">步骤 3：启动服务器并访问站点</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%a6%82%e6%9e%9c%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e5%9c%a8%e5%ad%90%e7%9b%ae%e5%bd%95%e4%b8%ad%e8%af%a5%e5%a6%82%e4%bd%95%e8%ae%be%e7%bd%ae" aria-label="三、如果欢迎页面在子目录中该如何设置？">三、如果欢迎页面在子目录中该如何设置？</a><ul>
                        
                <li>
                    <a href="#%e5%9c%ba%e6%99%af%e6%8f%8f%e8%bf%b0" aria-label="场景描述：">场景描述：</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%96%b9%e5%bc%8f" aria-label="配置方式：">配置方式：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e4%b8%80%e4%b8%aa-webapp-%e5%8f%af%e4%bb%a5%e8%ae%be%e7%bd%ae%e5%a4%9a%e4%b8%aa%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e5%90%97" aria-label="四、一个 WebApp 可以设置多个欢迎页面吗？">四、一个 WebApp 可以设置多个欢迎页面吗？</a></li>
                <li>
                    <a href="#%e4%ba%94%e4%b8%ba%e4%bb%80%e4%b9%88-indexhtml-%e4%b8%8d%e9%9c%80%e8%a6%81%e9%85%8d%e7%bd%ae%e4%b9%9f%e8%83%bd%e4%bd%9c%e4%b8%ba%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="五、为什么 index.html 不需要配置也能作为欢迎页面？">五、为什么 index.html 不需要配置也能作为欢迎页面？</a><ul>
                        
                <li>
                    <a href="#%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e7%9a%84%e9%85%8d%e7%bd%ae%e4%bd%8d%e7%bd%ae%e6%9c%89%e4%b8%a4%e4%b8%aa" aria-label="欢迎页面的配置位置有两个：">欢迎页面的配置位置有两个：</a></li>
                <li>
                    <a href="#tomcat-%e9%bb%98%e8%ae%a4%e7%9a%84%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e9%85%8d%e7%bd%ae" aria-label="Tomcat 默认的欢迎页面配置：">Tomcat 默认的欢迎页面配置：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ad%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2%e5%8f%af%e4%bb%a5%e6%98%af%e4%b8%80%e4%b8%aa-servlet-%e5%90%97" aria-label="六、欢迎页面可以是一个 Servlet 吗？">六、欢迎页面可以是一个 Servlet 吗？</a><ul>
                        
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-1%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa%e6%ac%a2%e8%bf%8e%e7%94%a8%e7%9a%84-servlet" aria-label="步骤 1：编写一个欢迎用的 Servlet">步骤 1：编写一个欢迎用的 Servlet</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-2%e5%9c%a8-webxml-%e4%b8%ad%e6%b3%a8%e5%86%8c%e8%af%a5-servlet" aria-label="步骤 2：在 web.xml 中注册该 Servlet">步骤 2：在 web.xml 中注册该 Servlet</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4-3%e5%9c%a8-webxml-%e4%b8%ad%e9%85%8d%e7%bd%ae%e4%b8%ba%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="步骤 3：在 web.xml 中配置为欢迎页面">步骤 3：在 web.xml 中配置为欢迎页面</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93-3" aria-label="总结">总结</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8eweb-inf%e7%9b%ae%e5%bd%95" aria-label="关于WEB-INF目录">关于WEB-INF目录</a></li>
                <li>
                    <a href="#httpservletrequest-%e6%8e%a5%e5%8f%a3%e8%af%a6%e8%a7%a3" aria-label="HttpServletRequest 接口详解">HttpServletRequest 接口详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%9f%ba%e6%9c%ac%e6%a6%82%e8%bf%b0" aria-label="一、基本概述">一、基本概述</a><ul>
                        
                <li>
                    <a href="#1-%e6%8e%a5%e5%8f%a3%e5%ae%9a%e4%b9%89" aria-label="1. 接口定义">1. 接口定义</a></li>
                <li>
                    <a href="#2-%e5%ae%9e%e7%8e%b0%e4%b8%8e%e5%88%9b%e5%bb%ba" aria-label="2. 实现与创建">2. 实现与创建</a></li>
                <li>
                    <a href="#3-%e5%b0%81%e8%a3%85%e5%86%85%e5%ae%b9" aria-label="3. 封装内容">3. 封装内容</a></li>
                <li>
                    <a href="#4-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="4. 生命周期">4. 生命周期</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95%e8%af%a6%e8%a7%a3" aria-label="二、常用方法详解">二、常用方法详解</a><ul>
                        
                <li>
                    <a href="#1-%e8%8e%b7%e5%8f%96%e7%94%a8%e6%88%b7%e6%8f%90%e4%ba%a4%e7%9a%84%e6%95%b0%e6%8d%ae" aria-label="1. 获取用户提交的数据">1. 获取用户提交的数据</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95%e5%88%97%e8%a1%a8" aria-label="常用方法列表：">常用方法列表：</a></li>
                <li>
                    <a href="#%e6%95%b0%e6%8d%ae%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84%e5%88%86%e6%9e%90" aria-label="数据存储结构分析：">数据存储结构分析：</a></li>
                <li>
                    <a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="注意事项：">注意事项：</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e8%af%b7%e6%b1%82%e5%9f%9frequest-scope" aria-label="2. 请求域（Request Scope）">2. 请求域（Request Scope）</a><ul>
                        
                <li>
                    <a href="#%e6%a6%82%e8%bf%b0" aria-label="概述：">概述：</a></li>
                <li>
                    <a href="#%e5%9f%9f%e6%93%8d%e4%bd%9c%e6%96%b9%e6%b3%95" aria-label="域操作方法：">域操作方法：</a></li>
                <li>
                    <a href="#%e4%b8%8e%e5%ba%94%e7%94%a8%e5%9f%9f%e5%af%b9%e6%af%94" aria-label="与应用域对比：">与应用域对比：</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%bb%ba%e8%ae%ae-1" aria-label="使用建议：">使用建议：</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e8%af%b7%e6%b1%82%e8%bd%ac%e5%8f%91forward" aria-label="3. 请求转发（Forward）">3. 请求转发（Forward）</a><ul>
                        
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e4%bb%a3%e7%a0%81-1" aria-label="示例代码：">示例代码：</a></li>
                <li>
                    <a href="#%e7%89%b9%e7%82%b9" aria-label="特点：">特点：</a></li>
                <li>
                    <a href="#%e6%95%b0%e6%8d%ae%e5%85%b1%e4%ba%ab%e6%96%b9%e5%bc%8f" aria-label="数据共享方式：">数据共享方式：</a></li></ul>
                </li>
                <li>
                    <a href="#4-%e5%8f%82%e6%95%b0%e8%8e%b7%e5%8f%96%e4%b8%8e%e5%b1%9e%e6%80%a7%e8%8e%b7%e5%8f%96%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="4. 参数获取与属性获取的区别">4. 参数获取与属性获取的区别</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%85%b6%e4%bb%96%e5%b8%b8%e8%a7%81%e6%96%b9%e6%b3%95" aria-label="三、其他常见方法">三、其他常见方法</a></li>
                <li>
                    <a href="#%e5%9b%9b%e4%b9%b1%e7%a0%81%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" aria-label="四、乱码问题解决方案">四、乱码问题解决方案</a></li>
                <li>
                    <a href="#%e4%ba%94%e7%bc%93%e5%ad%98%e6%8a%80%e6%9c%af%e7%ae%80%e8%a6%81%e4%bb%8b%e7%bb%8d" aria-label="五、缓存技术简要介绍">五、缓存技术简要介绍</a></li>
                <li>
                    <a href="#%e5%85%ad%e6%80%bb%e7%bb%93" aria-label="六、总结">六、总结</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e7%ba%afservlet%e5%ae%9e%e7%8e%b0%e9%83%a8%e9%97%a8%e8%a1%a8%e7%9a%84crud%e6%93%8d%e4%bd%9c" aria-label="使用纯Servlet实现部门表的CRUD操作">使用纯Servlet实现部门表的CRUD操作</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e9%a1%b9%e7%9b%ae%e6%a6%82%e8%bf%b0" aria-label="一、项目概述">一、项目概述</a></li>
                <li>
                    <a href="#%e4%ba%8c%e6%95%b0%e6%8d%ae%e5%ba%93%e5%87%86%e5%a4%87" aria-label="二、数据库准备">二、数据库准备</a><ul>
                        
                <li>
                    <a href="#%e9%83%a8%e9%97%a8%e8%a1%a8%e7%bb%93%e6%9e%84%e5%8f%8a%e5%88%9d%e5%a7%8b%e5%8c%96%e8%84%9a%e6%9c%ac" aria-label="部门表结构及初始化脚本">部门表结构及初始化脚本</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%89%8d%e7%ab%af%e9%a1%b5%e9%9d%a2%e8%ae%be%e8%ae%a1" aria-label="三、前端页面设计">三、前端页面设计</a></li>
                <li>
                    <a href="#%e5%9b%9b%e5%8a%9f%e8%83%bd%e5%88%86%e6%9e%90" aria-label="四、功能分析">四、功能分析</a></li>
                <li>
                    <a href="#%e4%ba%94%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%baidea" aria-label="五、开发环境搭建（IDEA）">五、开发环境搭建（IDEA）</a><ul>
                        
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4%e5%a6%82%e4%b8%8b" aria-label="步骤如下：">步骤如下：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ad%e5%8a%9f%e8%83%bd%e5%ae%9e%e7%8e%b0%e6%b5%81%e7%a8%8b%e8%af%a6%e8%a7%a3" aria-label="六、功能实现流程详解">六、功能实现流程详解</a><ul>
                        
                <li>
                    <a href="#1-%e6%9f%a5%e7%9c%8b%e9%83%a8%e9%97%a8%e5%88%97%e8%a1%a8" aria-label="1. 查看部门列表">1. 查看部门列表</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e6%ad%a5%e9%aa%a4" aria-label="实现步骤：">实现步骤：</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e6%9f%a5%e7%9c%8b%e9%83%a8%e9%97%a8%e8%af%a6%e6%83%85" aria-label="2. 查看部门详情">2. 查看部门详情</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e6%ad%a5%e9%aa%a4-1" aria-label="实现步骤：">实现步骤：</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e5%88%a0%e9%99%a4%e9%83%a8%e9%97%a8" aria-label="3. 删除部门">3. 删除部门</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e6%ad%a5%e9%aa%a4-2" aria-label="实现步骤：">实现步骤：</a></li></ul>
                </li>
                <li>
                    <a href="#4-%e6%96%b0%e5%a2%9e%e9%83%a8%e9%97%a8" aria-label="4. 新增部门">4. 新增部门</a><ul>
                        
                <li>
                    <a href="#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9-1" aria-label="注意事项：">注意事项：</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e8%b7%b3%e8%bd%ac%e5%88%b0%e4%bf%ae%e6%94%b9%e9%a1%b5%e9%9d%a2" aria-label="5. 跳转到修改页面">5. 跳转到修改页面</a></li>
                <li>
                    <a href="#6-%e4%bf%ae%e6%94%b9%e9%83%a8%e9%97%a8" aria-label="6. 修改部门">6. 修改部门</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83%e6%80%bb%e7%bb%93" aria-label="七、总结">七、总结</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9c%a8%e4%b8%80%e4%b8%aa-web-%e5%ba%94%e7%94%a8%e4%b8%ad%e5%a6%82%e4%bd%95%e5%ae%8c%e6%88%90%e8%b5%84%e6%ba%90%e8%b7%b3%e8%bd%ac" aria-label="在一个 Web 应用中如何完成资源跳转">在一个 Web 应用中如何完成资源跳转</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e8%bd%ac%e5%8f%91-vs-%e9%87%8d%e5%ae%9a%e5%90%91" aria-label="一、转发 vs 重定向">一、转发 vs 重定向</a><ul>
                        
                <li>
                    <a href="#1-%e4%bb%a3%e7%a0%81%e4%b8%8a%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="1. 代码上的区别">1. 代码上的区别</a><ul>
                        
                <li>
                    <a href="#-%e8%bd%ac%e5%8f%91%e7%a4%ba%e4%be%8bjava" aria-label="✅ 转发示例（Java）">✅ 转发示例（Java）</a></li>
                <li>
                    <a href="#-%e9%87%8d%e5%ae%9a%e5%90%91%e7%a4%ba%e4%be%8bjava" aria-label="✅ 重定向示例（Java）">✅ 重定向示例（Java）</a></li></ul>
                </li>
                <li>
                    <a href="#2-%e5%bd%a2%e5%bc%8f%e4%b8%8a%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="2. 形式上的区别">2. 形式上的区别</a><ul>
                        
                <li>
                    <a href="#-%e8%bd%ac%e5%8f%91%e4%b8%80%e6%ac%a1%e8%af%b7%e6%b1%82" aria-label="📌 转发（一次请求）">📌 转发（一次请求）</a></li>
                <li>
                    <a href="#-%e9%87%8d%e5%ae%9a%e5%90%91%e4%b8%a4%e6%ac%a1%e8%af%b7%e6%b1%82" aria-label="📌 重定向（两次请求）">📌 重定向（两次请求）</a></li></ul>
                </li>
                <li>
                    <a href="#3-%e6%9c%ac%e8%b4%a8%e5%8c%ba%e5%88%ab" aria-label="3. 本质区别">3. 本质区别</a></li>
                <li>
                    <a href="#4-%e7%94%9f%e6%b4%bb%e5%8c%96%e7%9a%84%e4%be%8b%e5%ad%90%e8%a7%a3%e9%87%8a" aria-label="4. 生活化的例子解释">4. 生活化的例子解释</a><ul>
                        
                <li>
                    <a href="#-%e8%bd%ac%e5%8f%91%e4%b8%80%e6%ac%a1%e8%af%b7%e6%b1%82-%e7%b1%bb%e4%bc%bc%e4%b8%ad%e9%97%b4%e4%ba%ba%e5%b8%ae%e5%bf%99%e5%80%9f%e9%92%b1" aria-label="🧾 转发（一次请求）—— 类似“中间人帮忙借钱”">🧾 转发（一次请求）—— 类似“中间人帮忙借钱”</a></li>
                <li>
                    <a href="#-%e9%87%8d%e5%ae%9a%e5%90%91%e4%b8%a4%e6%ac%a1%e8%af%b7%e6%b1%82-%e7%b1%bb%e4%bc%bc%e7%9b%b4%e6%8e%a5%e6%89%be%e5%88%ab%e4%ba%ba%e5%80%9f%e9%92%b1" aria-label="🧾 重定向（两次请求）—— 类似“直接找别人借钱”">🧾 重定向（两次请求）—— 类似“直接找别人借钱”</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e8%bd%ac%e5%8f%91%e5%92%8c%e9%87%8d%e5%ae%9a%e5%90%91%e8%af%a5%e5%a6%82%e4%bd%95%e9%80%89%e6%8b%a9" aria-label="二、转发和重定向该如何选择？">二、转发和重定向该如何选择？</a></li>
                <li>
                    <a href="#%e4%b8%89%e8%b7%b3%e8%bd%ac%e7%9a%84%e7%9b%ae%e6%a0%87%e8%b5%84%e6%ba%90%e5%bf%85%e9%a1%bb%e6%98%af-servlet-%e5%90%97" aria-label="三、跳转的目标资源必须是 Servlet 吗？">三、跳转的目标资源必须是 Servlet 吗？</a></li>
                <li>
                    <a href="#%e5%9b%9b%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9" aria-label="四、注意事项">四、注意事项</a><ul>
                        
                <li>
                    <a href="#-%e8%bd%ac%e5%8f%91%e5%ad%98%e5%9c%a8%e7%9a%84%e9%97%ae%e9%a2%98%e6%b5%8f%e8%a7%88%e5%99%a8%e5%88%b7%e6%96%b0%e9%97%ae%e9%a2%98" aria-label="⚠️ 转发存在的问题：浏览器刷新问题">⚠️ 转发存在的问题：浏览器刷新问题</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93-4" aria-label="总结">总结</a></li>
                <li>
                    <a href="#%e5%b0%86oa%e9%a1%b9%e7%9b%ae%e4%b8%ad%e7%9a%84%e8%b5%84%e6%ba%90%e8%b7%b3%e8%bd%ac%e4%bf%ae%e6%94%b9%e4%b8%ba%e5%90%88%e9%80%82%e7%9a%84%e8%b7%b3%e8%bd%ac%e6%96%b9%e5%bc%8f" aria-label="将oa项目中的资源跳转修改为合适的跳转方式">将oa项目中的资源跳转修改为合适的跳转方式</a></li>
                <li>
                    <a href="#servlet%e6%b3%a8%e8%a7%a3%e7%ae%80%e5%8c%96%e9%85%8d%e7%bd%ae" aria-label="Servlet注解，简化配置">Servlet注解，简化配置</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%a8%a1%e6%9d%bf%e6%96%b9%e6%b3%95%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e4%bc%98%e5%8c%96oa%e9%a1%b9%e7%9b%ae" aria-label="使用模板方法设计模式优化oa项目">使用模板方法设计模式优化oa项目</a></li>
                <li>
                    <a href="#%e5%88%86%e6%9e%90%e4%bd%bf%e7%94%a8%e7%ba%af%e7%b2%b9servlet%e5%bc%80%e5%8f%91web%e5%ba%94%e7%94%a8%e7%9a%84%e7%bc%ba%e9%99%b7" aria-label="分析使用纯粹Servlet开发web应用的缺陷">分析使用纯粹Servlet开发web应用的缺陷</a></li></ul>
                </li>
                <li>
                    <a href="#bs%e7%bb%93%e6%9e%84%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e4%bc%9a%e8%af%9d%e6%9c%ba%e5%88%b6session%e6%9c%ba%e5%88%b6" aria-label="B/S结构系统中的会话机制（Session机制）">B/S结构系统中的会话机制（Session机制）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af%e4%bc%9a%e8%af%9d" aria-label="一、什么是会话？">一、什么是会话？</a><ul>
                        
                <li>
                    <a href="#1-%e5%9f%ba%e6%9c%ac%e5%ae%9a%e4%b9%89" aria-label="1. 基本定义">1. 基本定义</a></li>
                <li>
                    <a href="#2-%e4%bc%9a%e8%af%9d%e5%af%b9%e8%b1%a1session-object" aria-label="2. 会话对象（Session Object）">2. 会话对象（Session Object）</a></li>
                <li>
                    <a href="#3-%e8%af%b7%e6%b1%82request" aria-label="3. 请求（Request）">3. 请求（Request）</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8c%e4%b8%ba%e4%bb%80%e4%b9%88%e9%9c%80%e8%a6%81-session" aria-label="二、为什么需要 Session？">二、为什么需要 Session？</a><ul>
                        
                <li>
                    <a href="#1-http-%e5%8d%8f%e8%ae%ae%e6%98%af%e6%97%a0%e7%8a%b6%e6%80%81%e7%9a%84" aria-label="1. HTTP 协议是无状态的">1. HTTP 协议是无状态的</a></li>
                <li>
                    <a href="#2-%e7%8a%b6%e6%80%81%e4%bf%9d%e6%8c%81%e7%9a%84%e9%9c%80%e6%b1%82" aria-label="2. 状态保持的需求">2. 状态保持的需求</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89session-%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86" aria-label="三、Session 的工作原理">三、Session 的工作原理</a><ul>
                        
                <li>
                    <a href="#1-%e8%8e%b7%e5%8f%96-session-%e5%af%b9%e8%b1%a1" aria-label="1. 获取 Session 对象">1. 获取 Session 对象</a></li>
                <li>
                    <a href="#2-session-id-%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="2. Session ID 的作用">2. Session ID 的作用</a></li>
                <li>
                    <a href="#3-session-%e5%88%97%e8%a1%a8%e7%9a%84%e5%ad%98%e5%82%a8%e7%bb%93%e6%9e%84" aria-label="3. Session 列表的存储结构">3. Session 列表的存储结构</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bsession-%e4%b8%8e%e5%85%b6%e4%bb%96%e5%9f%9f%e5%af%b9%e8%b1%a1%e5%af%b9%e6%af%94" aria-label="四、Session 与其他域对象对比">四、Session 与其他域对象对比</a><ul>
                        
                <li>
                    <a href="#1-%e5%9f%9f%e5%af%b9%e8%b1%a1%e5%a4%a7%e5%b0%8f%e5%85%b3%e7%b3%bb" aria-label="1. 域对象大小关系">1. 域对象大小关系</a></li>
                <li>
                    <a href="#2-%e5%9f%9f%e5%af%b9%e8%b1%a1%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95" aria-label="2. 域对象常用方法">2. 域对象常用方法</a></li>
                <li>
                    <a href="#3-%e4%bd%bf%e7%94%a8%e5%8e%9f%e5%88%99" aria-label="3. 使用原则">3. 使用原则</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94session-%e7%9a%84%e5%ae%9e%e7%8e%b0%e7%bb%86%e8%8a%82" aria-label="五、Session 的实现细节">五、Session 的实现细节</a><ul>
                        
                <li>
                    <a href="#1-session-id-%e7%9a%84%e4%bc%a0%e8%be%93%e6%96%b9%e5%bc%8f" aria-label="1. Session ID 的传输方式">1. Session ID 的传输方式</a></li>
                <li>
                    <a href="#2-url-%e9%87%8d%e5%86%99%e6%9c%ba%e5%88%b6" aria-label="2. URL 重写机制">2. URL 重写机制</a></li>
                <li>
                    <a href="#3-session-%e7%9a%84%e9%94%80%e6%af%81" aria-label="3. Session 的销毁">3. Session 的销毁</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%adsession-%e7%9a%84%e5%85%b8%e5%9e%8b%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="六、Session 的典型应用场景">六、Session 的典型应用场景</a><ul>
                        
                <li>
                    <a href="#1-%e7%94%a8%e6%88%b7%e7%99%bb%e5%bd%95%e8%ae%a4%e8%af%81" aria-label="1. 用户登录认证">1. 用户登录认证</a></li>
                <li>
                    <a href="#2-%e8%b4%ad%e7%89%a9%e8%bd%a6%e5%8a%9f%e8%83%bd" aria-label="2. 购物车功能">2. 购物车功能</a></li>
                <li>
                    <a href="#3-%e9%98%b2%e6%ad%a2%e9%87%8d%e5%a4%8d%e6%8f%90%e4%ba%a4" aria-label="3. 防止重复提交">3. 防止重复提交</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83session-%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9%e5%88%86%e6%9e%90" aria-label="七、Session 的优缺点分析">七、Session 的优缺点分析</a></li>
                <li>
                    <a href="#%e5%85%absession-%e4%b8%8e-token-%e7%9a%84%e6%af%94%e8%be%83%e6%89%a9%e5%b1%95%e7%9f%a5%e8%af%86" aria-label="八、Session 与 Token 的比较（扩展知识）">八、Session 与 Token 的比较（扩展知识）</a></li>
                <li>
                    <a href="#%e4%b9%9d%e6%80%bb%e7%bb%93" aria-label="九、总结">九、总结</a></li></ul>
                </li>
                <li>
                    <a href="#cookie-%e4%b8%8e-session-%e5%8e%9f%e7%90%86%e8%af%a6%e8%a7%a3" aria-label="Cookie 与 Session 原理详解">Cookie 与 Session 原理详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80cookie-%e7%ae%80%e4%bb%8b" aria-label="一、Cookie 简介">一、Cookie 简介</a><ul>
                        
                <li>
                    <a href="#11-cookie-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="1.1 Cookie 是什么？">1.1 Cookie 是什么？</a></li>
                <li>
                    <a href="#12-cookie-%e7%9a%84%e7%94%9f%e6%88%90%e4%b8%8e%e5%ad%98%e5%82%a8%e4%bd%8d%e7%bd%ae" aria-label="1.2 Cookie 的生成与存储位置">1.2 Cookie 的生成与存储位置</a></li>
                <li>
                    <a href="#13-cookie-%e7%9a%84%e7%94%a8%e9%80%94" aria-label="1.3 Cookie 的用途">1.3 Cookie 的用途</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8csession-%e7%9a%84%e5%8e%9f%e7%90%86%e5%8f%8a%e4%b8%8e-cookie-%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="二、Session 的原理及与 Cookie 的关系">二、Session 的原理及与 Cookie 的关系</a><ul>
                        
                <li>
                    <a href="#21-session-%e7%9a%84%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86" aria-label="2.1 Session 的实现原理">2.1 Session 的实现原理</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89cookie-%e7%9a%84%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af%e4%b8%8e%e7%bb%8f%e5%85%b8%e6%a1%88%e4%be%8b" aria-label="三、Cookie 的使用场景与经典案例">三、Cookie 的使用场景与经典案例</a><ul>
                        
                <li>
                    <a href="#31-%e8%b4%ad%e7%89%a9%e8%bd%a6%e5%8a%9f%e8%83%bd%e5%a6%82%e4%ba%ac%e4%b8%9c%e5%95%86%e5%9f%8e" aria-label="3.1 购物车功能（如京东商城）">3.1 购物车功能（如京东商城）</a></li>
                <li>
                    <a href="#32-%e5%8d%81%e5%a4%a9%e5%86%85%e5%85%8d%e7%99%bb%e5%bd%95%e5%a6%82-126-%e9%82%ae%e7%ae%b1" aria-label="3.2 十天内免登录（如 126 邮箱）">3.2 十天内免登录（如 126 邮箱）</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bjava-web-%e4%b8%ad%e5%af%b9-cookie-%e7%9a%84%e6%94%af%e6%8c%81" aria-label="四、Java Web 中对 Cookie 的支持">四、Java Web 中对 Cookie 的支持</a><ul>
                        
                <li>
                    <a href="#41-java-servlet-%e6%8f%90%e4%be%9b%e7%9a%84%e7%b1%bb%e4%b8%8e%e6%96%b9%e6%b3%95" aria-label="4.1 Java Servlet 提供的类与方法">4.1 Java Servlet 提供的类与方法</a></li>
                <li>
                    <a href="#42-%e8%8e%b7%e5%8f%96-cookie" aria-label="4.2 获取 Cookie">4.2 获取 Cookie</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94cookie-%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e4%b8%8e%e4%bd%9c%e7%94%a8%e8%8c%83%e5%9b%b4" aria-label="五、Cookie 的生命周期与作用范围">五、Cookie 的生命周期与作用范围</a><ul>
                        
                <li>
                    <a href="#51-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f%e6%8e%a7%e5%88%b6" aria-label="5.1 生命周期控制">5.1 生命周期控制</a></li>
                <li>
                    <a href="#52-cookie-%e7%9a%84%e4%bd%9c%e7%94%a8%e8%b7%af%e5%be%84path" aria-label="5.2 Cookie 的作用路径（Path）">5.2 Cookie 的作用路径（Path）</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ad%e5%ae%9e%e6%88%98%e7%94%a8-cookie-%e5%ae%9e%e7%8e%b0%e5%8d%81%e5%a4%a9%e5%86%85%e5%85%8d%e7%99%bb%e5%bd%95" aria-label="六、实战：用 Cookie 实现“十天内免登录”">六、实战：用 Cookie 实现“十天内免登录”</a><ul>
                        
                <li>
                    <a href="#61-%e5%8a%9f%e8%83%bd%e6%b5%81%e7%a8%8b" aria-label="6.1 功能流程">6.1 功能流程</a></li>
                <li>
                    <a href="#62-%e6%a0%b8%e5%bf%83%e4%bb%a3%e7%a0%81%e7%89%87%e6%ae%b5" aria-label="6.2 核心代码片段">6.2 核心代码片段</a><ul>
                        
                <li>
                    <a href="#%e7%99%bb%e5%bd%95%e5%a4%84%e7%90%86%e9%80%bb%e8%be%91servlet" aria-label="登录处理逻辑（Servlet）">登录处理逻辑（Servlet）</a></li>
                <li>
                    <a href="#%e9%a1%b5%e9%9d%a2%e8%87%aa%e5%8a%a8%e7%99%bb%e5%bd%95%e6%a3%80%e6%b5%8b%e9%80%bb%e8%be%91filter-%e6%88%96-jsp" aria-label="页面自动登录检测逻辑（Filter 或 JSP）">页面自动登录检测逻辑（Filter 或 JSP）</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83%e6%80%bb%e7%bb%93%e4%b8%8e%e6%89%a9%e5%b1%95%e6%80%9d%e8%80%83" aria-label="七、总结与扩展思考">七、总结与扩展思考</a><ul>
                        
                <li>
                    <a href="#71-%e6%80%bb%e7%bb%93" aria-label="7.1 总结">7.1 总结</a></li>
                <li>
                    <a href="#72-%e6%89%a9%e5%b1%95%e5%bb%ba%e8%ae%ae" aria-label="7.2 扩展建议">7.2 扩展建议</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-jspjavaserver-pages%e8%af%a6%e8%a7%a3" aria-label="✨ JSP（JavaServer Pages）详解">✨ JSP（JavaServer Pages）详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%88%9d%e8%af%86-jsp" aria-label="一、初识 JSP">一、初识 JSP</a><ul>
                        
                <li>
                    <a href="#1-%e7%ac%ac%e4%b8%80%e4%b8%aa-jsp-%e7%a8%8b%e5%ba%8f" aria-label="1. 第一个 JSP 程序">1. 第一个 JSP 程序</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8cjsp-%e7%9a%84%e6%9c%ac%e8%b4%a8%e4%b8%8e%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="二、JSP 的本质与生命周期">二、JSP 的本质与生命周期</a><ul>
                        
                <li>
                    <a href="#1-jsp-%e6%98%af-servlet-%e5%90%97" aria-label="1. JSP 是 Servlet 吗？">1. JSP 是 Servlet 吗？</a></li>
                <li>
                    <a href="#2-%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="2. 生命周期">2. 生命周期</a></li>
                <li>
                    <a href="#3-%e5%8d%95%e4%be%8b%e7%89%b9%e6%80%a7" aria-label="3. 单例特性">3. 单例特性</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89jsp-%e7%9a%84%e8%bf%90%e8%a1%8c%e6%9c%ba%e5%88%b6%e4%b8%8e%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96" aria-label="三、JSP 的运行机制与性能优化">三、JSP 的运行机制与性能优化</a><ul>
                        
                <li>
                    <a href="#1-%e4%b8%ba%e4%bb%80%e4%b9%88%e7%ac%ac%e4%b8%80%e6%ac%a1%e8%ae%bf%e9%97%ae-jsp-%e6%af%94%e8%be%83%e6%85%a2" aria-label="1. 为什么第一次访问 JSP 比较慢？">1. 为什么第一次访问 JSP 比较慢？</a></li>
                <li>
                    <a href="#2-%e4%b8%ba%e4%bb%80%e4%b9%88%e7%ac%ac%e4%ba%8c%e6%ac%a1%e8%ae%bf%e9%97%ae%e5%b0%b1%e5%bf%ab%e4%ba%86" aria-label="2. 为什么第二次访问就快了？">2. 为什么第二次访问就快了？</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bjsp-%e7%9a%84%e5%9f%ba%e7%a1%80%e8%af%ad%e6%b3%95" aria-label="四、JSP 的基础语法">四、JSP 的基础语法</a><ul>
                        
                <li>
                    <a href="#1-jsp-%e6%98%af%e4%bb%80%e4%b9%88" aria-label="1. JSP 是什么？">1. JSP 是什么？</a></li>
                <li>
                    <a href="#2-jsp-%e5%9f%ba%e7%a1%80%e8%af%ad%e6%b3%95%e7%bb%93%e6%9e%84" aria-label="2. JSP 基础语法结构">2. JSP 基础语法结构</a></li>
                <li>
                    <a href="#3-page-%e6%8c%87%e4%bb%a4" aria-label="3. page 指令">3. page 指令</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94jsp-%e4%b8%8e-servlet-%e7%9a%84%e5%8c%ba%e5%88%ab%e4%b8%8e%e5%8d%8f%e4%bd%9c" aria-label="五、JSP 与 Servlet 的区别与协作">五、JSP 与 Servlet 的区别与协作</a></li>
                <li>
                    <a href="#%e5%85%adjsp-%e7%9a%84%e4%bd%9c%e7%94%a8%e5%9f%9f%e5%af%b9%e8%b1%a1" aria-label="六、JSP 的作用域对象">六、JSP 的作用域对象</a></li>
                <li>
                    <a href="#%e4%b8%83jsp-%e7%9a%84%e4%b9%9d%e5%a4%a7%e5%86%85%e7%bd%ae%e5%af%b9%e8%b1%a1" aria-label="七、JSP 的九大内置对象">七、JSP 的九大内置对象</a></li>
                <li>
                    <a href="#%e5%85%ab%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e4%b8%8e%e6%8a%80%e5%b7%a7" aria-label="八、常见问题与技巧">八、常见问题与技巧</a><ul>
                        
                <li>
                    <a href="#1-%e5%a6%82%e4%bd%95%e8%b0%83%e8%af%95-jsp" aria-label="1. 如何调试 JSP？">1. 如何调试 JSP？</a></li>
                <li>
                    <a href="#2-jsp-%e6%96%87%e4%bb%b6%e6%89%a9%e5%b1%95%e5%90%8d%e5%8f%af%e4%bb%a5%e4%bf%ae%e6%94%b9%e5%90%97" aria-label="2. JSP 文件扩展名可以修改吗？">2. JSP 文件扩展名可以修改吗？</a></li>
                <li>
                    <a href="#3-jsp-%e5%8f%af%e4%bb%a5%e5%8d%95%e7%8b%ac%e5%bc%80%e5%8f%91-web-%e5%ba%94%e7%94%a8%e5%90%97" aria-label="3. JSP 可以单独开发 Web 应用吗？">3. JSP 可以单独开发 Web 应用吗？</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b9%9d%e5%ae%9e%e6%88%98%e6%a1%88%e4%be%8b%e7%99%bb%e5%bd%95%e5%8a%9f%e8%83%bd%e5%ae%9e%e7%8e%b0" aria-label="九、实战案例：登录功能实现">九、实战案例：登录功能实现</a><ul>
                        
                <li>
                    <a href="#1-%e9%9c%80%e6%b1%82%e8%83%8c%e6%99%af" aria-label="1. 需求背景">1. 需求背景</a></li>
                <li>
                    <a href="#2-%e5%ae%9e%e7%8e%b0%e6%ad%a5%e9%aa%a4" aria-label="2. 实现步骤">2. 实现步骤</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8d%81jsp-%e6%8c%87%e4%bb%a4%e8%af%a6%e8%a7%a3" aria-label="十、JSP 指令详解">十、JSP 指令详解</a><ul>
                        
                <li>
                    <a href="#1-%e6%8c%87%e4%bb%a4%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="1. 指令的作用">1. 指令的作用</a></li>
                <li>
                    <a href="#2-%e5%b8%b8%e8%a7%81%e6%8c%87%e4%bb%a4" aria-label="2. 常见指令">2. 常见指令</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8d%81%e4%b8%80jsp-%e5%bc%80%e5%8f%91%e5%bb%ba%e8%ae%ae" aria-label="十一、JSP 开发建议">十一、JSP 开发建议</a></li>
                <li>
                    <a href="#%e5%8d%81%e4%ba%8c%e6%8b%93%e5%b1%95%e7%9f%a5%e8%af%86javabean" aria-label="十二、拓展知识：JavaBean">十二、拓展知识：JavaBean</a><ul>
                        
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%af-javabean" aria-label="什么是 JavaBean？">什么是 JavaBean？</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93-5" aria-label="总结">总结</a></li></ul>
                </li>
                <li>
                    <a href="#el-%e8%a1%a8%e8%be%be%e5%bc%8f%e8%af%a6%e8%a7%a3" aria-label="EL 表达式详解">EL 表达式详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af-el-%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="一、什么是 EL 表达式？">一、什么是 EL 表达式？</a></li>
                <li>
                    <a href="#%e4%ba%8cel-%e8%a1%a8%e8%be%be%e5%bc%8f%e7%9a%84%e6%a0%b8%e5%bf%83%e5%8a%9f%e8%83%bd" aria-label="二、EL 表达式的核心功能">二、EL 表达式的核心功能</a></li>
                <li>
                    <a href="#%e4%b8%89%e5%9f%ba%e6%9c%ac%e8%af%ad%e6%b3%95%e6%a0%bc%e5%bc%8f" aria-label="三、基本语法格式">三、基本语法格式</a></li>
                <li>
                    <a href="#%e5%9b%9b%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af%e4%b8%8e%e5%ae%9e%e4%be%8b%e8%a7%a3%e6%9e%90" aria-label="四、使用场景与实例解析">四、使用场景与实例解析</a><ul>
                        
                <li>
                    <a href="#41-%e6%95%b0%e6%8d%ae%e5%ad%98%e5%85%a5%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="4.1 数据存入作用域">4.1 数据存入作用域</a></li>
                <li>
                    <a href="#42-%e4%bd%bf%e7%94%a8-el-%e8%8e%b7%e5%8f%96%e6%95%b0%e6%8d%ae" aria-label="4.2 使用 EL 获取数据">4.2 使用 EL 获取数据</a></li>
                <li>
                    <a href="#43-%e9%9d%a2%e8%af%95%e9%a2%98%e8%a7%a3%e6%9e%90" aria-label="4.3 面试题解析">4.3 面试题解析</a><ul>
                        
                <li>
                    <a href="#abc-vs-abc" aria-label="${abc} vs ${&quot;abc&quot;}">${abc} vs ${&quot;abc&quot;}</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94el-%e8%a1%a8%e8%be%be%e5%bc%8f%e7%9a%84%e9%9a%90%e5%bc%8f%e5%af%b9%e8%b1%a1" aria-label="五、EL 表达式的隐式对象">五、EL 表达式的隐式对象</a></li>
                <li>
                    <a href="#%e5%85%adel-%e8%a1%a8%e8%be%be%e5%bc%8f%e5%af%b9%e7%89%b9%e6%ae%8a%e5%ad%97%e7%ac%a6%e7%9a%84%e6%94%af%e6%8c%81" aria-label="六、EL 表达式对特殊字符的支持">六、EL 表达式对特殊字符的支持</a></li>
                <li>
                    <a href="#%e4%b8%83el-%e8%a1%a8%e8%be%be%e5%bc%8f%e6%93%8d%e4%bd%9c%e9%9b%86%e5%90%88%e4%b8%8e%e6%95%b0%e7%bb%84" aria-label="七、EL 表达式操作集合与数组">七、EL 表达式操作集合与数组</a><ul>
                        
                <li>
                    <a href="#71-map-%e9%9b%86%e5%90%88" aria-label="7.1 Map 集合">7.1 Map 集合</a></li>
                <li>
                    <a href="#72-%e6%95%b0%e7%bb%84--list-%e9%9b%86%e5%90%88" aria-label="7.2 数组 / List 集合">7.2 数组 / List 集合</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ab%e6%8e%a7%e5%88%b6-el-%e8%a1%a8%e8%be%be%e5%bc%8f%e6%98%af%e5%90%a6%e5%90%af%e7%94%a8" aria-label="八、控制 EL 表达式是否启用">八、控制 EL 表达式是否启用</a></li>
                <li>
                    <a href="#%e4%b9%9d%e5%b8%b8%e7%94%a8-el-%e8%a1%a8%e8%be%be%e5%bc%8f%e6%8a%80%e5%b7%a7" aria-label="九、常用 EL 表达式技巧">九、常用 EL 表达式技巧</a><ul>
                        
                <li>
                    <a href="#91-%e8%8e%b7%e5%8f%96%e9%a1%b9%e7%9b%ae%e6%a0%b9%e8%b7%af%e5%be%84" aria-label="9.1 获取项目根路径">9.1 获取项目根路径</a></li>
                <li>
                    <a href="#92-%e8%bf%90%e7%ae%97%e7%ac%a6%e6%94%af%e6%8c%81" aria-label="9.2 运算符支持">9.2 运算符支持</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8d%81el-%e8%a1%a8%e8%be%be%e5%bc%8f%e7%9a%84%e4%bc%98%e5%8a%bf%e4%b8%8e%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="十、EL 表达式的优势与适用场景">十、EL 表达式的优势与适用场景</a></li>
                <li>
                    <a href="#%e5%8d%81%e4%b8%80%e6%80%bb%e7%bb%93" aria-label="十一、总结">十一、总结</a></li></ul>
                </li>
                <li>
                    <a href="#jstl-%e6%a0%87%e7%ad%be%e5%ba%93java-standard-tag-library" aria-label="JSTL 标签库（Java Standard Tag Library）">JSTL 标签库（Java Standard Tag Library）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af-jstl-%e6%a0%87%e7%ad%be%e5%ba%93" aria-label="一、什么是 JSTL 标签库？">一、什么是 JSTL 标签库？</a></li>
                <li>
                    <a href="#%e4%ba%8c%e4%bd%bf%e7%94%a8-jstl-%e6%a0%87%e7%ad%be%e5%ba%93%e7%9a%84%e6%ad%a5%e9%aa%a4" aria-label="二、使用 JSTL 标签库的步骤">二、使用 JSTL 标签库的步骤</a><ul>
                        
                <li>
                    <a href="#1-%e5%bc%95%e5%85%a5-jstl-%e7%9b%b8%e5%85%b3%e4%be%9d%e8%b5%96%e5%8c%85" aria-label="1. 引入 JSTL 相关依赖包">1. 引入 JSTL 相关依赖包</a></li>
                <li>
                    <a href="#2-%e5%9c%a8-jsp-%e9%a1%b5%e9%9d%a2%e4%b8%ad%e5%bc%95%e5%85%a5%e6%a0%87%e7%ad%be%e5%ba%93" aria-label="2. 在 JSP 页面中引入标签库">2. 在 JSP 页面中引入标签库</a></li>
                <li>
                    <a href="#3-%e4%bd%bf%e7%94%a8-jstl-%e6%a0%87%e7%ad%be" aria-label="3. 使用 JSTL 标签">3. 使用 JSTL 标签</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89jstl-%e6%a0%87%e7%ad%be%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86" aria-label="三、JSTL 标签的工作原理">三、JSTL 标签的工作原理</a><ul>
                        
                <li>
                    <a href="#1-tld-%e6%96%87%e4%bb%b6%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="1. TLD 文件的作用">1. TLD 文件的作用</a></li>
                <li>
                    <a href="#2-%e7%a4%ba%e4%be%8b-tld-%e7%89%87%e6%ae%b5%e8%a7%a3%e6%9e%90" aria-label="2. 示例 TLD 片段解析">2. 示例 TLD 片段解析</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bjstl-%e6%a0%b8%e5%bf%83%e6%a0%87%e7%ad%be%e5%ba%93%e5%b8%b8%e7%94%a8%e6%a0%87%e7%ad%be%e8%af%a6%e8%a7%a3" aria-label="四、JSTL 核心标签库常用标签详解">四、JSTL 核心标签库常用标签详解</a><ul>
                        
                <li>
                    <a href="#1-cif" aria-label="1. &lt;c:if&gt;">1. &lt;c:if&gt;</a></li>
                <li>
                    <a href="#2-cforeach" aria-label="2. &lt;c:forEach&gt;">2. &lt;c:forEach&gt;</a><ul>
                        
                <li>
                    <a href="#%e9%81%8d%e5%8e%86%e9%9b%86%e5%90%88" aria-label="遍历集合：">遍历集合：</a></li>
                <li>
                    <a href="#%e8%ae%a1%e6%95%b0%e5%be%aa%e7%8e%af" aria-label="计数循环：">计数循环：</a></li></ul>
                </li>
                <li>
                    <a href="#3-cchoose-cwhen-cotherwise" aria-label="3. &lt;c:choose&gt;, &lt;c:when&gt;, &lt;c:otherwise&gt;">3. &lt;c:choose&gt;, &lt;c:when&gt;, &lt;c:otherwise&gt;</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e8%a1%a5%e5%85%85%e5%bb%ba%e8%ae%ae%e4%b8%8e%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="五、补充建议与最佳实践">五、补充建议与最佳实践</a></li>
                <li>
                    <a href="#%e5%85%ad%e6%80%bb%e7%bb%93-1" aria-label="六、总结">六、总结</a></li>
                <li>
                    <a href="#%e6%94%b9%e9%80%a0oa" aria-label="改造OA">改造OA</a></li></ul>
                </li>
                <li>
                    <a href="#filter-%e8%bf%87%e6%bb%a4%e5%99%a8%e8%af%a6%e8%a7%a3" aria-label="Filter 过滤器详解">Filter 过滤器详解</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e9%97%ae%e9%a2%98%e8%83%8c%e6%99%afoa%e9%a1%b9%e7%9b%ae%e4%b8%ad%e9%87%8d%e5%a4%8d%e4%bb%a3%e7%a0%81%e7%9a%84%e9%97%ae%e9%a2%98" aria-label="一、问题背景：OA项目中重复代码的问题">一、问题背景：OA项目中重复代码的问题</a><ul>
                        
                <li>
                    <a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" aria-label="解决方案：">解决方案：</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8cfilter-%e6%98%af%e4%bb%80%e4%b9%88%e6%9c%89%e4%bb%80%e4%b9%88%e4%bd%9c%e7%94%a8" aria-label="二、Filter 是什么？有什么作用？">二、Filter 是什么？有什么作用？</a><ul>
                        
                <li>
                    <a href="#1-%e5%ae%9a%e4%b9%89-1" aria-label="1. 定义">1. 定义</a></li>
                <li>
                    <a href="#2-%e4%b8%bb%e8%a6%81%e7%94%a8%e9%80%94" aria-label="2. 主要用途">2. 主要用途</a></li>
                <li>
                    <a href="#3-%e6%89%a7%e8%a1%8c%e5%8e%9f%e7%90%86" aria-label="3. 执行原理">3. 执行原理</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%89%e5%a6%82%e4%bd%95%e7%bc%96%e5%86%99%e4%b8%80%e4%b8%aa-filter" aria-label="三、如何编写一个 Filter？">三、如何编写一个 Filter？</a><ul>
                        
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4%e4%b8%80%e5%88%9b%e5%bb%ba-filter-%e7%b1%bb" aria-label="步骤一：创建 Filter 类">步骤一：创建 Filter 类</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4%e4%ba%8c%e9%85%8d%e7%bd%ae-filter" aria-label="步骤二：配置 Filter">步骤二：配置 Filter</a><ul>
                        
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%b8%80webxml-%e9%85%8d%e7%bd%ae" aria-label="方式一：web.xml 配置">方式一：web.xml 配置</a></li>
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%ba%8c%e6%b3%a8%e8%a7%a3%e6%96%b9%e5%bc%8f%e6%8e%a8%e8%8d%90" aria-label="方式二：注解方式（推荐）">方式二：注解方式（推荐）</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9bfilter-%e7%9a%84%e7%94%9f%e5%91%bd%e5%91%a8%e6%9c%9f" aria-label="四、Filter 的生命周期">四、Filter 的生命周期</a></li>
                <li>
                    <a href="#%e4%ba%94filter-%e7%9a%84%e5%8c%b9%e9%85%8d%e8%a7%84%e5%88%99" aria-label="五、Filter 的匹配规则">五、Filter 的匹配规则</a></li>
                <li>
                    <a href="#%e5%85%adfilter-%e7%9a%84%e6%89%a7%e8%a1%8c%e9%a1%ba%e5%ba%8f" aria-label="六、Filter 的执行顺序">六、Filter 的执行顺序</a><ul>
                        
                <li>
                    <a href="#1-webxml-%e4%b8%ad%e7%9a%84%e9%a1%ba%e5%ba%8f" aria-label="1. web.xml 中的顺序">1. web.xml 中的顺序</a></li>
                <li>
                    <a href="#2-%e4%bd%bf%e7%94%a8-webfilter-%e6%b3%a8%e8%a7%a3" aria-label="2. 使用 @WebFilter 注解">2. 使用 @WebFilter 注解</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83%e8%b4%a3%e4%bb%bb%e9%93%be%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8fchain-of-responsibility-pattern" aria-label="七、责任链设计模式（Chain of Responsibility Pattern）">七、责任链设计模式（Chain of Responsibility Pattern）</a><ul>
                        
                <li>
                    <a href="#%e6%a0%b8%e5%bf%83%e6%80%9d%e6%83%b3" aria-label="核心思想：">核心思想：</a></li>
                <li>
                    <a href="#%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af" aria-label="应用场景：">应用场景：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%abfilter-%e5%92%8c-servlet-%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="八、Filter 和 Servlet 的关系">八、Filter 和 Servlet 的关系</a></li>
                <li>
                    <a href="#%e4%b9%9d%e5%ae%9e%e6%88%98%e5%ba%94%e7%94%a8%e4%bd%bf%e7%94%a8-filter-%e6%94%b9%e9%80%a0-oa-%e9%a1%b9%e7%9b%ae" aria-label="九、实战应用：使用 Filter 改造 OA 项目">九、实战应用：使用 Filter 改造 OA 项目</a><ul>
                        
                <li>
                    <a href="#%e5%9c%ba%e6%99%af%e9%9c%80%e6%b1%82" aria-label="场景需求：">场景需求：</a></li>
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e6%ad%a5%e9%aa%a4-3" aria-label="实现步骤：">实现步骤：</a><ul>
                        
                <li>
                    <a href="#1-%e5%88%9b%e5%bb%ba%e7%99%bb%e5%bd%95%e9%aa%8c%e8%af%81-filter" aria-label="1. 创建登录验证 Filter">1. 创建登录验证 Filter</a></li>
                <li>
                    <a href="#2-%e5%88%9b%e5%bb%ba%e7%bc%96%e7%a0%81%e5%a4%84%e7%90%86-filter" aria-label="2. 创建编码处理 Filter">2. 创建编码处理 Filter</a></li>
                <li>
                    <a href="#3-%e6%95%88%e6%9e%9c" aria-label="3. 效果">3. 效果</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%8d%81%e6%80%bb%e7%bb%93%e4%b8%8e%e5%bb%ba%e8%ae%ae" aria-label="十、总结与建议">十、总结与建议</a><ul>
                        
                <li>
                    <a href="#%e4%bc%98%e7%82%b9%e6%80%bb%e7%bb%93" aria-label="优点总结：">优点总结：</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%bb%ba%e8%ae%ae-2" aria-label="使用建议：">使用建议：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#listener-%e7%9b%91%e5%90%ac%e5%99%a8%e7%9b%91%e5%90%ac%e5%99%a8%e6%9c%ba%e5%88%b6" aria-label="Listener 监听器（监听器机制）">Listener 监听器（监听器机制）</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%af%e7%9b%91%e5%90%ac%e5%99%a8" aria-label="一、什么是监听器？">一、什么是监听器？</a></li>
                <li>
                    <a href="#%e4%ba%8c%e7%9b%91%e5%90%ac%e5%99%a8%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="二、监听器的作用">二、监听器的作用</a></li>
                <li>
                    <a href="#%e4%b8%89servlet-%e8%a7%84%e8%8c%83%e4%b8%ad%e5%b8%b8%e8%a7%81%e7%9a%84%e7%9b%91%e5%90%ac%e5%99%a8%e5%88%86%e7%b1%bb" aria-label="三、Servlet 规范中常见的监听器分类">三、Servlet 规范中常见的监听器分类</a><ul>
                        
                <li>
                    <a href="#1-jakartaservlet-%e5%8c%85%e4%b8%8b%e7%9a%84%e9%80%9a%e7%94%a8%e7%9b%91%e5%90%ac%e5%99%a8" aria-label="1. jakarta.servlet 包下的通用监听器">1. jakarta.servlet 包下的通用监听器</a></li>
                <li>
                    <a href="#2-jakartaservlethttp-%e5%8c%85%e4%b8%8b%e7%9a%84-http-%e4%b8%93%e7%94%a8%e7%9b%91%e5%90%ac%e5%99%a8" aria-label="2. jakarta.servlet.http 包下的 HTTP 专用监听器">2. jakarta.servlet.http 包下的 HTTP 专用监听器</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e5%ae%9e%e7%8e%b0%e7%9b%91%e5%90%ac%e5%99%a8%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%ad%a5%e9%aa%a4%e4%bb%a5-servletcontextlistener-%e4%b8%ba%e4%be%8b" aria-label="四、实现监听器的基本步骤（以 ServletContextListener 为例）">四、实现监听器的基本步骤（以 ServletContextListener 为例）</a><ul>
                        
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4%e4%b8%80%e7%bc%96%e5%86%99%e7%9b%91%e5%90%ac%e5%99%a8%e7%b1%bb" aria-label="步骤一：编写监听器类">步骤一：编写监听器类</a></li>
                <li>
                    <a href="#%e6%ad%a5%e9%aa%a4%e4%ba%8c%e6%b3%a8%e5%86%8c%e7%9b%91%e5%90%ac%e5%99%a8%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="步骤二：注册监听器（两种方式）">步骤二：注册监听器（两种方式）</a><ul>
                        
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%b8%80%e4%bd%bf%e7%94%a8-weblistener-%e6%b3%a8%e8%a7%a3%e6%8e%a8%e8%8d%90" aria-label="方式一：使用 @WebListener 注解（推荐）">方式一：使用 @WebListener 注解（推荐）</a></li>
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%ba%8c%e5%9c%a8-webxml-%e4%b8%ad%e6%89%8b%e5%8a%a8%e9%85%8d%e7%bd%ae" aria-label="方式二：在 web.xml 中手动配置">方式二：在 web.xml 中手动配置</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%94%e7%9b%91%e5%90%ac%e5%99%a8%e6%96%b9%e6%b3%95%e7%9a%84%e8%b0%83%e7%94%a8%e6%97%b6%e6%9c%ba" aria-label="五、监听器方法的调用时机">五、监听器方法的调用时机</a></li>
                <li>
                    <a href="#%e5%85%ad%e5%85%b8%e5%9e%8b%e4%b8%9a%e5%8a%a1%e5%9c%ba%e6%99%af%e5%88%86%e6%9e%90" aria-label="六、典型业务场景分析">六、典型业务场景分析</a><ul>
                        
                <li>
                    <a href="#%e5%9c%ba%e6%99%af%e4%b8%80%e7%bb%9f%e8%ae%a1%e5%bd%93%e5%89%8d%e7%bd%91%e7%ab%99%e7%9a%84%e5%9c%a8%e7%ba%bf%e7%94%a8%e6%88%b7%e6%95%b0" aria-label="场景一：统计当前网站的在线用户数">场景一：统计当前网站的在线用户数</a><ul>
                        
                <li>
                    <a href="#%e6%80%9d%e8%b7%af" aria-label="思路：">思路：</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9c%ba%e6%99%af%e4%ba%8c%e4%bb%85%e7%bb%9f%e8%ae%a1%e5%b7%b2%e7%99%bb%e5%bd%95%e7%94%a8%e6%88%b7%e7%9a%84%e5%9c%a8%e7%ba%bf%e6%95%b0%e9%87%8f" aria-label="场景二：仅统计已登录用户的在线数量">场景二：仅统计已登录用户的在线数量</a><ul>
                        
                <li>
                    <a href="#%e9%97%ae%e9%a2%98%e8%83%8c%e6%99%af" aria-label="问题背景：">问题背景：</a></li>
                <li>
                    <a href="#%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88-1" aria-label="解决方案：">解决方案：</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%83%e5%ae%9e%e9%99%85%e9%a1%b9%e7%9b%ae%e6%a1%88%e4%be%8boa-%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%bb%9f%e8%ae%a1%e7%99%bb%e5%bd%95%e7%94%a8%e6%88%b7%e6%95%b0" aria-label="七、实际项目案例：OA 系统中统计登录用户数">七、实际项目案例：OA 系统中统计登录用户数</a><ul>
                        
                <li>
                    <a href="#1-%e7%99%bb%e5%bd%95%e6%a0%87%e8%af%86%e5%88%a4%e6%96%ad" aria-label="1. 登录标识判断">1. 登录标识判断</a></li>
                <li>
                    <a href="#2-%e7%94%a8%e6%88%b7%e9%80%80%e5%87%ba%e6%a0%87%e8%af%86" aria-label="2. 用户退出标识">2. 用户退出标识</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%ab%e6%80%bb%e7%bb%93" aria-label="八、总结">八、总结</a></li>
                <li>
                    <a href="#%e4%b9%9d%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5%e5%bb%ba%e8%ae%ae" aria-label="九、最佳实践建议">九、最佳实践建议</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="系统架构概述">系统架构概述<a hidden class="anchor" aria-hidden="true" href="#系统架构概述">#</a></h1>
<h2 id="一系统架构的形式">一、系统架构的形式<a hidden class="anchor" aria-hidden="true" href="#一系统架构的形式">#</a></h2>
<p>系统架构主要包括以下两种形式：</p>
<ul>
<li><strong>C/S 架构（Client/Server）</strong></li>
<li><strong>B/S 架构（Browser/Server）</strong></li>
</ul>
<h2 id="二cs-架构详解">二、C/S 架构详解<a hidden class="anchor" aria-hidden="true" href="#二cs-架构详解">#</a></h2>
<h3 id="1-什么是-cs-架构">1. 什么是 C/S 架构？<a hidden class="anchor" aria-hidden="true" href="#1-什么是-cs-架构">#</a></h3>
<p>C/S 架构即客户端 / 服务器架构，是一种典型的两层结构。</p>
<h3 id="2-常见的-cs-架构系统有哪些">2. 常见的 C/S 架构系统有哪些？<a hidden class="anchor" aria-hidden="true" href="#2-常见的-cs-架构系统有哪些">#</a></h3>
<ul>
<li>QQ</li>
<li>微信</li>
</ul>
<h3 id="3-cs-架构的特点">3. C/S 架构的特点<a hidden class="anchor" aria-hidden="true" href="#3-cs-架构的特点">#</a></h3>
<ul>
<li>需要安装特定的客户端软件。</li>
</ul>
<h3 id="4-cs-架构的优缺点">4. C/S 架构的优缺点<a hidden class="anchor" aria-hidden="true" href="#4-cs-架构的优缺点">#</a></h3>
<h4 id="-优点">✅ 优点：<a hidden class="anchor" aria-hidden="true" href="#-优点">#</a></h4>
<ul>
<li><strong>速度快</strong>：客户端本地存储大量数据，仅需少量网络传输。</li>
<li><strong>体验好</strong>：界面响应快，交互流畅。</li>
<li><strong>界面酷炫</strong>：可使用专业开发语言实现丰富界面。</li>
<li><strong>服务器压力小</strong>：大部分处理在客户端完成。</li>
<li><strong>安全性高</strong>：数据分散在多个客户端，即使服务器故障也不易丢失全部数据。</li>
</ul>
<h4 id="-缺点">❌ 缺点：<a hidden class="anchor" aria-hidden="true" href="#-缺点">#</a></h4>
<ul>
<li><strong>升级维护成本高</strong>：每个客户端都需要单独更新。</li>
<li><strong>部署复杂</strong>：部分软件安装过程繁琐。</li>
</ul>
<h2 id="三bs-架构详解">三、B/S 架构详解<a hidden class="anchor" aria-hidden="true" href="#三bs-架构详解">#</a></h2>
<h3 id="1-什么是-bs-架构">1. 什么是 B/S 架构？<a hidden class="anchor" aria-hidden="true" href="#1-什么是-bs-架构">#</a></h3>
<p>B/S 架构即浏览器 / 服务器架构，用户通过浏览器访问服务器资源。</p>
<h3 id="2-常见的-bs-架构系统示例">2. 常见的 B/S 架构系统示例<a hidden class="anchor" aria-hidden="true" href="#2-常见的-bs-架构系统示例">#</a></h3>
<ul>
<li>百度：http://www.baidu.com</li>
<li>京东：http://www.jd.com</li>
<li>网易邮箱：http://www.126.com</li>
</ul>
<h3 id="3-bs-是否属于-cs-的一种">3. B/S 是否属于 C/S 的一种？<a hidden class="anchor" aria-hidden="true" href="#3-bs-是否属于-cs-的一种">#</a></h3>
<p>是的，B/S 是一种特殊的 C/S 架构。其中，“客户端”是一个通用浏览器。</p>
<h3 id="4-bs-架构的优缺点">4. B/S 架构的优缺点<a hidden class="anchor" aria-hidden="true" href="#4-bs-架构的优缺点">#</a></h3>
<h4 id="-优点-1">✅ 优点：<a hidden class="anchor" aria-hidden="true" href="#-优点-1">#</a></h4>
<ul>
<li><strong>升级维护方便</strong>：只需更新服务器端即可。</li>
<li><strong>无需安装客户端</strong>：用户只需打开浏览器访问网址即可操作。</li>
</ul>
<h4 id="-缺点-1">❌ 缺点：<a hidden class="anchor" aria-hidden="true" href="#-缺点-1">#</a></h4>
<ul>
<li><strong>速度较慢</strong>：所有数据都需从服务器获取，依赖网络带宽。</li>
<li><strong>用户体验较差</strong>：受限于 HTML/CSS/JS，界面表现力有限。</li>
<li><strong>安全性较低</strong>：所有数据集中在服务器，一旦服务器出问题，数据可能全部丢失。</li>
</ul>
<h2 id="四cs-与-bs-架构哪个更好">四、C/S 与 B/S 架构哪个更好？<a hidden class="anchor" aria-hidden="true" href="#四cs-与-bs-架构哪个更好">#</a></h2>
<p>这个问题没有绝对答案，取决于具体业务场景：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>推荐架构</th>
</tr>
</thead>
<tbody>
<tr>
<td>娱乐类软件（如社交、游戏）</td>
<td>C/S 架构</td>
</tr>
<tr>
<td>公司内部管理系统（如OA、ERP）</td>
<td>B/S 架构</td>
</tr>
</tbody>
</table>
<h3 id="原因说明">原因说明：<a hidden class="anchor" aria-hidden="true" href="#原因说明">#</a></h3>
<ul>
<li><strong>公司内部系统要求：</strong>
<ul>
<li>升级维护成本低</li>
<li>不需要特别炫酷的界面</li>
<li>主要用于数据维护和流程管理</li>
</ul>
</li>
</ul>
<h2 id="五开发-bs-系统所需技术">五、开发 B/S 系统所需技术<a hidden class="anchor" aria-hidden="true" href="#五开发-bs-系统所需技术">#</a></h2>
<p>开发一个 B/S 系统，其实就是开发一个 Web 系统，通常包括以下几个方面：</p>
<h3 id="1-web-前端技术运行在浏览器中">1. Web 前端技术（运行在浏览器中）<a hidden class="anchor" aria-hidden="true" href="#1-web-前端技术运行在浏览器中">#</a></h3>
<ul>
<li>HTML</li>
<li>CSS</li>
<li>JavaScript</li>
</ul>
<h3 id="2-web-后端技术运行在服务器上">2. Web 后端技术（运行在服务器上）<a hidden class="anchor" aria-hidden="true" href="#2-web-后端技术运行在服务器上">#</a></h3>
<p>可以使用多种语言开发，例如：</p>
<ul>
<li>Java（JavaWEB 开发，核心规范为 Servlet）</li>
<li>C</li>
<li>C++</li>
<li>Python</li>
<li>PHP</li>
<li>&hellip;</li>
</ul>
<h2 id="六javaee-是什么">六、JavaEE 是什么？<a hidden class="anchor" aria-hidden="true" href="#六javaee-是什么">#</a></h2>
<p>Java 分为三大方向：</p>
<h3 id="1-javasejava-标准版">1. JavaSE（Java 标准版）<a hidden class="anchor" aria-hidden="true" href="#1-javasejava-标准版">#</a></h3>
<ul>
<li>提供基础类库和 API。</li>
<li>是学习 JavaEE 和 JavaME 的基础。</li>
</ul>
<h3 id="2-javaeejava-企业版">2. JavaEE（Java 企业版）<a hidden class="anchor" aria-hidden="true" href="#2-javaeejava-企业版">#</a></h3>
<ul>
<li>专为企业级应用设计的一套类库。</li>
<li>支持 Web 系统开发，包含 13 种规范，Servlet 是其中之一。</li>
<li>是目前 Java 最热门的方向之一。</li>
</ul>
<h3 id="3-javamejava-微型版">3. JavaME（Java 微型版）<a hidden class="anchor" aria-hidden="true" href="#3-javamejava-微型版">#</a></h3>
<ul>
<li>适用于嵌入式设备开发，如：
<ul>
<li>机顶盒</li>
<li>吸尘器</li>
<li>电冰箱</li>
<li>电饭煲等小型电子设备</li>
</ul>
</li>
</ul>
<h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<table>
<thead>
<tr>
<th>架构类型</th>
<th>特点</th>
<th>适用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>C/S</td>
<td>快速、体验好、界面炫、安全</td>
<td>娱乐类、客户端需求高的应用</td>
</tr>
<tr>
<td>B/S</td>
<td>易维护、无需安装、跨平台</td>
<td>企业内部系统、Web 应用</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>提示</strong>：选择架构时应结合项目需求、团队能力及长期维护等因素综合考虑。</p>
</blockquote>
<h1 id="bs-结构的系统通信原理不涉及-java-小程序">B/S 结构的系统通信原理（不涉及 Java 小程序）<a hidden class="anchor" aria-hidden="true" href="#bs-结构的系统通信原理不涉及-java-小程序">#</a></h1>
<h2 id="一web-系统的访问过程">一、WEB 系统的访问过程<a hidden class="anchor" aria-hidden="true" href="#一web-系统的访问过程">#</a></h2>
<ol>
<li>打开浏览器</li>
<li>找到地址栏</li>
<li>输入一个合法的网址</li>
<li>按下回车键</li>
<li>浏览器展示响应结果</li>
</ol>
<hr>
<h2 id="二关于域名">二、关于域名<a hidden class="anchor" aria-hidden="true" href="#二关于域名">#</a></h2>
<ul>
<li><strong>示例网址</strong>：<code>https://www.baidu.com/</code>
<ul>
<li><code>www.baidu.com</code> 是一个<strong>域名</strong></li>
</ul>
</li>
<li>在浏览器中输入域名后：
<ul>
<li>域名解析器会将域名解析为具体的 IP 地址和端口号</li>
</ul>
</li>
<li><strong>解析示例</strong>：
<ul>
<li><code>http://110.242.68.3:80/index.html</code></li>
</ul>
</li>
</ul>
<hr>
<h2 id="三ip-地址的作用">三、IP 地址的作用<a hidden class="anchor" aria-hidden="true" href="#三ip-地址的作用">#</a></h2>
<ul>
<li>IP 地址是计算机在网络中的“身份证号”</li>
<li>在同一个网络中，IP 地址具有<strong>唯一性</strong></li>
<li>要实现两台计算机之间的通信，必须知道对方的 IP 地址</li>
</ul>
<hr>
<h2 id="四端口号的作用">四、端口号的作用<a hidden class="anchor" aria-hidden="true" href="#四端口号的作用">#</a></h2>
<ul>
<li>一个端口代表一个软件或服务</li>
<li>每个软件启动后都会占用一个端口号</li>
<li>同一台计算机上，端口号具有<strong>唯一性</strong></li>
</ul>
<hr>
<h2 id="五web-系统的通信原理与步骤">五、WEB 系统的通信原理与步骤<a hidden class="anchor" aria-hidden="true" href="#五web-系统的通信原理与步骤">#</a></h2>
<ol>
<li>用户在浏览器中输入网址（URL）</li>
<li>域名解析器进行解析，得到完整的 URL（如 <code>http://110.242.68.3:80/index.html</code>）</li>
<li>浏览器根据 IP 地址在网络上寻找对应的主机（如 <code>110.242.68.3</code>）</li>
<li>定位该主机上的服务器软件（通过端口号 80）</li>
<li>服务器得知用户请求的资源名称（如 <code>index.html</code>）</li>
<li>服务器查找并读取该资源文件</li>
<li>服务器将文件内容发送给浏览器（响应数据）</li>
<li>浏览器接收 HTML/CSS/JS 数据</li>
<li>浏览器渲染页面，执行代码，最终展示网页效果</li>
</ol>
<hr>
<h2 id="六什么是-url">六、什么是 URL？<a hidden class="anchor" aria-hidden="true" href="#六什么是-url">#</a></h2>
<ul>
<li><strong>定义</strong>：统一资源定位符（Uniform Resource Locator）</li>
<li><strong>示例</strong>：<code>http://www.baidu.com</code></li>
</ul>
<hr>
<h2 id="七请求与响应的概念">七、请求与响应的概念<a hidden class="anchor" aria-hidden="true" href="#七请求与响应的概念">#</a></h2>
<table>
<thead>
<tr>
<th>类型</th>
<th>数据流向</th>
<th>英文术语</th>
<th>中文解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求</td>
<td>浏览器 → 服务器</td>
<td>request</td>
<td>Browser 向 Server 发送数据</td>
</tr>
<tr>
<td>响应</td>
<td>服务器 → 浏览器</td>
<td>response</td>
<td>Server 向 Browser 返回数据</td>
</tr>
</tbody>
</table>
<h1 id="关于web服务器软件">关于Web服务器软件<a hidden class="anchor" aria-hidden="true" href="#关于web服务器软件">#</a></h1>
<h2 id="常见的web服务器软件">常见的Web服务器软件<a hidden class="anchor" aria-hidden="true" href="#常见的web服务器软件">#</a></h2>
<p>以下是一些常见的Web服务器软件（均为已开发完成的成熟产品）：</p>
<ul>
<li><strong>Tomcat</strong>：轻量级Web服务器</li>
<li><strong>Jetty</strong>：嵌入式Web服务器</li>
<li><strong>JBoss</strong>：应用服务器</li>
<li><strong>WebLogic</strong>：企业级应用服务器</li>
<li><strong>WebSphere</strong>：IBM出品的企业级应用服务器</li>
</ul>
<h2 id="应用服务器与web服务器的关系">应用服务器与Web服务器的关系<a hidden class="anchor" aria-hidden="true" href="#应用服务器与web服务器的关系">#</a></h2>
<ul>
<li><strong>应用服务器</strong>实现了JavaEE平台中的所有13个规范。</li>
<li><strong>Web服务器</strong>仅实现了Servlet和JSP两个核心规范。</li>
<li>由此可见，<strong>应用服务器包含Web服务器</strong>。</li>
<li>例如，JBoss中就内嵌了一个Tomcat服务器。</li>
</ul>
<h2 id="tomcat概述">Tomcat概述<a hidden class="anchor" aria-hidden="true" href="#tomcat概述">#</a></h2>
<ul>
<li>官网地址：
<ul>
<li>Apache官网：<a href="https://www.apache.org">https://www.apache.org</a></li>
<li>Tomcat官网：<a href="https://tomcat.apache.org">https://tomcat.apache.org</a></li>
</ul>
</li>
<li>特点：
<ul>
<li>开源免费</li>
<li>轻量级Web服务器</li>
<li>使用Java语言编写</li>
<li>运行需要JRE环境支持</li>
</ul>
</li>
<li>别名：<strong>Catalina</strong>
<ul>
<li>名字来源于美国的一个风景优美的岛屿，寓意Tomcat服务器小巧、高效。</li>
</ul>
</li>
<li>Logo：一只公猫，象征其轻巧、快速的特性。</li>
</ul>
<h2 id="tomcat配置java运行环境">Tomcat配置Java运行环境<a hidden class="anchor" aria-hidden="true" href="#tomcat配置java运行环境">#</a></h2>
<p>Tomcat是基于Java编写的，因此运行前必须安装JDK并配置Java运行环境变量：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>JAVA_HOME=C:<span style="color:#0ff;font-weight:bold">\P</span>rogram Files<span style="color:#0ff;font-weight:bold">\J</span>ava<span style="color:#0ff;font-weight:bold">\j</span>dk-17.0.1
</span></span><span style="display:flex;"><span>PATH=%JAVA_HOME%<span style="color:#0ff;font-weight:bold">\b</span>in;%CATALINA_HOME%<span style="color:#0ff;font-weight:bold">\b</span>in
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>💡 <strong>思考问题</strong>：如果没有配置<code>JAVA_HOME</code>是否可行？<br>
虽然在某些情况下可以运行，但为了稳定性和兼容性，建议始终正确配置。</p>
</blockquote>
<h2 id="tomcat安装方式">Tomcat安装方式<a hidden class="anchor" aria-hidden="true" href="#tomcat安装方式">#</a></h2>
<p>Tomcat为绿色版本，无需复杂安装，只需解压ZIP包即可使用。</p>
<h3 id="推荐安装路径示例">推荐安装路径（示例）：<a hidden class="anchor" aria-hidden="true" href="#推荐安装路径示例">#</a></h3>
<ul>
<li><code>C:\dev\tomcat</code>：将所有开发工具集中管理，便于维护。</li>
</ul>
<h2 id="启动tomcat">启动Tomcat<a hidden class="anchor" aria-hidden="true" href="#启动tomcat">#</a></h2>
<p>进入<code>bin</code>目录，执行以下命令启动Tomcat：</p>
<ul>
<li><strong>Windows系统</strong>：<code>startup.bat</code></li>
<li><strong>Linux系统</strong>：<code>startup.sh</code></li>
</ul>
<h3 id="批处理文件说明">批处理文件说明<a hidden class="anchor" aria-hidden="true" href="#批处理文件说明">#</a></h3>
<ul>
<li><code>.bat</code> 文件：Windows下的批处理脚本，可批量执行DOS命令。</li>
<li><code>.sh</code> 文件：Linux下的Shell脚本，用于执行Shell命令。</li>
<li>Tomcat提供了跨平台的支持，适配多种操作系统。</li>
</ul>
<h3 id="启动流程解析">启动流程解析<a hidden class="anchor" aria-hidden="true" href="#启动流程解析">#</a></h3>
<ol>
<li><code>startup.bat</code> 实际调用了 <code>catalina.bat</code>。</li>
<li>在 <code>catalina.bat</code> 中定义了主类：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>MAINCLASS=org.<span style="color:#007f7f">apache</span>.<span style="color:#007f7f">catalina</span>.<span style="color:#007f7f">startup</span>.<span style="color:#007f7f">Bootstrap</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>该类中包含 <code>main()</code> 方法，即Tomcat启动入口。</li>
</ol>
<h3 id="环境变量要求">环境变量要求<a hidden class="anchor" aria-hidden="true" href="#环境变量要求">#</a></h3>
<p>启动Tomcat需要配置以下环境变量：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>JAVA_HOME=JDK安装目录
</span></span><span style="display:flex;"><span>CATALINA_HOME=Tomcat安装目录
</span></span><span style="display:flex;"><span>PATH=%JAVA_HOME%<span style="color:#0ff;font-weight:bold">\b</span>in;%CATALINA_HOME%<span style="color:#0ff;font-weight:bold">\b</span>in
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="tomcat目录结构详解">Tomcat目录结构详解<a hidden class="anchor" aria-hidden="true" href="#tomcat目录结构详解">#</a></h2>
<table>
<thead>
<tr>
<th>目录名</th>
<th>用途说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bin/</code></td>
<td>存放启动、关闭等命令脚本（如 <code>startup.bat</code>, <code>shutdown.sh</code>）</td>
</tr>
<tr>
<td><code>conf/</code></td>
<td>配置文件目录，如 <code>server.xml</code> 可修改端口号等设置</td>
</tr>
<tr>
<td><code>lib/</code></td>
<td>核心类库目录，存放Tomcat运行所需的JAR文件</td>
</tr>
<tr>
<td><code>logs/</code></td>
<td>日志文件目录，记录服务器运行日志</td>
</tr>
<tr>
<td><code>temp/</code></td>
<td>临时文件存储目录</td>
</tr>
<tr>
<td><code>webapps/</code></td>
<td>Web应用部署目录，放置 <code>.war</code> 包或项目文件夹</td>
</tr>
<tr>
<td><code>work/</code></td>
<td>JSP编译后生成的Java文件和 <code>.class</code> 文件</td>
</tr>
</tbody>
</table>
<h2 id="tomcat启动与关闭">Tomcat启动与关闭<a hidden class="anchor" aria-hidden="true" href="#tomcat启动与关闭">#</a></h2>
<ul>
<li><strong>启动</strong>：执行 <code>startup.bat</code> 或 <code>startup.sh</code></li>
<li><strong>关闭</strong>：执行 <code>shutdown.bat</code>（建议重命名为 <code>stop.bat</code>，避免与系统关机命令冲突）</li>
</ul>
<h2 id="测试tomcat是否启动成功">测试Tomcat是否启动成功<a hidden class="anchor" aria-hidden="true" href="#测试tomcat是否启动成功">#</a></h2>
<p>打开浏览器访问以下任一地址：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://127.0.0.1:8080
</span></span><span style="display:flex;"><span>http://localhost:8080
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果看到Tomcat欢迎页面，则表示服务器已成功启动。</p>
<h1 id="实现一个最基本的-web-应用该应用中不包含-java-小程序">实现一个最基本的 Web 应用（该应用中不包含 Java 小程序）<a hidden class="anchor" aria-hidden="true" href="#实现一个最基本的-web-应用该应用中不包含-java-小程序">#</a></h1>
<h2 id="一准备工作">一、准备工作<a hidden class="anchor" aria-hidden="true" href="#一准备工作">#</a></h2>
<p>在开始之前，请确保你已经安装并配置好了 Tomcat 服务器，并设置了 <code>CATALINA_HOME</code> 环境变量。</p>
<hr>
<h2 id="二步骤详解">二、步骤详解<a hidden class="anchor" aria-hidden="true" href="#二步骤详解">#</a></h2>
<h3 id="第一步定位到-webapps-目录">第一步：定位到 <code>webapps</code> 目录<a hidden class="anchor" aria-hidden="true" href="#第一步定位到-webapps-目录">#</a></h3>
<ul>
<li>
<p>找到 Tomcat 的 <code>webapps</code> 目录：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CATALINA_HOME\webapps
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<blockquote>
<p>⚠️ 注意：所有 Web 应用都必须放置在该目录下，这是 Tomcat 的规定。否则服务器将无法识别你的应用。</p>
</blockquote>
<hr>
<h3 id="第二步创建一个新的-web-应用目录">第二步：创建一个新的 Web 应用目录<a hidden class="anchor" aria-hidden="true" href="#第二步创建一个新的-web-应用目录">#</a></h3>
<ul>
<li>在 <code>webapps</code> 目录下新建一个子目录，命名为 <code>oa</code>。</li>
</ul>
<blockquote>
<p>📁 说明：目录名 <code>oa</code> 即为你的 Web 应用名称。</p>
</blockquote>
<hr>
<h3 id="第三步添加资源文件">第三步：添加资源文件<a hidden class="anchor" aria-hidden="true" href="#第三步添加资源文件">#</a></h3>
<ul>
<li>在 <code>oa</code> 目录下创建资源文件，例如 <code>index.html</code>。</li>
<li>编写 HTML 文件内容以展示页面信息。</li>
</ul>
<hr>
<h3 id="第四步启动-tomcat-服务器">第四步：启动 Tomcat 服务器<a hidden class="anchor" aria-hidden="true" href="#第四步启动-tomcat-服务器">#</a></h3>
<ul>
<li>启动 Tomcat，等待服务器完成部署。</li>
</ul>
<hr>
<h3 id="第五步访问你的-web-应用">第五步：访问你的 Web 应用<a hidden class="anchor" aria-hidden="true" href="#第五步访问你的-web-应用">#</a></h3>
<ul>
<li>打开浏览器，在地址栏输入以下 URL：</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://127.0.0.1:8080/oa/index.html
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="三关于-url-访问的思考">三、关于 URL 访问的思考<a hidden class="anchor" aria-hidden="true" href="#三关于-url-访问的思考">#</a></h2>
<h3 id="浏览器直接输入-url-与超链接的区别">浏览器直接输入 URL 与超链接的区别？<a hidden class="anchor" aria-hidden="true" href="#浏览器直接输入-url-与超链接的区别">#</a></h3>
<p>当你在浏览器地址栏输入一个 URL 并回车时，其本质与点击一个超链接是一样的。因此，我们可以在网页中使用超链接来实现相同的效果。</p>
<h4 id="示例代码">示例代码：<a hidden class="anchor" aria-hidden="true" href="#示例代码">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 绝对路径的写法（推荐），以 / 开头，包含项目名 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;/oa/login.html&#34;</span>&gt;用户登录&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- 多级目录访问也无问题 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;/oa/test/debug/d.html&#34;</span>&gt;d 页面&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>✅ 提示：前端路径建议统一使用绝对路径，格式为 <code>/项目名/资源路径</code>，无需添加协议和域名。</p>
</blockquote>
<hr>
<h2 id="四静态资源与动态资源的区别">四、静态资源与动态资源的区别<a hidden class="anchor" aria-hidden="true" href="#四静态资源与动态资源的区别">#</a></h2>
<h3 id="静态资源示例">静态资源示例：<a hidden class="anchor" aria-hidden="true" href="#静态资源示例">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://127.0.0.1:8080/oa/userList.html
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>当前这个页面是静态 HTML 文件，数据是“硬编码”写死在文件中的。</li>
<li>这类资源被称为 <strong>静态资源</strong>。</li>
</ul>
<h3 id="动态资源的需求">动态资源的需求：<a hidden class="anchor" aria-hidden="true" href="#动态资源的需求">#</a></h3>
<ul>
<li>如果希望页面上的数据能够根据数据库中的内容变化而自动更新，则需要引入动态网页技术。</li>
<li>动态网页不是指有动画效果的页面，而是指页面的数据是动态生成的。</li>
</ul>
<h3 id="如何实现动态网页">如何实现动态网页？<a hidden class="anchor" aria-hidden="true" href="#如何实现动态网页">#</a></h3>
<ul>
<li>使用 JDBC 技术连接数据库。</li>
<li>编写 Java 程序从数据库中读取数据。</li>
<li>根据查询结果动态生成 HTML 页面内容。</li>
</ul>
<blockquote>
<p>💡 总结：动态网页的关键在于“数据可变”，通常依赖于后端逻辑和数据库交互。</p>
</blockquote>
<h1 id="动态-web-应用中请求与响应过程涉及的角色与协议">动态 Web 应用中请求与响应过程涉及的角色与协议<a hidden class="anchor" aria-hidden="true" href="#动态-web-应用中请求与响应过程涉及的角色与协议">#</a></h1>
<p><img alt="BS结构系统的通信原理2" loading="lazy" src="/posts/java%E5%9F%BA%E7%A1%80/22_servlet/BS%E7%BB%93%E6%9E%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%862.png"></p>
<h2 id="一参与的角色">一、参与的角色<a hidden class="anchor" aria-hidden="true" href="#一参与的角色">#</a></h2>
<p>在一个典型的 B/S（Browser/Server）架构系统中，一个完整的请求与响应过程会涉及到多个角色的协同工作。具体包括以下几个开发团队及其所代表的技术角色：</p>
<h3 id="1-浏览器软件开发团队">1. 浏览器软件开发团队<a hidden class="anchor" aria-hidden="true" href="#1-浏览器软件开发团队">#</a></h3>
<ul>
<li>负责开发浏览器程序。</li>
<li>常见浏览器包括：
<ul>
<li>Google Chrome</li>
<li>Mozilla Firefox</li>
<li>Microsoft Edge / Internet Explorer</li>
<li>Safari 等</li>
</ul>
</li>
</ul>
<h3 id="2-web-server-开发团队">2. Web Server 开发团队<a hidden class="anchor" aria-hidden="true" href="#2-web-server-开发团队">#</a></h3>
<ul>
<li>提供 Web 容器服务，负责接收 HTTP 请求并处理静态资源或转发给 Web 应用处理。</li>
<li>常见 Web Server 包括：
<ul>
<li>Apache Tomcat</li>
<li>Jetty</li>
<li>Oracle WebLogic</li>
<li>JBoss</li>
<li>IBM WebSphere 等</li>
</ul>
</li>
</ul>
<h3 id="3-db-server-开发团队">3. DB Server 开发团队<a hidden class="anchor" aria-hidden="true" href="#3-db-server-开发团队">#</a></h3>
<ul>
<li>提供数据库管理系统，用于存储和管理数据。</li>
<li>常见数据库系统包括：
<ul>
<li>Oracle</li>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>SQL Server 等</li>
</ul>
</li>
</ul>
<h3 id="4-web-应用开发团队java-web-开发者">4. Web 应用开发团队（Java Web 开发者）<a hidden class="anchor" aria-hidden="true" href="#4-web-应用开发团队java-web-开发者">#</a></h3>
<ul>
<li>编写实际业务逻辑的 Web 应用程序（WebApp），部署在 Web Server 上运行。</li>
</ul>
<hr>
<h2 id="二角色之间的规范与协议">二、角色之间的规范与协议<a hidden class="anchor" aria-hidden="true" href="#二角色之间的规范与协议">#</a></h2>
<p>为了保证各个角色之间能够有效协作，需要遵循一系列标准和协议。</p>
<h3 id="1-web-app-开发团队-与-web-server-开发团队之间">1. Web App 开发团队 与 Web Server 开发团队之间<a hidden class="anchor" aria-hidden="true" href="#1-web-app-开发团队-与-web-server-开发团队之间">#</a></h3>
<ul>
<li><strong>规范</strong>：Servlet 规范（属于 JavaEE 标准的一部分）</li>
<li><strong>作用</strong>：
<ul>
<li>实现 Web Server 与 Web 应用之间的解耦合。</li>
<li>确保 Web 应用可以在不同的 Web Server 中兼容运行。</li>
</ul>
</li>
</ul>
<h4 id="servlet-规范包含哪些内容">Servlet 规范包含哪些内容？<a hidden class="anchor" aria-hidden="true" href="#servlet-规范包含哪些内容">#</a></h4>
<ul>
<li>规定了哪些接口和类必须存在。</li>
<li>规定了 Web 应用应包含的配置文件：
<ul>
<li>配置文件名称（如 <code>web.xml</code>）</li>
<li>存放路径（如 <code>/WEB-INF/</code>）</li>
<li>文件内容格式</li>
</ul>
</li>
<li>规定了 Web 应用的标准目录结构。</li>
<li>其他与 Web 应用生命周期、请求处理相关的规范。</li>
</ul>
<h3 id="2-浏览器browser-与-web-server-之间">2. 浏览器（Browser） 与 Web Server 之间<a hidden class="anchor" aria-hidden="true" href="#2-浏览器browser-与-web-server-之间">#</a></h3>
<ul>
<li><strong>协议</strong>：HTTP 协议（HyperText Transfer Protocol）</li>
<li><strong>作用</strong>：
<ul>
<li>浏览器向服务器发起请求。</li>
<li>服务器返回 HTML 页面或其他资源。</li>
<li>是浏览器与服务器之间通信的基础协议。</li>
</ul>
</li>
</ul>
<h3 id="3-web-app-开发团队-与-db-server-开发团队之间">3. Web App 开发团队 与 DB Server 开发团队之间<a hidden class="anchor" aria-hidden="true" href="#3-web-app-开发团队-与-db-server-开发团队之间">#</a></h3>
<ul>
<li><strong>规范</strong>：JDBC（Java Database Connectivity）</li>
<li><strong>作用</strong>：
<ul>
<li>提供统一的 API 接口，使 Java 程序可以访问各种数据库。</li>
<li>实现数据库操作的标准化和可移植性。</li>
</ul>
</li>
</ul>
<hr>
<p><img alt="BS结构系统的角色和协议" loading="lazy" src="/posts/java%E5%9F%BA%E7%A1%80/22_servlet/BS%E7%BB%93%E6%9E%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%A7%92%E8%89%B2%E5%92%8C%E5%8D%8F%E8%AE%AE.png"></p>
<hr>
<h2 id="三servlet-规范详解">三、Servlet 规范详解<a hidden class="anchor" aria-hidden="true" href="#三servlet-规范详解">#</a></h2>
<h3 id="1-什么是-servlet-规范">1. 什么是 Servlet 规范？<a hidden class="anchor" aria-hidden="true" href="#1-什么是-servlet-规范">#</a></h3>
<ul>
<li>是 JavaEE 标准中定义的一套编程规范。</li>
<li>只要 Web 应用遵循该规范编写，就可以部署在任何支持该规范的 Web Server 上运行。</li>
</ul>
<h3 id="2-servlet-规范的主要内容">2. Servlet 规范的主要内容<a hidden class="anchor" aria-hidden="true" href="#2-servlet-规范的主要内容">#</a></h3>
<table>
<thead>
<tr>
<th>内容类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>接口与类</td>
<td>定义了 <code>Servlet</code>, <code>HttpServlet</code>, <code>ServletRequest</code>, <code>ServletResponse</code> 等核心接口和类</td>
</tr>
<tr>
<td>配置文件</td>
<td>指定 <code>web.xml</code> 的格式、位置和内容</td>
</tr>
<tr>
<td>目录结构</td>
<td>明确 Web 应用的标准目录结构（如 <code>WEB-INF</code>, <code>classes</code>, <code>lib</code> 等）</td>
</tr>
<tr>
<td>生命周期</td>
<td>规定 Servlet 的初始化、服务、销毁等生命周期方法</td>
</tr>
<tr>
<td>请求处理</td>
<td>规定如何处理 HTTP 请求（GET、POST 等）</td>
</tr>
</tbody>
</table>
<h1 id="开发一个带有-servlet-的-web-应用重点">开发一个带有 Servlet 的 Web 应用（重点）<a hidden class="anchor" aria-hidden="true" href="#开发一个带有-servlet-的-web-应用重点">#</a></h1>
<h2 id="一开发步骤">一、开发步骤<a hidden class="anchor" aria-hidden="true" href="#一开发步骤">#</a></h2>
<h3 id="第一步创建-web-应用的根目录">第一步：创建 Web 应用的根目录<a hidden class="anchor" aria-hidden="true" href="#第一步创建-web-应用的根目录">#</a></h3>
<p>在 <code>webapps</code> 目录下新建一个项目文件夹，例如：</p>
<ul>
<li><code>crm</code>（客户关系管理系统）</li>
<li><code>bank</code>（银行系统）</li>
<li><code>oa</code>（办公自动化系统）</li>
</ul>
<blockquote>
<p><strong>注意</strong>：该目录即为 Web 应用的“根目录”。</p>
</blockquote>
<hr>
<h3 id="第二步创建-web-inf-目录">第二步：创建 <code>WEB-INF</code> 目录<a hidden class="anchor" aria-hidden="true" href="#第二步创建-web-inf-目录">#</a></h3>
<p>在项目根目录下新建一个名为 <code>WEB-INF</code> 的子目录。</p>
<blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>名称必须全大写，不能更改。</li>
<li>该目录是 Servlet 规范中规定的标准目录。</li>
</ul>
<hr>
<h3 id="第三步创建-classes-子目录">第三步：创建 <code>classes</code> 子目录<a hidden class="anchor" aria-hidden="true" href="#第三步创建-classes-子目录">#</a></h3>
<p>在 <code>WEB-INF</code> 下创建 <code>classes</code> 目录。</p>
<blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>名称必须小写。</li>
<li>用于存放 Java 编译后的 <code>.class</code> 文件（字节码）。</li>
</ul>
<hr>
<h3 id="第四步创建-lib-子目录可选">第四步：创建 <code>lib</code> 子目录（可选）<a hidden class="anchor" aria-hidden="true" href="#第四步创建-lib-子目录可选">#</a></h3>
<p>在 <code>WEB-INF</code> 下创建 <code>lib</code> 目录。</p>
<blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>名称必须小写。</li>
<li>用于存放第三方 JAR 包（如数据库驱动等）。</li>
<li>并非必须存在。</li>
</ul>
<hr>
<h3 id="第五步创建-webxml-配置文件">第五步：创建 <code>web.xml</code> 配置文件<a hidden class="anchor" aria-hidden="true" href="#第五步创建-webxml-配置文件">#</a></h3>
<p>在 <code>WEB-INF</code> 目录下创建 <code>web.xml</code> 文件。</p>
<blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>必须存在。</li>
<li>文件名必须为 <code>web.xml</code>。</li>
<li>用于配置请求路径与 Servlet 类之间的映射关系。</li>
<li>推荐从已有项目复制模板，避免手动编写。</li>
</ul>
<h4 id="示例模板">示例模板：<a hidden class="anchor" aria-hidden="true" href="#示例模板">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;web-app</span> <span style="color:#007f7f">xmlns=</span><span style="color:#0ff;font-weight:bold">&#34;https://jakarta.ee/xml/ns/jakartaee&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">xmlns:xsi=</span><span style="color:#0ff;font-weight:bold">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">xsi:schemaLocation=</span><span style="color:#0ff;font-weight:bold">&#34;https://jakarta.ee/xml/ns/jakartaee
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">                             https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">version=</span><span style="color:#0ff;font-weight:bold">&#34;5.0&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">metadata-complete=</span><span style="color:#0ff;font-weight:bold">&#34;true&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/web-app&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h3 id="第六步编写-servlet-程序">第六步：编写 Servlet 程序<a hidden class="anchor" aria-hidden="true" href="#第六步编写-servlet-程序">#</a></h3>
<p>创建一个 Java 类，实现 <code>jakarta.servlet.Servlet</code> 接口。</p>
<blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>该接口属于 Jakarta EE 规范，不在 JDK 中。</li>
<li>Tomcat 提供了对应的 API（位于 <code>servlet-api.jar</code> 中）。</li>
<li>从 Jakarta EE 9 开始，包名从 <code>javax.servlet</code> 变更为 <code>jakarta.servlet</code>。</li>
<li>源代码位置无特殊要求，只需确保编译后的 <code>.class</code> 文件放入 <code>WEB-INF/classes</code> 目录即可。</li>
</ul>
<hr>
<h3 id="第七步编译-servlet">第七步：编译 Servlet<a hidden class="anchor" aria-hidden="true" href="#第七步编译-servlet">#</a></h3>
<p>设置环境变量 <code>CLASSPATH</code>，以便编译时能找到 <code>Servlet</code> 接口。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>CLASSPATH=.;C:<span style="color:#0ff;font-weight:bold">\d</span>ev<span style="color:#0ff;font-weight:bold">\a</span>pache-tomcat-10.0.12<span style="color:#0ff;font-weight:bold">\l</span>ib<span style="color:#0ff;font-weight:bold">\s</span>ervlet-api.jar
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>该设置仅用于编译，不影响 Tomcat 运行时行为。</li>
</ul>
<hr>
<h3 id="第八步将编译后的-class-文件拷贝到-web-infclasses">第八步：将编译后的 <code>.class</code> 文件拷贝到 <code>WEB-INF/classes</code><a hidden class="anchor" aria-hidden="true" href="#第八步将编译后的-class-文件拷贝到-web-infclasses">#</a></h3>
<p>将 <code>HelloServlet.class</code> 文件复制到 <code>WEB-INF/classes</code> 目录中。</p>
<hr>
<h3 id="第九步在-webxml-中注册-servlet">第九步：在 <code>web.xml</code> 中注册 Servlet<a hidden class="anchor" aria-hidden="true" href="#第九步在-webxml-中注册-servlet">#</a></h3>
<p>在 <code>web.xml</code> 中添加 <code>&lt;servlet&gt;</code> 和 <code>&lt;servlet-mapping&gt;</code> 标签，完成 URL 路径与类的绑定。</p>
<h4 id="示例配置">示例配置：<a hidden class="anchor" aria-hidden="true" href="#示例配置">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>HelloServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.servlet.HelloServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>HelloServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/hello<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>说明</strong>：</p>
</blockquote>
<ul>
<li><code>&lt;servlet-name&gt;</code> 必须一致。</li>
<li><code>&lt;url-pattern&gt;</code> 必须以 <code>/</code> 开头。</li>
</ul>
<hr>
<h3 id="第十步启动-tomcat-服务器">第十步：启动 Tomcat 服务器<a hidden class="anchor" aria-hidden="true" href="#第十步启动-tomcat-服务器">#</a></h3>
<p>运行 Tomcat 启动脚本，启动服务器。</p>
<hr>
<h3 id="第十一步访问-servlet">第十一步：访问 Servlet<a hidden class="anchor" aria-hidden="true" href="#第十一步访问-servlet">#</a></h3>
<p>在浏览器中输入完整的 URL 地址访问：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://127.0.0.1:8080/crm/hello
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>注意</strong>：</p>
</blockquote>
<ul>
<li>请求路径需包含项目名（如 <code>/crm</code>）。</li>
<li>必须与 <code>web.xml</code> 中的 <code>&lt;url-pattern&gt;</code> 完全一致。</li>
</ul>
<hr>
<h2 id="二html-页面的放置位置">二、HTML 页面的放置位置<a hidden class="anchor" aria-hidden="true" href="#二html-页面的放置位置">#</a></h2>
<p>HTML、CSS、JS、图片等静态资源应放在 <code>WEB-INF</code> 外部。</p>
<blockquote>
<p><strong>原因</strong>：</p>
</blockquote>
<ul>
<li><code>WEB-INF</code> 目录受保护，外部无法直接访问其内容。</li>
</ul>
<hr>
<h2 id="三web-应用目录结构示例">三、Web 应用目录结构示例<a hidden class="anchor" aria-hidden="true" href="#三web-应用目录结构示例">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>crm/
</span></span><span style="display:flex;"><span>├── WEB-INF/
</span></span><span style="display:flex;"><span>│   ├── classes/              # 存放编译后的 .class 文件
</span></span><span style="display:flex;"><span>│   ├── lib/                  # 存放第三方 jar 包（可选）
</span></span><span style="display:flex;"><span>│   └── web.xml               # 配置文件
</span></span><span style="display:flex;"><span>├── index.html                # 静态页面
</span></span><span style="display:flex;"><span>├── css/
</span></span><span style="display:flex;"><span>├── js/
</span></span><span style="display:flex;"><span>└── images/
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="四servlet-执行流程简述">四、Servlet 执行流程简述<a hidden class="anchor" aria-hidden="true" href="#四servlet-执行流程简述">#</a></h2>
<ol>
<li>用户在浏览器输入 URL：<code>http://127.0.0.1:8080/crm/hello</code></li>
<li>Tomcat 截取路径 <code>/crm/hello</code>，定位到项目 <code>crm</code></li>
<li>Tomcat 在 <code>web.xml</code> 中查找 <code>/hello</code> 对应的 Servlet 类</li>
<li>Tomcat 通过反射机制创建 Servlet 实例</li>
<li>Tomcat 调用该实例的 <code>service()</code> 方法处理请求</li>
</ol>
<hr>
<h2 id="五总结">五、总结<a hidden class="anchor" aria-hidden="true" href="#五总结">#</a></h2>
<ul>
<li>Web 应用的结构需符合 Servlet 规范。</li>
<li><code>WEB-INF</code> 是核心目录，包含配置文件和类文件。</li>
<li>编写 Servlet 需要引入 <code>servlet-api.jar</code>。</li>
<li>不需要自己编写 <code>main</code> 方法，由 Tomcat 负责调用。</li>
<li>请求路径必须与 <code>web.xml</code> 中的 <code>&lt;url-pattern&gt;</code> 保持一致。</li>
</ul>
<hr>
<p>如需进一步了解 Jakarta EE 规范和相关 XML Schema，请参考官方文档：</p>
<ul>
<li><a href="https://jakarta.ee/xml/ns/jakartaee">Jakarta EE XML Schemas</a></li>
</ul>
<h1 id="关于-javaee-的版本演进">关于 JavaEE 的版本演进<a hidden class="anchor" aria-hidden="true" href="#关于-javaee-的版本演进">#</a></h1>
<h2 id="一javaee-的发展历史">一、JavaEE 的发展历史<a hidden class="anchor" aria-hidden="true" href="#一javaee-的发展历史">#</a></h2>
<ul>
<li><strong>最高版本</strong>：JavaEE 的最终版本为 <strong>Java EE 8</strong>。</li>
<li><strong>归属变更</strong>：Oracle 宣布将 JavaEE 规范捐献给 Apache 基金会。</li>
</ul>
<h2 id="二名称变更与后续发展">二、名称变更与后续发展<a hidden class="anchor" aria-hidden="true" href="#二名称变更与后续发展">#</a></h2>
<ul>
<li><strong>品牌迁移</strong>：Apache 接手后，<strong>不再使用 &ldquo;JavaEE&rdquo; 这一名字</strong>。</li>
<li><strong>新名称</strong>：新的企业级 Java 规范被称为 <strong>Jakarta EE</strong>。</li>
<li><strong>未来命名规则</strong>：从 Java EE 8 之后的版本开始，统一以 <strong>Jakarta EE + 版本号</strong> 形式命名。</li>
</ul>
<h2 id="三版本对应关系与包名变化">三、版本对应关系与包名变化<a hidden class="anchor" aria-hidden="true" href="#三版本对应关系与包名变化">#</a></h2>
<table>
<thead>
<tr>
<th>JavaEE 版本</th>
<th>对应 Jakarta EE 版本</th>
<th>Servlet 包路径</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java EE 8</td>
<td>-</td>
<td><code>javax.servlet.Servlet</code></td>
</tr>
<tr>
<td>-</td>
<td>Jakarta EE 9</td>
<td><code>jakarta.servlet.Servlet</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>⚠️ <strong>注意</strong>：<br>
在 <strong>Jakarta EE 9</strong> 及以后版本中，所有类的包名都由 <code>javax</code> 改为了 <code>jakarta</code>。这意味着：</p>
<ul>
<li>使用 <code>javax.servlet.Servlet</code> 的旧项目无法直接部署在支持 Jakarta EE 的服务器上（如 Tomcat 10+）。</li>
<li>若需兼容性支持，请使用 <strong>Tomcat 9 或更早版本</strong>。</li>
</ul>
</blockquote>
<h2 id="四部署建议">四、部署建议<a hidden class="anchor" aria-hidden="true" href="#四部署建议">#</a></h2>
<ul>
<li>如果你的项目仍在使用 <code>javax</code> 包：
<ul>
<li><strong>可部署环境</strong>：Tomcat 9 及其以下版本。</li>
<li><strong>不可部署环境</strong>：Tomcat 10 及以上版本。</li>
</ul>
</li>
<li>如需迁移到 Tomcat 10+，请将代码中的 <code>javax</code> 包替换为 <code>jakarta</code>。</li>
</ul>
<h1 id="解决tomcat服务器在dos命令窗口中的乱码问题控制台乱码">解决Tomcat服务器在DOS命令窗口中的乱码问题（控制台乱码）<a hidden class="anchor" aria-hidden="true" href="#解决tomcat服务器在dos命令窗口中的乱码问题控制台乱码">#</a></h1>
<p>将CATALINA_HOME/conf/logging.properties文件中的内容修改如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>java.util.logging.ConsoleHandler.encoding = GBK
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="向浏览器响应一段html代码">向浏览器响应一段HTML代码<a hidden class="anchor" aria-hidden="true" href="#向浏览器响应一段html代码">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> service(ServletRequest request, ServletResponse response){
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;text/html&#34;</span>);
</span></span><span style="display:flex;"><span>    PrintWriter out = response.<span style="color:#007f7f">getWriter</span>();
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;h1&gt;hello servlet!&lt;/h1&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="在servlet中连接数据库怎么做">在Servlet中连接数据库，怎么做？<a hidden class="anchor" aria-hidden="true" href="#在servlet中连接数据库怎么做">#</a></h1>
<ul>
<li>Servlet是Java程序，所以在Servlet中完全可以编写JDBC代码连接数据库。</li>
<li>在一个webapp中去连接数据库，需要将驱动jar包放到WEB-INF/lib目录下。（com.mysql.cj.jdbc.Driver 这个类就在驱动jar包当中。）</li>
</ul>
<h1 id="在集成开发环境ide中开发-servlet-程序">在集成开发环境（IDE）中开发 Servlet 程序<a hidden class="anchor" aria-hidden="true" href="#在集成开发环境ide中开发-servlet-程序">#</a></h1>
<h2 id="一常用的集成开发工具简介">一、常用的集成开发工具简介<a hidden class="anchor" aria-hidden="true" href="#一常用的集成开发工具简介">#</a></h2>
<p>目前主流的 Java 集成开发工具有两种：</p>
<h3 id="1-intellij-idea">1. IntelliJ IDEA<a hidden class="anchor" aria-hidden="true" href="#1-intellij-idea">#</a></h3>
<ul>
<li><strong>使用人数较多</strong>，提示功能优于 Eclipse。</li>
<li>更加智能，用户体验更佳。</li>
<li>由 JetBrains 公司开发。</li>
<li><strong>商业软件（收费）</strong>。</li>
</ul>
<h3 id="2-eclipse">2. Eclipse<a hidden class="anchor" aria-hidden="true" href="#2-eclipse">#</a></h3>
<ul>
<li>使用人数相对较少，但仍有一定用户基础。</li>
<li>正处于逐渐被替代的趋势。</li>
<li>由 IBM 团队开发。</li>
<li>名称寓意为“日食”，象征意图吞并 SUN 公司。</li>
<li>实际上，SUN 公司于 2009 年被 Oracle 收购，IBM 并未实现并购目标。</li>
</ul>
<hr>
<h2 id="二使用-intellij-idea-开发-servlet-的步骤">二、使用 IntelliJ IDEA 开发 Servlet 的步骤<a hidden class="anchor" aria-hidden="true" href="#二使用-intellij-idea-开发-servlet-的步骤">#</a></h2>
<h3 id="第一步创建空项目empty-project">第一步：创建空项目（Empty Project）<a hidden class="anchor" aria-hidden="true" href="#第一步创建空项目empty-project">#</a></h3>
<ul>
<li>打开 IDEA → <code>File</code> → <code>New</code> → <code>Project</code></li>
<li>选择 <code>Empty Project</code></li>
<li>命名项目为：<code>javaweb</code>（非强制，建议与目录一致）</li>
<li>可选操作：后续在此项目下添加模块（Module）</li>
</ul>
<h3 id="第二步新建模块module">第二步：新建模块（Module）<a hidden class="anchor" aria-hidden="true" href="#第二步新建模块module">#</a></h3>
<ul>
<li><code>File</code> → <code>New</code> → <code>Module</code></li>
<li>创建一个普通的 JavaSE 模块（不要选 Java Enterprise）</li>
<li>模块名建议为：<code>servlet01</code></li>
</ul>
<h3 id="第三步将模块转换为-web-application">第三步：将模块转换为 Web Application<a hidden class="anchor" aria-hidden="true" href="#第三步将模块转换为-web-application">#</a></h3>
<ul>
<li>右键点击模块 → <code>Add Framework Support...</code></li>
<li>选择 <code>Web Application</code></li>
<li>IDEA 将自动生成符合 Servlet 规范的 webapp 目录结构</li>
<li><strong>注意：web 目录即为 webapp 的根目录</strong></li>
</ul>
<h3 id="第四步可选删除默认生成的-indexjsp-文件">第四步（可选）：删除默认生成的 index.jsp 文件<a hidden class="anchor" aria-hidden="true" href="#第四步可选删除默认生成的-indexjsp-文件">#</a></h3>
<ul>
<li>根据需要删除模板生成的 <code>index.jsp</code> 文件</li>
</ul>
<h3 id="第五步编写-servlet-类">第五步：编写 Servlet 类<a hidden class="anchor" aria-hidden="true" href="#第五步编写-servlet-类">#</a></h3>
<h4 id="示例类名studentservlet">示例类名：<code>StudentServlet</code><a hidden class="anchor" aria-hidden="true" href="#示例类名studentservlet">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> StudentServlet <span style="color:#fff;font-weight:bold">implements</span> Servlet
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>如果出现找不到 <code>Servlet.class</code> 的错误：</p>
<ul>
<li>进入 <code>File</code> → <code>Project Structure</code> → <code>Modules</code></li>
<li>点击 <code>+</code> 添加 JAR 包</li>
<li>添加 Tomcat 中的 <code>servlet-api.jar</code> 和 <code>jsp-api.jar</code> 到 classpath</li>
</ul>
</li>
<li>
<p>实现 <code>jakarta.servlet.Servlet</code> 接口中的五个方法</p>
</li>
</ul>
<h3 id="第六步在-service-方法中编写业务逻辑">第六步：在 service 方法中编写业务逻辑<a hidden class="anchor" aria-hidden="true" href="#第六步在-service-方法中编写业务逻辑">#</a></h3>
<ul>
<li>可以在这里添加数据库连接等具体业务代码</li>
</ul>
<h3 id="第七步添加数据库驱动包">第七步：添加数据库驱动包<a hidden class="anchor" aria-hidden="true" href="#第七步添加数据库驱动包">#</a></h3>
<ul>
<li>在 <code>WEB-INF</code> 下新建目录：<code>lib</code>（必须全小写）</li>
<li>将数据库驱动 JAR 包放入此目录</li>
</ul>
<h3 id="第八步配置-webxml-注册-servlet">第八步：配置 web.xml 注册 Servlet<a hidden class="anchor" aria-hidden="true" href="#第八步配置-webxml-注册-servlet">#</a></h3>
<p>文件路径：<code>WEB-INF/web.xml</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;web-app</span> <span style="color:#007f7f">xmlns=</span><span style="color:#0ff;font-weight:bold">&#34;http://xmlns.jcp.org/xml/ns/javaee&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">xmlns:xsi=</span><span style="color:#0ff;font-weight:bold">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">xsi:schemaLocation=</span><span style="color:#0ff;font-weight:bold">&#34;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#007f7f">version=</span><span style="color:#0ff;font-weight:bold">&#34;4.0&#34;</span><span style="font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;servlet-name&gt;</span>studentServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.javaweb.servlet.StudentServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;servlet-name&gt;</span>studentServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;url-pattern&gt;</span>/servlet/student<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/web-app&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="第九步创建-html-页面用于测试">第九步：创建 HTML 页面用于测试<a hidden class="anchor" aria-hidden="true" href="#第九步创建-html-页面用于测试">#</a></h3>
<ul>
<li>文件名：<code>student.html</code></li>
<li><strong>必须放在 WEB-INF 外部</strong></li>
<li>示例内容如下：</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">lang</span>=<span style="color:#0ff;font-weight:bold">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">charset</span>=<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;学生页面&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">&lt;!-- 注意：项目名为 /xmm，这里先写死 --&gt;</span>
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;/xmm/servlet/student&#34;</span>&gt;查看学生列表&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="第十步配置-idea-关联-tomcat-并部署项目">第十步：配置 IDEA 关联 Tomcat 并部署项目<a hidden class="anchor" aria-hidden="true" href="#第十步配置-idea-关联-tomcat-并部署项目">#</a></h3>
<ul>
<li>点击右上角的绿色锤子旁的按钮：<code>Add Configuration</code></li>
<li>点击左上角的 <code>+</code> → <code>Tomcat Server</code> → <code>Local</code></li>
<li>设置服务器参数（一般无需修改）</li>
<li>切换到 <code>Deployment</code> 选项卡
<ul>
<li>点击 <code>+</code> 添加部署</li>
<li>设置 <code>Application context</code> 为 <code>/xmm</code></li>
</ul>
</li>
</ul>
<h3 id="第十一步启动-tomcat-服务器">第十一步：启动 Tomcat 服务器<a hidden class="anchor" aria-hidden="true" href="#第十一步启动-tomcat-服务器">#</a></h3>
<ul>
<li>点击右上角绿色箭头或虫子图标（Debug 启动）</li>
<li><strong>推荐使用 Debug 模式启动 Tomcat</strong>，方便调试</li>
</ul>
<h3 id="第十二步访问测试页面">第十二步：访问测试页面<a hidden class="anchor" aria-hidden="true" href="#第十二步访问测试页面">#</a></h3>
<ul>
<li>打开浏览器，输入地址：</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/xmm/student.html
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="三总结">三、总结<a hidden class="anchor" aria-hidden="true" href="#三总结">#</a></h2>
<p>通过上述步骤，我们完成了在 IntelliJ IDEA 中开发一个简单 Servlet 应用的全过程。包括项目创建、Servlet 编写、配置部署以及最终的测试运行。整个流程遵循标准的 Java Web 开发规范，适合初学者快速入门。</p>
<h1 id="servlet-对象的生命周期">Servlet 对象的生命周期<a hidden class="anchor" aria-hidden="true" href="#servlet-对象的生命周期">#</a></h1>
<h2 id="一什么是-servlet-生命周期">一、什么是 Servlet 生命周期？<a hidden class="anchor" aria-hidden="true" href="#一什么是-servlet-生命周期">#</a></h2>
<p>Servlet 的生命周期是指一个 Servlet 对象从创建到销毁的全过程。主要包括以下几个阶段：</p>
<ul>
<li><strong>何时被创建？</strong></li>
<li><strong>何时被销毁？</strong></li>
<li><strong>创建了多少个实例？</strong></li>
<li><strong>整个过程是怎样的？</strong></li>
</ul>
<h2 id="二servlet-生命周期由谁管理">二、Servlet 生命周期由谁管理？<a hidden class="anchor" aria-hidden="true" href="#二servlet-生命周期由谁管理">#</a></h2>
<ul>
<li>Servlet 对象的创建、方法调用和销毁均由 <strong>Tomcat服务器（WEB Server）</strong> 全权负责。</li>
<li>Tomcat 又被称为 <strong>WEB 容器（Web Container）</strong>。</li>
<li><strong>只有容器中管理的 Servlet 对象才能被正常调用。</strong></li>
<li>自己手动 <code>new</code> 出来的 Servlet 对象 <strong>不会被 WEB 容器管理</strong>。</li>
</ul>
<h3 id="关键点">关键点：<a hidden class="anchor" aria-hidden="true" href="#关键点">#</a></h3>
<ul>
<li>Web 容器内部通常使用一个类似 <code>HashMap</code> 的集合来维护 Servlet 对象与请求路径之间的映射关系。</li>
<li>示例图：<img alt="WEB容器中的Map集合" loading="lazy" src="/posts/java%E5%9F%BA%E7%A1%80/22_servlet/WEB%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84Map%E9%9B%86%E5%90%88.png"></li>
</ul>
<h2 id="三默认情况下服务器启动时是否创建-servlet-对象">三、默认情况下，服务器启动时是否创建 Servlet 对象？<a hidden class="anchor" aria-hidden="true" href="#三默认情况下服务器启动时是否创建-servlet-对象">#</a></h2>
<ul>
<li><strong>默认情况下，Servlet 在服务器启动时不会被实例化。</strong></li>
<li>构造方法不会执行。</li>
<li>这种设计合理：避免浪费内存资源，未访问的 Servlet 不必提前创建。</li>
</ul>
<h2 id="四如何让服务器在启动时创建-servlet">四、如何让服务器在启动时创建 Servlet？<a hidden class="anchor" aria-hidden="true" href="#四如何让服务器在启动时创建-servlet">#</a></h2>
<p>可以通过配置 <code>web.xml</code> 文件中的 <code>&lt;load-on-startup&gt;</code> 标签实现：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>aservlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.javaweb.servlet.AServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;load-on-startup&gt;</span>1<span style="font-weight:bold">&lt;/load-on-startup&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>aservlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/a<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>数值越小，优先级越高。</li>
<li>此配置表示该 Servlet 应在服务器启动时加载并初始化。</li>
</ul>
<h2 id="五servlet-生命周期详解">五、Servlet 生命周期详解<a hidden class="anchor" aria-hidden="true" href="#五servlet-生命周期详解">#</a></h2>
<h3 id="1-第一次请求发生时的行为">1. 第一次请求发生时的行为<a hidden class="anchor" aria-hidden="true" href="#1-第一次请求发生时的行为">#</a></h3>
<p>控制台输出如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>AServlet无参数构造方法执行了
</span></span><span style="display:flex;"><span>AServlet&#39;s init method execute!
</span></span><span style="display:flex;"><span>AServlet&#39;s service method execute!
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="结论">结论：<a hidden class="anchor" aria-hidden="true" href="#结论">#</a></h4>
<ul>
<li>用户第一次发送请求时，Servlet 被实例化（调用了无参构造方法）。</li>
<li>实例化后立即调用 <code>init()</code> 方法。</li>
<li>紧接着调用 <code>service()</code> 方法处理请求。</li>
</ul>
<h3 id="2-后续请求行为">2. 后续请求行为<a hidden class="anchor" aria-hidden="true" href="#2-后续请求行为">#</a></h3>
<p>用户再次发送请求时，控制台输出如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>AServlet&#39;s service method execute!
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="结论-1">结论：<a hidden class="anchor" aria-hidden="true" href="#结论-1">#</a></h4>
<ul>
<li>Servlet 是单例对象（但不是真正的单例模式）。</li>
<li><code>service()</code> 方法每次请求都会被调用。</li>
<li><code>构造方法</code> 和 <code>init()</code> 只会在第一次请求时执行一次。</li>
</ul>
<h3 id="3-服务器关闭时的行为">3. 服务器关闭时的行为<a hidden class="anchor" aria-hidden="true" href="#3-服务器关闭时的行为">#</a></h3>
<p>控制台输出如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>AServlet&#39;s destroy method execute!
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="结论-2">结论：<a hidden class="anchor" aria-hidden="true" href="#结论-2">#</a></h4>
<ul>
<li><code>destroy()</code> 方法只执行一次，在服务器关闭前被调用。</li>
<li>用于释放资源、保存数据等操作。</li>
<li><code>destroy()</code> 执行完毕后，Servlet 对象才被销毁。</li>
</ul>
<h3 id="4-生命周期类比人生阶段">4. 生命周期类比人生阶段<a hidden class="anchor" aria-hidden="true" href="#4-生命周期类比人生阶段">#</a></h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>比喻</th>
</tr>
</thead>
<tbody>
<tr>
<td>构造方法</td>
<td>出生</td>
</tr>
<tr>
<td><code>init()</code></td>
<td>接受教育</td>
</tr>
<tr>
<td><code>service()</code></td>
<td>工作服务</td>
</tr>
<tr>
<td><code>destroy()</code></td>
<td>临终</td>
</tr>
</tbody>
</table>
<h2 id="六servlet-方法执行次数总结">六、Servlet 方法执行次数总结<a hidden class="anchor" aria-hidden="true" href="#六servlet-方法执行次数总结">#</a></h2>
<table>
<thead>
<tr>
<th>方法</th>
<th>执行次数</th>
</tr>
</thead>
<tbody>
<tr>
<td>构造方法</td>
<td>1次（仅第一次请求）</td>
</tr>
<tr>
<td><code>init()</code></td>
<td>1次（仅第一次请求）</td>
</tr>
<tr>
<td><code>service()</code></td>
<td>每次请求都执行</td>
</tr>
<tr>
<td><code>destroy()</code></td>
<td>1次（服务器关闭时）</td>
</tr>
</tbody>
</table>
<h2 id="七常见问题与注意事项">七、常见问题与注意事项<a hidden class="anchor" aria-hidden="true" href="#七常见问题与注意事项">#</a></h2>
<h3 id="1-如果自定义有参构造方法而没有无参构造方法会发生什么">1. 如果自定义有参构造方法而没有无参构造方法会发生什么？<a hidden class="anchor" aria-hidden="true" href="#1-如果自定义有参构造方法而没有无参构造方法会发生什么">#</a></h3>
<ul>
<li>报错：HTTP 500 错误（服务器内部错误）</li>
<li>原因：Servlet 容器只能通过无参构造方法创建对象</li>
<li><strong>建议：不要在 Servlet 中定义构造方法</strong></li>
</ul>
<h3 id="2-能否用构造方法代替-init-方法">2. 能否用构造方法代替 <code>init()</code> 方法？<a hidden class="anchor" aria-hidden="true" href="#2-能否用构造方法代替-init-方法">#</a></h3>
<ul>
<li><strong>不能。</strong></li>
<li>虽然两者都只执行一次，但构造方法可能影响 Servlet 实例化。</li>
<li><code>init()</code> 更适合做初始化操作（如连接池、线程池初始化）</li>
</ul>
<h3 id="3-哪些方法最常被使用">3. 哪些方法最常被使用？<a hidden class="anchor" aria-hidden="true" href="#3-哪些方法最常被使用">#</a></h3>
<ul>
<li><strong><code>service()</code> 方法最重要</strong>，必须重写。</li>
<li><strong><code>init()</code> 和 <code>destroy()</code> 方法较少使用</strong>，但可用于资源初始化和清理。</li>
</ul>
<h1 id="genericservlet-概述">GenericServlet 概述<a hidden class="anchor" aria-hidden="true" href="#genericservlet-概述">#</a></h1>
<h2 id="一直接实现-servlet-接口的缺点">一、直接实现 <code>Servlet</code> 接口的缺点<a hidden class="anchor" aria-hidden="true" href="#一直接实现-servlet-接口的缺点">#</a></h2>
<p>当我们编写一个 Servlet 类直接实现 <code>Servlet</code> 接口时，存在以下问题：</p>
<ul>
<li><strong>只关心 <code>service()</code> 方法</strong>，而其他方法（如 <code>init()</code>、<code>destroy()</code> 等）在大多数情况下并不需要使用。</li>
<li>导致代码冗余且不够优雅。</li>
</ul>
<hr>
<h2 id="二适配器设计模式adapter-pattern">二、适配器设计模式（Adapter Pattern）<a hidden class="anchor" aria-hidden="true" href="#二适配器设计模式adapter-pattern">#</a></h2>
<h3 id="示例充电器作为适配器">示例：充电器作为适配器<a hidden class="anchor" aria-hidden="true" href="#示例充电器作为适配器">#</a></h3>
<ul>
<li>手机无法直接连接 220V 电压，否则会损坏。</li>
<li>使用一个<strong>充电器</strong>作为中间适配器：
<ul>
<li>手机连接充电器；</li>
<li>充电器连接电源；</li>
<li>实现安全供电。</li>
</ul>
</li>
</ul>
<h3 id="在-servlet-中的应用">在 Servlet 中的应用<a hidden class="anchor" aria-hidden="true" href="#在-servlet-中的应用">#</a></h3>
<ul>
<li><code>GenericServlet</code> 是一个实现了 <code>Servlet</code> 接口的抽象类；</li>
<li>它充当了一个“适配器”，屏蔽了不需要频繁重写的接口方法；</li>
<li>用户只需要关注并重写 <code>service()</code> 方法即可。</li>
</ul>
<hr>
<h2 id="三genericservlet-的作用与使用方式">三、GenericServlet 的作用与使用方式<a hidden class="anchor" aria-hidden="true" href="#三genericservlet-的作用与使用方式">#</a></h2>
<h3 id="1-genericservlet-的特点">1. <code>GenericServlet</code> 的特点<a hidden class="anchor" aria-hidden="true" href="#1-genericservlet-的特点">#</a></h3>
<ul>
<li>是一个<strong>抽象类</strong>；</li>
<li>实现了 <code>Servlet</code> 接口；</li>
<li>提供了一个<strong>抽象的 <code>service()</code> 方法</strong>；</li>
<li>其他方法（如 <code>init()</code>、<code>destroy()</code>）提供默认空实现。</li>
</ul>
<h3 id="2-使用方式">2. 使用方式<a hidden class="anchor" aria-hidden="true" href="#2-使用方式">#</a></h3>
<ul>
<li>开发者只需继承 <code>GenericServlet</code>；</li>
<li>并重写其 <code>service()</code> 方法；</li>
<li>无需处理不相关的生命周期方法。</li>
</ul>
<hr>
<h2 id="四关于-genericservlet-的几个思考问题">四、关于 GenericServlet 的几个思考问题<a hidden class="anchor" aria-hidden="true" href="#四关于-genericservlet-的几个思考问题">#</a></h2>
<h3 id="1-init-方法还会执行吗">1. <code>init()</code> 方法还会执行吗？<a hidden class="anchor" aria-hidden="true" href="#1-init-方法还会执行吗">#</a></h3>
<ul>
<li><strong>是的，会执行。</strong></li>
<li>执行的是 <code>GenericServlet</code> 类中的 <code>init()</code> 方法。</li>
</ul>
<h3 id="2-init-方法是谁调用的">2. <code>init()</code> 方法是谁调用的？<a hidden class="anchor" aria-hidden="true" href="#2-init-方法是谁调用的">#</a></h3>
<ul>
<li>是由 <strong>Tomcat 服务器自动调用的</strong>。</li>
</ul>
<h3 id="3-servletconfig-对象是谁创建并传入的">3. <code>ServletConfig</code> 对象是谁创建并传入的？<a hidden class="anchor" aria-hidden="true" href="#3-servletconfig-对象是谁创建并传入的">#</a></h3>
<ul>
<li>是由 <strong>Tomcat 服务器负责创建并传递</strong>给 <code>init()</code> 方法的。</li>
</ul>
<hr>
<h2 id="五tomcat-服务器伪代码示例">五、Tomcat 服务器伪代码示例<a hidden class="anchor" aria-hidden="true" href="#五tomcat-服务器伪代码示例">#</a></h2>
<p>以下是一个简化的 Tomcat 启动和调用 Servlet 的伪代码，帮助理解整个过程：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Tomcat {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Tomcat服务器伪代码</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 加载LoginServlet类</span>
</span></span><span style="display:flex;"><span>        Class clazz = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.bjpowernode.javaweb.servlet.LoginServlet&#34;</span>);
</span></span><span style="display:flex;"><span>        Object obj = clazz.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 向下转型为Servlet类型</span>
</span></span><span style="display:flex;"><span>        Servlet servlet = (Servlet) obj;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 创建ServletConfig对象（由Tomcat内部实现）</span>
</span></span><span style="display:flex;"><span>        ServletConfig servletConfig = <span style="color:#fff;font-weight:bold">new</span> org.<span style="color:#007f7f">apache</span>.<span style="color:#007f7f">catalina</span>.<span style="color:#007f7f">core</span>.<span style="color:#007f7f">StandardWrapperFacade</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 调用init方法</span>
</span></span><span style="display:flex;"><span>        servlet.<span style="color:#007f7f">init</span>(servletConfig);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 调用service方法</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<p>通过上述分析可以看出，<code>GenericServlet</code> 为我们简化了 Servlet 编程模型，提高了开发效率，同时遵循了“适配器”设计模式的思想。</p>
<h1 id="servletconfig-概述">ServletConfig 概述<a hidden class="anchor" aria-hidden="true" href="#servletconfig-概述">#</a></h1>
<h2 id="1-什么是-servletconfig">1. 什么是 ServletConfig？<a hidden class="anchor" aria-hidden="true" href="#1-什么是-servletconfig">#</a></h2>
<ul>
<li><code>ServletConfig</code> 是一个用于封装 <strong>Servlet 对象配置信息</strong> 的对象。</li>
<li>它主要用来保存在 <code>web.xml</code> 文件中 <code>&lt;servlet&gt;</code> 标签内定义的配置信息。</li>
</ul>
<h2 id="2-与-servlet-的关系">2. 与 Servlet 的关系<a hidden class="anchor" aria-hidden="true" href="#2-与-servlet-的关系">#</a></h2>
<ul>
<li><strong>每一个 Servlet 都有唯一一个对应的 ServletConfig 对象</strong>。</li>
<li>该对象由 <strong>Tomcat（Web）服务器创建</strong>，默认情况下，在用户发送第一次请求时创建。</li>
</ul>
<h2 id="3-初始化过程">3. 初始化过程<a hidden class="anchor" aria-hidden="true" href="#3-初始化过程">#</a></h2>
<ul>
<li>
<p>Tomcat 在调用 <code>Servlet</code> 的 <code>init()</code> 方法时，会将 <code>ServletConfig</code> 对象作为参数传递进去：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> init(ServletConfig config) <span style="color:#fff;font-weight:bold">throws</span> ServletException
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h2 id="4-实现细节">4. 实现细节<a hidden class="anchor" aria-hidden="true" href="#4-实现细节">#</a></h2>
<ul>
<li><code>ServletConfig</code> 接口的具体实现类是由 <strong>Tomcat 服务器提供的</strong>。</li>
<li>因为 <code>GenericServlet</code> 类已经实现了 <code>ServletConfig</code> 接口，所以在自定义的 Servlet 中可以直接使用 <code>this</code> 来调用其方法。</li>
</ul>
<hr>
<h2 id="5-常用方法">5. 常用方法<a hidden class="anchor" aria-hidden="true" href="#5-常用方法">#</a></h2>
<p>以下是一些常用的 <code>ServletConfig</code> 接口方法：</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>String getInitParameter(String name)</code></td>
<td>通过初始化参数的名称获取对应的值</td>
</tr>
<tr>
<td><code>Enumeration&lt;String&gt; getInitParameterNames()</code></td>
<td>获取所有初始化参数的名称集合</td>
</tr>
<tr>
<td><code>ServletContext getServletContext()</code></td>
<td>获取当前 Servlet 所属的 <code>ServletContext</code> 对象</td>
</tr>
<tr>
<td><code>String getServletName()</code></td>
<td>获取当前 Servlet 的名称（即 <code>&lt;servlet-name&gt;</code> 的值）</td>
</tr>
</tbody>
</table>
<p>这些方法可以在 Servlet 类中直接使用，例如：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String value = <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getInitParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;paramName&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="servletcontext-详解">ServletContext 详解<a hidden class="anchor" aria-hidden="true" href="#servletcontext-详解">#</a></h1>
<h2 id="一基本概念">一、基本概念<a hidden class="anchor" aria-hidden="true" href="#一基本概念">#</a></h2>
<h3 id="1-什么是-servletcontext">1. 什么是 ServletContext？<a hidden class="anchor" aria-hidden="true" href="#1-什么是-servletcontext">#</a></h3>
<ul>
<li>每个 Web 应用（webapp）只有一个 <code>ServletContext</code> 对象。</li>
<li>所有该应用中的 Servlet 共享同一个 <code>ServletContext</code>。</li>
<li>它在服务器启动时创建，在服务器关闭时销毁，是<strong>应用级对象</strong>。</li>
</ul>
<h3 id="2-类比生活场景">2. 类比生活场景<a hidden class="anchor" aria-hidden="true" href="#2-类比生活场景">#</a></h3>
<ul>
<li>可将 <code>ServletContext</code> 比作一个“教室”：
<ul>
<li>教室中有多个学生（Servlet）；</li>
<li>教室中有一个空调（共享资源），所有学生都可以使用；</li>
<li>这个“教室”就是 <code>ServletContext</code>，它保存的是整个应用的共享环境与数据。</li>
</ul>
</li>
</ul>
<h3 id="3-接口实现">3. 接口实现<a hidden class="anchor" aria-hidden="true" href="#3-接口实现">#</a></h3>
<ul>
<li><code>ServletContext</code> 是一个接口；</li>
<li>Tomcat 等服务器对其进行了实现；</li>
<li>启动 Web 应用时由服务器自动创建。</li>
</ul>
<hr>
<h2 id="二配置与初始化参数">二、配置与初始化参数<a hidden class="anchor" aria-hidden="true" href="#二配置与初始化参数">#</a></h2>
<h3 id="1-获取初始化参数">1. 获取初始化参数<a hidden class="anchor" aria-hidden="true" href="#1-获取初始化参数">#</a></h3>
<p>在 <code>web.xml</code> 中通过 <code>&lt;context-param&gt;</code> 标签配置全局参数，可通过以下方法获取：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String getInitParameter(String name); <span style="color:#007f7f">// 根据参数名获取值</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Enumeration&lt;String&gt; getInitParameterNames(); <span style="color:#007f7f">// 获取所有参数名</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>示例配置：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;context-param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;param-name&gt;</span>pageSize<span style="font-weight:bold">&lt;/param-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;param-value&gt;</span>10<span style="font-weight:bold">&lt;/param-value&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/context-param&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;context-param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;param-name&gt;</span>startIndex<span style="font-weight:bold">&lt;/param-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;param-value&gt;</span>0<span style="font-weight:bold">&lt;/param-value&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/context-param&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ 注意：这些是<strong>应用级配置信息</strong>。若只想为某个 Servlet 配置参数，请使用 <code>&lt;servlet&gt;</code> 标签内的配置，并通过 <code>ServletConfig</code> 获取。</p>
</blockquote>
<hr>
<h2 id="三常用方法">三、常用方法<a hidden class="anchor" aria-hidden="true" href="#三常用方法">#</a></h2>
<h3 id="1-获取应用根路径">1. 获取应用根路径<a hidden class="anchor" aria-hidden="true" href="#1-获取应用根路径">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String getContextPath();
</span></span></code></pre></td></tr></table>
</div>
</div><p>用于动态获取当前 Web 应用的上下文路径，避免硬编码。</p>
<h3 id="2-获取文件真实路径">2. 获取文件真实路径<a hidden class="anchor" aria-hidden="true" href="#2-获取文件真实路径">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String getRealPath(String path);
</span></span></code></pre></td></tr></table>
</div>
</div><p>将虚拟路径转换为服务器上的绝对路径。</p>
<h3 id="3-记录日志">3. 记录日志<a hidden class="anchor" aria-hidden="true" href="#3-记录日志">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> log(String message);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> log(String message, Throwable t);
</span></span></code></pre></td></tr></table>
</div>
</div><p>日志记录到如下位置（Tomcat）：</p>
<ul>
<li><code>logs/localhost.&lt;date&gt;.log</code>：记录 <code>ServletContext.log()</code> 的输出；</li>
<li><code>logs/catalina.&lt;date&gt;.log</code>：记录服务器控制台输出；</li>
<li><code>logs/localhost_access_log.&lt;date&gt;.txt</code>：记录访问日志。</li>
</ul>
<h3 id="4-应用域application-scope">4. 应用域（Application Scope）<a hidden class="anchor" aria-hidden="true" href="#4-应用域application-scope">#</a></h3>
<p><code>ServletContext</code> 也称为“应用域”，适用于以下情况的数据存储：</p>
<ul>
<li><strong>所有用户共享</strong></li>
<li><strong>数据量小</strong></li>
<li><strong>几乎不修改</strong></li>
</ul>
<h4 id="存储与读取数据的方法">存储与读取数据的方法：<a hidden class="anchor" aria-hidden="true" href="#存储与读取数据的方法">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>setAttribute(String name, Object value); <span style="color:#007f7f">// 存数据（类似 map.put）</span>
</span></span><span style="display:flex;"><span>getAttribute(String name);             <span style="color:#007f7f">// 取数据（类似 map.get）</span>
</span></span><span style="display:flex;"><span>removeAttribute(String name);          <span style="color:#007f7f">// 删除数据（类似 map.remove）</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>✅ 优点：提高执行效率，减少数据库访问；<br>
❌ 缺点：占用内存时间长，不适合大数据或频繁修改的数据。</p>
</blockquote>
<hr>
<h2 id="四servlet-继承体系简介">四、Servlet 继承体系简介<a hidden class="anchor" aria-hidden="true" href="#四servlet-继承体系简介">#</a></h2>
<p>我们通常不会直接继承 <code>GenericServlet</code>，而是使用其子类 <code>HttpServlet</code> 来处理 HTTP 请求。</p>
<h3 id="继承结构如下">继承结构如下：<a hidden class="anchor" aria-hidden="true" href="#继承结构如下">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>jakarta.servlet.Servlet<span style="color:#f00">（接口）【爷爷】</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">└──</span> jakarta.servlet.GenericServlet implements Servlet<span style="color:#f00">（抽象类）【儿子】</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f00">└──</span> jakarta.servlet.http.HttpServlet <span style="color:#fff;font-weight:bold">extends</span> GenericServlet<span style="color:#f00">（抽象类）【孙子】</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="使用建议">使用建议：<a hidden class="anchor" aria-hidden="true" href="#使用建议">#</a></h3>
<ul>
<li>我们编写的 Servlet 类应继承 <code>HttpServlet</code>；</li>
<li>更适合处理基于 HTTP 协议的请求。</li>
</ul>
<hr>
<h2 id="五缓存机制回顾">五、缓存机制回顾<a hidden class="anchor" aria-hidden="true" href="#五缓存机制回顾">#</a></h2>
<table>
<thead>
<tr>
<th>缓存类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>字符串常量池</strong></td>
<td>存放 <code>&quot;abc&quot;</code> 等字符串，避免重复创建</td>
</tr>
<tr>
<td><strong>整数型常量池</strong></td>
<td>范围 [-128, 127] 的 Integer 对象</td>
</tr>
<tr>
<td><strong>连接池（Connection Pool）</strong></td>
<td>提前创建多个数据库连接对象，提升访问效率</td>
</tr>
<tr>
<td><strong>线程池（Thread Pool）</strong></td>
<td>提前创建多个线程，处理并发请求</td>
</tr>
<tr>
<td><strong>Redis</strong></td>
<td>NoSQL 缓存数据库，适用于分布式系统</td>
</tr>
<tr>
<td><strong>ServletContext 应用域</strong></td>
<td>存放应用级共享数据，也是一种缓存机制</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="总结-1">总结<a hidden class="anchor" aria-hidden="true" href="#总结-1">#</a></h2>
<ul>
<li><code>ServletContext</code> 是 Web 应用的核心对象之一；</li>
<li>生命周期与应用一致；</li>
<li>适合存放只读、小数据量、共享的信息；</li>
<li>提供了丰富的 API 方法，如获取路径、记录日志、操作域属性等；</li>
<li>在实际开发中，结合其他缓存机制可显著提升系统性能。</li>
</ul>
<h1 id="http-协议详解">HTTP 协议详解<a hidden class="anchor" aria-hidden="true" href="#http-协议详解">#</a></h1>
<h2 id="一什么是协议">一、什么是协议？<a hidden class="anchor" aria-hidden="true" href="#一什么是协议">#</a></h2>
<ul>
<li>
<p><strong>定义</strong>：</p>
<ul>
<li>协议是由某些人或组织制定的一套规范，所有人都按照这套规范进行交流，以实现沟通无障碍。</li>
<li>协议就是标准，是一种大家共同遵守的规则。</li>
</ul>
</li>
<li>
<p><strong>举例说明</strong>：</p>
<ul>
<li>比如我们使用的“普通话”，就是一种语言协议。我们都使用普通话交流，彼此就能听懂对方的话。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="二什么是-http-协议">二、什么是 HTTP 协议？<a hidden class="anchor" aria-hidden="true" href="#二什么是-http-协议">#</a></h2>
<h3 id="1-简介">1. 简介<a hidden class="anchor" aria-hidden="true" href="#1-简介">#</a></h3>
<ul>
<li><strong>HTTP 协议</strong>：是 W3C 制定的一种超文本传输协议。</li>
<li><strong>作用</strong>：用于浏览器（B）与服务器（S）之间的数据交互。</li>
<li><strong>特点</strong>：
<ul>
<li>支持传输普通文本、图片、音频、视频等流媒体信息。</li>
<li>浏览器向服务器发送请求时遵循该协议，服务器返回响应也需遵循该协议。</li>
</ul>
</li>
</ul>
<h3 id="2-w3c-组织简介">2. W3C 组织简介<a hidden class="anchor" aria-hidden="true" href="#2-w3c-组织简介">#</a></h3>
<ul>
<li><strong>W3C</strong>：
<ul>
<li>全称：万维网联盟</li>
<li>职责：制定 Web 相关标准（如 HTML、XML、HTTP、DOM 等）</li>
<li>创始人：蒂姆·伯纳斯·李（Tim Berners-Lee）</li>
</ul>
</li>
</ul>
<h3 id="3-超文本hypertext">3. 超文本（Hypertext）<a hidden class="anchor" aria-hidden="true" href="#3-超文本hypertext">#</a></h3>
<ul>
<li>不只是普通的文字，还可以包含图像、声音、视频等多媒体内容。</li>
<li>HTTP 支持这些内容的传输。</li>
</ul>
<h3 id="4-解耦合机制">4. 解耦合机制<a hidden class="anchor" aria-hidden="true" href="#4-解耦合机制">#</a></h3>
<ul>
<li>浏览器不依赖具体服务器品牌。</li>
<li>服务器也不依赖具体浏览器品牌。</li>
<li>实现了 B/S 架构的松耦合通信。</li>
</ul>
<hr>
<h2 id="三http-请求协议browser--server">三、HTTP 请求协议（Browser → Server）<a hidden class="anchor" aria-hidden="true" href="#三http-请求协议browser--server">#</a></h2>
<h3 id="1-结构组成">1. 结构组成<a hidden class="anchor" aria-hidden="true" href="#1-结构组成">#</a></h3>
<p>HTTP 请求由四部分组成：</p>
<table>
<thead>
<tr>
<th>部分</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求行</td>
<td>包括请求方式、URI 和协议版本号</td>
</tr>
<tr>
<td>请求头</td>
<td>包含客户端的各种附加信息</td>
</tr>
<tr>
<td>空白行</td>
<td>分隔请求头与请求体</td>
</tr>
<tr>
<td>请求体</td>
<td>发送给服务器的数据（POST 特有）</td>
</tr>
</tbody>
</table>
<h3 id="2-示例get-请求">2. 示例：GET 请求<a hidden class="anchor" aria-hidden="true" href="#2-示例get-请求">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>GET /servlet05/getServlet?username=lucy&amp;userpwd=1111 <span style="color:#fff;font-weight:bold">HTTP</span>/<span style="color:#ff0;font-weight:bold">1.1</span>
</span></span><span style="display:flex;"><span>Host: localhost:8080
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>User-Agent: Mozilla/5.0 ...
</span></span><span style="display:flex;"><span>Accept: text/html,application/xhtml+xml,...
</span></span><span style="display:flex;"><span><span style="color:#f00">...</span>
</span></span><span style="display:flex;"><span>Referer: http://localhost:8080/servlet05/index.html
</span></span><span style="display:flex;"><span>Accept-Encoding: gzip, deflate, br
</span></span><span style="display:flex;"><span>Accept-Language: zh-CN,zh;q=0.9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[空行]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3-示例post-请求">3. 示例：POST 请求<a hidden class="anchor" aria-hidden="true" href="#3-示例post-请求">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span>POST /servlet05/postServlet <span style="color:#fff;font-weight:bold">HTTP</span>/<span style="color:#ff0;font-weight:bold">1.1</span>
</span></span><span style="display:flex;"><span>Host: localhost:8080
</span></span><span style="display:flex;"><span>Content-Length: 25
</span></span><span style="display:flex;"><span>Content-Type: application/x-www-form-urlencoded
</span></span><span style="display:flex;"><span>User-Agent: Mozilla/5.0 ...
</span></span><span style="display:flex;"><span>Accept: text/html,...
</span></span><span style="display:flex;"><span><span style="color:#f00">...</span>
</span></span><span style="display:flex;"><span>Referer: http://localhost:8080/servlet05/index.html
</span></span><span style="display:flex;"><span>Accept-Encoding: gzip, deflate, br
</span></span><span style="display:flex;"><span>Accept-Language: zh-CN,zh;q=0.9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[空行]
</span></span><span style="display:flex;"><span>username=lisi&amp;userpwd=123
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="4-各组成部分详解">4. 各组成部分详解<a hidden class="anchor" aria-hidden="true" href="#4-各组成部分详解">#</a></h3>
<h4 id="1请求行request-line">（1）请求行（Request Line）<a hidden class="anchor" aria-hidden="true" href="#1请求行request-line">#</a></h4>
<ul>
<li>包括三部分：
<ul>
<li><strong>请求方式</strong>（7种常见）：
<ul>
<li><code>GET</code>（常用）</li>
<li><code>POST</code>（常用）</li>
<li><code>DELETE</code>、<code>PUT</code>、<code>HEAD</code>、<code>OPTIONS</code>、<code>TRACE</code></li>
</ul>
</li>
<li><strong>URI</strong>（统一资源标识符）：
<ul>
<li>表示资源名称，但不能定位资源。</li>
</ul>
</li>
<li><strong>URL</strong>（统一资源定位符）：
<ul>
<li>包含 URI，同时可以定位资源。</li>
<li>示例：
<ul>
<li>URL：<code>http://localhost:8080/servlet05/index.html</code></li>
<li>URI：<code>/servlet05/index.html</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>协议版本号</strong>：
<ul>
<li>如 <code>HTTP/1.1</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2请求头headers">（2）请求头（Headers）<a hidden class="anchor" aria-hidden="true" href="#2请求头headers">#</a></h4>
<ul>
<li>包含客户端信息，例如：
<ul>
<li>主机名和端口</li>
<li>浏览器类型</li>
<li>平台信息</li>
<li>Cookie 数据等</li>
</ul>
</li>
</ul>
<h4 id="3空白行empty-line">（3）空白行（Empty Line）<a hidden class="anchor" aria-hidden="true" href="#3空白行empty-line">#</a></h4>
<ul>
<li>用来分隔请求头和请求体。</li>
</ul>
<h4 id="4请求体body">（4）请求体（Body）<a hidden class="anchor" aria-hidden="true" href="#4请求体body">#</a></h4>
<ul>
<li>只在 POST 请求中出现。</li>
<li>存放要发送给服务器的具体数据。</li>
</ul>
<hr>
<h2 id="四http-响应协议server--browser">四、HTTP 响应协议（Server → Browser）<a hidden class="anchor" aria-hidden="true" href="#四http-响应协议server--browser">#</a></h2>
<h3 id="1-结构组成-1">1. 结构组成<a hidden class="anchor" aria-hidden="true" href="#1-结构组成-1">#</a></h3>
<p>HTTP 响应同样由四部分组成：</p>
<table>
<thead>
<tr>
<th>部分</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>状态行</td>
<td>包括协议版本、状态码和描述</td>
</tr>
<tr>
<td>响应头</td>
<td>包含服务器返回的各种附加信息</td>
</tr>
<tr>
<td>空白行</td>
<td>分隔响应头与响应体</td>
</tr>
<tr>
<td>响应体</td>
<td>返回给浏览器的具体内容</td>
</tr>
</tbody>
</table>
<h3 id="2-示例响应报文">2. 示例：响应报文<a hidden class="anchor" aria-hidden="true" href="#2-示例响应报文">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-http" data-lang="http"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">HTTP</span>/<span style="color:#ff0;font-weight:bold">1.1</span> <span style="color:#ff0;font-weight:bold">200</span> OK
</span></span><span style="display:flex;"><span>Content-Type: text/html;charset=UTF-8
</span></span><span style="display:flex;"><span>Content-Length: 160
</span></span><span style="display:flex;"><span>Date: Mon, 08 Nov 2021 13:19:32 GMT
</span></span><span style="display:flex;"><span>Keep-Alive: timeout=20
</span></span><span style="display:flex;"><span>Connection: keep-alive
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[空行]
</span></span><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!doctype html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;&lt;<span style="font-weight:bold">title</span>&gt;from get servlet&lt;/<span style="font-weight:bold">title</span>&gt;&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;&lt;<span style="font-weight:bold">h1</span>&gt;from get servlet&lt;/<span style="font-weight:bold">h1</span>&gt;&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3-各组成部分详解">3. 各组成部分详解<a hidden class="anchor" aria-hidden="true" href="#3-各组成部分详解">#</a></h3>
<h4 id="1状态行status-line">（1）状态行（Status Line）<a hidden class="anchor" aria-hidden="true" href="#1状态行status-line">#</a></h4>
<ul>
<li>包括三部分：
<ul>
<li><strong>协议版本号</strong></li>
<li><strong>状态码</strong>
<ul>
<li><code>200</code>：成功</li>
<li><code>404</code>：资源未找到（前端错误）</li>
<li><code>405</code>：请求方法不支持</li>
<li><code>500</code>：服务器内部错误</li>
<li>以 <code>4xx</code> 开头：客户端错误</li>
<li>以 <code>5xx</code> 开头：服务端错误</li>
</ul>
</li>
<li><strong>状态描述</strong>
<ul>
<li>如 <code>OK</code>、<code>Not Found</code>、<code>Internal Server Error</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2响应头headers">（2）响应头（Headers）<a hidden class="anchor" aria-hidden="true" href="#2响应头headers">#</a></h4>
<ul>
<li>包括：
<ul>
<li>内容类型（Content-Type）</li>
<li>内容长度（Content-Length）</li>
<li>响应时间（Date）</li>
<li>连接方式（Connection）等</li>
</ul>
</li>
</ul>
<h4 id="3空白行empty-line-1">（3）空白行（Empty Line）<a hidden class="anchor" aria-hidden="true" href="#3空白行empty-line-1">#</a></h4>
<ul>
<li>分隔响应头和响应体。</li>
</ul>
<h4 id="4响应体body">（4）响应体（Body）<a hidden class="anchor" aria-hidden="true" href="#4响应体body">#</a></h4>
<ul>
<li>是服务器返回的具体内容，如 HTML 页面、JSON 数据等。</li>
</ul>
<hr>
<h2 id="五如何查看-http-协议内容">五、如何查看 HTTP 协议内容？<a hidden class="anchor" aria-hidden="true" href="#五如何查看-http-协议内容">#</a></h2>
<ul>
<li>使用 Chrome 浏览器：
<ul>
<li>按下 <code>F12</code> 打开开发者工具</li>
<li>切换到 <code>Network</code> 标签页</li>
<li>刷新页面即可查看每个请求的详细协议内容</li>
</ul>
</li>
</ul>
<hr>
<h2 id="六get-与-post-请求的区别">六、GET 与 POST 请求的区别<a hidden class="anchor" aria-hidden="true" href="#六get-与-post-请求的区别">#</a></h2>
<table>
<thead>
<tr>
<th>对比项</th>
<th>GET 请求</th>
<th>POST 请求</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据位置</td>
<td>在请求行中（URI后）</td>
<td>在请求体中</td>
</tr>
<tr>
<td>安全性</td>
<td>安全（仅获取数据）</td>
<td>不安全（提交数据）</td>
</tr>
<tr>
<td>缓存支持</td>
<td>支持缓存</td>
<td>不支持缓存</td>
</tr>
<tr>
<td>数据长度限制</td>
<td>有限制（不同浏览器不同）</td>
<td>无限制</td>
</tr>
<tr>
<td>数据类型</td>
<td>只能发送普通字符串</td>
<td>可以发送任何类型数据（包括文件、图片等）</td>
</tr>
<tr>
<td>用途建议</td>
<td>获取服务器资源</td>
<td>向服务器提交数据</td>
</tr>
<tr>
<td>敏感信息暴露</td>
<td>会暴露在地址栏</td>
<td>不暴露</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="七get-和-post-的使用场景">七、GET 和 POST 的使用场景<a hidden class="anchor" aria-hidden="true" href="#七get-和-post-的使用场景">#</a></h2>
<ul>
<li>
<p><strong>GET 请求适用场景</strong>：</p>
<ul>
<li>获取数据</li>
<li>不涉及敏感信息</li>
<li>不需要修改服务器资源</li>
<li>需要缓存结果</li>
</ul>
</li>
<li>
<p><strong>POST 请求适用场景</strong>：</p>
<ul>
<li>提交表单数据</li>
<li>上传文件</li>
<li>修改服务器资源</li>
<li>传递敏感信息（如密码）</li>
</ul>
</li>
</ul>
<hr>
<h2 id="八请求数据格式统一">八、请求数据格式统一<a hidden class="anchor" aria-hidden="true" href="#八请求数据格式统一">#</a></h2>
<ul>
<li>不论是 GET 还是 POST 请求，数据格式都是统一的：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>name=value&amp;name=value&amp;name=value
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li><strong>name</strong>：通常是表单字段的 <code>name</code> 属性</li>
<li><strong>value</strong>：对应字段的输入值</li>
</ul>
<hr>
<h2 id="总结-2">总结<a hidden class="anchor" aria-hidden="true" href="#总结-2">#</a></h2>
<p>HTTP 是现代 Web 应用中最基础的通信协议，通过统一的请求和响应格式，实现了浏览器与服务器之间的高效、标准化通信。GET 和 POST 是最常用的两种请求方式，各有其适用场景。掌握它们的特点和区别，有助于更好地开发和调试 Web 应用。</p>
<h1 id="模板方法设计模式">模板方法设计模式<a hidden class="anchor" aria-hidden="true" href="#模板方法设计模式">#</a></h1>
<h2 id="一什么是设计模式">一、什么是设计模式？<a hidden class="anchor" aria-hidden="true" href="#一什么是设计模式">#</a></h2>
<ul>
<li>设计模式是<strong>针对某一类常见问题的标准化解决方案</strong>。</li>
<li>它具有<strong>可重用性、可维护性和可扩展性</strong>。</li>
</ul>
<hr>
<h2 id="二常见的设计模式分类">二、常见的设计模式分类<a hidden class="anchor" aria-hidden="true" href="#二常见的设计模式分类">#</a></h2>
<h3 id="1-gof-设计模式gang-of-four">1. GoF 设计模式（Gang of Four）<a hidden class="anchor" aria-hidden="true" href="#1-gof-设计模式gang-of-four">#</a></h3>
<ul>
<li><strong>定义</strong>：由四位软件工程专家提出的23种经典设计模式。</li>
<li><strong>常见模式包括</strong>：
<ul>
<li>单例模式</li>
<li>工厂模式</li>
<li>代理模式</li>
<li>门面模式</li>
<li>责任链模式</li>
<li>观察者模式</li>
<li>模板方法模式</li>
<li>……（还有其他多种）</li>
</ul>
</li>
</ul>
<h3 id="2-javaee-设计模式">2. JavaEE 设计模式<a hidden class="anchor" aria-hidden="true" href="#2-javaee-设计模式">#</a></h3>
<ul>
<li><strong>主要用于企业级开发中数据与业务逻辑的分离</strong>。</li>
<li><strong>常见模式包括</strong>：
<ul>
<li>DAO（Data Access Object）</li>
<li>DTO（Data Transfer Object）</li>
<li>VO（Value Object）</li>
<li>PO（Persistent Object）</li>
<li>POJO（Plain Old Java Object）</li>
<li>……</li>
</ul>
</li>
</ul>
<h3 id="3-其他设计模式">3. 其他设计模式<a hidden class="anchor" aria-hidden="true" href="#3-其他设计模式">#</a></h3>
<ul>
<li>还有架构模式、行为模式等不同分类，适用于不同的场景。</li>
</ul>
<hr>
<h2 id="三模板方法设计模式详解">三、模板方法设计模式详解<a hidden class="anchor" aria-hidden="true" href="#三模板方法设计模式详解">#</a></h2>
<h3 id="1-定义">1. 定义<a hidden class="anchor" aria-hidden="true" href="#1-定义">#</a></h3>
<blockquote>
<p>在<strong>模板类的模板方法中定义核心算法骨架</strong>，而具体的实现步骤延迟到子类中完成。</p>
</blockquote>
<h3 id="2-核心特点">2. 核心特点<a hidden class="anchor" aria-hidden="true" href="#2-核心特点">#</a></h3>
<ul>
<li><strong>模板类通常为抽象类</strong>。</li>
<li><strong>模板方法</strong>中定义了<strong>核心算法流程</strong>，该方法通常是 <code>final</code> 的（防止被重写）。</li>
<li><strong>抽象方法</strong>则代表<strong>不确定实现的具体步骤</strong>，需由子类根据需求实现。</li>
</ul>
<h3 id="3-示例说明简要">3. 示例说明（简要）<a hidden class="anchor" aria-hidden="true" href="#3-示例说明简要">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">class</span> TemplateClass {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 模板方法，定义算法骨架</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">void</span> templateMethod() {
</span></span><span style="display:flex;"><span>        stepOne();
</span></span><span style="display:flex;"><span>        stepTwo();
</span></span><span style="display:flex;"><span>        stepThree();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 抽象方法，延迟到子类实现</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> stepOne();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> stepTwo();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> stepThree();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="四总结">四、总结<a hidden class="anchor" aria-hidden="true" href="#四总结">#</a></h2>
<ul>
<li>模板方法模式通过<strong>封装算法流程</strong>，使得<strong>具体实现可灵活扩展</strong>。</li>
<li>是一种<strong>行为型设计模式</strong>，常用于框架设计中，提供统一接口的同时允许子类定制实现。</li>
</ul>
<h1 id="httpservlet-源码分析">HttpServlet 源码分析<a hidden class="anchor" aria-hidden="true" href="#httpservlet-源码分析">#</a></h1>
<h2 id="一httpservlet-简介">一、HttpServlet 简介<a hidden class="anchor" aria-hidden="true" href="#一httpservlet-简介">#</a></h2>
<ul>
<li><code>HttpServlet</code> 是专为 HTTP 协议设计的 Servlet 类，相较于 <code>GenericServlet</code> 更适合 HTTP 协议下的开发。</li>
<li><strong>包路径</strong>：
<ul>
<li><code>jakarta.servlet.http.HttpServlet</code></li>
</ul>
</li>
</ul>
<h2 id="二servlet-规范中的主要接口与类">二、Servlet 规范中的主要接口与类<a hidden class="anchor" aria-hidden="true" href="#二servlet-规范中的主要接口与类">#</a></h2>
<h3 id="我们已接触的接口jakartaservlet">我们已接触的接口（jakarta.servlet.*）<a hidden class="anchor" aria-hidden="true" href="#我们已接触的接口jakartaservlet">#</a></h3>
<table>
<thead>
<tr>
<th>类/接口</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Servlet</code></td>
<td>核心接口</td>
</tr>
<tr>
<td><code>ServletConfig</code></td>
<td>配置信息接口</td>
</tr>
<tr>
<td><code>ServletContext</code></td>
<td>上下文接口</td>
</tr>
<tr>
<td><code>ServletRequest</code></td>
<td>请求接口</td>
</tr>
<tr>
<td><code>ServletResponse</code></td>
<td>响应接口</td>
</tr>
<tr>
<td><code>ServletException</code></td>
<td>异常类</td>
</tr>
<tr>
<td><code>GenericServlet</code></td>
<td>通用抽象类</td>
</tr>
</tbody>
</table>
<h3 id="http-包中的类与接口jakartaservlethttp">HTTP 包中的类与接口（jakarta.servlet.http.*）<a hidden class="anchor" aria-hidden="true" href="#http-包中的类与接口jakartaservlethttp">#</a></h3>
<table>
<thead>
<tr>
<th>类/接口</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HttpServlet</code></td>
<td>HTTP 专用的抽象类</td>
</tr>
<tr>
<td><code>HttpServletRequest</code></td>
<td>HTTP 请求对象</td>
</tr>
<tr>
<td><code>HttpServletResponse</code></td>
<td>HTTP 响应对象</td>
</tr>
</tbody>
</table>
<h2 id="三httpservletrequest-和-httpservletresponse">三、HttpServletRequest 和 HttpServletResponse<a hidden class="anchor" aria-hidden="true" href="#三httpservletrequest-和-httpservletresponse">#</a></h2>
<h3 id="httpservletrequest">HttpServletRequest<a hidden class="anchor" aria-hidden="true" href="#httpservletrequest">#</a></h3>
<ul>
<li>又称 <code>request</code> 对象</li>
<li>封装了请求协议的所有内容</li>
<li>Tomcat 服务器将 HTTP 请求数据解析并封装到该对象中</li>
<li>开发者可通过此对象获取请求信息</li>
</ul>
<h3 id="httpservletresponse">HttpServletResponse<a hidden class="anchor" aria-hidden="true" href="#httpservletresponse">#</a></h3>
<ul>
<li>用于向浏览器发送响应数据</li>
<li>主要处理 HTTP 响应逻辑</li>
</ul>
<h2 id="四servlet-生命周期回顾">四、Servlet 生命周期回顾<a hidden class="anchor" aria-hidden="true" href="#四servlet-生命周期回顾">#</a></h2>
<ol>
<li>
<p><strong>用户第一次请求</strong></p>
<ul>
<li>Tomcat 通过反射创建 Servlet 实例（调用无参构造方法）</li>
<li>调用 <code>init(ServletConfig)</code> 方法进行初始化</li>
<li>调用 <code>service()</code> 处理请求</li>
</ul>
</li>
<li>
<p><strong>后续请求</strong></p>
<ul>
<li>直接调用 <code>service()</code> 方法处理请求</li>
</ul>
</li>
<li>
<p><strong>服务器关闭</strong></p>
<ul>
<li>调用 <code>destroy()</code> 方法执行销毁前的清理工作</li>
<li>最终销毁 Servlet 对象</li>
</ul>
</li>
</ol>
<h2 id="五httpservlet-源码剖析">五、HttpServlet 源码剖析<a hidden class="anchor" aria-hidden="true" href="#五httpservlet-源码剖析">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> HelloServlet <span style="color:#fff;font-weight:bold">extends</span> HttpServlet {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> HelloServlet() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 用户首次请求时会执行构造方法</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> doGet(HttpServletRequest req, HttpServletResponse resp) <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 处理 GET 请求</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> doPost(HttpServletRequest req, HttpServletResponse resp) <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 处理 POST 请求</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="httpservlet-的核心方法service">HttpServlet 的核心方法：<code>service</code><a hidden class="anchor" aria-hidden="true" href="#httpservlet-的核心方法service">#</a></h3>
<h4 id="1-serviceservletrequest-servletresponse">1. service(ServletRequest, ServletResponse)<a hidden class="anchor" aria-hidden="true" href="#1-serviceservletrequest-servletresponse">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Override
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> service(ServletRequest req, ServletResponse res)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    HttpServletRequest request;
</span></span><span style="display:flex;"><span>    HttpServletResponse response;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        request = (HttpServletRequest) req;
</span></span><span style="display:flex;"><span>        response = (HttpServletResponse) res;
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">catch</span> (ClassCastException e) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> ServletException(lStrings.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;http.non_http&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    service(request, response); <span style="color:#007f7f">// 调用重载方法</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-servicehttpservletrequest-httpservletresponse">2. service(HttpServletRequest, HttpServletResponse)<a hidden class="anchor" aria-hidden="true" href="#2-servicehttpservletrequest-httpservletresponse">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> service(HttpServletRequest req, HttpServletResponse resp)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String method = req.<span style="color:#007f7f">getMethod</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_GET)) {
</span></span><span style="display:flex;"><span>        doGet(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_POST)) {
</span></span><span style="display:flex;"><span>        doPost(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_HEAD)) {
</span></span><span style="display:flex;"><span>        doHead(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_PUT)) {
</span></span><span style="display:flex;"><span>        doPut(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_DELETE)) {
</span></span><span style="display:flex;"><span>        doDelete(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_OPTIONS)) {
</span></span><span style="display:flex;"><span>        doOptions(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">equals</span>(METHOD_TRACE)) {
</span></span><span style="display:flex;"><span>        doTrace(req, resp);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        String errMsg = lStrings.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;http.method_not_implemented&#34;</span>);
</span></span><span style="display:flex;"><span>        Object[] errArgs = <span style="color:#fff;font-weight:bold">new</span> Object[1];
</span></span><span style="display:flex;"><span>        errArgs[0] = method;
</span></span><span style="display:flex;"><span>        errMsg = MessageFormat.<span style="color:#007f7f">format</span>(errMsg, errArgs);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        resp.<span style="color:#007f7f">sendError</span>(HttpServletResponse.<span style="color:#007f7f">SC_NOT_IMPLEMENTED</span>, errMsg);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p><strong>总结</strong>：<code>service()</code> 是一个模板方法，定义了处理请求的核心骨架，具体实现由子类完成。</p>
</blockquote>
<h3 id="默认的-doget--dopost-方法">默认的 doGet / doPost 方法<a hidden class="anchor" aria-hidden="true" href="#默认的-doget--dopost-方法">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> doGet(HttpServletRequest req, HttpServletResponse resp)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>    String msg = lStrings.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;http.method_get_not_supported&#34;</span>);
</span></span><span style="display:flex;"><span>    sendMethodNotAllowed(req, resp, msg);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> doPost(HttpServletRequest req, HttpServletResponse resp)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>    String msg = lStrings.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;http.method_post_not_supported&#34;</span>);
</span></span><span style="display:flex;"><span>    sendMethodNotAllowed(req, resp, msg);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>如果未重写对应的方法，将会抛出 <strong>405 错误</strong>（HTTP 405 Method Not Allowed）。</p>
</blockquote>
<h2 id="六常见问题解答">六、常见问题解答<a hidden class="anchor" aria-hidden="true" href="#六常见问题解答">#</a></h2>
<h3 id="1-如果前端请求方式和后端重写方法不匹配会发生什么">1. 如果前端请求方式和后端重写方法不匹配会发生什么？<a hidden class="anchor" aria-hidden="true" href="#1-如果前端请求方式和后端重写方法不匹配会发生什么">#</a></h3>
<ul>
<li>若前端发送的是 <code>GET</code> 请求，而后端只重写了 <code>doPost</code>，则会触发 405 错误。</li>
<li>同理，若前端发送的是 <code>POST</code> 请求，而后端只重写了 <code>doGet</code>，也会触发 405 错误。</li>
</ul>
<h3 id="2-如何避免-405-错误">2. 如何避免 405 错误？<a hidden class="anchor" aria-hidden="true" href="#2-如何避免-405-错误">#</a></h3>
<ul>
<li>后端重写 <code>doGet</code>，前端必须发送 <code>GET</code> 请求；</li>
<li>后端重写 <code>doPost</code>，前端必须发送 <code>POST</code> 请求；</li>
<li>请求方式由后端决定，前端需配合使用正确的请求方式。</li>
</ul>
<blockquote>
<p><strong>建议</strong>：不要为了规避 405 错误而同时重写 <code>doGet</code> 和 <code>doPost</code>。如果确实需要统一处理，可直接重写 <code>service()</code> 方法。</p>
</blockquote>
<h3 id="3-是否可以直接重写-httpservlet-的-service-方法">3. 是否可以直接重写 HttpServlet 的 service() 方法？<a hidden class="anchor" aria-hidden="true" href="#3-是否可以直接重写-httpservlet-的-service-方法">#</a></h3>
<ul>
<li><strong>可以</strong>，但将失去对请求方式的自动判断，也无法享受 HTTP 专属功能。</li>
<li><strong>不推荐</strong>，除非有特殊需求。</li>
</ul>
<h2 id="七servlet-开发标准流程">七、Servlet 开发标准流程<a hidden class="anchor" aria-hidden="true" href="#七servlet-开发标准流程">#</a></h2>
<ol>
<li><strong>第一步</strong>：编写 Servlet 类，继承 <code>HttpServlet</code></li>
<li><strong>第二步</strong>：根据业务需求重写 <code>doGet</code> 或 <code>doPost</code> 方法</li>
<li><strong>第三步</strong>：在 <code>web.xml</code> 中配置该 Servlet 映射路径</li>
<li><strong>第四步</strong>：准备前端页面（如 HTML 表单），指定对应的请求路径</li>
</ol>
<hr>
<blockquote>
<p>💡 <strong>提示</strong>：理解 <code>HttpServlet</code> 的源码有助于掌握 Java Web 开发底层机制，合理利用框架提供的功能，提升开发效率和代码质量。</p>
</blockquote>
<h1 id="web-站点的欢迎页面详解">Web 站点的欢迎页面详解<a hidden class="anchor" aria-hidden="true" href="#web-站点的欢迎页面详解">#</a></h1>
<h2 id="一什么是-web-站点的欢迎页面">一、什么是 Web 站点的欢迎页面？<a hidden class="anchor" aria-hidden="true" href="#一什么是-web-站点的欢迎页面">#</a></h2>
<ul>
<li>对于一个 Web 应用（WebApp）来说，我们可以设置它的<strong>欢迎页面</strong>。</li>
<li>设置了欢迎页面后，当用户访问该 WebApp 或站点时，<strong>没有指定具体资源路径</strong>，系统会默认跳转到欢迎页面。</li>
</ul>
<h3 id="示例说明">示例说明：<a hidden class="anchor" aria-hidden="true" href="#示例说明">#</a></h3>
<ul>
<li>
<p><strong>指定了资源路径：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/servlet06/login.html
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>未指定资源路径（访问欢迎页）：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/servlet06
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<p>此时，默认会访问你在配置中指定的欢迎页面。</p>
<hr>
<h2 id="二如何设置欢迎页面">二、如何设置欢迎页面？<a hidden class="anchor" aria-hidden="true" href="#二如何设置欢迎页面">#</a></h2>
<h3 id="步骤-1在-web-目录下创建登录页面">步骤 1：在 <code>web</code> 目录下创建登录页面<a hidden class="anchor" aria-hidden="true" href="#步骤-1在-web-目录下创建登录页面">#</a></h3>
<p>例如，在 IDEA 的 web 目录下新建一个文件：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>login.html
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="步骤-2在-webxml-中配置欢迎页面">步骤 2：在 <code>web.xml</code> 中配置欢迎页面<a hidden class="anchor" aria-hidden="true" href="#步骤-2在-webxml-中配置欢迎页面">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;welcome-file-list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>login.html<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ 注意事项：</p>
</blockquote>
<ul>
<li>路径不需要以 <code>/</code> 开头；</li>
<li>默认从 WebApp 的根目录开始查找资源。</li>
</ul>
<h3 id="步骤-3启动服务器并访问站点">步骤 3：启动服务器并访问站点<a hidden class="anchor" aria-hidden="true" href="#步骤-3启动服务器并访问站点">#</a></h3>
<p>访问地址如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/servlet07
</span></span></code></pre></td></tr></table>
</div>
</div><p>此时将自动加载 <code>login.html</code> 页面。</p>
<hr>
<h2 id="三如果欢迎页面在子目录中该如何设置">三、如果欢迎页面在子目录中该如何设置？<a hidden class="anchor" aria-hidden="true" href="#三如果欢迎页面在子目录中该如何设置">#</a></h2>
<h3 id="场景描述">场景描述：<a hidden class="anchor" aria-hidden="true" href="#场景描述">#</a></h3>
<ul>
<li>在 WebApp 根目录下新建目录结构：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/page1/page2/page.html
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="配置方式">配置方式：<a hidden class="anchor" aria-hidden="true" href="#配置方式">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;welcome-file-list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>page1/page2/page.html<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ 同样地，路径不需要以 <code>/</code> 开头，查找仍从 WebApp 根目录开始。</p>
</blockquote>
<hr>
<h2 id="四一个-webapp-可以设置多个欢迎页面吗">四、一个 WebApp 可以设置多个欢迎页面吗？<a hidden class="anchor" aria-hidden="true" href="#四一个-webapp-可以设置多个欢迎页面吗">#</a></h2>
<p>是的！可以设置多个欢迎页面，并按优先级顺序排列：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;welcome-file-list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>page1/page2/page.html<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>login.html<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ <strong>优先级规则</strong>：<br>
越靠上的 <code>&lt;welcome-file&gt;</code> 优先级越高。如果第一个找不到，则继续向下查找。</p>
</blockquote>
<hr>
<h2 id="五为什么-indexhtml-不需要配置也能作为欢迎页面">五、为什么 <code>index.html</code> 不需要配置也能作为欢迎页面？<a hidden class="anchor" aria-hidden="true" href="#五为什么-indexhtml-不需要配置也能作为欢迎页面">#</a></h2>
<p>这是因为 Tomcat 服务器已经预设了全局的欢迎页面配置。</p>
<h3 id="欢迎页面的配置位置有两个">欢迎页面的配置位置有两个：<a hidden class="anchor" aria-hidden="true" href="#欢迎页面的配置位置有两个">#</a></h3>
<ul>
<li><strong>局部配置</strong>：在你自己的 WebApp 的 <code>WEB-INF/web.xml</code> 文件中；</li>
<li><strong>全局配置</strong>：在 Tomcat 的 <code>CATALINA_HOME/conf/web.xml</code> 文件中。</li>
</ul>
<h3 id="tomcat-默认的欢迎页面配置">Tomcat 默认的欢迎页面配置：<a hidden class="anchor" aria-hidden="true" href="#tomcat-默认的欢迎页面配置">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;welcome-file-list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>index.html<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>index.htm<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>index.jsp<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ <strong>配置原则</strong>：<br>
遵循“<strong>局部优先</strong>”原则。如果你自己设置了欢迎页面，Tomcat 就不会使用默认的 <code>index.html</code> 等页面。</p>
</blockquote>
<hr>
<h2 id="六欢迎页面可以是一个-servlet-吗">六、欢迎页面可以是一个 Servlet 吗？<a hidden class="anchor" aria-hidden="true" href="#六欢迎页面可以是一个-servlet-吗">#</a></h2>
<p>当然可以！</p>
<p>欢迎页面本质上就是一个资源，既可以是静态资源（如 HTML），也可以是动态资源（如 Servlet）。</p>
<h3 id="步骤-1编写一个欢迎用的-servlet">步骤 1：编写一个欢迎用的 Servlet<a hidden class="anchor" aria-hidden="true" href="#步骤-1编写一个欢迎用的-servlet">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WelcomeServlet <span style="color:#fff;font-weight:bold">extends</span> HttpServlet {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> doGet(HttpServletRequest request, HttpServletResponse response) <span style="color:#fff;font-weight:bold">throws</span> ServletException, IOException {
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;text/html&#34;</span>);
</span></span><span style="display:flex;"><span>        PrintWriter out = response.<span style="color:#007f7f">getWriter</span>();
</span></span><span style="display:flex;"><span>        out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;h1&gt;Welcome to bjpowernode!&lt;/h1&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="步骤-2在-webxml-中注册该-servlet">步骤 2：在 <code>web.xml</code> 中注册该 Servlet<a hidden class="anchor" aria-hidden="true" href="#步骤-2在-webxml-中注册该-servlet">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>welcomeServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.javaweb.servlet.WelcomeServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>welcomeServlet<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/fdsa/fds/a/fds/af/ds/af/dsafdsafdsa<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="步骤-3在-webxml-中配置为欢迎页面">步骤 3：在 <code>web.xml</code> 中配置为欢迎页面<a hidden class="anchor" aria-hidden="true" href="#步骤-3在-webxml-中配置为欢迎页面">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;welcome-file-list&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;welcome-file&gt;</span>fdsa/fds/a/fds/af/ds/af/dsafdsafdsa<span style="font-weight:bold">&lt;/welcome-file&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/welcome-file-list&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这样，当你访问站点根路径时，就会触发这个 Servlet 并输出欢迎信息。</p>
<hr>
<h2 id="总结-3">总结<a hidden class="anchor" aria-hidden="true" href="#总结-3">#</a></h2>
<table>
<thead>
<tr>
<th>类型</th>
<th>资源示例</th>
<th>是否需配置</th>
</tr>
</thead>
<tbody>
<tr>
<td>静态资源</td>
<td><code>login.html</code>, <code>index.html</code></td>
<td>是（除 <code>index.html</code> 等默认值）</td>
</tr>
<tr>
<td>动态资源</td>
<td><code>WelcomeServlet</code></td>
<td>是</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ <strong>最佳实践建议</strong>：</p>
</blockquote>
<ul>
<li>使用 <code>index.html</code> 可省去配置；</li>
<li>多个欢迎页面按优先级排列；</li>
<li>欢迎页面可灵活选择静态或动态资源。</li>
</ul>
<h1 id="关于web-inf目录">关于WEB-INF目录<a hidden class="anchor" aria-hidden="true" href="#关于web-inf目录">#</a></h1>
<ul>
<li>在WEB-INF目录下新建了一个文件：welcome.html</li>
<li>打开浏览器访问：http://localhost:8080/servlet07/WEB-INF/welcome.html 出现了404错误。</li>
<li>注意：放在WEB-INF目录下的资源是受保护的。在浏览器上不能够通过路径直接访问。所以像HTML、CSS、JS、image等静态资源一定要放到WEB-INF目录之外。</li>
</ul>
<h1 id="httpservletrequest-接口详解">HttpServletRequest 接口详解<a hidden class="anchor" aria-hidden="true" href="#httpservletrequest-接口详解">#</a></h1>
<h2 id="一基本概述">一、基本概述<a hidden class="anchor" aria-hidden="true" href="#一基本概述">#</a></h2>
<h3 id="1-接口定义">1. 接口定义<a hidden class="anchor" aria-hidden="true" href="#1-接口定义">#</a></h3>
<ul>
<li><strong>全限定名</strong>：<code>jakarta.servlet.http.HttpServletRequest</code></li>
<li><strong>所属规范</strong>：Servlet 规范的一员</li>
<li><strong>父接口</strong>：<code>ServletRequest</code></li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> HttpServletRequest <span style="color:#fff;font-weight:bold">extends</span> ServletRequest {}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-实现与创建">2. 实现与创建<a hidden class="anchor" aria-hidden="true" href="#2-实现与创建">#</a></h3>
<ul>
<li><strong>实现类</strong>：Tomcat 中为 <code>org.apache.catalina.connector.RequestFacade</code></li>
<li><strong>对象创建者</strong>：Tomcat 服务器（即 Web 容器）</li>
<li><strong>说明</strong>：
<ul>
<li>Tomcat 实现了 <code>HttpServletRequest</code> 接口，并负责创建其对象。</li>
<li>开发者无需关心具体实现类，只需面向接口编程。</li>
</ul>
</li>
</ul>
<h3 id="3-封装内容">3. 封装内容<a hidden class="anchor" aria-hidden="true" href="#3-封装内容">#</a></h3>
<ul>
<li><strong>封装信息</strong>：HTTP 请求协议中的所有信息</li>
<li><strong>数据来源</strong>：浏览器发送的 HTTP 请求</li>
<li><strong>处理流程</strong>：
<ol>
<li>浏览器发送 HTTP 请求；</li>
<li>Tomcat 解析请求；</li>
<li>将解析结果封装到 <code>HttpServletRequest</code> 对象中；</li>
<li>提供给 JavaWeb 程序员使用。</li>
</ol>
</li>
</ul>
<h3 id="4-生命周期">4. 生命周期<a hidden class="anchor" aria-hidden="true" href="#4-生命周期">#</a></h3>
<ul>
<li><strong>request 和 response 的生命周期</strong>：
<ul>
<li>仅在当前请求中有效；</li>
<li>每次请求都会创建新的 request；</li>
<li>多次请求对应多个独立的 request。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="二常用方法详解">二、常用方法详解<a hidden class="anchor" aria-hidden="true" href="#二常用方法详解">#</a></h2>
<h3 id="1-获取用户提交的数据">1. 获取用户提交的数据<a hidden class="anchor" aria-hidden="true" href="#1-获取用户提交的数据">#</a></h3>
<h4 id="常用方法列表">常用方法列表：<a hidden class="anchor" aria-hidden="true" href="#常用方法列表">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String, String[]&gt; getParameterMap()
</span></span><span style="display:flex;"><span>Enumeration&lt;String&gt; getParameterNames()
</span></span><span style="display:flex;"><span>String[] getParameterValues(String name)
</span></span><span style="display:flex;"><span>String getParameter(String name) <span style="color:#007f7f">// 最常用</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="数据存储结构分析">数据存储结构分析：<a hidden class="anchor" aria-hidden="true" href="#数据存储结构分析">#</a></h4>
<ul>
<li>表单示例：<code>username=abc&amp;userpwd=111&amp;aihao=s&amp;aihao=d&amp;aihao=tt</code></li>
<li>存储结构应为：<code>Map&lt;String, String[]&gt;</code>
<ul>
<li>举例：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>key         | value
</span></span><span style="display:flex;"><span>-------------------------------
</span></span><span style="display:flex;"><span>username    | [<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>]
</span></span><span style="display:flex;"><span>userpwd     | [<span style="color:#0ff;font-weight:bold">&#34;111&#34;</span>]
</span></span><span style="display:flex;"><span>aihao       | [<span style="color:#0ff;font-weight:bold">&#34;s&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;d&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;tt&#34;</span>]
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<h4 id="注意事项">注意事项：<a hidden class="anchor" aria-hidden="true" href="#注意事项">#</a></h4>
<ul>
<li>所有前端提交的数据均为字符串类型；</li>
<li>即使是数字（如 <code>age=120</code>），后端获取到的也是字符串 <code>&quot;120&quot;</code>。</li>
</ul>
<hr>
<h3 id="2-请求域request-scope">2. 请求域（Request Scope）<a hidden class="anchor" aria-hidden="true" href="#2-请求域request-scope">#</a></h3>
<h4 id="概述">概述：<a hidden class="anchor" aria-hidden="true" href="#概述">#</a></h4>
<ul>
<li><code>request</code> 是一个“请求域”对象；</li>
<li>用于在一次请求中共享数据；</li>
<li>生命周期短于应用域（<code>ServletContext</code>）。</li>
</ul>
<h4 id="域操作方法">域操作方法：<a hidden class="anchor" aria-hidden="true" href="#域操作方法">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> setAttribute(String name, Object obj); <span style="color:#007f7f">// 设置属性</span>
</span></span><span style="display:flex;"><span>Object getAttribute(String name);          <span style="color:#007f7f">// 获取属性</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> removeAttribute(String name);        <span style="color:#007f7f">// 移除属性</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="与应用域对比">与应用域对比：<a hidden class="anchor" aria-hidden="true" href="#与应用域对比">#</a></h4>
<table>
<thead>
<tr>
<th>类型</th>
<th>范围</th>
<th>生命周期</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>RequestScope</td>
<td>当前请求</td>
<td>一次请求结束销毁</td>
<td>同一请求内多个组件共享</td>
</tr>
<tr>
<td>AppScope</td>
<td>整个 Web 应用</td>
<td>应用启动至关闭期间</td>
<td>所有用户共享数据</td>
</tr>
</tbody>
</table>
<h4 id="使用建议-1">使用建议：<a hidden class="anchor" aria-hidden="true" href="#使用建议-1">#</a></h4>
<ul>
<li>优先使用范围小的域对象，减少资源占用。</li>
</ul>
<hr>
<h3 id="3-请求转发forward">3. 请求转发（Forward）<a hidden class="anchor" aria-hidden="true" href="#3-请求转发forward">#</a></h3>
<h4 id="示例代码-1">示例代码：<a hidden class="anchor" aria-hidden="true" href="#示例代码-1">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// 获取请求转发器并转发</span>
</span></span><span style="display:flex;"><span>request.<span style="color:#007f7f">getRequestDispatcher</span>(<span style="color:#0ff;font-weight:bold">&#34;/b&#34;</span>).<span style="color:#007f7f">forward</span>(request, response);
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="特点">特点：<a hidden class="anchor" aria-hidden="true" href="#特点">#</a></h4>
<ul>
<li>一次请求；</li>
<li>可以转发给任意合法资源（Servlet、HTML、JSP 等）；</li>
<li>路径写法：以 <code>/</code> 开头，不加项目名。</li>
</ul>
<h4 id="数据共享方式">数据共享方式：<a hidden class="anchor" aria-hidden="true" href="#数据共享方式">#</a></h4>
<ul>
<li>在 AServlet 中设置属性，转发至 BServlet，可共享 request 域中的数据。</li>
</ul>
<hr>
<h3 id="4-参数获取与属性获取的区别">4. 参数获取与属性获取的区别<a hidden class="anchor" aria-hidden="true" href="#4-参数获取与属性获取的区别">#</a></h3>
<table>
<thead>
<tr>
<th>方法</th>
<th>来源</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getParameter()</code></td>
<td>用户提交的数据</td>
<td>获取请求参数（如表单、URL 参数）</td>
</tr>
<tr>
<td><code>getAttribute()</code></td>
<td>请求域中的属性</td>
<td>获取通过 <code>setAttribute()</code> 设置的值</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="三其他常见方法">三、其他常见方法<a hidden class="anchor" aria-hidden="true" href="#三其他常见方法">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// 获取客户端 IP 地址</span>
</span></span><span style="display:flex;"><span>String remoteAddr = request.<span style="color:#007f7f">getRemoteAddr</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 设置请求体字符集（解决 POST 请求乱码问题）</span>
</span></span><span style="display:flex;"><span>request.<span style="color:#007f7f">setCharacterEncoding</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 获取请求方式（GET/POST）</span>
</span></span><span style="display:flex;"><span>String method = request.<span style="color:#007f7f">getMethod</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 获取请求 URI（如：/aaa/testRequest）</span>
</span></span><span style="display:flex;"><span>String uri = request.<span style="color:#007f7f">getRequestURI</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 获取 Servlet 路径（如：/testRequest）</span>
</span></span><span style="display:flex;"><span>String servletPath = request.<span style="color:#007f7f">getServletPath</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 获取应用上下文路径（如：/myapp）</span>
</span></span><span style="display:flex;"><span>String contextPath = request.<span style="color:#007f7f">getContextPath</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="四乱码问题解决方案">四、乱码问题解决方案<a hidden class="anchor" aria-hidden="true" href="#四乱码问题解决方案">#</a></h2>
<table>
<thead>
<tr>
<th>请求方式</th>
<th>乱码原因</th>
<th>解决方案</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td>请求行中的参数编码</td>
<td>修改 server.xml 配置：<code>URIEncoding=&quot;UTF-8&quot;</code></td>
</tr>
<tr>
<td>POST</td>
<td>请求体中的编码</td>
<td><code>request.setCharacterEncoding(&quot;UTF-8&quot;)</code></td>
</tr>
<tr>
<td>Response</td>
<td>响应内容编码</td>
<td><code>response.setContentType(&quot;text/html;charset=UTF-8&quot;)</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意</strong>：</p>
<ul>
<li>Tomcat 10+ 默认使用 UTF-8 编码，不再需要手动设置；</li>
<li>这体现了对中文支持的增强。</li>
</ul>
</blockquote>
<hr>
<h2 id="五缓存技术简要介绍">五、缓存技术简要介绍<a hidden class="anchor" aria-hidden="true" href="#五缓存技术简要介绍">#</a></h2>
<table>
<thead>
<tr>
<th>技术名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>字符串常量池</td>
<td>相同字符串复用，提高性能</td>
</tr>
<tr>
<td>整数常量池</td>
<td>[-128~127] 内整数复用</td>
</tr>
<tr>
<td>数据库连接池</td>
<td>预先创建连接，提升数据库访问效率</td>
</tr>
<tr>
<td>线程池</td>
<td>预先创建线程，提高并发处理能力</td>
</tr>
<tr>
<td>Redis / MongoDB</td>
<td>分布式缓存，适用于大规模系统</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="六总结">六、总结<a hidden class="anchor" aria-hidden="true" href="#六总结">#</a></h2>
<ul>
<li><code>HttpServletRequest</code> 是 Servlet 规范的重要组成部分；</li>
<li>封装了 HTTP 请求的所有信息；</li>
<li>提供丰富的 API 用于获取请求参数、设置域属性、实现转发等功能；</li>
<li>合理使用 request 域和应用域，可以提升系统性能；</li>
<li>注意乱码问题的处理策略，尤其在不同 Tomcat 版本中的差异；</li>
<li>掌握缓存思想，有助于构建高性能 Web 应用。</li>
</ul>
<h1 id="使用纯servlet实现部门表的crud操作">使用纯Servlet实现部门表的CRUD操作<a hidden class="anchor" aria-hidden="true" href="#使用纯servlet实现部门表的crud操作">#</a></h1>
<h2 id="一项目概述">一、项目概述<a hidden class="anchor" aria-hidden="true" href="#一项目概述">#</a></h2>
<p>本项目使用<strong>纯Servlet技术</strong>完成对部门表（<code>dept</code>）的增删改查（CRUD）操作，采用B/S架构。</p>
<hr>
<h2 id="二数据库准备">二、数据库准备<a hidden class="anchor" aria-hidden="true" href="#二数据库准备">#</a></h2>
<h3 id="部门表结构及初始化脚本">部门表结构及初始化脚本<a hidden class="anchor" aria-hidden="true" href="#部门表结构及初始化脚本">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#007f7f">-- 部门表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">table</span> <span style="color:#fff;font-weight:bold">if</span> <span style="color:#fff;font-weight:bold">exists</span> dept;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> dept(
</span></span><span style="display:flex;"><span>    deptno <span style="color:#fff;font-weight:bold">int</span> <span style="color:#fff;font-weight:bold">primary</span> <span style="color:#fff;font-weight:bold">key</span>,
</span></span><span style="display:flex;"><span>    dname <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">255</span>),
</span></span><span style="display:flex;"><span>    loc <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">255</span>)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> dept(deptno, dname, loc) <span style="color:#fff;font-weight:bold">values</span>(<span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#0ff;font-weight:bold">&#39;XiaoShouBu&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;BEIJING&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> dept(deptno, dname, loc) <span style="color:#fff;font-weight:bold">values</span>(<span style="color:#ff0;font-weight:bold">20</span>, <span style="color:#0ff;font-weight:bold">&#39;YanFaBu&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;SHANGHAI&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> dept(deptno, dname, loc) <span style="color:#fff;font-weight:bold">values</span>(<span style="color:#ff0;font-weight:bold">30</span>, <span style="color:#0ff;font-weight:bold">&#39;JiShuBu&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;GUANGZHOU&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> dept(deptno, dname, loc) <span style="color:#fff;font-weight:bold">values</span>(<span style="color:#ff0;font-weight:bold">40</span>, <span style="color:#0ff;font-weight:bold">&#39;MeiTiBu&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;SHENZHEN&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">commit</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> dept;
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="三前端页面设计">三、前端页面设计<a hidden class="anchor" aria-hidden="true" href="#三前端页面设计">#</a></h2>
<p>使用 <strong>HBuilder</strong> 开发工具创建HTML页面，主要包括以下页面：</p>
<table>
<thead>
<tr>
<th>页面名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>index.html</code></td>
<td>欢迎页面</td>
</tr>
<tr>
<td><code>list.html</code></td>
<td>部门列表页（核心页面）</td>
</tr>
<tr>
<td><code>add.html</code></td>
<td>新增部门页面</td>
</tr>
<tr>
<td><code>edit.html</code></td>
<td>修改部门页面</td>
</tr>
<tr>
<td><code>detail.html</code></td>
<td>查看部门详情页面</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="四功能分析">四、功能分析<a hidden class="anchor" aria-hidden="true" href="#四功能分析">#</a></h2>
<p>每个连接数据库的操作即为一个独立功能。系统包括以下6个功能：</p>
<ol>
<li>查看部门列表</li>
<li>新增部门</li>
<li>删除部门</li>
<li>查看部门详细信息</li>
<li>跳转到修改页面</li>
<li>修改部门</li>
</ol>
<hr>
<h2 id="五开发环境搭建idea">五、开发环境搭建（IDEA）<a hidden class="anchor" aria-hidden="true" href="#五开发环境搭建idea">#</a></h2>
<h3 id="步骤如下">步骤如下：<a hidden class="anchor" aria-hidden="true" href="#步骤如下">#</a></h3>
<ol>
<li>创建Web应用项目。</li>
<li>添加依赖：
<ul>
<li><code>servlet-api.jar</code></li>
<li><code>jsp-api.jar</code></li>
<li>MySQL驱动包（放入 <code>WEB-INF/lib</code> 目录）</li>
</ul>
</li>
<li>编写JDBC工具类用于数据库连接。</li>
<li>将HTML页面拷贝至web目录下。</li>
</ol>
<hr>
<h2 id="六功能实现流程详解">六、功能实现流程详解<a hidden class="anchor" aria-hidden="true" href="#六功能实现流程详解">#</a></h2>
<h3 id="1-查看部门列表">1. 查看部门列表<a hidden class="anchor" aria-hidden="true" href="#1-查看部门列表">#</a></h3>
<h4 id="实现步骤">实现步骤：<a hidden class="anchor" aria-hidden="true" href="#实现步骤">#</a></h4>
<ul>
<li>
<p><strong>前端页面：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;/oa/dept/list&#34;</span>&gt;查看部门列表&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>配置 <code>web.xml</code>：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>list<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.oa.web.action.DeptListServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>list<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/dept/list<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>编写 <code>DeptListServlet</code> 类：</strong></p>
<p>继承 <code>HttpServlet</code>，重写 <code>doGet()</code> 方法，连接数据库查询数据并动态生成 HTML 表格。</p>
<p>示例代码片段：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">while</span>(rs.<span style="color:#007f7f">next</span>()) {
</span></span><span style="display:flex;"><span>    String deptno = rs.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;deptno&#34;</span>);
</span></span><span style="display:flex;"><span>    String dname = rs.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;dname&#34;</span>);
</span></span><span style="display:flex;"><span>    String loc = rs.<span style="color:#007f7f">getString</span>(<span style="color:#0ff;font-weight:bold">&#34;loc&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;tr&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;  &lt;td&gt;&#34;</span> + (++i) + <span style="color:#0ff;font-weight:bold">&#34;&lt;/td&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;  &lt;td&gt;&#34;</span> + deptno + <span style="color:#0ff;font-weight:bold">&#34;&lt;/td&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;  &lt;td&gt;&#34;</span> + dname + <span style="color:#0ff;font-weight:bold">&#34;&lt;/td&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;  &lt;td&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;    &lt;a href=&#39;&#39;&gt;删除&lt;/a&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;    &lt;a href=&#39;edit.html&#39;&gt;修改&lt;/a&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;    &lt;a href=&#39;detail.html&#39;&gt;详情&lt;/a&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;  &lt;/td&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;/tr&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="2-查看部门详情">2. 查看部门详情<a hidden class="anchor" aria-hidden="true" href="#2-查看部门详情">#</a></h3>
<h4 id="实现步骤-1">实现步骤：<a hidden class="anchor" aria-hidden="true" href="#实现步骤-1">#</a></h4>
<ul>
<li>
<p><strong>前端链接添加参数：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>out.<span style="color:#007f7f">print</span>(<span style="color:#0ff;font-weight:bold">&#34;&lt;a href=&#39;&#34;</span> + contextPath + <span style="color:#0ff;font-weight:bold">&#34;/dept/detail?deptno=&#34;</span> + deptno + <span style="color:#0ff;font-weight:bold">&#34;&#39;&gt;详情&lt;/a&gt;&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>配置 <code>web.xml</code>：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>detail<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.oa.web.action.DeptDetailServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>detail<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/dept/detail<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>编写 <code>DeptDetailServlet</code> 类：</strong></p>
<p>在 <code>doGet()</code> 方法中获取 <code>deptno</code> 参数，查询数据库并展示详情页面。</p>
</li>
</ul>
<hr>
<h3 id="3-删除部门">3. 删除部门<a hidden class="anchor" aria-hidden="true" href="#3-删除部门">#</a></h3>
<h4 id="实现步骤-2">实现步骤：<a hidden class="anchor" aria-hidden="true" href="#实现步骤-2">#</a></h4>
<ul>
<li>
<p><strong>前端 JS 提示确认删除：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;javascript:void(0)&#34;</span> <span style="color:#007f7f">onclick</span>=<span style="color:#0ff;font-weight:bold">&#34;del(30)&#34;</span>&gt;删除&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">script</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;text/javascript&#34;</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> del(dno){
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">window</span>.confirm(<span style="color:#0ff;font-weight:bold">&#34;亲，删了不可恢复哦！&#34;</span>)){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">document</span>.location.href = <span style="color:#0ff;font-weight:bold">&#34;/oa/dept/delete?deptno=&#34;</span> + dno;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">script</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>配置 <code>web.xml</code>：</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>delete<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-class&gt;</span>com.bjpowernode.oa.web.action.DeptDelServlet<span style="font-weight:bold">&lt;/servlet-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>delete<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>/dept/delete<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>编写 <code>DeptDelServlet</code> 类：</strong></p>
<p>根据 <code>deptno</code> 删除记录，并根据结果转发到对应页面（成功跳转列表页，失败跳转错误页）。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (count == 1) {
</span></span><span style="display:flex;"><span>    request.<span style="color:#007f7f">getRequestDispatcher</span>(<span style="color:#0ff;font-weight:bold">&#34;/dept/list&#34;</span>).<span style="color:#007f7f">forward</span>(request, response);
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    request.<span style="color:#007f7f">getRequestDispatcher</span>(<span style="color:#0ff;font-weight:bold">&#34;/error.html&#34;</span>).<span style="color:#007f7f">forward</span>(request, response);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="4-新增部门">4. 新增部门<a hidden class="anchor" aria-hidden="true" href="#4-新增部门">#</a></h3>
<h4 id="注意事项-1">注意事项：<a hidden class="anchor" aria-hidden="true" href="#注意事项-1">#</a></h4>
<ul>
<li>若使用 POST 请求提交新增数据，转发到 <code>/dept/list</code> 时可能出现 <strong>405 错误</strong>。</li>
<li>原因：转发请求仍保持原方法（POST），而目标 Servlet 只有 doGet()。</li>
<li>解决方案：
<ul>
<li><strong>方案一：</strong> 在目标 Servlet 中添加 <code>doPost()</code> 并调用 <code>doGet()</code>。</li>
<li><strong>方案二：</strong> 使用重定向代替转发。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-跳转到修改页面">5. 跳转到修改页面<a hidden class="anchor" aria-hidden="true" href="#5-跳转到修改页面">#</a></h3>
<ul>
<li>用户点击“修改”按钮后，应跳转至 <code>edit.html</code> 页面。</li>
<li>页面需携带当前部门编号参数，供后续修改使用。</li>
</ul>
<hr>
<h3 id="6-修改部门">6. 修改部门<a hidden class="anchor" aria-hidden="true" href="#6-修改部门">#</a></h3>
<ul>
<li>类似于新增功能，但需要先从数据库加载当前部门信息填充表单。</li>
<li>提交时更新数据库，并重定向或转发回列表页。</li>
</ul>
<hr>
<h2 id="七总结">七、总结<a hidden class="anchor" aria-hidden="true" href="#七总结">#</a></h2>
<p>通过以上步骤，可以使用<strong>纯Servlet技术</strong>完成对部门表的完整 CRUD 操作。虽然代码较为繁琐，但有助于深入理解 Web 应用底层工作原理。</p>
<h1 id="在一个-web-应用中如何完成资源跳转">在一个 Web 应用中如何完成资源跳转<a hidden class="anchor" aria-hidden="true" href="#在一个-web-应用中如何完成资源跳转">#</a></h1>
<p>在 Web 应用中，实现资源跳转主要有两种方式：</p>
<ol>
<li><strong>转发（Forward）</strong></li>
<li><strong>重定向（Redirect）</strong></li>
</ol>
<hr>
<h2 id="一转发-vs-重定向">一、转发 vs 重定向<a hidden class="anchor" aria-hidden="true" href="#一转发-vs-重定向">#</a></h2>
<table>
<thead>
<tr>
<th>对比项</th>
<th>转发（Forward）</th>
<th>重定向（Redirect）</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求次数</td>
<td>一次请求</td>
<td>两次请求</td>
</tr>
<tr>
<td>地址栏变化</td>
<td>不变</td>
<td>改变为最终目标地址</td>
</tr>
<tr>
<td>控制者</td>
<td>服务器（Tomcat）</td>
<td>浏览器</td>
</tr>
<tr>
<td>是否共享 request 域数据</td>
<td>是</td>
<td>否</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="1-代码上的区别">1. 代码上的区别<a hidden class="anchor" aria-hidden="true" href="#1-代码上的区别">#</a></h3>
<h4 id="-转发示例java">✅ 转发示例（Java）<a hidden class="anchor" aria-hidden="true" href="#-转发示例java">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// 获取请求转发器对象并转发</span>
</span></span><span style="display:flex;"><span>RequestDispatcher dispatcher = request.<span style="color:#007f7f">getRequestDispatcher</span>(<span style="color:#0ff;font-weight:bold">&#34;/dept/list&#34;</span>);
</span></span><span style="display:flex;"><span>dispatcher.<span style="color:#007f7f">forward</span>(request, response);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 简化写法</span>
</span></span><span style="display:flex;"><span>request.<span style="color:#007f7f">getRequestDispatcher</span>(<span style="color:#0ff;font-weight:bold">&#34;/dept/list&#34;</span>).<span style="color:#007f7f">forward</span>(request, response);
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>说明</strong>：转发过程中始终使用同一个 <code>request</code> 和 <code>response</code>，即所有转发都在一次请求中完成。</li>
<li><strong>特点</strong>：AServlet → BServlet → CServlet → DServlet，都共用同一个请求对象。</li>
</ul>
<h4 id="-重定向示例java">✅ 重定向示例（Java）<a hidden class="anchor" aria-hidden="true" href="#-重定向示例java">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// 重定向到指定路径</span>
</span></span><span style="display:flex;"><span>response.<span style="color:#007f7f">sendRedirect</span>(<span style="color:#0ff;font-weight:bold">&#34;/oa/dept/list&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><strong>说明</strong>：浏览器会根据返回的状态码和位置头，重新发起一个新的请求。</li>
<li><strong>注意</strong>：路径需要加上项目名，因为是浏览器主动发送新请求。</li>
</ul>
<hr>
<h3 id="2-形式上的区别">2. 形式上的区别<a hidden class="anchor" aria-hidden="true" href="#2-形式上的区别">#</a></h3>
<h4 id="-转发一次请求">📌 转发（一次请求）<a hidden class="anchor" aria-hidden="true" href="#-转发一次请求">#</a></h4>
<ul>
<li>地址栏显示的是最初请求的 URL。</li>
<li>示例：
<ul>
<li>初始请求：<code>http://localhost:8080/servlet10/a</code></li>
<li>最终地址不变。</li>
</ul>
</li>
</ul>
<h4 id="-重定向两次请求">📌 重定向（两次请求）<a hidden class="anchor" aria-hidden="true" href="#-重定向两次请求">#</a></h4>
<ul>
<li>地址栏最终显示的是重定向后的 URL。</li>
<li>示例：
<ul>
<li>初始请求：<code>http://localhost:8080/servlet10/a</code></li>
<li>最终地址：<code>http://localhost:8080/servlet10/b</code></li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-本质区别">3. 本质区别<a hidden class="anchor" aria-hidden="true" href="#3-本质区别">#</a></h3>
<ul>
<li><strong>转发</strong>：由服务器控制，Tomcat 内部跳转。客户端无感知，只看到一次请求。</li>
<li><strong>重定向</strong>：由浏览器执行，相当于重新发起一个全新的请求。</li>
</ul>
<hr>
<h3 id="4-生活化的例子解释">4. 生活化的例子解释<a hidden class="anchor" aria-hidden="true" href="#4-生活化的例子解释">#</a></h3>
<h4 id="-转发一次请求-类似中间人帮忙借钱">🧾 转发（一次请求）—— 类似“中间人帮忙借钱”<a hidden class="anchor" aria-hidden="true" href="#-转发一次请求-类似中间人帮忙借钱">#</a></h4>
<ul>
<li>杜老师找张三借钱，张三没有但去找李四借了钱再给杜老师。</li>
<li>杜老师以为钱是张三给的，整个过程只有一次请求行为。</li>
</ul>
<h4 id="-重定向两次请求-类似直接找别人借钱">🧾 重定向（两次请求）—— 类似“直接找别人借钱”<a hidden class="anchor" aria-hidden="true" href="#-重定向两次请求-类似直接找别人借钱">#</a></h4>
<ul>
<li>杜老师找张三借钱，张三没有，但告诉杜老师李四可以借。</li>
<li>杜老师自己去找李四借钱，这是两个独立的行为。</li>
</ul>
<hr>
<h2 id="二转发和重定向该如何选择">二、转发和重定向该如何选择？<a hidden class="anchor" aria-hidden="true" href="#二转发和重定向该如何选择">#</a></h2>
<table>
<thead>
<tr>
<th>使用场景</th>
<th>推荐方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>需要传递 request 域中的数据（如属性值）</td>
<td>转发（Forward）</td>
</tr>
<tr>
<td>页面跳转后希望刷新页面不重复提交</td>
<td>重定向（Redirect）</td>
</tr>
<tr>
<td>普通的页面跳转（如登录成功后跳转首页）</td>
<td>重定向（Redirect）</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ <strong>建议</strong>：除非需要保留 request 域数据，否则一律使用重定向。</p>
</blockquote>
<hr>
<h2 id="三跳转的目标资源必须是-servlet-吗">三、跳转的目标资源必须是 Servlet 吗？<a hidden class="anchor" aria-hidden="true" href="#三跳转的目标资源必须是-servlet-吗">#</a></h2>
<p>不是！<br>
转发或重定向的目标资源只要是服务器内部合法的资源即可，包括：</p>
<ul>
<li>Servlet</li>
<li>JSP</li>
<li>HTML 文件</li>
<li>图片、CSS、JS 等静态资源</li>
</ul>
<hr>
<h2 id="四注意事项">四、注意事项<a hidden class="anchor" aria-hidden="true" href="#四注意事项">#</a></h2>
<h3 id="-转发存在的问题浏览器刷新问题">⚠️ 转发存在的问题：浏览器刷新问题<a hidden class="anchor" aria-hidden="true" href="#-转发存在的问题浏览器刷新问题">#</a></h3>
<ul>
<li>如果用户刷新页面，可能会导致重复处理逻辑（如重复插入数据库），因为请求仍是原始请求。</li>
<li>所以，<strong>对于涉及业务操作的请求，建议使用重定向</strong>，避免刷新造成副作用。</li>
</ul>
<hr>
<h2 id="总结-4">总结<a hidden class="anchor" aria-hidden="true" href="#总结-4">#</a></h2>
<table>
<thead>
<tr>
<th>特性</th>
<th>转发</th>
<th>重定向</th>
</tr>
</thead>
<tbody>
<tr>
<td>请求次数</td>
<td>1次</td>
<td>2次</td>
</tr>
<tr>
<td>地址栏变化</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>request 数据是否共享</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td>安全性</td>
<td>较低（暴露服务端结构）</td>
<td>较高</td>
</tr>
<tr>
<td>适用场景</td>
<td>数据共享、内部跳转</td>
<td>表单提交后跳转、防止重复提交</td>
</tr>
</tbody>
</table>
<blockquote>
<p>💡 <strong>一句话总结</strong>：<strong>转发是服务器内部的事，重定向是让浏览器重新做事。</strong></p>
</blockquote>
<h2 id="将oa项目中的资源跳转修改为合适的跳转方式">将oa项目中的资源跳转修改为合适的跳转方式<a hidden class="anchor" aria-hidden="true" href="#将oa项目中的资源跳转修改为合适的跳转方式">#</a></h2>
<ul>
<li>删除之后，重定向</li>
<li>修改之后，重定向</li>
<li>保存之后，重定向</li>
<li>重定向：
<ul>
<li>成功</li>
<li>失败</li>
</ul>
</li>
</ul>
<h2 id="servlet注解简化配置">Servlet注解，简化配置<a hidden class="anchor" aria-hidden="true" href="#servlet注解简化配置">#</a></h2>
<ul>
<li>
<p>分析oa项目中的web.xml文件</p>
<ul>
<li>现在只是一个单标的CRUD，没有复杂的业务逻辑，很简单的一丢丢功能。web.xml文件中就有如此多的配置信息。如果采用这种方式，对于一个大的项目来说，这样的话web.xml文件会非常庞大，有可能最终会达到几十兆。</li>
<li>在web.xml文件中进行servlet信息的配置，显然开发效率比较低，每一个都需要配置一下。</li>
<li>而且在web.xml文件中的配置是很少被修改的，所以这种配置信息能不能直接写到java类当中呢？可以的。</li>
</ul>
</li>
<li>
<p>Servlet3.0版本之后，推出了各种Servlet基于注解式开发。优点是什么？</p>
<ul>
<li>开发效率高，不需要编写大量的配置信息。直接在java类上使用注解进行标注。</li>
<li>web.xml文件体积变小了。</li>
</ul>
</li>
<li>
<p>并不是说注解有了之后，web.xml文件就不需要了：</p>
<ul>
<li>有一些需要变化的信息，还是要配置到web.xml文件中。一般都是 注解+配置文件 的开发模式。</li>
<li>一些不会经常变化修改的配置建议使用注解。一些可能会被修改的建议写到配置文件中。</li>
</ul>
</li>
<li>
<p>我们的第一个注解：</p>
<ul>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>jakarta.servlet.annotation.WebServlet
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在Servlet类上使用：@WebServlet，WebServlet注解中有哪些属性呢？</p>
<ul>
<li>name属性：用来指定Servlet的名字。等同于：<code>&lt;servlet-name&gt;</code></li>
<li>urlPatterns属性：用来指定Servlet的映射路径。可以指定多个字符串。<code>&lt;url-pattern&gt;</code></li>
<li>loadOnStartUp属性：用来指定在服务器启动阶段是否加载该Servlet。等同于：<code>&lt;load-on-startup&gt;</code></li>
<li>value属性：当注解的属性名是value的时候，使用注解的时候，value属性名是可以省略的。</li>
<li>注意：不是必须将所有属性都写上，只需要提供需要的。（需要什么用什么。）</li>
<li>注意：属性是一个数组，如果数组中只有一个元素，使用该注解的时候，属性值的大括号可以省略。</li>
</ul>
</li>
</ul>
</li>
<li>
<p>注解对象的使用格式：</p>
<ul>
<li>@注解名称(属性名=属性值, 属性名=属性值, 属性名=属性值&hellip;.)</li>
</ul>
</li>
</ul>
<h2 id="使用模板方法设计模式优化oa项目">使用模板方法设计模式优化oa项目<a hidden class="anchor" aria-hidden="true" href="#使用模板方法设计模式优化oa项目">#</a></h2>
<ul>
<li>上面的注解解决了配置文件的问题。但是现在的oa项目仍然存在一个比较臃肿的问题。
<ul>
<li>一个单标的CRUD，就写了6个Servlet。如果一个复杂的业务系统，这种开发方式，显然会导致类爆炸。（类的数量太大。）</li>
<li>怎么解决这个类爆炸问题？可以使用模板方法设计模式。</li>
</ul>
</li>
<li>怎么解决类爆炸问题？
<ul>
<li>以前的设计是一个请求一个Servlet类。1000个请求对应1000个Servlet类。导致类爆炸。</li>
<li>可以这样做：一个请求对应一个方法。一个业务对应一个Servlet类。</li>
<li>处理部门相关业务的对应一个DeptServlet。处理用户相关业务的对应一个UserServlet。处理银行卡卡片业务对应一个CardServlet。</li>
</ul>
</li>
</ul>
<h2 id="分析使用纯粹servlet开发web应用的缺陷">分析使用纯粹Servlet开发web应用的缺陷<a hidden class="anchor" aria-hidden="true" href="#分析使用纯粹servlet开发web应用的缺陷">#</a></h2>
<ul>
<li>在Servlet当中编写HTML/CSS/JavaScript等前端代码。存在什么问题？
<ul>
<li>java程序中编写前端代码，编写难度大。麻烦。</li>
<li>java程序中编写前端代码，显然程序的耦合度非常高。</li>
<li>java程序中编写前端代码，代码非常不美观。</li>
<li>java程序中编写前端代码，维护成本太高。（非常难于维护）
<ul>
<li>修改小小的一个前端代码，只要有改动，就需要重新编译java代码，生成新的class文件，打一个新的war包，重新发布。</li>
</ul>
</li>
</ul>
</li>
<li>思考一下，如果是你的话，你准备怎么解决这个问题？
<ul>
<li>思路很重要。使用什么样的思路去做、去解决这个问题
<ul>
<li>上面的那个Servlet（Java程序）能不能不写了，让机器自动生成。我们程序员只需要写这个Servlet程序中的“前端的那段代码”，然后让机器将我们写的“前端代码”自动翻译生成“Servlet这种java程序”。然后机器再自动将“java”程序编译生成&quot;class&quot;文件。然后再使用JVM调用这个class中的方法。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="bs结构系统中的会话机制session机制">B/S结构系统中的会话机制（Session机制）<a hidden class="anchor" aria-hidden="true" href="#bs结构系统中的会话机制session机制">#</a></h1>
<p>在现代Web开发中，<strong>会话机制（Session）</strong> 是实现用户状态管理的重要手段。本文将详细介绍 Session 的概念、原理、应用场景以及其在 Java Web 中的具体实现方式。</p>
<hr>
<h2 id="一什么是会话">一、什么是会话？<a hidden class="anchor" aria-hidden="true" href="#一什么是会话">#</a></h2>
<h3 id="1-基本定义">1. 基本定义<a hidden class="anchor" aria-hidden="true" href="#1-基本定义">#</a></h3>
<ul>
<li><strong>会话（Session）</strong>：指用户从打开浏览器开始操作，到关闭浏览器结束的一系列交互过程。</li>
<li>在这个过程中，用户可能会发起多次请求，这些请求都属于同一次会话。</li>
</ul>
<h3 id="2-会话对象session-object">2. 会话对象（Session Object）<a hidden class="anchor" aria-hidden="true" href="#2-会话对象session-object">#</a></h3>
<ul>
<li>在服务器端，每个用户的会话都会被封装成一个 Java 对象：<code>HttpSession</code>。</li>
<li>类路径：<code>jakarta.servlet.http.HttpSession</code>（原为 <code>javax.servlet.http.HttpSession</code>，Java EE 9 后改为 jakarta）。</li>
</ul>
<h3 id="3-请求request">3. 请求（Request）<a hidden class="anchor" aria-hidden="true" href="#3-请求request">#</a></h3>
<ul>
<li>用户点击页面触发一次请求，服务器通过 <code>HttpServletRequest</code> 对象来处理该请求。</li>
<li>一次会话包含多个请求。</li>
</ul>
<hr>
<h2 id="二为什么需要-session">二、为什么需要 Session？<a hidden class="anchor" aria-hidden="true" href="#二为什么需要-session">#</a></h2>
<h3 id="1-http-协议是无状态的">1. HTTP 协议是无状态的<a hidden class="anchor" aria-hidden="true" href="#1-http-协议是无状态的">#</a></h3>
<ul>
<li>HTTP 是一种无连接、无状态的协议。</li>
<li>每次请求完成后，客户端与服务器断开连接，服务器无法直接知道用户是否继续访问。</li>
</ul>
<h3 id="2-状态保持的需求">2. 状态保持的需求<a hidden class="anchor" aria-hidden="true" href="#2-状态保持的需求">#</a></h3>
<ul>
<li>用户登录后，如何在整个会话期间保留登录状态？</li>
<li>如何识别不同用户的不同会话？</li>
<li>这些问题都需要通过 Session 来解决。</li>
</ul>
<hr>
<h2 id="三session-的工作原理">三、Session 的工作原理<a hidden class="anchor" aria-hidden="true" href="#三session-的工作原理">#</a></h2>
<h3 id="1-获取-session-对象">1. 获取 Session 对象<a hidden class="anchor" aria-hidden="true" href="#1-获取-session-对象">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>HttpSession session = request.<span style="color:#007f7f">getSession</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>当调用此方法时，服务器会根据当前请求判断是否存在对应的 Session。</li>
<li>如果不存在，则创建一个新的 Session 并返回。</li>
<li>如果存在，则返回已有的 Session。</li>
</ul>
<h3 id="2-session-id-的作用">2. Session ID 的作用<a hidden class="anchor" aria-hidden="true" href="#2-session-id-的作用">#</a></h3>
<ul>
<li>每个 Session 都有一个唯一的标识符：<strong>JSESSIONID</strong>。</li>
<li>JSESSIONID 以 Cookie 形式保存在浏览器内存中：
<ul>
<li>浏览器关闭后，Cookie 被清除，Session ID 失效。</li>
<li>下次访问时，服务器会生成新的 Session。</li>
</ul>
</li>
</ul>
<h3 id="3-session-列表的存储结构">3. Session 列表的存储结构<a hidden class="anchor" aria-hidden="true" href="#3-session-列表的存储结构">#</a></h3>
<ul>
<li>服务器内部维护一个 Map 结构：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String sessionId, HttpSession session&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>每次请求携带的 Session ID 用于查找对应的 Session 对象。</li>
</ul>
<hr>
<h2 id="四session-与其他域对象对比">四、Session 与其他域对象对比<a hidden class="anchor" aria-hidden="true" href="#四session-与其他域对象对比">#</a></h2>
<table>
<thead>
<tr>
<th>域对象</th>
<th>对应类名</th>
<th>生命周期</th>
<th>作用范围</th>
<th>典型用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>Request</td>
<td>HttpServletRequest</td>
<td>一次请求</td>
<td>请求级别</td>
<td>页面跳转传值</td>
</tr>
<tr>
<td>Session</td>
<td>HttpSession</td>
<td>一次会话</td>
<td>用户级别</td>
<td>登录状态、用户信息</td>
</tr>
<tr>
<td>Application</td>
<td>ServletContext</td>
<td>应用启动到关闭</td>
<td>应用级别</td>
<td>全局配置、缓存数据</td>
</tr>
</tbody>
</table>
<h3 id="1-域对象大小关系">1. 域对象大小关系<a hidden class="anchor" aria-hidden="true" href="#1-域对象大小关系">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>request &lt; session &lt; application
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2-域对象常用方法">2. 域对象常用方法<a hidden class="anchor" aria-hidden="true" href="#2-域对象常用方法">#</a></h3>
<p>所有域对象都支持以下方法：</p>
<ul>
<li><code>setAttribute(String name, Object value)</code>：设置属性</li>
<li><code>getAttribute(String name)</code>：获取属性</li>
<li><code>removeAttribute(String name)</code>：删除属性</li>
</ul>
<h3 id="3-使用原则">3. 使用原则<a hidden class="anchor" aria-hidden="true" href="#3-使用原则">#</a></h3>
<ul>
<li>尽量使用小范围的域对象，避免资源浪费和并发冲突。</li>
</ul>
<hr>
<h2 id="五session-的实现细节">五、Session 的实现细节<a hidden class="anchor" aria-hidden="true" href="#五session-的实现细节">#</a></h2>
<h3 id="1-session-id-的传输方式">1. Session ID 的传输方式<a hidden class="anchor" aria-hidden="true" href="#1-session-id-的传输方式">#</a></h3>
<ul>
<li>默认通过 Cookie 传递 Session ID（<code>JSESSIONID=xxxxxx</code>）。</li>
<li>如果浏览器禁用了 Cookie，Session ID 可以通过 <strong>URL 重写</strong> 方式传递：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/servlet12/test/session;jsessionid=19D1C99560DCBF84839FA43D58F56E16
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="2-url-重写机制">2. URL 重写机制<a hidden class="anchor" aria-hidden="true" href="#2-url-重写机制">#</a></h3>
<ul>
<li>开发者需手动拼接 Session ID 到 URL 中。</li>
<li>成本较高，因此大多数网站要求用户启用 Cookie。</li>
</ul>
<h3 id="3-session-的销毁">3. Session 的销毁<a hidden class="anchor" aria-hidden="true" href="#3-session-的销毁">#</a></h3>
<ul>
<li>手动销毁：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>session.<span style="color:#007f7f">invalidate</span>(); <span style="color:#007f7f">// 销毁当前会话</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>自动销毁：
<ul>
<li>默认超时时间（如 Tomcat 默认为 30 分钟），可在 <code>web.xml</code> 中配置。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="六session-的典型应用场景">六、Session 的典型应用场景<a hidden class="anchor" aria-hidden="true" href="#六session-的典型应用场景">#</a></h2>
<h3 id="1-用户登录认证">1. 用户登录认证<a hidden class="anchor" aria-hidden="true" href="#1-用户登录认证">#</a></h3>
<ul>
<li>登录成功后，将用户信息存入 Session：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>session.<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>, user);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>后续请求中检查 Session 是否存在用户信息，决定是否放行或跳转至登录页。</li>
</ul>
<h3 id="2-购物车功能">2. 购物车功能<a hidden class="anchor" aria-hidden="true" href="#2-购物车功能">#</a></h3>
<ul>
<li>临时保存用户选中的商品信息，直到用户提交订单。</li>
</ul>
<h3 id="3-防止重复提交">3. 防止重复提交<a hidden class="anchor" aria-hidden="true" href="#3-防止重复提交">#</a></h3>
<ul>
<li>在提交操作前检查 Session 中是否已有标记，防止用户重复提交。</li>
</ul>
<hr>
<h2 id="七session-的优缺点分析">七、Session 的优缺点分析<a hidden class="anchor" aria-hidden="true" href="#七session-的优缺点分析">#</a></h2>
<table>
<thead>
<tr>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>实现简单，易于使用</td>
<td>存储在服务器，占用内存资源</td>
</tr>
<tr>
<td>支持跨页面数据共享</td>
<td>Session 丢失可能导致状态异常</td>
</tr>
<tr>
<td>提供了安全的数据存储机制</td>
<td>不适合存储大量数据</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="八session-与-token-的比较扩展知识">八、Session 与 Token 的比较（扩展知识）<a hidden class="anchor" aria-hidden="true" href="#八session-与-token-的比较扩展知识">#</a></h2>
<p>随着前后端分离和移动端的发展，越来越多项目采用 <strong>Token（如 JWT）</strong> 替代传统的 Session：</p>
<table>
<thead>
<tr>
<th>对比项</th>
<th>Session</th>
<th>Token</th>
</tr>
</thead>
<tbody>
<tr>
<td>存储位置</td>
<td>服务器</td>
<td>客户端（如 LocalStorage）</td>
</tr>
<tr>
<td>可扩展性</td>
<td>较差（依赖服务器内存）</td>
<td>更好（无状态，便于分布式部署）</td>
</tr>
<tr>
<td>安全性</td>
<td>依赖 Cookie</td>
<td>可加密签名</td>
</tr>
<tr>
<td>性能影响</td>
<td>有状态，每次请求需查 Session</td>
<td>无状态，性能更高</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ <strong>建议</strong>：对于大型分布式系统，推荐使用 Token；而对于传统单体 Web 应用，Session 仍是实用选择。</p>
</blockquote>
<hr>
<h2 id="九总结">九、总结<a hidden class="anchor" aria-hidden="true" href="#九总结">#</a></h2>
<p>Session 是 B/S 架构中实现用户状态管理的核心机制之一，具有以下特点：</p>
<ul>
<li>基于 HTTP 无状态协议之上，提供状态保持能力；</li>
<li>通过 Session ID 识别用户，服务器维护 Session 数据；</li>
<li>适用于用户登录、购物车、权限控制等场景；</li>
<li>有生命周期限制，可手动或自动销毁；</li>
<li>与 Cookie 紧密相关，但也可通过 URL 重写实现；</li>
<li>在 Java Web 中由 <code>HttpSession</code> 接口实现；</li>
<li>开发中应合理使用 Session，优先考虑较小的域对象。</li>
</ul>
<hr>
<p>如需进一步深入 Session 相关内容，可以研究如下方向：</p>
<ul>
<li>Session 的集群同步机制（如 Redis 存储 Session）</li>
<li>Session 的持久化（如数据库存储）</li>
<li>Spring Session 的使用</li>
<li>OAuth2 与 Session 的结合使用</li>
</ul>
<h1 id="cookie-与-session-原理详解">Cookie 与 Session 原理详解<a hidden class="anchor" aria-hidden="true" href="#cookie-与-session-原理详解">#</a></h1>
<h2 id="一cookie-简介">一、Cookie 简介<a hidden class="anchor" aria-hidden="true" href="#一cookie-简介">#</a></h2>
<h3 id="11-cookie-是什么">1.1 Cookie 是什么？<a hidden class="anchor" aria-hidden="true" href="#11-cookie-是什么">#</a></h3>
<ul>
<li><strong>Cookie</strong> 是客户端（浏览器）用于存储少量数据的一种机制。</li>
<li>数据以 <code>name=value</code> 的形式保存在浏览器中。</li>
<li>每次向服务器发送请求时，符合条件的 Cookie 会自动随请求一起发送给服务器。</li>
</ul>
<h3 id="12-cookie-的生成与存储位置">1.2 Cookie 的生成与存储位置<a hidden class="anchor" aria-hidden="true" href="#12-cookie-的生成与存储位置">#</a></h3>
<ul>
<li><strong>生成方式：</strong>
<ul>
<li>由服务器通过 HTTP 响应头中的 <code>Set-Cookie</code> 字段设置。</li>
<li>浏览器接收到后解析并存储。</li>
</ul>
</li>
<li><strong>存储位置：</strong>
<ul>
<li><strong>运行内存（临时 Cookie）：</strong>
<ul>
<li>关闭浏览器即失效。</li>
<li>未设置过期时间时默认如此。</li>
</ul>
</li>
<li><strong>硬盘文件（持久化 Cookie）：</strong>
<ul>
<li>设置了过期时间后，浏览器将其写入磁盘。</li>
<li>即使关闭浏览器也不会丢失。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="13-cookie-的用途">1.3 Cookie 的用途<a hidden class="anchor" aria-hidden="true" href="#13-cookie-的用途">#</a></h3>
<ul>
<li><strong>维持用户状态：</strong> 在无状态的 HTTP 协议中，通过 Cookie 实现用户登录状态、购物车信息等的保持。</li>
<li><strong>记录用户偏好：</strong> 如语言选择、主题风格等。</li>
<li><strong>跨域通信辅助：</strong> 配合其他机制实现跨域单点登录（SSO）等功能。</li>
</ul>
<hr>
<h2 id="二session-的原理及与-cookie-的关系">二、Session 的原理及与 Cookie 的关系<a hidden class="anchor" aria-hidden="true" href="#二session-的原理及与-cookie-的关系">#</a></h2>
<h3 id="21-session-的实现原理">2.1 Session 的实现原理<a hidden class="anchor" aria-hidden="true" href="#21-session-的实现原理">#</a></h3>
<ul>
<li>每个用户的会话信息被服务器端封装为一个 <code>session</code> 对象。</li>
<li>每个 <code>session</code> 对象都有一个唯一标识符：<strong>session ID</strong>。
<ul>
<li>示例：<code>JSESSIONID=41C481F0224664BDB28E95081D23D5B8</code></li>
</ul>
</li>
<li>这个 session ID 通常通过 Cookie 发送给浏览器，称为 <strong>会话 Cookie</strong>。</li>
<li>浏览器在后续请求中将该 Cookie 自动回传给服务器，从而实现会话跟踪。</li>
</ul>
<blockquote>
<p>✅ <strong>注意：</strong></p>
<ul>
<li>Session 是服务器端机制，而 Cookie 是客户端机制。</li>
<li>Session 的 session ID 依赖于 Cookie 来实现“记忆”功能。</li>
<li>如果浏览器禁用了 Cookie，则需要 URL 重写来传递 session ID。</li>
</ul>
</blockquote>
<hr>
<h2 id="三cookie-的使用场景与经典案例">三、Cookie 的使用场景与经典案例<a hidden class="anchor" aria-hidden="true" href="#三cookie-的使用场景与经典案例">#</a></h2>
<h3 id="31-购物车功能如京东商城">3.1 购物车功能（如京东商城）<a hidden class="anchor" aria-hidden="true" href="#31-购物车功能如京东商城">#</a></h3>
<ul>
<li>用户未登录状态下添加商品到购物车。</li>
<li>即使关闭浏览器，再次访问网站时购物车内容仍存在。</li>
<li><strong>实现原理：</strong>
<ul>
<li>将商品编号（如 <code>productIds=1001,1002,1003</code>）存入 Cookie。</li>
<li>Cookie 设置为持久化（保存在硬盘），有效期较长。</li>
<li>下次访问时读取 Cookie，还原购物车内容。</li>
</ul>
</li>
</ul>
<h3 id="32-十天内免登录如-126-邮箱">3.2 十天内免登录（如 126 邮箱）<a hidden class="anchor" aria-hidden="true" href="#32-十天内免登录如-126-邮箱">#</a></h3>
<ul>
<li>用户勾选“十天内免登录”，登录成功后：
<ul>
<li>服务器生成包含用户名、密码等信息的 Cookie。</li>
<li>Cookie 存储在硬盘上，有效期为 10 天。</li>
</ul>
</li>
<li>用户下次访问时，浏览器自动发送该 Cookie。</li>
<li>服务器验证信息后完成自动登录。</li>
</ul>
<blockquote>
<p>🚫 <strong>Cookie 失效条件：</strong></p>
<ul>
<li>10 天后自动过期</li>
<li>用户修改密码</li>
<li>用户清除浏览器 Cookie</li>
</ul>
</blockquote>
<hr>
<h2 id="四java-web-中对-cookie-的支持">四、Java Web 中对 Cookie 的支持<a hidden class="anchor" aria-hidden="true" href="#四java-web-中对-cookie-的支持">#</a></h2>
<h3 id="41-java-servlet-提供的类与方法">4.1 Java Servlet 提供的类与方法<a hidden class="anchor" aria-hidden="true" href="#41-java-servlet-提供的类与方法">#</a></h3>
<ul>
<li><strong>类：</strong> <code>jakarta.servlet.http.Cookie</code></li>
<li><strong>创建 Cookie：</strong>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Cookie cookie = <span style="color:#fff;font-weight:bold">new</span> Cookie(<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;zhangsan&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li><strong>设置最大生存时间（单位：秒）：</strong>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>cookie.<span style="color:#007f7f">setMaxAge</span>(60 * 60 * 24 * 10); <span style="color:#007f7f">// 10天</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li><strong>设置路径（path）：</strong>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>cookie.<span style="color:#007f7f">setPath</span>(<span style="color:#0ff;font-weight:bold">&#34;/myapp&#34;</span>); <span style="color:#007f7f">// 表示该路径及其子路径下有效</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li><strong>添加到响应对象中：</strong>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>response.<span style="color:#007f7f">addCookie</span>(cookie);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<h3 id="42-获取-cookie">4.2 获取 Cookie<a hidden class="anchor" aria-hidden="true" href="#42-获取-cookie">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Cookie[] cookies = request.<span style="color:#007f7f">getCookies</span>();
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (cookies != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Cookie cookie : cookies) {
</span></span><span style="display:flex;"><span>        String name = cookie.<span style="color:#007f7f">getName</span>();
</span></span><span style="display:flex;"><span>        String value = cookie.<span style="color:#007f7f">getValue</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 处理业务逻辑</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="五cookie-的生命周期与作用范围">五、Cookie 的生命周期与作用范围<a hidden class="anchor" aria-hidden="true" href="#五cookie-的生命周期与作用范围">#</a></h2>
<h3 id="51-生命周期控制">5.1 生命周期控制<a hidden class="anchor" aria-hidden="true" href="#51-生命周期控制">#</a></h3>
<table>
<thead>
<tr>
<th>设置值</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>未设置 <code>setMaxAge()</code></td>
<td>默认存储在运行内存中，浏览器关闭即失效</td>
</tr>
<tr>
<td><code>setMaxAge(0)</code></td>
<td>删除同名 Cookie</td>
</tr>
<tr>
<td><code>setMaxAge(n &gt; 0)</code></td>
<td>持久化保存，n 秒后失效</td>
</tr>
<tr>
<td><code>setMaxAge(n &lt; 0)</code></td>
<td>同未设置，存储在运行内存中</td>
</tr>
</tbody>
</table>
<h3 id="52-cookie-的作用路径path">5.2 Cookie 的作用路径（Path）<a hidden class="anchor" aria-hidden="true" href="#52-cookie-的作用路径path">#</a></h3>
<ul>
<li><strong>默认路径：</strong>
<ul>
<li>与当前请求路径相同目录及其子路径有效。</li>
</ul>
</li>
<li><strong>自定义路径：</strong>
<ul>
<li>例如：<code>cookie.setPath(&quot;/project&quot;)</code> 表示 <code>/project</code> 及其子路径都可访问该 Cookie。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="六实战用-cookie-实现十天内免登录">六、实战：用 Cookie 实现“十天内免登录”<a hidden class="anchor" aria-hidden="true" href="#六实战用-cookie-实现十天内免登录">#</a></h2>
<h3 id="61-功能流程">6.1 功能流程<a hidden class="anchor" aria-hidden="true" href="#61-功能流程">#</a></h3>
<ol>
<li>用户访问登录页面，输入用户名、密码，并选择“十天内免登录”选项。</li>
<li>登录成功后，服务器判断是否勾选免登录：
<ul>
<li>若勾选，则创建包含用户名、密码的 Cookie，并设置有效期为 10 天。</li>
</ul>
</li>
<li>用户再次访问首页时，检查是否存在对应 Cookie：
<ul>
<li>若存在且合法，则跳转至登录后的页面；</li>
<li>否则，跳转至登录页。</li>
</ul>
</li>
</ol>
<h3 id="62-核心代码片段">6.2 核心代码片段<a hidden class="anchor" aria-hidden="true" href="#62-核心代码片段">#</a></h3>
<h4 id="登录处理逻辑servlet">登录处理逻辑（Servlet）<a hidden class="anchor" aria-hidden="true" href="#登录处理逻辑servlet">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String username = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>);
</span></span><span style="display:flex;"><span>String password = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> autoLogin = <span style="color:#0ff;font-weight:bold">&#34;on&#34;</span>.<span style="color:#007f7f">equals</span>(request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;remember&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 假设登录验证成功</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (<span style="color:#0ff;font-weight:bold">&#34;admin&#34;</span>.<span style="color:#007f7f">equals</span>(username) &amp;&amp; <span style="color:#0ff;font-weight:bold">&#34;123456&#34;</span>.<span style="color:#007f7f">equals</span>(password)) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (autoLogin) {
</span></span><span style="display:flex;"><span>        Cookie userCookie = <span style="color:#fff;font-weight:bold">new</span> Cookie(<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>, username);
</span></span><span style="display:flex;"><span>        Cookie pwdCookie = <span style="color:#fff;font-weight:bold">new</span> Cookie(<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>, password);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> expireTime = 60 * 60 * 24 * 10; <span style="color:#007f7f">// 10天</span>
</span></span><span style="display:flex;"><span>        userCookie.<span style="color:#007f7f">setMaxAge</span>(expireTime);
</span></span><span style="display:flex;"><span>        pwdCookie.<span style="color:#007f7f">setMaxAge</span>(expireTime);
</span></span><span style="display:flex;"><span>        userCookie.<span style="color:#007f7f">setPath</span>(<span style="color:#0ff;font-weight:bold">&#34;/&#34;</span>);
</span></span><span style="display:flex;"><span>        pwdCookie.<span style="color:#007f7f">setPath</span>(<span style="color:#0ff;font-weight:bold">&#34;/&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">addCookie</span>(userCookie);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">addCookie</span>(pwdCookie);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">sendRedirect</span>(<span style="color:#0ff;font-weight:bold">&#34;welcome.jsp&#34;</span>);
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">sendRedirect</span>(<span style="color:#0ff;font-weight:bold">&#34;login_failed.jsp&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="页面自动登录检测逻辑filter-或-jsp">页面自动登录检测逻辑（Filter 或 JSP）<a hidden class="anchor" aria-hidden="true" href="#页面自动登录检测逻辑filter-或-jsp">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Cookie[] cookies = request.<span style="color:#007f7f">getCookies</span>();
</span></span><span style="display:flex;"><span>String username = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>String password = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (cookies != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Cookie c : cookies) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>.<span style="color:#007f7f">equals</span>(c.<span style="color:#007f7f">getName</span>())) {
</span></span><span style="display:flex;"><span>            username = c.<span style="color:#007f7f">getValue</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#0ff;font-weight:bold">&#34;password&#34;</span>.<span style="color:#007f7f">equals</span>(c.<span style="color:#007f7f">getName</span>())) {
</span></span><span style="display:flex;"><span>            password = c.<span style="color:#007f7f">getValue</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (username != <span style="color:#fff;font-weight:bold">null</span> &amp;&amp; password != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 验证用户名密码合法性，合法则自动登录</span>
</span></span><span style="display:flex;"><span>    request.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>, username);
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">sendRedirect</span>(<span style="color:#0ff;font-weight:bold">&#34;home.jsp&#34;</span>);
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">sendRedirect</span>(<span style="color:#0ff;font-weight:bold">&#34;login.jsp&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="七总结与扩展思考">七、总结与扩展思考<a hidden class="anchor" aria-hidden="true" href="#七总结与扩展思考">#</a></h2>
<h3 id="71-总结">7.1 总结<a hidden class="anchor" aria-hidden="true" href="#71-总结">#</a></h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>Cookie</th>
<th>Session</th>
</tr>
</thead>
<tbody>
<tr>
<td>存储位置</td>
<td>客户端（浏览器）</td>
<td>服务端</td>
</tr>
<tr>
<td>安全性</td>
<td>相对较低（可能被篡改）</td>
<td>较高（服务器管理）</td>
</tr>
<tr>
<td>生命周期</td>
<td>可控（持久化或临时）</td>
<td>依赖 Cookie 或 URL 重写</td>
</tr>
<tr>
<td>用途</td>
<td>记录用户信息、偏好设置等</td>
<td>保存敏感会话数据</td>
</tr>
</tbody>
</table>
<h3 id="72-扩展建议">7.2 扩展建议<a hidden class="anchor" aria-hidden="true" href="#72-扩展建议">#</a></h3>
<ul>
<li><strong>安全性增强：</strong>
<ul>
<li>不应在 Cookie 中明文存储密码，应加密或使用 Token 替代。</li>
</ul>
</li>
<li><strong>现代替代方案：</strong>
<ul>
<li>使用 JWT（JSON Web Token）代替传统 Cookie + Session 机制。</li>
<li>使用 localStorage / sessionStorage 配合前端框架（如 Vue/React）实现本地状态管理。</li>
</ul>
</li>
<li><strong>移动端适配：</strong>
<ul>
<li>移动 App 中通常使用 SharedPreferences / Keychain / Secure Storage 替代 Cookie。</li>
</ul>
</li>
</ul>
<h1 id="-jspjavaserver-pages详解">✨ JSP（JavaServer Pages）详解<a hidden class="anchor" aria-hidden="true" href="#-jspjavaserver-pages详解">#</a></h1>
<h2 id="一初识-jsp">一、初识 JSP<a hidden class="anchor" aria-hidden="true" href="#一初识-jsp">#</a></h2>
<h3 id="1-第一个-jsp-程序">1. 第一个 JSP 程序<a hidden class="anchor" aria-hidden="true" href="#1-第一个-jsp-程序">#</a></h3>
<ul>
<li>在 Web 应用的 <code>WEB-INF</code> 目录之外创建一个 <code>index.jsp</code> 文件。</li>
<li>部署项目后启动服务器，在浏览器中访问：
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>http://localhost:8080/jsp/index.jsp
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>页面显示为空白，但底层执行的是：<code>index_jsp.class</code> 这个 Java 类。</li>
</ul>
<blockquote>
<p>🔍 <strong>原理说明：</strong></p>
<ul>
<li>Tomcat 会将 <code>index.jsp</code> <strong>翻译为</strong> <code>index_jsp.java</code></li>
<li>再将其 <strong>编译为</strong> <code>index_jsp.class</code></li>
<li>访问该页面时，实际上是调用了这个类的 <code>service()</code> 方法。</li>
</ul>
</blockquote>
<hr>
<h2 id="二jsp-的本质与生命周期">二、JSP 的本质与生命周期<a hidden class="anchor" aria-hidden="true" href="#二jsp-的本质与生命周期">#</a></h2>
<h3 id="1-jsp-是-servlet-吗">1. JSP 是 Servlet 吗？<a hidden class="anchor" aria-hidden="true" href="#1-jsp-是-servlet-吗">#</a></h3>
<ul>
<li>是的。<strong>JSP 本质上就是一个 Servlet！</strong></li>
<li>JSP 被翻译成 Java 类后，继承自 <code>HttpJspBase</code>，而 <code>HttpJspBase</code> 又继承自 <code>HttpServlet</code>。</li>
<li>所以，<code>index_jsp</code> 类是一个标准的 Servlet。</li>
</ul>
<h3 id="2-生命周期">2. 生命周期<a hidden class="anchor" aria-hidden="true" href="#2-生命周期">#</a></h3>
<ul>
<li>JSP 的生命周期与 Servlet 完全一致：
<ol>
<li><code>jspInit()</code></li>
<li><code>jspService()</code></li>
<li><code>jspDestroy()</code></li>
</ol>
</li>
</ul>
<h3 id="3-单例特性">3. 单例特性<a hidden class="anchor" aria-hidden="true" href="#3-单例特性">#</a></h3>
<ul>
<li>JSP 和 Servlet 一样，都是单例的（严格来说是“伪单例”），即每个请求共享同一个实例。</li>
<li>因此，不建议在 JSP 中使用成员变量或静态变量，避免线程安全问题。</li>
</ul>
<hr>
<h2 id="三jsp-的运行机制与性能优化">三、JSP 的运行机制与性能优化<a hidden class="anchor" aria-hidden="true" href="#三jsp-的运行机制与性能优化">#</a></h2>
<h3 id="1-为什么第一次访问-jsp-比较慢">1. 为什么第一次访问 JSP 比较慢？<a hidden class="anchor" aria-hidden="true" href="#1-为什么第一次访问-jsp-比较慢">#</a></h3>
<ul>
<li>第一次访问需要经历以下过程：
<ol>
<li>JSP 被翻译成 <code>.java</code> 文件</li>
<li>编译为 <code>.class</code> 字节码</li>
<li>创建 Servlet 实例</li>
<li>调用 <code>init()</code> 初始化</li>
<li>最后才调用 <code>service()</code> 方法处理请求</li>
</ol>
</li>
</ul>
<h3 id="2-为什么第二次访问就快了">2. 为什么第二次访问就快了？<a hidden class="anchor" aria-hidden="true" href="#2-为什么第二次访问就快了">#</a></h3>
<ul>
<li>因为已经生成 <code>.class</code> 文件并创建了 Servlet 实例。</li>
<li>后续请求直接复用该实例，仅调用 <code>service()</code> 方法即可。</li>
</ul>
<blockquote>
<p>🧩 <strong>运维建议：</strong></p>
<p>在正式演示前，提前访问所有 JSP 页面，完成预热，提升用户体验。</p>
</blockquote>
<hr>
<h2 id="四jsp-的基础语法">四、JSP 的基础语法<a hidden class="anchor" aria-hidden="true" href="#四jsp-的基础语法">#</a></h2>
<h3 id="1-jsp-是什么">1. JSP 是什么？<a hidden class="anchor" aria-hidden="true" href="#1-jsp-是什么">#</a></h3>
<ul>
<li>JSP 是一种 <strong>动态网页技术</strong>，基于 Java 实现。</li>
<li>全称：<strong>JavaServer Pages</strong></li>
<li>是 Java EE 规范的一部分。</li>
<li>所有 Web 容器（如 Tomcat）都内置 JSP 引擎，负责翻译和执行。</li>
</ul>
<h3 id="2-jsp-基础语法结构">2. JSP 基础语法结构<a hidden class="anchor" aria-hidden="true" href="#2-jsp-基础语法结构">#</a></h3>
<table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;% java代码 %&gt;</code></td>
<td>插入 Java 代码，翻译到 <code>service()</code> 方法内部</td>
</tr>
<tr>
<td><code>&lt;%= 表达式 %&gt;</code></td>
<td>输出表达式的值，翻译为 <code>out.print()</code></td>
</tr>
<tr>
<td><code>&lt;%! java代码 %&gt;</code></td>
<td>插入 Java 代码，翻译到 <code>service()</code> 方法外部（不推荐使用）</td>
</tr>
<tr>
<td><code>&lt;%-- 注释 --%&gt;</code></td>
<td>JSP 注释，不会出现在生成的 Java 代码中</td>
</tr>
<tr>
<td><code>&lt;!-- HTML 注释 --&gt;</code></td>
<td>HTML 注释，会被翻译进 Java 代码中</td>
</tr>
</tbody>
</table>
<h3 id="3-page-指令">3. page 指令<a hidden class="anchor" aria-hidden="true" href="#3-page-指令">#</a></h3>
<p>用于控制 JSP 的全局行为：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;%@ page contentType=&#34;text/html;charset=UTF-8&#34; %&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>常用属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contentType</code></td>
<td>设置响应内容类型及字符集</td>
</tr>
<tr>
<td><code>pageEncoding</code></td>
<td>设置当前 JSP 文件的编码格式</td>
</tr>
<tr>
<td><code>import</code></td>
<td>导包</td>
</tr>
<tr>
<td><code>session</code></td>
<td>是否启用 session 对象，默认为 true</td>
</tr>
<tr>
<td><code>errorPage</code></td>
<td>指定错误页面</td>
</tr>
<tr>
<td><code>isErrorPage</code></td>
<td>当前页面是否作为错误页面使用</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="五jsp-与-servlet-的区别与协作">五、JSP 与 Servlet 的区别与协作<a hidden class="anchor" aria-hidden="true" href="#五jsp-与-servlet-的区别与协作">#</a></h2>
<table>
<thead>
<tr>
<th>功能</th>
<th>Servlet</th>
<th>JSP</th>
</tr>
</thead>
<tbody>
<tr>
<td>主要职责</td>
<td>数据收集、业务逻辑处理</td>
<td>数据展示、页面渲染</td>
</tr>
<tr>
<td>优点</td>
<td>控制能力强、适合处理复杂逻辑</td>
<td>易于编写 HTML、适合前端展示</td>
</tr>
<tr>
<td>缺点</td>
<td>不适合写大量 HTML</td>
<td>不适合处理复杂业务逻辑</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ <strong>最佳实践：</strong></p>
<ul>
<li>使用 <strong>Servlet 处理业务逻辑、连接数据库、获取数据</strong></li>
<li>使用 <strong>JSP 展示数据、渲染页面</strong></li>
<li>两者配合，发挥各自优势，提高开发效率和系统可维护性。</li>
</ul>
</blockquote>
<hr>
<h2 id="六jsp-的作用域对象">六、JSP 的作用域对象<a hidden class="anchor" aria-hidden="true" href="#六jsp-的作用域对象">#</a></h2>
<p>JSP 支持四种作用域对象，按作用范围从小到大排列如下：</p>
<table>
<thead>
<tr>
<th>作用域</th>
<th>类型</th>
<th>生命周期</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pageContext</code></td>
<td><code>PageContext</code></td>
<td>页面内有效</td>
</tr>
<tr>
<td><code>request</code></td>
<td><code>HttpServletRequest</code></td>
<td>请求范围内有效</td>
</tr>
<tr>
<td><code>session</code></td>
<td><code>HttpSession</code></td>
<td>用户会话期间有效</td>
</tr>
<tr>
<td><code>application</code></td>
<td><code>ServletContext</code></td>
<td>整个应用生命周期内有效</td>
</tr>
</tbody>
</table>
<blockquote>
<p>📌 <strong>使用原则：</strong></p>
<ul>
<li>尽量使用最小的作用域，减少资源占用。</li>
<li>避免滥用 session 或 application 存储大量数据。</li>
</ul>
</blockquote>
<hr>
<h2 id="七jsp-的九大内置对象">七、JSP 的九大内置对象<a hidden class="anchor" aria-hidden="true" href="#七jsp-的九大内置对象">#</a></h2>
<table>
<thead>
<tr>
<th>对象名</th>
<th>类型</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pageContext</code></td>
<td><code>PageContext</code></td>
<td>页面上下文，管理其他作用域</td>
</tr>
<tr>
<td><code>request</code></td>
<td><code>HttpServletRequest</code></td>
<td>获取请求信息</td>
</tr>
<tr>
<td><code>response</code></td>
<td><code>HttpServletResponse</code></td>
<td>设置响应内容</td>
</tr>
<tr>
<td><code>session</code></td>
<td><code>HttpSession</code></td>
<td>管理会话状态</td>
</tr>
<tr>
<td><code>application</code></td>
<td><code>ServletContext</code></td>
<td>应用上下文</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>ServletConfig</code></td>
<td>获取配置信息</td>
</tr>
<tr>
<td><code>exception</code></td>
<td><code>Throwable</code></td>
<td>错误信息处理（需设置 <code>isErrorPage=true</code>）</td>
</tr>
<tr>
<td><code>page</code></td>
<td><code>Object</code></td>
<td>当前 JSP 对应的 Servlet 实例</td>
</tr>
<tr>
<td><code>out</code></td>
<td><code>JspWriter</code></td>
<td>向浏览器输出内容</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="八常见问题与技巧">八、常见问题与技巧<a hidden class="anchor" aria-hidden="true" href="#八常见问题与技巧">#</a></h2>
<h3 id="1-如何调试-jsp">1. 如何调试 JSP？<a hidden class="anchor" aria-hidden="true" href="#1-如何调试-jsp">#</a></h3>
<ul>
<li>查看对应的 <code>.java</code> 文件（位于 <code>work/Catalina/...</code> 目录下）</li>
<li>分析翻译后的 Java 代码，有助于理解执行流程和排查错误</li>
</ul>
<h3 id="2-jsp-文件扩展名可以修改吗">2. JSP 文件扩展名可以修改吗？<a hidden class="anchor" aria-hidden="true" href="#2-jsp-文件扩展名可以修改吗">#</a></h3>
<ul>
<li>可以通过修改 <code>web.xml</code> 文件中的 <code>&lt;servlet-mapping&gt;</code> 来更改默认扩展名：</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;servlet-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;servlet-name&gt;</span>jsp<span style="font-weight:bold">&lt;/servlet-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>*.jsp<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>*.jspx<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/servlet-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ 注意：修改后需重启服务器生效。</p>
</blockquote>
<h3 id="3-jsp-可以单独开发-web-应用吗">3. JSP 可以单独开发 Web 应用吗？<a hidden class="anchor" aria-hidden="true" href="#3-jsp-可以单独开发-web-应用吗">#</a></h3>
<ul>
<li>可以，因为 JSP 本质就是 Servlet，可以在 <code>&lt;% %&gt;</code> 中写 JDBC、业务逻辑等。</li>
<li>但不推荐，会导致代码混乱、难以维护。</li>
</ul>
<hr>
<h2 id="九实战案例登录功能实现">九、实战案例：登录功能实现<a hidden class="anchor" aria-hidden="true" href="#九实战案例登录功能实现">#</a></h2>
<h3 id="1-需求背景">1. 需求背景<a hidden class="anchor" aria-hidden="true" href="#1-需求背景">#</a></h3>
<ul>
<li>系统需要登录验证，防止未授权用户访问敏感操作。</li>
</ul>
<h3 id="2-实现步骤">2. 实现步骤<a hidden class="anchor" aria-hidden="true" href="#2-实现步骤">#</a></h3>
<ol>
<li>
<p><strong>创建用户表 <code>t_user</code></strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">CREATE</span> <span style="color:#fff;font-weight:bold">TABLE</span> t_user (
</span></span><span style="display:flex;"><span>    id <span style="color:#fff;font-weight:bold">INT</span> <span style="color:#fff;font-weight:bold">PRIMARY</span> <span style="color:#fff;font-weight:bold">KEY</span> AUTO_INCREMENT,
</span></span><span style="display:flex;"><span>    username <span style="color:#fff;font-weight:bold">VARCHAR</span>(<span style="color:#ff0;font-weight:bold">50</span>),
</span></span><span style="display:flex;"><span>    password <span style="color:#fff;font-weight:bold">VARCHAR</span>(<span style="color:#ff0;font-weight:bold">50</span>)
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>创建登录页面 <code>login.jsp</code></strong></p>
</li>
<li>
<p><strong>创建登录处理 Servlet</strong></p>
<ul>
<li>成功跳转至部门列表页</li>
<li>失败跳转至失败提示页</li>
</ul>
</li>
<li>
<p><strong>添加拦截机制（后续章节重点）</strong></p>
</li>
</ol>
<hr>
<h2 id="十jsp-指令详解">十、JSP 指令详解<a hidden class="anchor" aria-hidden="true" href="#十jsp-指令详解">#</a></h2>
<h3 id="1-指令的作用">1. 指令的作用<a hidden class="anchor" aria-hidden="true" href="#1-指令的作用">#</a></h3>
<p>指导 JSP 引擎如何翻译当前文件。</p>
<h3 id="2-常见指令">2. 常见指令<a hidden class="anchor" aria-hidden="true" href="#2-常见指令">#</a></h3>
<table>
<thead>
<tr>
<th>指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;%@ include file=&quot;xxx.jsp&quot; %&gt;</code></td>
<td>静态包含另一个 JSP 文件</td>
</tr>
<tr>
<td><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code></td>
<td>引入标签库（如 JSTL）</td>
</tr>
<tr>
<td><code>&lt;%@ page ... %&gt;</code></td>
<td>页面相关配置（最常用）</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="十一jsp-开发建议">十一、JSP 开发建议<a hidden class="anchor" aria-hidden="true" href="#十一jsp-开发建议">#</a></h2>
<table>
<thead>
<tr>
<th>建议</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>尽量少写 Java 代码</strong></td>
<td>JSP 更适合做视图层，逻辑应由 Servlet 或后端服务处理</td>
</tr>
<tr>
<td><strong>统一编码格式</strong></td>
<td>使用 <code>pageEncoding</code> 和 <code>contentType</code> 统一设置编码，避免乱码</td>
</tr>
<tr>
<td><strong>合理使用作用域</strong></td>
<td>根据需求选择合适的存储空间，避免内存浪费</td>
</tr>
<tr>
<td><strong>分清职责边界</strong></td>
<td>JSP 负责展示，Servlet 负责处理，保持代码整洁</td>
</tr>
<tr>
<td><strong>调试时查看翻译后的 Java 文件</strong></td>
<td>有助于理解执行流程，排查问题</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="十二拓展知识javabean">十二、拓展知识：JavaBean<a hidden class="anchor" aria-hidden="true" href="#十二拓展知识javabean">#</a></h2>
<h3 id="什么是-javabean">什么是 JavaBean？<a hidden class="anchor" aria-hidden="true" href="#什么是-javabean">#</a></h3>
<ul>
<li>符合一定规范的 Java 类，常用于封装数据。</li>
<li>特征包括：
<ul>
<li>提供无参构造方法</li>
<li>属性私有化</li>
<li>提供公开的 getter/setter 方法</li>
<li>实现 <code>Serializable</code> 接口</li>
<li>可重写 <code>toString()</code>、<code>hashCode()</code>、<code>equals()</code> 方法</li>
</ul>
</li>
</ul>
<blockquote>
<p>📦 JavaBean 是实体类的标准形式，广泛应用于 MVC 架构的数据传递。</p>
</blockquote>
<hr>
<h2 id="总结-5">总结<a hidden class="anchor" aria-hidden="true" href="#总结-5">#</a></h2>
<p>JSP 是 Java Web 开发中非常重要的组成部分，虽然现在被 Thymeleaf、Freemarker 等模板引擎部分替代，但在传统项目中仍广泛应用。掌握其工作原理、语法结构、与 Servlet 的协同关系，是构建高质量 Web 应用的基础。</p>
<h1 id="el-表达式详解">EL 表达式详解<a hidden class="anchor" aria-hidden="true" href="#el-表达式详解">#</a></h1>
<h2 id="一什么是-el-表达式">一、什么是 EL 表达式？<a hidden class="anchor" aria-hidden="true" href="#一什么是-el-表达式">#</a></h2>
<ul>
<li><strong>全称</strong>：Expression Language（表达式语言）</li>
<li><strong>作用</strong>：
<ul>
<li>替代 JSP 中的 Java 脚本代码（如 <code>&lt;% %&gt;</code>、<code>&lt;%= %&gt;</code>），使页面更加整洁、易于维护。</li>
<li>是 JSP 技术的一部分，主要用于简化从作用域中获取数据并输出到浏览器的过程。</li>
</ul>
</li>
<li><strong>出现背景</strong>：
<ul>
<li>在早期 JSP 页面中夹杂大量 Java 代码，导致页面混乱，难以阅读与维护。</li>
<li>为了解决这个问题，引入了 EL 表达式。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="二el-表达式的核心功能">二、EL 表达式的核心功能<a hidden class="anchor" aria-hidden="true" href="#二el-表达式的核心功能">#</a></h2>
<p>EL 表达式主要有三大核心功能：</p>
<ol>
<li>
<p><strong>从某个作用域中取数据</strong></p>
<ul>
<li>支持四个作用域（范围从小到大）：
<ul>
<li><code>pageContext</code>（当前页面）</li>
<li><code>request</code>（一次请求）</li>
<li><code>session</code>（一次会话）</li>
<li><code>application</code>（整个应用）</li>
</ul>
</li>
<li>取值时，优先从最小的作用域中查找。</li>
</ul>
</li>
<li>
<p><strong>将取出的数据转换为字符串</strong></p>
<ul>
<li>如果是对象，自动调用其 <code>toString()</code> 方法进行转换。</li>
</ul>
</li>
<li>
<p><strong>将字符串输出到浏览器</strong></p>
<ul>
<li>等同于 <code>&lt;%= %&gt;</code> 的效果。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="三基本语法格式">三、基本语法格式<a hidden class="anchor" aria-hidden="true" href="#三基本语法格式">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${表达式}
</span></span></code></pre></td></tr></table>
</div>
</div><p>示例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${userObj} 
</span></span></code></pre></td></tr></table>
</div>
</div><p>等价于：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;%= request.getAttribute(&#34;userObj&#34;) %&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="四使用场景与实例解析">四、使用场景与实例解析<a hidden class="anchor" aria-hidden="true" href="#四使用场景与实例解析">#</a></h2>
<h3 id="41-数据存入作用域">4.1 数据存入作用域<a hidden class="anchor" aria-hidden="true" href="#41-数据存入作用域">#</a></h3>
<p>在 JSP 中，必须先将数据放入某个作用域中，EL 才能访问：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;%
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;jackson&#34;);
</span></span><span style="display:flex;"><span>    user.setPassword(&#34;1234&#34;);
</span></span><span style="display:flex;"><span>    user.setAge(50);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    request.setAttribute(&#34;userObj&#34;, user); // 存入 request 作用域
</span></span><span style="display:flex;"><span>%&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="42-使用-el-获取数据">4.2 使用 EL 获取数据<a hidden class="anchor" aria-hidden="true" href="#42-使用-el-获取数据">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${userObj} &lt;!-- 输出对象 toString() 的结果 --&gt;
</span></span><span style="display:flex;"><span>${userObj.username} &lt;!-- 输出 username 属性，前提是 User 类有 getUsername() 方法 --&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>⚠️ 注意：如果没有对应的 <code>getXxx()</code> 方法，会抛出异常（500 错误）。</p>
</blockquote>
<h3 id="43-面试题解析">4.3 面试题解析<a hidden class="anchor" aria-hidden="true" href="#43-面试题解析">#</a></h3>
<h4 id="abc-vs-abc"><code>${abc}</code> vs <code>${&quot;abc&quot;}</code><a hidden class="anchor" aria-hidden="true" href="#abc-vs-abc">#</a></h4>
<table>
<thead>
<tr>
<th>表达式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>${abc}</code></td>
<td>从作用域中取出名为 <code>&quot;abc&quot;</code> 的属性值</td>
</tr>
<tr>
<td><code>${&quot;abc&quot;}</code></td>
<td>直接输出字符串 <code>&quot;abc&quot;</code>，不从作用域中取值</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="五el-表达式的隐式对象">五、EL 表达式的隐式对象<a hidden class="anchor" aria-hidden="true" href="#五el-表达式的隐式对象">#</a></h2>
<p>EL 提供了一些常用的内置对象，方便开发者直接访问上下文信息：</p>
<table>
<thead>
<tr>
<th>对象名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pageContext</code></td>
<td>当前页面上下文对象</td>
</tr>
<tr>
<td><code>param</code></td>
<td>获取请求参数（单个值）</td>
</tr>
<tr>
<td><code>paramValues</code></td>
<td>获取请求参数（数组形式）</td>
</tr>
<tr>
<td><code>initParam</code></td>
<td>获取 web.xml 中的初始化参数</td>
</tr>
<tr>
<td><code>pageScope</code></td>
<td>访问 page 作用域中的数据</td>
</tr>
<tr>
<td><code>requestScope</code></td>
<td>访问 request 作用域中的数据</td>
</tr>
<tr>
<td><code>sessionScope</code></td>
<td>访问 session 作用域中的数据</td>
</tr>
<tr>
<td><code>applicationScope</code></td>
<td>访问 application 作用域中的数据</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="六el-表达式对特殊字符的支持">六、EL 表达式对特殊字符的支持<a hidden class="anchor" aria-hidden="true" href="#六el-表达式对特殊字符的支持">#</a></h2>
<p>如果 key 名中包含特殊字符（如 <code>.</code>），建议使用 <code>[ ]</code> 操作符：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>request.<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;abc.def&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;zhangsan&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>错误写法：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${requestScope.abc.def} &lt;!-- 无法正确解析 --&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>正确写法：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${requestScope[&#34;abc.def&#34;]}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="七el-表达式操作集合与数组">七、EL 表达式操作集合与数组<a hidden class="anchor" aria-hidden="true" href="#七el-表达式操作集合与数组">#</a></h2>
<h3 id="71-map-集合">7.1 Map 集合<a hidden class="anchor" aria-hidden="true" href="#71-map-集合">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${map.keyName}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="72-数组--list-集合">7.2 数组 / List 集合<a hidden class="anchor" aria-hidden="true" href="#72-数组--list-集合">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${array[0]}
</span></span><span style="display:flex;"><span>${list[1]}
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="八控制-el-表达式是否启用">八、控制 EL 表达式是否启用<a hidden class="anchor" aria-hidden="true" href="#八控制-el-表达式是否启用">#</a></h2>
<p>可以通过 JSP 的 <code>page</code> 指令全局控制 EL 表达式是否启用：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;%@ page isELIgnored=&#34;true&#34; %&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>isELIgnored=&quot;true&quot;</code>：忽略所有 EL 表达式</li>
<li><code>isELIgnored=&quot;false&quot;</code>：启用 EL 表达式（默认）</li>
</ul>
<p>也可以通过 <code>\</code> 符号局部禁用 EL：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>\${username} &lt;!-- 不会被解析为 EL 表达式 --&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="九常用-el-表达式技巧">九、常用 EL 表达式技巧<a hidden class="anchor" aria-hidden="true" href="#九常用-el-表达式技巧">#</a></h2>
<h3 id="91-获取项目根路径">9.1 获取项目根路径<a hidden class="anchor" aria-hidden="true" href="#91-获取项目根路径">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${pageContext.request.contextPath}
</span></span></code></pre></td></tr></table>
</div>
</div><p>等价于：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>request.<span style="color:#007f7f">getContextPath</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="92-运算符支持">9.2 运算符支持<a hidden class="anchor" aria-hidden="true" href="#92-运算符支持">#</a></h3>
<table>
<thead>
<tr>
<th>类型</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>算术运算</td>
<td>+, -, *, /, %</td>
</tr>
<tr>
<td>关系运算</td>
<td>== (eq), !=, &gt;, &gt;=, &lt;, &lt;=</td>
</tr>
<tr>
<td>逻辑运算</td>
<td>not, and, or</td>
</tr>
<tr>
<td>条件运算</td>
<td>${a ? b : c}</td>
</tr>
<tr>
<td>判空运算</td>
<td>empty / not empty</td>
</tr>
</tbody>
</table>
<p>示例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>${empty param.username} &lt;!-- 判断是否为空 --&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="十el-表达式的优势与适用场景">十、EL 表达式的优势与适用场景<a hidden class="anchor" aria-hidden="true" href="#十el-表达式的优势与适用场景">#</a></h2>
<table>
<thead>
<tr>
<th>优势</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>简洁易读</td>
<td>替代复杂 Java 脚本，提升可读性</td>
</tr>
<tr>
<td>自动类型转换</td>
<td>自动调用 <code>toString()</code> 方法</td>
</tr>
<tr>
<td>支持嵌套对象访问</td>
<td>如 <code>${user.address.zipCode}</code></td>
</tr>
<tr>
<td>安全处理 null</td>
<td>null 被转换为空字符串，避免报错</td>
</tr>
<tr>
<td>支持多种集合类型</td>
<td>Map、List、Array 等</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ 推荐使用场景：JSP 页面中展示数据时，替代 <code>&lt;%= %&gt;</code> 和 <code>&lt;% %&gt;</code>，保持页面干净整洁。</p>
</blockquote>
<hr>
<h2 id="十一总结">十一、总结<a hidden class="anchor" aria-hidden="true" href="#十一总结">#</a></h2>
<p>EL 表达式是 JSP 开发中非常重要的工具，能够显著提高页面的可读性和可维护性。掌握其基本语法、作用域机制、隐式对象及常见操作，有助于构建更优雅的 Web 应用程序。</p>
<hr>
<p>如果你正在开发传统的 JSP 项目，强烈建议多使用 EL 表达式，减少 Java 脚本的使用。同时，也可以配合 JSTL 标签库一起使用，实现更强大的页面逻辑控制。</p>
<p>如需进一步学习，推荐搭配 <a href="https://docs.oracle.com/javaee/5/jstl/">JSTL 核心标签库</a> 一起使用，提升开发效率。</p>
<h1 id="jstl-标签库java-standard-tag-library">JSTL 标签库（Java Standard Tag Library）<a hidden class="anchor" aria-hidden="true" href="#jstl-标签库java-standard-tag-library">#</a></h1>
<p>JSTL 是 Java Web 开发中用于简化 JSP 页面逻辑处理的标准标签库。它与 EL 表达式配合使用，旨在<strong>减少或替代 JSP 中的 Java 脚本代码</strong>，提升代码可读性和维护性。</p>
<hr>
<h2 id="一什么是-jstl-标签库">一、什么是 JSTL 标签库？<a hidden class="anchor" aria-hidden="true" href="#一什么是-jstl-标签库">#</a></h2>
<ul>
<li><strong>全称：</strong> Java Standard Tag Lib</li>
<li><strong>作用：</strong>
<ul>
<li>替代 JSP 中 <code>&lt;% %&gt;</code> 的 Java 代码。</li>
<li>提供结构化、语义化的标签语法。</li>
<li>支持条件判断、循环、变量赋值等常见逻辑控制。</li>
</ul>
</li>
<li><strong>实现原理：</strong>
<ul>
<li>JSTL 标签在 JSP 中被解析为对应的 Java 类（封装在 jar 包中）。</li>
<li>实际上，每个标签背后都对应一个实现了特定功能的 Java 类。</li>
</ul>
</li>
</ul>
<blockquote>
<p>💡 <strong>小贴士：</strong><br>
虽然 JSTL 可以简化页面逻辑，但复杂的业务逻辑仍建议放在后端控制器中处理，保持视图层简洁。</p>
</blockquote>
<hr>
<h2 id="二使用-jstl-标签库的步骤">二、使用 JSTL 标签库的步骤<a hidden class="anchor" aria-hidden="true" href="#二使用-jstl-标签库的步骤">#</a></h2>
<h3 id="1-引入-jstl-相关依赖包">1. 引入 JSTL 相关依赖包<a hidden class="anchor" aria-hidden="true" href="#1-引入-jstl-相关依赖包">#</a></h3>
<ul>
<li>
<p><strong>Tomcat 10+ 所需的 jar 包：</strong></p>
<ul>
<li><code>jakarta.servlet.jsp.jstl-api-2.0.0.jar</code>（接口）</li>
<li><code>jakarta.servlet.jsp.jstl-2.0.0.jar</code>（具体实现类）</li>
</ul>
</li>
<li>
<p><strong>IDEA 配置方法：</strong></p>
<ul>
<li>将上述两个 jar 文件复制到项目的 <code>/WEB-INF/lib/</code> 目录下。</li>
<li>右键 → <code>Add as Library...</code> 添加为项目库。</li>
<li>确保部署时这些 jar 包会被打包进 WAR 文件。</li>
</ul>
</li>
</ul>
<blockquote>
<p>⚠️ 注意：所有需要随项目部署的 jar 包都应放入 <code>/WEB-INF/lib</code> 目录中，这样 Tomcat 在运行时才能正确加载它们。</p>
</blockquote>
<hr>
<h3 id="2-在-jsp-页面中引入标签库">2. 在 JSP 页面中引入标签库<a hidden class="anchor" aria-hidden="true" href="#2-在-jsp-页面中引入标签库">#</a></h3>
<p>使用 <code>&lt;%@ taglib %&gt;</code> 指令引入 JSTL 标签库，例如核心标签库：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;%@ taglib prefix=&#34;c&#34; uri=&#34;http://java.sun.com/jsp/jstl/core&#34; %&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>prefix=&quot;c&quot;</code>：给标签库起个别名，通常用 <code>c</code> 表示 core。</li>
<li><code>uri</code>：指定标签库的唯一标识符，指向对应的 <code>.tld</code> 配置文件。</li>
</ul>
<hr>
<h3 id="3-使用-jstl-标签">3. 使用 JSTL 标签<a hidden class="anchor" aria-hidden="true" href="#3-使用-jstl-标签">#</a></h3>
<p>在 JSP 页面中使用类似如下语法调用标签：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;c:if test=&#34;${user.age &gt; 18}&#34;&gt;
</span></span><span style="display:flex;"><span>    成年用户
</span></span><span style="display:flex;"><span>&lt;/c:if&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>表面上是标签，实际上底层会调用相应的 Java 类来执行逻辑。</p>
<hr>
<h2 id="三jstl-标签的工作原理">三、JSTL 标签的工作原理<a hidden class="anchor" aria-hidden="true" href="#三jstl-标签的工作原理">#</a></h2>
<h3 id="1-tld-文件的作用">1. TLD 文件的作用<a hidden class="anchor" aria-hidden="true" href="#1-tld-文件的作用">#</a></h3>
<ul>
<li>
<p>TLD（Tag Library Descriptor）是一个 XML 文件，描述了标签库的元信息。</p>
</li>
<li>
<p>它定义了：</p>
<ul>
<li>标签名称</li>
<li>对应的 Java 类</li>
<li>标签体内容类型</li>
<li>属性及其特性（是否必需、是否支持 EL）</li>
</ul>
</li>
<li>
<p><strong>位置：</strong></p>
<ul>
<li>在 <code>jakarta.servlet.jsp.jstl-2.0.0.jar</code> 的 <code>META-INF/c.tld</code> 文件中。</li>
</ul>
</li>
</ul>
<h3 id="2-示例-tld-片段解析">2. 示例 TLD 片段解析<a hidden class="anchor" aria-hidden="true" href="#2-示例-tld-片段解析">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;tag&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;name&gt;</span>catch<span style="font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;tag-class&gt;</span>org.apache.taglibs.standard.tag.common.core.CatchTag<span style="font-weight:bold">&lt;/tag-class&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;body-content&gt;</span>JSP<span style="font-weight:bold">&lt;/body-content&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;attribute&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;name&gt;</span>var<span style="font-weight:bold">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;required&gt;</span>false<span style="font-weight:bold">&lt;/required&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;rtexprvalue&gt;</span>false<span style="font-weight:bold">&lt;/rtexprvalue&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/attribute&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/tag&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>tag-class</code>：标签对应的 Java 类。</li>
<li><code>body-content</code>：标签体内允许的内容类型。</li>
<li><code>attribute</code>：定义标签属性行为。</li>
</ul>
<hr>
<h2 id="四jstl-核心标签库常用标签详解">四、JSTL 核心标签库常用标签详解<a hidden class="anchor" aria-hidden="true" href="#四jstl-核心标签库常用标签详解">#</a></h2>
<p>以下是 JSTL Core 标签库中最常用的几个标签及其用法说明：</p>
<h3 id="1-cif">1. <code>&lt;c:if&gt;</code><a hidden class="anchor" aria-hidden="true" href="#1-cif">#</a></h3>
<p>用于条件判断，相当于 Java 中的 <code>if</code>。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;c:if test=&#34;${user.age &gt;= 18}&#34;&gt;
</span></span><span style="display:flex;"><span>    已成年
</span></span><span style="display:flex;"><span>&lt;/c:if&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>test</code> 属性接受布尔表达式，支持 EL 表达式。</li>
</ul>
<hr>
<h3 id="2-cforeach">2. <code>&lt;c:forEach&gt;</code><a hidden class="anchor" aria-hidden="true" href="#2-cforeach">#</a></h3>
<p>用于遍历集合或进行计数循环。</p>
<h4 id="遍历集合">遍历集合：<a hidden class="anchor" aria-hidden="true" href="#遍历集合">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>&lt;c:forEach items=<span style="color:#0ff;font-weight:bold">&#34;${users}&#34;</span> <span style="color:#fff;font-weight:bold">var</span>=<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    ${user.name}
</span></span><span style="display:flex;"><span>&lt;/c:forEach&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>items</code>：要遍历的数据源（如 List、Map）。</li>
<li><code>var</code>：每次迭代的元素变量名。</li>
<li><code>varStatus</code>（可选）：提供索引、计数等状态信息。</li>
</ul>
<h4 id="计数循环">计数循环：<a hidden class="anchor" aria-hidden="true" href="#计数循环">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>&lt;c:forEach <span style="color:#fff;font-weight:bold">var</span>=<span style="color:#0ff;font-weight:bold">&#34;i&#34;</span> begin=<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span> end=<span style="color:#0ff;font-weight:bold">&#34;10&#34;</span> step=<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    ${i}
</span></span><span style="display:flex;"><span>&lt;/c:forEach&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>begin</code>、<code>end</code>、<code>step</code> 控制循环范围和步长。</li>
</ul>
<hr>
<h3 id="3-cchoose-cwhen-cotherwise">3. <code>&lt;c:choose&gt;</code>, <code>&lt;c:when&gt;</code>, <code>&lt;c:otherwise&gt;</code><a hidden class="anchor" aria-hidden="true" href="#3-cchoose-cwhen-cotherwise">#</a></h3>
<p>组合使用实现多条件分支判断，类似于 Java 的 <code>switch-case</code> 或多个 <code>if-else</code>。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;c:choose&gt;
</span></span><span style="display:flex;"><span>    &lt;c:when test=&#34;${param.age &lt; 18}&#34;&gt;
</span></span><span style="display:flex;"><span>        青少年
</span></span><span style="display:flex;"><span>    &lt;/c:when&gt;
</span></span><span style="display:flex;"><span>    &lt;c:when test=&#34;${param.age &lt; 35}&#34;&gt;
</span></span><span style="display:flex;"><span>        青年
</span></span><span style="display:flex;"><span>    &lt;/c:when&gt;
</span></span><span style="display:flex;"><span>    &lt;c:when test=&#34;${param.age &lt; 55}&#34;&gt;
</span></span><span style="display:flex;"><span>        中年
</span></span><span style="display:flex;"><span>    &lt;/c:when&gt;
</span></span><span style="display:flex;"><span>    &lt;c:otherwise&gt;
</span></span><span style="display:flex;"><span>        老年
</span></span><span style="display:flex;"><span>    &lt;/c:otherwise&gt;
</span></span><span style="display:flex;"><span>&lt;/c:choose&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>&lt;c:choose&gt;</code> 是外层容器。</li>
<li><code>&lt;c:when&gt;</code> 是条件分支。</li>
<li><code>&lt;c:otherwise&gt;</code> 是默认情况（可选）。</li>
</ul>
<hr>
<h2 id="五补充建议与最佳实践">五、补充建议与最佳实践<a hidden class="anchor" aria-hidden="true" href="#五补充建议与最佳实践">#</a></h2>
<ol>
<li>
<p><strong>避免过度使用 JSTL：</strong></p>
<ul>
<li>JSTL 不适合处理复杂业务逻辑，建议将数据处理放在 Controller 层，JSP 只负责展示。</li>
</ul>
</li>
<li>
<p><strong>EL 表达式搭配使用：</strong></p>
<ul>
<li>JSTL 和 EL 表达式是“黄金搭档”，能有效减少脚本嵌套，提高可读性。</li>
</ul>
</li>
<li>
<p><strong>版本兼容性注意：</strong></p>
<ul>
<li>JSTL 1.x 适用于 Servlet 2.x / JSP 2.x。</li>
<li>JSTL 2.x 适用于 Servlet 3.x / JSP 2.3，推荐用于现代项目。</li>
</ul>
</li>
<li>
<p><strong>推荐使用 Spring MVC + Thymeleaf：</strong></p>
<ul>
<li>如果你正在开发新项目，考虑使用 Spring Boot + Thymeleaf 模板引擎，其功能更强大且更现代化。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="六总结-1">六、总结<a hidden class="anchor" aria-hidden="true" href="#六总结-1">#</a></h2>
<table>
<thead>
<tr>
<th>内容</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>目标</strong></td>
<td>替代 JSP 中的 Java 脚本代码，提升可读性</td>
</tr>
<tr>
<td><strong>核心组件</strong></td>
<td>JSTL Core 标签库（<code>c:if</code>, <code>c:forEach</code>, <code>c:choose</code> 等）</td>
</tr>
<tr>
<td><strong>关键配置</strong></td>
<td>引入 JAR 包、在 JSP 中使用 <code>&lt;%@ taglib %&gt;</code> 声明</td>
</tr>
<tr>
<td><strong>底层机制</strong></td>
<td>TLD 描述标签与 Java 类之间的映射关系</td>
</tr>
<tr>
<td><strong>最佳实践</strong></td>
<td>仅用于视图逻辑，避免复杂运算；推荐结合 EL 使用</td>
</tr>
</tbody>
</table>
<h2 id="改造oa">改造OA<a hidden class="anchor" aria-hidden="true" href="#改造oa">#</a></h2>
<ul>
<li>
<p>使用什么技术改造呢？</p>
<ul>
<li>Servlet + JSP + EL表达式 + JSTL标签。进行改造。</li>
</ul>
</li>
<li>
<p>在前端HTML代码中，有一个标签，叫做base标签，这个标签可以设置整个网页的基础路径。</p>
<ul>
<li>
<p>这是Java的语法，也不是JSP的语法。是HTML中的一个语法。HTML中的一个标签。通常出现在head标签中。</p>
</li>
<li>
<p>&lt; base href=&ldquo;http://localhost:8080/oa/&quot;&gt;</p>
</li>
<li>
<p>在当前页面中，凡是路径没有以“/”开始的，都会自动将base中的路径添加到这些路径之前。</p>
<ul>
<li>&lt; a href=&ldquo;ab/def&rdquo;&gt;&lt;/ a&gt;</li>
<li>等同于：&lt; a href=&ldquo;http://localhost:8080/oa/ab/def&rdquo;&gt;&lt;/ a&gt;</li>
</ul>
</li>
<li>
<p>需要注意：在JS代码中的路径，保险起见，最好不要依赖base标签。JS代码中的路径最好写上全路径。</p>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;base href=&#34;${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/&#34;&gt;
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<h1 id="filter-过滤器详解">Filter 过滤器详解<a hidden class="anchor" aria-hidden="true" href="#filter-过滤器详解">#</a></h1>
<h2 id="一问题背景oa项目中重复代码的问题">一、问题背景：OA项目中重复代码的问题<a hidden class="anchor" aria-hidden="true" href="#一问题背景oa项目中重复代码的问题">#</a></h2>
<p>在 OA 项目开发中，我们通常会遇到多个 Servlet（如 <code>DeptServlet</code>、<code>EmpServlet</code>、<code>OrderServlet</code>）都需要执行一些<strong>公共操作</strong>的情况。例如：</p>
<ul>
<li><strong>用户登录验证</strong>：每个 Servlet 执行前都要判断用户是否已登录。</li>
<li><strong>中文乱码处理</strong>：每次请求都需要设置编码格式。</li>
</ul>
<p>这些问题导致了大量<strong>重复代码</strong>，降低了代码复用性和可维护性。</p>
<h3 id="解决方案">解决方案：<a hidden class="anchor" aria-hidden="true" href="#解决方案">#</a></h3>
<p>使用 <strong>Servlet 规范中的 Filter（过滤器）机制</strong> 来集中处理这些公共逻辑。</p>
<hr>
<h2 id="二filter-是什么有什么作用">二、Filter 是什么？有什么作用？<a hidden class="anchor" aria-hidden="true" href="#二filter-是什么有什么作用">#</a></h2>
<h3 id="1-定义-1">1. 定义<a hidden class="anchor" aria-hidden="true" href="#1-定义-1">#</a></h3>
<p>Filter（过滤器）是 Servlet 规范的一部分，用于在请求到达目标 Servlet 前或响应返回客户端前进行预处理或后处理。</p>
<h3 id="2-主要用途">2. 主要用途<a hidden class="anchor" aria-hidden="true" href="#2-主要用途">#</a></h3>
<ul>
<li>统一处理请求（如权限校验、日志记录）</li>
<li>统一处理响应（如压缩输出、添加响应头）</li>
<li>避免代码冗余，提高模块化和可维护性</li>
</ul>
<h3 id="3-执行原理">3. 执行原理<a hidden class="anchor" aria-hidden="true" href="#3-执行原理">#</a></h3>
<p>Filter 的执行流程如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>客户端请求 → Filter1 → Filter2 → ... → 目标Servlet → FilterN → FilterN-1 → ... → 客户端响应
</span></span></code></pre></td></tr></table>
</div>
</div><p>Filter 可以在请求处理的<strong>前后</strong>插入逻辑，类似于 AOP（面向切面编程）的思想。</p>
<hr>
<h2 id="三如何编写一个-filter">三、如何编写一个 Filter？<a hidden class="anchor" aria-hidden="true" href="#三如何编写一个-filter">#</a></h2>
<h3 id="步骤一创建-filter-类">步骤一：创建 Filter 类<a hidden class="anchor" aria-hidden="true" href="#步骤一创建-filter-类">#</a></h3>
<p>实现 <code>javax.servlet.Filter</code> 接口，并重写三个核心方法：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MyFilter <span style="color:#fff;font-weight:bold">implements</span> Filter {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> init(FilterConfig filterConfig) <span style="color:#fff;font-weight:bold">throws</span> ServletException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 初始化时调用一次，用于加载资源</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throws</span> IOException, ServletException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 每次请求都会执行，用于添加过滤逻辑</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 示例：设置字符编码</span>
</span></span><span style="display:flex;"><span>        request.<span style="color:#007f7f">setCharacterEncoding</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;text/html;charset=UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 放行请求，继续执行下一个 Filter 或目标 Servlet</span>
</span></span><span style="display:flex;"><span>        chain.<span style="color:#007f7f">doFilter</span>(request, response);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> destroy() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 销毁 Filter 前调用一次，用于释放资源</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="步骤二配置-filter">步骤二：配置 Filter<a hidden class="anchor" aria-hidden="true" href="#步骤二配置-filter">#</a></h3>
<h4 id="方式一webxml-配置">方式一：web.xml 配置<a hidden class="anchor" aria-hidden="true" href="#方式一webxml-配置">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;filter&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;filter-name&gt;</span>myFilter<span style="font-weight:bold">&lt;/filter-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;filter-class&gt;</span>com.example.filter.MyFilter<span style="font-weight:bold">&lt;/filter-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/filter&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;filter-mapping&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;filter-name&gt;</span>myFilter<span style="font-weight:bold">&lt;/filter-name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;url-pattern&gt;</span>*.do<span style="font-weight:bold">&lt;/url-pattern&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/filter-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="方式二注解方式推荐">方式二：注解方式（推荐）<a hidden class="anchor" aria-hidden="true" href="#方式二注解方式推荐">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@WebFilter(<span style="color:#0ff;font-weight:bold">&#34;*.do&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MyFilter <span style="color:#fff;font-weight:bold">implements</span> Filter { ... }
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="四filter-的生命周期">四、Filter 的生命周期<a hidden class="anchor" aria-hidden="true" href="#四filter-的生命周期">#</a></h2>
<p>Filter 生命周期与 Servlet 类似，但有以下区别：</p>
<table>
<thead>
<tr>
<th>对象类型</th>
<th>默认实例化时间</th>
<th>是否单例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Filter</td>
<td>服务器启动时自动实例化</td>
<td>✅ 是</td>
</tr>
<tr>
<td>Servlet</td>
<td>第一次请求时才实例化</td>
<td>✅ 是</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="五filter-的匹配规则">五、Filter 的匹配规则<a hidden class="anchor" aria-hidden="true" href="#五filter-的匹配规则">#</a></h2>
<p>Filter 的 URL 匹配方式非常灵活，常见有以下几种：</p>
<table>
<thead>
<tr>
<th>匹配方式</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>精确匹配</td>
<td><code>/login.do</code></td>
<td>仅匹配指定路径</td>
</tr>
<tr>
<td>后缀匹配</td>
<td><code>*.do</code></td>
<td>匹配所有以 <code>.do</code> 结尾的请求</td>
</tr>
<tr>
<td>路径前缀匹配</td>
<td><code>/dept/*</code></td>
<td>匹配 <code>/dept/add</code>、<code>/dept/edit</code> 等</td>
</tr>
<tr>
<td>通配符匹配</td>
<td><code>/*</code></td>
<td>匹配所有请求</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="六filter-的执行顺序">六、Filter 的执行顺序<a hidden class="anchor" aria-hidden="true" href="#六filter-的执行顺序">#</a></h2>
<p>Filter 的执行顺序取决于配置方式：</p>
<h3 id="1-webxml-中的顺序">1. web.xml 中的顺序<a hidden class="anchor" aria-hidden="true" href="#1-webxml-中的顺序">#</a></h3>
<p>Filter 的执行顺序<strong>与 <code>&lt;filter-mapping&gt;</code> 标签的书写顺序有关</strong>，越靠上优先级越高。</p>
<p>示例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;filter-mapping&gt;&lt;filter-name&gt;</span>A<span style="font-weight:bold">&lt;/filter-name&gt;&lt;/filter-mapping&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;filter-mapping&gt;&lt;filter-name&gt;</span>B<span style="font-weight:bold">&lt;/filter-name&gt;&lt;/filter-mapping&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>执行顺序为：A → B → Servlet → B → A</p>
<h3 id="2-使用-webfilter-注解">2. 使用 @WebFilter 注解<a hidden class="anchor" aria-hidden="true" href="#2-使用-webfilter-注解">#</a></h3>
<p>Filter 的执行顺序默认按照<strong>类名排序</strong>决定：</p>
<ul>
<li><code>FilterA</code> 会比 <code>FilterB</code> 更早执行。</li>
<li><code>Filter1</code> 会比 <code>Filter2</code> 更早执行。</li>
</ul>
<hr>
<h2 id="七责任链设计模式chain-of-responsibility-pattern">七、责任链设计模式（Chain of Responsibility Pattern）<a hidden class="anchor" aria-hidden="true" href="#七责任链设计模式chain-of-responsibility-pattern">#</a></h2>
<p>Filter 的最大优势在于其支持 <strong>责任链设计模式</strong>，即：</p>
<ul>
<li>在运行阶段动态组合 Filter 的执行顺序。</li>
<li>不依赖编译时的硬编码，而是通过配置文件控制流程。</li>
</ul>
<h3 id="核心思想">核心思想：<a hidden class="anchor" aria-hidden="true" href="#核心思想">#</a></h3>
<p>将多个对象连接成一条链，请求在这条链上传递，直到有一个对象处理它为止。</p>
<h3 id="应用场景">应用场景：<a hidden class="anchor" aria-hidden="true" href="#应用场景">#</a></h3>
<ul>
<li>登录验证 → 日志记录 → 编码处理</li>
<li>多层权限拦截</li>
<li>请求缓存控制</li>
</ul>
<hr>
<h2 id="八filter-和-servlet-的关系">八、Filter 和 Servlet 的关系<a hidden class="anchor" aria-hidden="true" href="#八filter-和-servlet-的关系">#</a></h2>
<table>
<thead>
<tr>
<th>特点</th>
<th>Filter</th>
<th>Servlet</th>
</tr>
</thead>
<tbody>
<tr>
<td>是否自动初始化</td>
<td>✅ 是</td>
<td>❌ 否（首次请求时初始化）</td>
</tr>
<tr>
<td>是否单例</td>
<td>✅ 是</td>
<td>✅ 是</td>
</tr>
<tr>
<td>是否处理请求</td>
<td>✅ 是（前置/后置）</td>
<td>✅ 是（处理业务逻辑）</td>
</tr>
<tr>
<td>是否决定执行下一级</td>
<td>✅ 是（通过 <code>chain.doFilter()</code>）</td>
<td>❌ 否</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="九实战应用使用-filter-改造-oa-项目">九、实战应用：使用 Filter 改造 OA 项目<a hidden class="anchor" aria-hidden="true" href="#九实战应用使用-filter-改造-oa-项目">#</a></h2>
<h3 id="场景需求">场景需求：<a hidden class="anchor" aria-hidden="true" href="#场景需求">#</a></h3>
<ul>
<li>所有以 <code>.do</code> 结尾的请求都必须先登录。</li>
<li>所有请求都需统一设置编码。</li>
</ul>
<h3 id="实现步骤-3">实现步骤：<a hidden class="anchor" aria-hidden="true" href="#实现步骤-3">#</a></h3>
<h4 id="1-创建登录验证-filter">1. 创建登录验证 Filter<a hidden class="anchor" aria-hidden="true" href="#1-创建登录验证-filter">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@WebFilter(<span style="color:#0ff;font-weight:bold">&#34;*.do&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> LoginFilter <span style="color:#fff;font-weight:bold">implements</span> Filter {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throws</span> IOException, ServletException {
</span></span><span style="display:flex;"><span>        HttpServletRequest req = (HttpServletRequest) request;
</span></span><span style="display:flex;"><span>        HttpServletResponse res = (HttpServletResponse) response;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        HttpSession session = req.<span style="color:#007f7f">getSession</span>();
</span></span><span style="display:flex;"><span>        Object user = session.<span style="color:#007f7f">getAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (user == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            res.<span style="color:#007f7f">sendRedirect</span>(req.<span style="color:#007f7f">getContextPath</span>() + <span style="color:#0ff;font-weight:bold">&#34;/login.jsp&#34;</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            chain.<span style="color:#007f7f">doFilter</span>(request, response);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="2-创建编码处理-filter">2. 创建编码处理 Filter<a hidden class="anchor" aria-hidden="true" href="#2-创建编码处理-filter">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@WebFilter(<span style="color:#0ff;font-weight:bold">&#34;*.do&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> EncodingFilter <span style="color:#fff;font-weight:bold">implements</span> Filter {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throws</span> IOException, ServletException {
</span></span><span style="display:flex;"><span>        request.<span style="color:#007f7f">setCharacterEncoding</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;text/html;charset=UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>        chain.<span style="color:#007f7f">doFilter</span>(request, response);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="3-效果">3. 效果<a hidden class="anchor" aria-hidden="true" href="#3-效果">#</a></h4>
<ul>
<li>用户未登录时，会被跳转到登录页面。</li>
<li>所有请求无需手动设置编码，避免中文乱码。</li>
</ul>
<hr>
<h2 id="十总结与建议">十、总结与建议<a hidden class="anchor" aria-hidden="true" href="#十总结与建议">#</a></h2>
<h3 id="优点总结">优点总结：<a hidden class="anchor" aria-hidden="true" href="#优点总结">#</a></h3>
<ul>
<li>减少重复代码，提高代码复用率</li>
<li>提升系统的可维护性和扩展性</li>
<li>支持责任链设计模式，灵活控制执行流程</li>
</ul>
<h3 id="使用建议-2">使用建议：<a hidden class="anchor" aria-hidden="true" href="#使用建议-2">#</a></h3>
<ul>
<li>将公共逻辑提取到 Filter 中（如登录验证、编码设置、日志记录等）</li>
<li>合理配置 Filter 的匹配路径，避免影响非目标资源（如静态资源）</li>
<li>注意 Filter 的执行顺序，合理安排逻辑顺序</li>
</ul>
<h1 id="listener-监听器监听器机制">Listener 监听器（监听器机制）<a hidden class="anchor" aria-hidden="true" href="#listener-监听器监听器机制">#</a></h1>
<h2 id="一什么是监听器">一、什么是监听器？<a hidden class="anchor" aria-hidden="true" href="#一什么是监听器">#</a></h2>
<p>监听器是 <strong>Servlet 规范</strong> 中提供的一种回调机制，用于在特定事件发生时自动执行预定义的代码逻辑。</p>
<ul>
<li>类似于 <strong>Filter 过滤器</strong>，都是 Servlet 规范的一部分。</li>
<li>所有监听器接口名称都以 <code>Listener</code> 结尾，例如 <code>ServletContextListener</code>、<code>HttpSessionListener</code> 等。</li>
</ul>
<hr>
<h2 id="二监听器的作用">二、监听器的作用<a hidden class="anchor" aria-hidden="true" href="#二监听器的作用">#</a></h2>
<p>监听器允许我们在 <strong>Web 应用生命周期中的关键节点</strong> 或 <strong>域对象状态变化时</strong> 插入自定义逻辑。</p>
<ul>
<li>举例：
<ul>
<li>应用启动或关闭时初始化资源或释放资源；</li>
<li>用户登录/退出时更新在线人数；</li>
<li>Session 创建或销毁时记录日志等。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="三servlet-规范中常见的监听器分类">三、Servlet 规范中常见的监听器分类<a hidden class="anchor" aria-hidden="true" href="#三servlet-规范中常见的监听器分类">#</a></h2>
<h3 id="1-jakartaservlet-包下的通用监听器">1. <code>jakarta.servlet</code> 包下的通用监听器<a hidden class="anchor" aria-hidden="true" href="#1-jakartaservlet-包下的通用监听器">#</a></h3>
<table>
<thead>
<tr>
<th>监听器名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ServletContextListener</code></td>
<td>监听整个 Web 应用的上下文（<code>ServletContext</code>）的创建与销毁</td>
</tr>
<tr>
<td><code>ServletContextAttributeListener</code></td>
<td>监听 <code>ServletContext</code> 域中属性的添加、替换、移除</td>
</tr>
<tr>
<td><code>ServletRequestListener</code></td>
<td>监听每次请求的创建与销毁</td>
</tr>
<tr>
<td><code>ServletRequestAttributeListener</code></td>
<td>监听 <code>ServletRequest</code> 域中属性的变化</td>
</tr>
</tbody>
</table>
<h3 id="2-jakartaservlethttp-包下的-http-专用监听器">2. <code>jakarta.servlet.http</code> 包下的 HTTP 专用监听器<a hidden class="anchor" aria-hidden="true" href="#2-jakartaservlethttp-包下的-http-专用监听器">#</a></h3>
<table>
<thead>
<tr>
<th>监听器名称</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HttpSessionListener</code></td>
<td>监听 <code>HttpSession</code> 的创建与销毁</td>
</tr>
<tr>
<td><code>HttpSessionAttributeListener</code></td>
<td>监听 <code>HttpSession</code> 域中属性的添加、替换、移除</td>
</tr>
<tr>
<td><code>HttpSessionBindingListener</code></td>
<td>对象绑定或解绑到 session 时触发（无需配置）</td>
</tr>
<tr>
<td><code>HttpSessionIdListener</code></td>
<td>session ID 改变时触发</td>
</tr>
<tr>
<td><code>HttpSessionActivationListener</code></td>
<td>监听 session 的钝化（序列化到磁盘）与活化（从磁盘恢复）</td>
</tr>
</tbody>
</table>
<blockquote>
<p>✅ <strong>小贴士：</strong></p>
<ul>
<li><code>HttpSessionBindingListener</code> 是唯一一个不需要使用 <code>@WebListener</code> 注解或在 <code>web.xml</code> 中注册的监听器。</li>
<li>只要某个类实现了该接口，当它被加入或移出 session 时，会自动触发相应方法。</li>
</ul>
</blockquote>
<hr>
<h2 id="四实现监听器的基本步骤以-servletcontextlistener-为例">四、实现监听器的基本步骤（以 <code>ServletContextListener</code> 为例）<a hidden class="anchor" aria-hidden="true" href="#四实现监听器的基本步骤以-servletcontextlistener-为例">#</a></h2>
<h3 id="步骤一编写监听器类">步骤一：编写监听器类<a hidden class="anchor" aria-hidden="true" href="#步骤一编写监听器类">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@WebListener <span style="color:#007f7f">// 使用注解方式注册监听器</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MyServletContextListener <span style="color:#fff;font-weight:bold">implements</span> ServletContextListener {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> contextInitialized(ServletContextEvent sce) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;应用启动，执行初始化操作...&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 可以在这里加载数据库连接池、读取配置文件等</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> contextDestroyed(ServletContextEvent sce) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;应用关闭，执行清理工作...&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 可以在这里关闭数据库连接池等</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="步骤二注册监听器两种方式">步骤二：注册监听器（两种方式）<a hidden class="anchor" aria-hidden="true" href="#步骤二注册监听器两种方式">#</a></h3>
<h4 id="方式一使用-weblistener-注解推荐">方式一：使用 <code>@WebListener</code> 注解（推荐）<a hidden class="anchor" aria-hidden="true" href="#方式一使用-weblistener-注解推荐">#</a></h4>
<p>只需在类上加上 <code>@WebListener</code> 即可自动注册。</p>
<h4 id="方式二在-webxml-中手动配置">方式二：在 <code>web.xml</code> 中手动配置<a hidden class="anchor" aria-hidden="true" href="#方式二在-webxml-中手动配置">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;listener&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;listener-class&gt;</span>com.example.MyServletContextListener<span style="font-weight:bold">&lt;/listener-class&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/listener&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="五监听器方法的调用时机">五、监听器方法的调用时机<a hidden class="anchor" aria-hidden="true" href="#五监听器方法的调用时机">#</a></h2>
<p>所有监听器中的方法都不是由程序员主动调用的，而是由 <strong>Web 容器（如 Tomcat）根据事件自动触发的</strong>。</p>
<ul>
<li>例如：
<ul>
<li>当 Web 应用启动时，自动调用 <code>contextInitialized()</code>；</li>
<li>当用户访问页面时，自动调用 <code>requestInitialized()</code>；</li>
<li>当 session 被创建或销毁时，自动调用 <code>sessionCreated()</code> 或 <code>sessionDestroyed()</code>。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="六典型业务场景分析">六、典型业务场景分析<a hidden class="anchor" aria-hidden="true" href="#六典型业务场景分析">#</a></h2>
<h3 id="场景一统计当前网站的在线用户数">场景一：统计当前网站的在线用户数<a hidden class="anchor" aria-hidden="true" href="#场景一统计当前网站的在线用户数">#</a></h3>
<h4 id="思路">思路：<a hidden class="anchor" aria-hidden="true" href="#思路">#</a></h4>
<ul>
<li>每当一个新的 <code>HttpSession</code> 被创建时，表示有一个新用户访问；</li>
<li>每当一个 <code>HttpSession</code> 被销毁时，表示用户离开；</li>
<li>利用 <code>HttpSessionListener</code> 实现计数器逻辑。</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@WebListener
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> OnlineUserCounter <span style="color:#fff;font-weight:bold">implements</span> HttpSessionListener {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> onlineCount = 0;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> sessionCreated(HttpSessionEvent se) {
</span></span><span style="display:flex;"><span>        onlineCount++;
</span></span><span style="display:flex;"><span>        se.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;onlineUsers&#34;</span>, onlineCount);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> sessionDestroyed(HttpSessionEvent se) {
</span></span><span style="display:flex;"><span>        onlineCount--;
</span></span><span style="display:flex;"><span>        se.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;onlineUsers&#34;</span>, onlineCount);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>📌 注意：此方案统计的是所有会话，包括未登录用户。</p>
</blockquote>
<hr>
<h3 id="场景二仅统计已登录用户的在线数量">场景二：仅统计已登录用户的在线数量<a hidden class="anchor" aria-hidden="true" href="#场景二仅统计已登录用户的在线数量">#</a></h3>
<h4 id="问题背景">问题背景：<a hidden class="anchor" aria-hidden="true" href="#问题背景">#</a></h4>
<ul>
<li>需要区分“访客”和“登录用户”；</li>
<li>登录标志通常是将用户信息存入 session，如 <code>session.setAttribute(&quot;user&quot;, userObj)</code>；</li>
<li>用户登出则是 <code>session.removeAttribute(&quot;user&quot;)</code> 或 session 超时。</li>
</ul>
<h4 id="解决方案-1">解决方案：<a hidden class="anchor" aria-hidden="true" href="#解决方案-1">#</a></h4>
<p>使用 <code>HttpSessionBindingListener</code> 接口，让 User 类实现该接口：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> User <span style="color:#fff;font-weight:bold">implements</span> HttpSessionBindingListener {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String username;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> User(String username) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">username</span> = username;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> valueBound(HttpSessionBindingEvent event) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 用户登录时触发</span>
</span></span><span style="display:flex;"><span>        Integer count = (Integer) event.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">getAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;loginUsers&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (count == <span style="color:#fff;font-weight:bold">null</span>) count = 0;
</span></span><span style="display:flex;"><span>        count++;
</span></span><span style="display:flex;"><span>        event.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;loginUsers&#34;</span>, count);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> valueUnbound(HttpSessionBindingEvent event) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 用户退出时触发</span>
</span></span><span style="display:flex;"><span>        Integer count = (Integer) event.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">getAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;loginUsers&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (count == <span style="color:#fff;font-weight:bold">null</span> || count &lt;= 0) count = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">else</span> count--;
</span></span><span style="display:flex;"><span>        event.<span style="color:#007f7f">getSession</span>().<span style="color:#007f7f">getServletContext</span>().<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;loginUsers&#34;</span>, count);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>✅ 优势：</p>
<ul>
<li>更加精确地统计“登录用户”的在线情况；</li>
<li>不依赖 session 的创建/销毁，只关注用户是否真正登录。</li>
</ul>
</blockquote>
<hr>
<h2 id="七实际项目案例oa-系统中统计登录用户数">七、实际项目案例：OA 系统中统计登录用户数<a hidden class="anchor" aria-hidden="true" href="#七实际项目案例oa-系统中统计登录用户数">#</a></h2>
<h3 id="1-登录标识判断">1. 登录标识判断<a hidden class="anchor" aria-hidden="true" href="#1-登录标识判断">#</a></h3>
<ul>
<li>
<p>用户登录成功后，通常会执行如下代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>session.<span style="color:#007f7f">setAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>, user); <span style="color:#007f7f">// 表示用户已登录</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>因此可以利用 <code>HttpSessionBindingListener</code> 来监听 <code>user</code> 对象的绑定和解绑。</p>
</li>
</ul>
<h3 id="2-用户退出标识">2. 用户退出标识<a hidden class="anchor" aria-hidden="true" href="#2-用户退出标识">#</a></h3>
<ul>
<li>
<p>用户登出时执行：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>session.<span style="color:#007f7f">removeAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;user&#34;</span>); <span style="color:#007f7f">// 用户主动登出</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>或者 session 超时自动销毁，也会触发 <code>valueUnbound()</code> 方法。</p>
</li>
</ul>
<hr>
<h2 id="八总结">八、总结<a hidden class="anchor" aria-hidden="true" href="#八总结">#</a></h2>
<table>
<thead>
<tr>
<th>功能</th>
<th>使用的监听器</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用启动/关闭</td>
<td><code>ServletContextListener</code></td>
</tr>
<tr>
<td>请求开始/结束</td>
<td><code>ServletRequestListener</code></td>
</tr>
<tr>
<td>Session 创建/销毁</td>
<td><code>HttpSessionListener</code></td>
</tr>
<tr>
<td>Session 属性变化</td>
<td><code>HttpSessionAttributeListener</code></td>
</tr>
<tr>
<td>用户登录/退出（精准）</td>
<td><code>HttpSessionBindingListener</code></td>
</tr>
<tr>
<td>Session ID 变化</td>
<td><code>HttpSessionIdListener</code></td>
</tr>
<tr>
<td>Session 钝化/活化</td>
<td><code>HttpSessionActivationListener</code></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="九最佳实践建议">九、最佳实践建议<a hidden class="anchor" aria-hidden="true" href="#九最佳实践建议">#</a></h2>
<ol>
<li><strong>合理选择监听器类型</strong>：根据需求选择最合适的监听器，避免过度监听。</li>
<li><strong>注意线程安全问题</strong>：多个用户并发访问时，共享变量（如在线人数）需考虑同步控制。</li>
<li><strong>不要在监听器中执行耗时操作</strong>：如数据库查询、网络请求等，会影响系统性能。</li>
<li><strong>使用注解简化配置</strong>：优先使用 <code>@WebListener</code> 注解而非 XML 配置。</li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/java%E5%9F%BA%E7%A1%80/">Java基础</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
