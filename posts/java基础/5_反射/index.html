<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;Â»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      5_åå°„
    </h1>
    <div class="post-meta"><span title='2022-08-05 16:21:35 +0000 UTC'>2022-08-05</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%8f%8d%e5%b0%84" aria-label="åå°„">åå°„</a></li>
                <li>
                    <a href="#class%e7%b1%bb" aria-label="Classç±»">Classç±»</a><ul>
                        
                <li>
                    <a href="#%e5%8a%a8%e6%80%81%e5%8a%a0%e8%bd%bd" aria-label="åŠ¨æ€åŠ è½½">åŠ¨æ€åŠ è½½</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%ae%bf%e9%97%ae%e5%ad%97%e6%ae%b5" aria-label="è®¿é—®å­—æ®µ">è®¿é—®å­—æ®µ</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%ad%97%e6%ae%b5%e5%80%bc" aria-label="è·å–å­—æ®µå€¼">è·å–å­—æ®µå€¼</a></li>
                <li>
                    <a href="#%e8%ae%be%e7%bd%ae%e5%ad%97%e6%ae%b5%e5%80%bc" aria-label="è®¾ç½®å­—æ®µå€¼">è®¾ç½®å­—æ®µå€¼</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e6%96%b9%e6%b3%95" aria-label="è°ƒç”¨æ–¹æ³•">è°ƒç”¨æ–¹æ³•</a><ul>
                        
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e6%96%b9%e6%b3%95-1" aria-label="è°ƒç”¨æ–¹æ³•">è°ƒç”¨æ–¹æ³•</a></li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95" aria-label="è°ƒç”¨é™æ€æ–¹æ³•">è°ƒç”¨é™æ€æ–¹æ³•</a></li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e9%9d%9epublic%e6%96%b9%e6%b3%95" aria-label="è°ƒç”¨épublicæ–¹æ³•">è°ƒç”¨épublicæ–¹æ³•</a></li>
                <li>
                    <a href="#%e5%a4%9a%e6%80%81" aria-label="å¤šæ€">å¤šæ€</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%b0%83%e7%94%a8%e6%9e%84%e9%80%a0%e6%96%b9%e6%b3%95" aria-label="è°ƒç”¨æ„é€ æ–¹æ³•">è°ƒç”¨æ„é€ æ–¹æ³•</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e7%bb%a7%e6%89%bf%e5%85%b3%e7%b3%bb" aria-label="è·å–ç»§æ‰¿å…³ç³»">è·å–ç»§æ‰¿å…³ç³»</a><ul>
                        
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e7%88%b6%e7%b1%bb%e7%9a%84class" aria-label="è·å–çˆ¶ç±»çš„Class">è·å–çˆ¶ç±»çš„Class</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96interface" aria-label="è·å–interface">è·å–interface</a></li>
                <li>
                    <a href="#%e7%bb%a7%e6%89%bf%e5%85%b3%e7%b3%bb" aria-label="ç»§æ‰¿å…³ç³»">ç»§æ‰¿å…³ç³»</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8a%a8%e6%80%81%e4%bb%a3%e7%90%86" aria-label="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†</a></li>
                <li>
                    <a href="#class-%e8%af%a6%e7%bb%86%e8%af%b4%e6%98%8e" aria-label="Class è¯¦ç»†è¯´æ˜">Class è¯¦ç»†è¯´æ˜</a><ul>
                        
                <li>
                    <a href="#reflect%e6%a6%82%e8%bf%b0" aria-label="Reflectæ¦‚è¿°">Reflectæ¦‚è¿°</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96class%e5%af%b9%e8%b1%a1%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="è·å–Classå¯¹è±¡çš„æ–¹æ³•">è·å–Classå¯¹è±¡çš„æ–¹æ³•</a></li>
                <li>
                    <a href="#class%e7%9a%84api%e8%af%b4%e6%98%8e" aria-label="Classçš„APIè¯´æ˜">Classçš„APIè¯´æ˜</a><ul>
                        
                <li>
                    <a href="#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" aria-label="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°</a></li>
                <li>
                    <a href="#%e6%88%90%e5%91%98%e6%96%b9%e6%b3%95" aria-label="æˆå‘˜æ–¹æ³•">æˆå‘˜æ–¹æ³•</a></li>
                <li>
                    <a href="#%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f" aria-label="æˆå‘˜å˜é‡">æˆå‘˜å˜é‡</a></li>
                <li>
                    <a href="#%e7%b1%bb%e7%9a%84%e5%85%b6%e4%bb%96%e4%bf%a1%e6%81%af" aria-label="ç±»çš„å…¶ä»–ä¿¡æ¯">ç±»çš„å…¶ä»–ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e7%88%b6%e7%b1%bb%e5%92%8c%e6%8e%a5%e5%8f%a3%e7%9b%b8%e5%85%b3%e7%9a%84api" aria-label="çˆ¶ç±»å’Œæ¥å£ç›¸å…³çš„API">çˆ¶ç±»å’Œæ¥å£ç›¸å…³çš„API</a></li>
                <li>
                    <a href="#%e5%89%a9%e4%bd%99%e7%9a%84api" aria-label="å‰©ä½™çš„API">å‰©ä½™çš„API</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e5%86%85%e7%9c%81" aria-label="å†…çœ">å†…çœ</a><ul>
                        
                <li>
                    <a href="#%e5%86%85%e7%9c%81%e5%92%8c%e5%8f%8d%e5%b0%84%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="å†…çœå’Œåå°„çš„åŒºåˆ«">å†…çœå’Œåå°„çš„åŒºåˆ«</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%b0%8f%e8%ae%ae-java-%e5%86%85%e7%9c%81%e6%9c%ba%e5%88%b6" aria-label="å°è®® Java å†…çœæœºåˆ¶">å°è®® Java å†…çœæœºåˆ¶</a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a><ul>
                        
                <li>
                    <a href="#%e4%b8%8e%e5%8f%8d%e5%b0%84%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="ä¸åå°„çš„åŒºåˆ«">ä¸åå°„çš„åŒºåˆ«</a></li></ul>
                </li>
                <li>
                    <a href="#java-beans-%e5%86%85%e7%9c%81%e6%9c%ba%e5%88%b6" aria-label="Java Beans å†…çœæœºåˆ¶">Java Beans å†…çœæœºåˆ¶</a><ul>
                        
                <li>
                    <a href="#%e6%a0%b8%e5%bf%83%e7%b1%bb%e5%ba%93" aria-label="æ ¸å¿ƒç±»åº“">æ ¸å¿ƒç±»åº“</a></li>
                <li>
                    <a href="#%e5%b1%9e%e6%80%a7%e5%a4%84%e7%90%86" aria-label="å±æ€§å¤„ç†">å±æ€§å¤„ç†</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e7%bb%91%e5%ae%9a" aria-label="é…ç½®ç»‘å®š">é…ç½®ç»‘å®š</a><ul>
                        
                <li>
                    <a href="#%e5%9c%a8-spring-%e4%b8%ad%e7%9a%84%e4%bd%bf%e7%94%a8" aria-label="åœ¨ Spring ä¸­çš„ä½¿ç”¨">åœ¨ Spring ä¸­çš„ä½¿ç”¨</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%ba%8b%e4%bb%b6%e7%9b%91%e5%90%ac" aria-label="äº‹ä»¶ç›‘å¬">äº‹ä»¶ç›‘å¬</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96" aria-label="å…¶ä»–">å…¶ä»–</a></li>
                <li>
                    <a href="#references" aria-label="References">References</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96-1" aria-label="å…¶ä»–">å…¶ä»–</a><ul>
                        
                <li>
                    <a href="#%e5%8f%8d%e5%b0%84%e7%ae%80%e5%8d%95%e8%a7%a3%e9%87%8a" aria-label="åå°„ï¼ˆç®€å•è§£é‡Šï¼‰">åå°„ï¼ˆç®€å•è§£é‡Šï¼‰</a><ul>
                        
                <li>
                    <a href="#%e6%a6%82%e5%bf%b5" aria-label="æ¦‚å¿µ">æ¦‚å¿µ</a></li>
                <li>
                    <a href="#%e5%8f%8d%e5%b0%84%e6%9c%ba%e5%88%b6%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="åå°„æœºåˆ¶çš„ä½œç”¨ï¼š">åå°„æœºåˆ¶çš„ä½œç”¨ï¼š</a></li>
                <li>
                    <a href="#java%e4%b8%ba%e6%88%91%e4%bb%ac%e6%8f%90%e4%be%9b%e7%9a%84%e5%8f%8d%e5%b0%84%e6%9c%ba%e5%88%b6%e4%b8%ad%e7%9a%84%e7%b1%bb" aria-label="javaä¸ºæˆ‘ä»¬æä¾›çš„åå°„æœºåˆ¶ä¸­çš„ç±»">javaä¸ºæˆ‘ä»¬æä¾›çš„åå°„æœºåˆ¶ä¸­çš„ç±»</a></li>
                <li>
                    <a href="#%e5%85%b7%e4%bd%93%e5%8a%9f%e8%83%bd%e5%ae%9e%e7%8e%b0" aria-label="å…·ä½“åŠŸèƒ½å®ç°">å…·ä½“åŠŸèƒ½å®ç°</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%8d%e5%b0%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6" aria-label="åå°„æ€§èƒ½ç ”ç©¶">åå°„æ€§èƒ½ç ”ç©¶</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="åå°„">åå°„<a hidden class="anchor" aria-hidden="true" href="#åå°„">#</a></h1>
<p>ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ
åå°„å°±æ˜¯<code>Reflection</code>ï¼ŒJavaçš„åå°„æ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡ŒæœŸå¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¦è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œæˆ–è€…è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å­—æ®µï¼Œé€šå¸¸ä¼šä¼ å…¥å¯¹è±¡å®ä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// Main.java</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.itranswarp.learnjava.Person;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    String getFullName(Person p) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> p.<span style="color:#007f7f">getFirstName</span>() + p.<span style="color:#007f7f">getLastName</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯ï¼Œå¦‚æœä¸èƒ½è·å¾—Personç±»ï¼Œåªæœ‰ä¸€ä¸ªObjectå®ä¾‹ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String getFullName(Object obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> ???
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ€ä¹ˆåŠï¼Ÿæœ‰ç«¥é‹ä¼šè¯´ï¼šå¼ºåˆ¶è½¬å‹å•Šï¼</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String getFullName(Object obj) {
</span></span><span style="display:flex;"><span>    Person p = (Person) obj;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> p.<span style="color:#007f7f">getFirstName</span>() + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + p.<span style="color:#007f7f">getLastName</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¼ºåˆ¶è½¬å‹çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼šç¼–è¯‘ä¸Šé¢çš„ä»£ç ï¼Œä»ç„¶éœ€è¦å¼•ç”¨Personç±»ã€‚ä¸ç„¶ï¼Œå»æ‰importè¯­å¥ï¼Œä½ çœ‹èƒ½ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼Ÿ
æ‰€ä»¥ï¼Œåå°„æ˜¯ä¸ºäº†è§£å†³åœ¨è¿è¡ŒæœŸï¼Œå¯¹æŸä¸ªå®ä¾‹ä¸€æ— æ‰€çŸ¥çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•è°ƒç”¨å…¶æ–¹æ³•ã€‚</p>
<h1 id="classç±»">Classç±»<a hidden class="anchor" aria-hidden="true" href="#classç±»">#</a></h1>
<p>é™¤äº†<code>int</code>ç­‰åŸºæœ¬ç±»å‹å¤–ï¼ŒJavaçš„å…¶ä»–ç±»å‹å…¨éƒ¨éƒ½æ˜¯<code>class</code>ï¼ˆåŒ…æ‹¬<code>interface</code>ï¼‰ã€‚ä¾‹å¦‚ï¼š
String
Object
Runnable
Exception</p>
<p>ä»”ç»†æ€è€ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šclassï¼ˆåŒ…æ‹¬interfaceï¼‰çš„æœ¬è´¨æ˜¯æ•°æ®ç±»å‹ï¼ˆTypeï¼‰ã€‚æ— ç»§æ‰¿å…³ç³»çš„æ•°æ®ç±»å‹æ— æ³•èµ‹å€¼ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Number n = <span style="color:#fff;font-weight:bold">new</span> Double(123.<span style="color:#007f7f">456</span>); <span style="color:#007f7f">// OK</span>
</span></span><span style="display:flex;"><span>String s = <span style="color:#fff;font-weight:bold">new</span> Double(123.<span style="color:#007f7f">456</span>); <span style="color:#007f7f">// compile error!</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œ<code>class</code>æ˜¯ç”±JVMåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„ã€‚JVMåœ¨ç¬¬ä¸€æ¬¡è¯»å–åˆ°ä¸€ç§<code>class</code>ç±»å‹æ—¶ï¼Œå°†å…¶åŠ è½½è¿›å†…å­˜ã€‚</p>
<p>æ¯åŠ è½½ä¸€ç§<code>class</code>ï¼ŒJVMå°±ä¸ºå…¶åˆ›å»ºä¸€ä¸ª<code>Class</code>ç±»å‹çš„å®ä¾‹ï¼Œå¹¶å…³è”èµ·æ¥ã€‚æ³¨æ„ï¼šè¿™é‡Œçš„<code>Class</code>ç±»å‹æ˜¯ä¸€ä¸ªåå«<code>Class</code>çš„<code>class</code>å®ƒçš„å®šä¹‰æ˜¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">class</span> Class {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Class() {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»¥<code>String</code>ç±»ä¸ºä¾‹ï¼Œå½“JVMåŠ è½½<code>String</code>ç±»æ—¶ï¼Œå®ƒé¦–å…ˆè¯»å–<code>String.class</code>æ–‡ä»¶åˆ°å†…å­˜ï¼Œç„¶åï¼Œä¸º<code>String</code>ç±»åˆ›å»ºä¸€ä¸ª<code>Class</code>å®ä¾‹å¹¶å…³è”èµ·æ¥ï¼š
<code>Class cls = new Class(String);</code></p>
<p>è¿™ä¸ª<code>Class</code>å®ä¾‹æ˜¯JVMå†…éƒ¨åˆ›å»ºçš„ï¼Œå¦‚æœæˆ‘ä»¬æŸ¥çœ‹JDKæºç ï¼Œå¯ä»¥å‘ç°<code>Class</code>ç±»çš„æ„é€ æ–¹æ³•æ˜¯<code>private</code>ï¼Œåªæœ‰JVMèƒ½åˆ›å»º<code>Class</code>å®ä¾‹ï¼Œæˆ‘ä»¬è‡ªå·±çš„Javaç¨‹åºæ˜¯æ— æ³•åˆ›å»º<code>Class</code>å®ä¾‹çš„ã€‚
æ‰€ä»¥ï¼ŒJVMæŒæœ‰çš„æ¯ä¸ª<code>Class</code>å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªæ•°æ®ç±»å‹ï¼ˆ<code>class</code>æˆ–<code>interface</code>ï¼‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f00">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>      Class Instance       <span style="color:#f00">â”‚â”€â”€â”€â”€â”€â”€</span>&gt; String
</span></span><span style="display:flex;"><span><span style="color:#f00">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>name = <span style="color:#0ff;font-weight:bold">&#34;java.lang.String&#34;</span>  <span style="color:#f00">â”‚</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>      Class Instance       <span style="color:#f00">â”‚â”€â”€â”€â”€â”€â”€</span>&gt; Random
</span></span><span style="display:flex;"><span><span style="color:#f00">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>name = <span style="color:#0ff;font-weight:bold">&#34;java.util.Random&#34;</span>  <span style="color:#f00">â”‚</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>      Class Instance       <span style="color:#f00">â”‚â”€â”€â”€â”€â”€â”€</span>&gt; Runnable
</span></span><span style="display:flex;"><span><span style="color:#f00">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>name = <span style="color:#0ff;font-weight:bold">&#34;java.lang.Runnable&#34;</span><span style="color:#f00">â”‚</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€ä¸ªClasså®ä¾‹åŒ…å«äº†è¯¥classçš„æ‰€æœ‰å®Œæ•´ä¿¡æ¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f00">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>      Class Instance       <span style="color:#f00">â”‚â”€â”€â”€â”€â”€â”€</span>&gt; String
</span></span><span style="display:flex;"><span><span style="color:#f00">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span>name = <span style="color:#0ff;font-weight:bold">&#34;java.lang.String&#34;</span>  <span style="color:#f00">â”‚</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">â”‚</span><span style="color:#fff;font-weight:bold">package</span> <span style="color:#f00">= &#34;</span>java.lang<span style="color:#0ff;font-weight:bold">&#34;      â”‚
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”‚super = &#34;</span>java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">Object</span><span style="color:#0ff;font-weight:bold">&#34; â”‚
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”‚interface = CharSequence...â”‚
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”‚field = value[],hash,...   â”‚
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â”‚method = indexOf()...      â”‚
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç”±äºJVMä¸ºæ¯ä¸ªåŠ è½½çš„<code>class</code>åˆ›å»ºäº†å¯¹åº”çš„<code>Class</code>å®ä¾‹ï¼Œå¹¶åœ¨å®ä¾‹ä¸­ä¿å­˜äº†è¯¥<code>class</code>çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»åã€åŒ…åã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ‰€æœ‰æ–¹æ³•ã€å­—æ®µç­‰ï¼Œå› æ­¤ï¼Œå¦‚æœè·å–äº†æŸä¸ª<code>Class</code>å®ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ª<code>Class</code>å®ä¾‹è·å–åˆ°è¯¥å®ä¾‹å¯¹åº”çš„<code>class</code>çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<p>è¿™ç§é€šè¿‡<code>Class</code>å®ä¾‹è·å–<code>class</code>ä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºåå°„ï¼ˆReflectionï¼‰ã€‚
å¦‚ä½•è·å–ä¸€ä¸ªclassçš„Classå®ä¾‹ï¼Ÿæœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š</p>
<p>æ–¹æ³•ä¸€ï¼šç›´æ¥é€šè¿‡ä¸€ä¸ªclassçš„é™æ€å˜é‡classè·å–ï¼š
<code>Class cls = String.class;</code></p>
<p>æ–¹æ³•äºŒï¼šå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå¯ä»¥é€šè¿‡è¯¥å®ä¾‹å˜é‡æä¾›çš„<code>getClass()</code>æ–¹æ³•è·å–ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s = <span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>;
</span></span><span style="display:flex;"><span>Class cls = s.<span style="color:#007f7f">getClass</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ–¹æ³•ä¸‰ï¼šå¦‚æœçŸ¥é“ä¸€ä¸ª<code>class</code>çš„å®Œæ•´ç±»åï¼Œå¯ä»¥é€šè¿‡é™æ€æ–¹æ³•<code>Class.forName()</code>è·å–ï¼š
<code>Class cls = Class.forName(&quot;java.lang.String&quot;);</code></p>
<p>å› ä¸º<code>Class</code>å®ä¾‹åœ¨JVMä¸­æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ï¼Œä¸Šè¿°æ–¹æ³•è·å–çš„<code>Class</code>å®ä¾‹æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚å¯ä»¥ç”¨<code>==</code>æ¯”è¾ƒä¸¤ä¸ª<code>Class</code>å®ä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class cls1 = String.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>String s = <span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>;
</span></span><span style="display:flex;"><span>Class cls2 = s.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> sameClass = cls1 == cls2; <span style="color:#007f7f">// true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ä¸€ä¸‹<code>Class</code>å®ä¾‹æ¯”è¾ƒå’Œ<code>instanceof</code>çš„å·®åˆ«ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer n = <span style="color:#fff;font-weight:bold">new</span> Integer(123);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> b1 = n <span style="color:#fff;font-weight:bold">instanceof</span> Integer; <span style="color:#007f7f">// trueï¼Œå› ä¸ºnæ˜¯Integerç±»å‹</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> b2 = n <span style="color:#fff;font-weight:bold">instanceof</span> Number; <span style="color:#007f7f">// trueï¼Œå› ä¸ºnæ˜¯Numberç±»å‹çš„å­ç±»</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> b3 = n.<span style="color:#007f7f">getClass</span>() == Integer.<span style="color:#007f7f">class</span>; <span style="color:#007f7f">// trueï¼Œå› ä¸ºn.getClass()è¿”å›Integer.class</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> b4 = n.<span style="color:#007f7f">getClass</span>() == Number.<span style="color:#007f7f">class</span>; <span style="color:#007f7f">// falseï¼Œå› ä¸ºInteger.class!=Number.class</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç”¨<code>instanceof</code>ä¸ä½†åŒ¹é…æŒ‡å®šç±»å‹ï¼Œè¿˜åŒ¹é…æŒ‡å®šç±»å‹çš„å­ç±»ã€‚è€Œç”¨<code>==</code>åˆ¤æ–­<code>class</code>å®ä¾‹å¯ä»¥ç²¾ç¡®åœ°åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä½†ä¸èƒ½ä½œå­ç±»å‹æ¯”è¾ƒã€‚
é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨<code>instanceof</code>åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå› ä¸ºé¢å‘æŠ½è±¡ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå…·ä½“çš„å­ç±»å‹ã€‚åªæœ‰åœ¨éœ€è¦ç²¾ç¡®åˆ¤æ–­ä¸€ä¸ªç±»å‹æ˜¯ä¸æ˜¯æŸä¸ª<code>class</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰ä½¿ç”¨<code>==</code>åˆ¤æ–­<code>class</code>å®ä¾‹ã€‚</p>
<p>å› ä¸ºåå°„çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—æŸä¸ªå®ä¾‹çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°æŸä¸ª<code>Object</code>å®ä¾‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„è·å–è¯¥<code>Object</code>çš„<code>class</code>ä¿¡æ¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> printObjectInfo(Object obj) {
</span></span><span style="display:flex;"><span>    Class cls = obj.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¦ä»Classå®ä¾‹è·å–è·å–çš„åŸºæœ¬ä¿¡æ¯ï¼Œå‚è€ƒä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        printClassInfo(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>.<span style="color:#007f7f">getClass</span>());
</span></span><span style="display:flex;"><span>        printClassInfo(Runnable.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        printClassInfo(java.<span style="color:#007f7f">time</span>.<span style="color:#007f7f">Month</span>.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        printClassInfo(String[].<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        printClassInfo(<span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> printClassInfo(Class cls) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Class name: &#34;</span> + cls.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Simple name: &#34;</span> + cls.<span style="color:#007f7f">getSimpleName</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (cls.<span style="color:#007f7f">getPackage</span>() != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Package name: &#34;</span> + cls.<span style="color:#007f7f">getPackage</span>().<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;is interface: &#34;</span> + cls.<span style="color:#007f7f">isInterface</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;is enum: &#34;</span> + cls.<span style="color:#007f7f">isEnum</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;is array: &#34;</span> + cls.<span style="color:#007f7f">isArray</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;is primitive: &#34;</span> + cls.<span style="color:#007f7f">isPrimitive</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„åˆ°æ•°ç»„ï¼ˆä¾‹å¦‚<code>String[]</code>ï¼‰ä¹Ÿæ˜¯ä¸€ç§ç±»ï¼Œè€Œä¸”ä¸åŒäº<code>String.class</code>ï¼Œå®ƒçš„ç±»åæ˜¯<code>[Ljava.lang.String;</code>ã€‚æ­¤å¤–ï¼ŒJVMä¸ºæ¯ä¸€ç§åŸºæœ¬ç±»å‹å¦‚<code>int</code>ä¹Ÿåˆ›å»ºäº†<code>Class</code>å®ä¾‹ï¼Œé€šè¿‡<code>int.class</code>è®¿é—®ã€‚</p>
<p>å¦‚æœè·å–åˆ°äº†ä¸€ä¸ªClasså®ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¯¥Classå®ä¾‹æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–Stringçš„Classå®ä¾‹:</span>
</span></span><span style="display:flex;"><span>Class cls = String.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åˆ›å»ºä¸€ä¸ªStringå®ä¾‹:</span>
</span></span><span style="display:flex;"><span>String s = (String) cls.<span style="color:#007f7f">newInstance</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç ç›¸å½“äº<code>new String()</code>ã€‚é€šè¿‡<code>Class.newInstance()</code>å¯ä»¥åˆ›å»ºç±»å®ä¾‹ï¼Œå®ƒçš„å±€é™æ˜¯ï¼šåªèƒ½è°ƒç”¨<code>public</code>çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œæˆ–è€…é<code>public</code>çš„æ„é€ æ–¹æ³•éƒ½æ— æ³•é€šè¿‡<code>Class.newInstance()</code>è¢«è°ƒç”¨ã€‚</p>
<h2 id="åŠ¨æ€åŠ è½½">åŠ¨æ€åŠ è½½<a hidden class="anchor" aria-hidden="true" href="#åŠ¨æ€åŠ è½½">#</a></h2>
<p>JVMåœ¨æ‰§è¡ŒJavaç¨‹åºçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ç”¨åˆ°çš„classå…¨éƒ¨åŠ è½½åˆ°å†…å­˜ï¼Œè€Œæ˜¯ç¬¬ä¸€æ¬¡éœ€è¦ç”¨åˆ°classæ—¶æ‰åŠ è½½ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// Main.java</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (args.<span style="color:#007f7f">length</span> &gt; 0) {
</span></span><span style="display:flex;"><span>            create(args[0]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> create(String name) {
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person(name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“æ‰§è¡Œ<code>Main.java</code>æ—¶ï¼Œç”±äºç”¨åˆ°äº†<code>Main</code>ï¼Œå› æ­¤ï¼ŒJVMé¦–å…ˆä¼šæŠŠ<code>Main.class</code>åŠ è½½åˆ°å†…å­˜ã€‚ç„¶è€Œï¼Œå¹¶ä¸ä¼šåŠ è½½<code>Person.class</code>ï¼Œé™¤éç¨‹åºæ‰§è¡Œåˆ°<code>create()</code>æ–¹æ³•ï¼ŒJVMå‘ç°éœ€è¦åŠ è½½<code>Person</code>ç±»æ—¶ï¼Œæ‰ä¼šé¦–æ¬¡åŠ è½½<code>Person.class</code>ã€‚å¦‚æœæ²¡æœ‰æ‰§è¡Œ<code>create()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆ<code>Person.class</code>æ ¹æœ¬å°±ä¸ä¼šè¢«åŠ è½½ã€‚è¿™å°±æ˜¯JVMåŠ¨æ€åŠ è½½<code>class</code>çš„ç‰¹æ€§ã€‚</p>
<p>åŠ¨æ€åŠ è½½<code>class</code>çš„ç‰¹æ€§å¯¹äºJavaç¨‹åºéå¸¸é‡è¦ã€‚åˆ©ç”¨JVMåŠ¨æ€åŠ è½½<code>class</code>çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨è¿è¡ŒæœŸæ ¹æ®æ¡ä»¶åŠ è½½ä¸åŒçš„å®ç°ç±»ã€‚ä¾‹å¦‚ï¼ŒCommons Loggingæ€»æ˜¯ä¼˜å…ˆä½¿ç”¨Log4jï¼Œåªæœ‰å½“Log4jä¸å­˜åœ¨æ—¶ï¼Œæ‰ä½¿ç”¨JDKçš„loggingã€‚åˆ©ç”¨JVMåŠ¨æ€åŠ è½½ç‰¹æ€§ï¼Œå¤§è‡´çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// Commons Loggingä¼˜å…ˆä½¿ç”¨Log4j:</span>
</span></span><span style="display:flex;"><span>LogFactory factory = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (isClassPresent(<span style="color:#0ff;font-weight:bold">&#34;org.apache.logging.log4j.Logger&#34;</span>)) {
</span></span><span style="display:flex;"><span>    factory = createLog4j();
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    factory = createJdkLog();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> isClassPresent(String name) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        Class.<span style="color:#007f7f">forName</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="è®¿é—®å­—æ®µ">è®¿é—®å­—æ®µ<a hidden class="anchor" aria-hidden="true" href="#è®¿é—®å­—æ®µ">#</a></h1>
<p>å¯¹ä»»æ„çš„ä¸€ä¸ª<code>Object</code>å®ä¾‹ï¼Œåªè¦æˆ‘ä»¬è·å–äº†å®ƒçš„<code>Class</code>ï¼Œå°±å¯ä»¥è·å–å®ƒçš„ä¸€åˆ‡ä¿¡æ¯ã€‚
æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•é€šè¿‡<code>Class</code>å®ä¾‹è·å–å­—æ®µä¿¡æ¯ã€‚<code>Class</code>ç±»æä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æ¥è·å–å­—æ®µï¼š</p>
<ul>
<li><code>Field getField(name)</code>ï¼šæ ¹æ®å­—æ®µåè·å–æŸä¸ªpublicçš„fieldï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Field getDeclaredField(name)</code>ï¼šæ ¹æ®å­—æ®µåè·å–å½“å‰ç±»çš„æŸä¸ªfieldï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Field[] getFields()</code>ï¼šè·å–æ‰€æœ‰publicçš„fieldï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Field[] getDeclaredFields()</code>ï¼šè·å–å½“å‰ç±»çš„æ‰€æœ‰fieldï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Class stdClass = Student.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–publicå­—æ®µ&#34;score&#34;:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getField</span>(<span style="color:#0ff;font-weight:bold">&#34;score&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–ç»§æ‰¿çš„publicå­—æ®µ&#34;name&#34;:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–privateå­—æ®µ&#34;grade&#34;:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;grade&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Student <span style="color:#fff;font-weight:bold">extends</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> grade;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String name;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç é¦–å…ˆè·å–<code>Student</code>çš„<code>Class</code>å®ä¾‹ï¼Œç„¶åï¼Œåˆ†åˆ«è·å–<code>public</code>å­—æ®µã€ç»§æ‰¿çš„<code>public</code>å­—æ®µä»¥åŠ<code>private</code>å­—æ®µï¼Œæ‰“å°å‡ºçš„<code>Field</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> Student.<span style="color:#007f7f">score</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">String</span> Person.<span style="color:#007f7f">name</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> Student.<span style="color:#007f7f">grade</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€ä¸ª<code>Field</code>å¯¹è±¡åŒ…å«äº†ä¸€ä¸ªå­—æ®µçš„æ‰€æœ‰ä¿¡æ¯ï¼š</p>
<ul>
<li><code>getName()</code>ï¼šè¿”å›å­—æ®µåç§°ï¼Œä¾‹å¦‚ï¼Œ<code>&quot;name&quot;</code>ï¼›</li>
<li><code>getType()</code>ï¼šè¿”å›å­—æ®µç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª<code>Class</code>å®ä¾‹ï¼Œä¾‹å¦‚ï¼Œ<code>String.class</code>ï¼›</li>
<li><code>getModifiers()</code>ï¼šè¿”å›å­—æ®µçš„ä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code>int</code>ï¼Œä¸åŒçš„bitè¡¨ç¤ºä¸åŒçš„å«ä¹‰ã€‚</li>
</ul>
<p>ä»¥<code>String</code>ç±»çš„<code>value</code>å­—æ®µä¸ºä¾‹ï¼Œå®ƒçš„å®šä¹‰æ˜¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">class</span> String {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">byte</span>[] value;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬ç”¨åå°„è·å–è¯¥å­—æ®µçš„ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Field f = String.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;value&#34;</span>);
</span></span><span style="display:flex;"><span>f.<span style="color:#007f7f">getName</span>(); <span style="color:#007f7f">// &#34;value&#34;</span>
</span></span><span style="display:flex;"><span>f.<span style="color:#007f7f">getType</span>(); <span style="color:#007f7f">// class [B è¡¨ç¤ºbyte[]ç±»å‹</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> m = f.<span style="color:#007f7f">getModifiers</span>();
</span></span><span style="display:flex;"><span>Modifier.<span style="color:#007f7f">isFinal</span>(m); <span style="color:#007f7f">// true</span>
</span></span><span style="display:flex;"><span>Modifier.<span style="color:#007f7f">isPublic</span>(m); <span style="color:#007f7f">// false</span>
</span></span><span style="display:flex;"><span>Modifier.<span style="color:#007f7f">isProtected</span>(m); <span style="color:#007f7f">// false</span>
</span></span><span style="display:flex;"><span>Modifier.<span style="color:#007f7f">isPrivate</span>(m); <span style="color:#007f7f">// true</span>
</span></span><span style="display:flex;"><span>Modifier.<span style="color:#007f7f">isStatic</span>(m); <span style="color:#007f7f">// false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è·å–å­—æ®µå€¼">è·å–å­—æ®µå€¼<a hidden class="anchor" aria-hidden="true" href="#è·å–å­—æ®µå€¼">#</a></h2>
<p>åˆ©ç”¨åå°„æ‹¿åˆ°å­—æ®µçš„ä¸€ä¸ª<code>Field</code>å®ä¾‹åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå®ä¾‹å¯¹åº”çš„è¯¥å­—æ®µçš„å€¼ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ª<code>Person</code>å®ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ‹¿åˆ°<code>name</code>å­—æ®µå¯¹åº”çš„<code>Field</code>ï¼Œå†è·å–è¿™ä¸ªå®ä¾‹çš„<code>name</code>å­—æ®µçš„å€¼ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Object p = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>);
</span></span><span style="display:flex;"><span>        Class c = p.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>        Field f = c.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);
</span></span><span style="display:flex;"><span>        Object value = f.<span style="color:#007f7f">get</span>(p);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(value); <span style="color:#007f7f">// &#34;Xiao Ming&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç å…ˆè·å–<code>Class</code>å®ä¾‹ï¼Œå†è·å–<code>Field</code>å®ä¾‹ï¼Œç„¶åï¼Œç”¨<code>Field.get(Object)</code>è·å–æŒ‡å®šå®ä¾‹çš„æŒ‡å®šå­—æ®µçš„å€¼ã€‚</p>
<p>è¿è¡Œä»£ç ï¼Œå¦‚æœä¸å‡ºæ„å¤–ï¼Œä¼šå¾—åˆ°ä¸€ä¸ª<code>IllegalAccessException</code>ï¼Œè¿™æ˜¯å› ä¸º<code>name</code>è¢«å®šä¹‰ä¸ºä¸€ä¸ª<code>private</code>å­—æ®µï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>Main</code>ç±»æ— æ³•è®¿é—®<code>Person</code>ç±»çš„<code>private</code>å­—æ®µã€‚è¦ä¿®å¤é”™è¯¯ï¼Œå¯ä»¥å°†<code>private</code>æ”¹ä¸º<code>public</code>ï¼Œæˆ–è€…ï¼Œåœ¨è°ƒç”¨<code>Object value = f.get(p);</code>å‰ï¼Œå…ˆå†™ä¸€å¥ï¼š<code>f.setAccessible(true);</code></p>
<p>è°ƒç”¨<code>Field.setAccessible(true)</code>çš„æ„æ€æ˜¯ï¼Œåˆ«ç®¡è¿™ä¸ªå­—æ®µæ˜¯ä¸æ˜¯<code>public</code>ï¼Œä¸€å¾‹å…è®¸è®¿é—®ã€‚å¯ä»¥è¯•ç€åŠ ä¸Šä¸Šè¿°è¯­å¥ï¼Œå†è¿è¡Œä»£ç ï¼Œå°±å¯ä»¥æ‰“å°å‡º<code>private</code>å­—æ®µçš„å€¼ã€‚
æœ‰ç«¥é‹ä¼šé—®ï¼šå¦‚æœä½¿ç”¨åå°„å¯ä»¥è·å–<code>private</code>å­—æ®µçš„å€¼ï¼Œé‚£ä¹ˆç±»çš„å°è£…è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ€»æ˜¯é€šè¿‡<code>p.name</code>æ¥è®¿é—®<code>Person</code>çš„<code>name</code>å­—æ®µï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®<code>public</code>ã€<code>protected</code>å’Œ<code>private</code>å†³å®šæ˜¯å¦å…è®¸è®¿é—®å­—æ®µï¼Œè¿™æ ·å°±è¾¾åˆ°äº†æ•°æ®å°è£…çš„ç›®çš„ã€‚</p>
<p>è€Œåå°„æ˜¯ä¸€ç§éå¸¸è§„çš„ç”¨æ³•ï¼Œä½¿ç”¨åå°„ï¼Œé¦–å…ˆä»£ç éå¸¸ç¹çï¼Œå…¶æ¬¡ï¼Œå®ƒæ›´å¤šåœ°æ˜¯ç»™å·¥å…·æˆ–è€…åº•å±‚æ¡†æ¶æ¥ä½¿ç”¨ï¼Œç›®çš„æ˜¯åœ¨ä¸çŸ¥é“ç›®æ ‡å®ä¾‹ä»»ä½•ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç‰¹å®šå­—æ®µçš„å€¼ã€‚</p>
<p>æ­¤å¤–ï¼Œ<code>setAccessible(true)</code>å¯èƒ½ä¼šå¤±è´¥ã€‚å¦‚æœJVMè¿è¡ŒæœŸå­˜åœ¨<code>SecurityManager</code>ï¼Œé‚£ä¹ˆå®ƒä¼šæ ¹æ®è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œæœ‰å¯èƒ½é˜»æ­¢<code>setAccessible(true)</code>ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ª<code>SecurityManager</code>å¯èƒ½ä¸å…è®¸å¯¹<code>java</code>å’Œ<code>javax</code>å¼€å¤´çš„<code>package</code>çš„ç±»è°ƒç”¨<code>setAccessible(true)</code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯JVMæ ¸å¿ƒåº“çš„å®‰å…¨ã€‚</p>
<h2 id="è®¾ç½®å­—æ®µå€¼">è®¾ç½®å­—æ®µå€¼<a hidden class="anchor" aria-hidden="true" href="#è®¾ç½®å­—æ®µå€¼">#</a></h2>
<p>é€šè¿‡Fieldå®ä¾‹æ—¢ç„¶å¯ä»¥è·å–åˆ°æŒ‡å®šå®ä¾‹çš„å­—æ®µå€¼ï¼Œè‡ªç„¶ä¹Ÿå¯ä»¥è®¾ç½®å­—æ®µçš„å€¼ã€‚</p>
<p>è®¾ç½®å­—æ®µå€¼æ˜¯é€šè¿‡<code>Field.set(Object, Object)</code>å®ç°çš„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª<code>Object</code>å‚æ•°æ˜¯æŒ‡å®šçš„å®ä¾‹ï¼Œç¬¬äºŒä¸ª<code>Object</code>å‚æ•°æ˜¯å¾…ä¿®æ”¹çš„å€¼ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p.<span style="color:#007f7f">getName</span>()); <span style="color:#007f7f">// &#34;Xiao Ming&#34;</span>
</span></span><span style="display:flex;"><span>        Class c = p.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>        Field f = c.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);
</span></span><span style="display:flex;"><span>        f.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>        f.<span style="color:#007f7f">set</span>(p, <span style="color:#0ff;font-weight:bold">&#34;Xiao Hong&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p.<span style="color:#007f7f">getName</span>()); <span style="color:#007f7f">// &#34;Xiao Hong&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getName() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‰“å°çš„<code>name</code>å­—æ®µä»<code>Xiao Ming</code>å˜æˆäº†<code>Xiao Hong</code>ï¼Œè¯´æ˜é€šè¿‡åå°„å¯ä»¥ç›´æ¥ä¿®æ”¹å­—æ®µçš„å€¼ã€‚åŒæ ·çš„ï¼Œä¿®æ”¹é<code>public</code>å­—æ®µï¼Œéœ€è¦é¦–å…ˆè°ƒç”¨<code>setAccessible(true)</code>ã€‚</p>
<h1 id="è°ƒç”¨æ–¹æ³•">è°ƒç”¨æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨æ–¹æ³•">#</a></h1>
<p>æˆ‘ä»¬å·²ç»èƒ½é€šè¿‡<code>Class</code>å®ä¾‹è·å–æ‰€æœ‰<code>Field</code>å¯¹è±¡ï¼ŒåŒæ ·çš„ï¼Œå¯ä»¥é€šè¿‡<code>Class</code>å®ä¾‹è·å–æ‰€æœ‰<code>Method</code>ä¿¡æ¯ã€‚<code>Class</code>ç±»æä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æ¥è·å–<code>Method</code>ï¼š</p>
<ul>
<li><code>Method getMethod(name, Class...)</code>ï¼šè·å–æŸä¸ª<code>public</code>çš„<code>Method</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Method getDeclaredMethod(name, Class...)</code>ï¼šè·å–å½“å‰ç±»çš„æŸä¸ª<code>Method</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Method[] getMethods()</code>ï¼šè·å–æ‰€æœ‰<code>public</code>çš„<code>Method</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
<li><code>Method[] getDeclaredMethods()</code>ï¼šè·å–å½“å‰ç±»çš„æ‰€æœ‰<code>Method</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Class stdClass = Student.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–publicæ–¹æ³•getScoreï¼Œå‚æ•°ä¸ºString:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getScore&#34;</span>, String.<span style="color:#007f7f">class</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–ç»§æ‰¿çš„publicæ–¹æ³•getNameï¼Œæ— å‚æ•°:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getName&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–privateæ–¹æ³•getGradeï¼Œå‚æ•°ä¸ºint:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stdClass.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getGrade&#34;</span>, <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Student <span style="color:#fff;font-weight:bold">extends</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> getScore(String type) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> 99;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> getGrade(<span style="color:#fff;font-weight:bold">int</span> year) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> 1;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getName() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;Person&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç é¦–å…ˆè·å–<code>Student</code>çš„<code>Class</code>å®ä¾‹ï¼Œç„¶åï¼Œåˆ†åˆ«è·å–<code>public</code>æ–¹æ³•ã€ç»§æ‰¿çš„<code>public</code>æ–¹æ³•ä»¥åŠ<code>private</code>æ–¹æ³•ï¼Œæ‰“å°å‡ºçš„<code>Method</code>ç±»ä¼¼ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> Student.<span style="color:#007f7f">getScore</span>(java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">String</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">String</span> Person.<span style="color:#007f7f">getName</span>()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> Student.<span style="color:#007f7f">getGrade</span>(<span style="color:#fff;font-weight:bold">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸€ä¸ª<code>Method</code>å¯¹è±¡åŒ…å«ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ï¼š</p>
<ul>
<li><code>getName()</code>ï¼šè¿”å›æ–¹æ³•åç§°ï¼Œä¾‹å¦‚ï¼š<code>&quot;getScore&quot;</code>ï¼›</li>
<li><code>getReturnType()</code>ï¼šè¿”å›æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªClasså®ä¾‹ï¼Œä¾‹å¦‚ï¼š<code>String.class</code>ï¼›</li>
<li><code>getParameterTypes()</code>ï¼šè¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªClassæ•°ç»„ï¼Œä¾‹å¦‚ï¼š<code>{String.class, int.class}</code>ï¼›</li>
<li><code>getModifiers()</code>ï¼šè¿”å›æ–¹æ³•çš„ä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code>int</code>ï¼Œä¸åŒçš„bitè¡¨ç¤ºä¸åŒçš„å«ä¹‰ã€‚</li>
</ul>
<h2 id="è°ƒç”¨æ–¹æ³•-1">è°ƒç”¨æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨æ–¹æ³•-1">#</a></h2>
<p>å½“æˆ‘ä»¬è·å–åˆ°ä¸€ä¸ª<code>Method</code>å¯¹è±¡æ—¶ï¼Œå°±å¯ä»¥å¯¹å®ƒè¿›è¡Œè°ƒç”¨ã€‚æˆ‘ä»¬ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s = <span style="color:#0ff;font-weight:bold">&#34;Hello world&#34;</span>;
</span></span><span style="display:flex;"><span>String r = s.<span style="color:#007f7f">substring</span>(6); <span style="color:#007f7f">// &#34;world&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœç”¨åå°„æ¥è°ƒç”¨<code>substring</code>æ–¹æ³•ï¼Œéœ€è¦ä»¥ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Stringå¯¹è±¡:</span>
</span></span><span style="display:flex;"><span>        String s = <span style="color:#0ff;font-weight:bold">&#34;Hello world&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–String substring(int)æ–¹æ³•ï¼Œå‚æ•°ä¸ºint:</span>
</span></span><span style="display:flex;"><span>        Method m = String.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;substring&#34;</span>, <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åœ¨så¯¹è±¡ä¸Šè°ƒç”¨è¯¥æ–¹æ³•å¹¶è·å–ç»“æœ:</span>
</span></span><span style="display:flex;"><span>        String r = (String) m.<span style="color:#007f7f">invoke</span>(s, 6);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‰“å°è°ƒç”¨ç»“æœ:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(r);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„åˆ°<code>substring()</code>æœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ï¼Œæˆ‘ä»¬è·å–çš„æ˜¯<code>String substring(int)</code>è¿™ä¸ªæ–¹æ³•ã€‚æ€è€ƒä¸€ä¸‹å¦‚ä½•è·å–<code>String substring(int, int)</code>æ–¹æ³•ã€‚</p>
<p>å¯¹<code>Method</code>å®ä¾‹è°ƒç”¨<code>invoke</code>å°±ç›¸å½“äºè°ƒç”¨è¯¥æ–¹æ³•ï¼Œ<code>invoke</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡å®ä¾‹ï¼Œå³åœ¨å“ªä¸ªå®ä¾‹ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œåé¢çš„å¯å˜å‚æ•°è¦ä¸æ–¹æ³•å‚æ•°ä¸€è‡´ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚</p>
<h2 id="è°ƒç”¨é™æ€æ–¹æ³•">è°ƒç”¨é™æ€æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨é™æ€æ–¹æ³•">#</a></h2>
<p>å¦‚æœè·å–åˆ°çš„Methodè¡¨ç¤ºä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œç”±äºæ— éœ€æŒ‡å®šå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥<code>invoke</code>æ–¹æ³•ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œä¸º<code>null</code>ã€‚æˆ‘ä»¬ä»¥<code>Integer.parseInt(String)</code>ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–Integer.parseInt(String)æ–¹æ³•ï¼Œå‚æ•°ä¸ºString:</span>
</span></span><span style="display:flex;"><span>        Method m = Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;parseInt&#34;</span>, String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è°ƒç”¨è¯¥é™æ€æ–¹æ³•å¹¶è·å–ç»“æœ:</span>
</span></span><span style="display:flex;"><span>        Integer n = (Integer) m.<span style="color:#007f7f">invoke</span>(<span style="color:#fff;font-weight:bold">null</span>, <span style="color:#0ff;font-weight:bold">&#34;12345&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‰“å°è°ƒç”¨ç»“æœ:</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è°ƒç”¨épublicæ–¹æ³•">è°ƒç”¨épublicæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨épublicæ–¹æ³•">#</a></h2>
<p>å’ŒFieldç±»ä¼¼ï¼Œå¯¹äºépublicæ–¹æ³•ï¼Œæˆ‘ä»¬è™½ç„¶å¯ä»¥é€šè¿‡<code>Class.getDeclaredMethod()</code>è·å–è¯¥æ–¹æ³•å®ä¾‹ï¼Œä½†ç›´æ¥å¯¹å…¶è°ƒç”¨å°†å¾—åˆ°ä¸€ä¸ª<code>IllegalAccessException</code>ã€‚ä¸ºäº†è°ƒç”¨épublicæ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡<code>Method.setAccessible(true)</code>å…è®¸å…¶è°ƒç”¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person();
</span></span><span style="display:flex;"><span>        Method m = p.<span style="color:#007f7f">getClass</span>().<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;setName&#34;</span>, String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        m.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>        m.<span style="color:#007f7f">invoke</span>(p, <span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p.<span style="color:#007f7f">name</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> setName(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ­¤å¤–ï¼Œ<code>setAccessible(true)</code>å¯èƒ½ä¼šå¤±è´¥ã€‚å¦‚æœJVMè¿è¡ŒæœŸå­˜åœ¨<code>SecurityManager</code>ï¼Œé‚£ä¹ˆå®ƒä¼šæ ¹æ®è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œæœ‰å¯èƒ½é˜»æ­¢<code>setAccessible(true)</code>ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ª<code>SecurityManager</code>å¯èƒ½ä¸å…è®¸å¯¹<code>java</code>å’Œ<code>javax</code>å¼€å¤´çš„<code>package</code>çš„ç±»è°ƒç”¨<code>setAccessible(true)</code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯JVMæ ¸å¿ƒåº“çš„å®‰å…¨ã€‚</p>
<h2 id="å¤šæ€">å¤šæ€<a hidden class="anchor" aria-hidden="true" href="#å¤šæ€">#</a></h2>
<p>æˆ‘ä»¬æ¥è€ƒå¯Ÿè¿™æ ·ä¸€ç§æƒ…å†µï¼šä¸€ä¸ª<code>Person</code>ç±»å®šä¹‰äº†<code>hello()</code>æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒçš„å­ç±»<code>Student</code>ä¹Ÿè¦†å†™äº†<code>hello()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œä»<code>Person.class</code>è·å–çš„<code>Method</code>ï¼Œä½œç”¨äº<code>Student</code>å®ä¾‹æ—¶ï¼Œè°ƒç”¨çš„æ–¹æ³•åˆ°åº•æ˜¯å“ªä¸ªï¼Ÿ</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–Personçš„helloæ–¹æ³•:</span>
</span></span><span style="display:flex;"><span>        Method h = Person.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å¯¹Studentå®ä¾‹è°ƒç”¨helloæ–¹æ³•:</span>
</span></span><span style="display:flex;"><span>        h.<span style="color:#007f7f">invoke</span>(<span style="color:#fff;font-weight:bold">new</span> Student());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> hello() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Person:hello&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Student <span style="color:#fff;font-weight:bold">extends</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> hello() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Student:hello&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå‘ç°æ‰“å°å‡ºçš„æ˜¯<code>Student:hello</code>ï¼Œå› æ­¤ï¼Œä½¿ç”¨åå°„è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä»ç„¶éµå¾ªå¤šæ€åŸåˆ™ï¼šå³æ€»æ˜¯è°ƒç”¨å®é™…ç±»å‹çš„è¦†å†™æ–¹æ³•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ä¸Šè¿°çš„åå°„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Method m = Person.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>m.<span style="color:#007f7f">invoke</span>(<span style="color:#fff;font-weight:bold">new</span> Student());
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šç›¸å½“äºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Person p = <span style="color:#fff;font-weight:bold">new</span> Student();
</span></span><span style="display:flex;"><span>p.<span style="color:#007f7f">hello</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="è°ƒç”¨æ„é€ æ–¹æ³•">è°ƒç”¨æ„é€ æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è°ƒç”¨æ„é€ æ–¹æ³•">#</a></h1>
<p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨<code>new</code>æ“ä½œç¬¦åˆ›å»ºæ–°çš„å®ä¾‹ï¼š
<code>Person p = new Person();</code></p>
<p>å¦‚æœé€šè¿‡åå°„æ¥åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œå¯ä»¥è°ƒç”¨Classæä¾›çš„<code>newInstance()</code>æ–¹æ³•ï¼š
<code>Person p = Person.class.newInstance();</code></p>
<p>è°ƒç”¨<code>Class.newInstance()</code>çš„å±€é™æ˜¯ï¼Œå®ƒåªèƒ½è°ƒç”¨è¯¥ç±»çš„publicæ— å‚æ•°æ„é€ æ–¹æ³•ã€‚å¦‚æœæ„é€ æ–¹æ³•å¸¦æœ‰å‚æ•°ï¼Œæˆ–è€…ä¸æ˜¯publicï¼Œå°±æ— æ³•ç›´æ¥é€šè¿‡<code>Class.newInstance()</code>æ¥è°ƒç”¨ã€‚</p>
<p>ä¸ºäº†è°ƒç”¨ä»»æ„çš„æ„é€ æ–¹æ³•ï¼ŒJavaçš„åå°„APIæä¾›äº†Constructorå¯¹è±¡ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ„é€ æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚Constructorå¯¹è±¡å’ŒMethodéå¸¸ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„ä»…åœ¨äºå®ƒæ˜¯ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨ç»“æœæ€»æ˜¯è¿”å›å®ä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–æ„é€ æ–¹æ³•Integer(int):</span>
</span></span><span style="display:flex;"><span>        Constructor cons1 = Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getConstructor</span>(<span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è°ƒç”¨æ„é€ æ–¹æ³•:</span>
</span></span><span style="display:flex;"><span>        Integer n1 = (Integer) cons1.<span style="color:#007f7f">newInstance</span>(123);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–æ„é€ æ–¹æ³•Integer(String)</span>
</span></span><span style="display:flex;"><span>        Constructor cons2 = Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getConstructor</span>(String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        Integer n2 = (Integer) cons2.<span style="color:#007f7f">newInstance</span>(<span style="color:#0ff;font-weight:bold">&#34;456&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡Classå®ä¾‹è·å–Constructorçš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>getConstructor(Class...)</code>ï¼šè·å–æŸä¸ª<code>public</code>çš„<code>Constructor</code>ï¼›</li>
<li><code>getDeclaredConstructor(Class...)</code>ï¼šè·å–æŸä¸ª<code>Constructor</code>ï¼›</li>
<li><code>getConstructors()</code>ï¼šè·å–æ‰€æœ‰<code>public</code>çš„<code>Constructor</code>ï¼›</li>
<li><code>getDeclaredConstructors()</code>ï¼šè·å–æ‰€æœ‰<code>Constructor</code>ã€‚</li>
</ul>
<p>æ³¨æ„<code>Constructor</code>æ€»æ˜¯å½“å‰ç±»å®šä¹‰çš„æ„é€ æ–¹æ³•ï¼Œå’Œçˆ¶ç±»æ— å…³ï¼Œå› æ­¤ä¸å­˜åœ¨å¤šæ€çš„é—®é¢˜ã€‚</p>
<p>è°ƒç”¨é<code>public</code>çš„<code>Constructor</code>æ—¶ï¼Œå¿…é¡»é¦–å…ˆé€šè¿‡<code>setAccessible(true)</code>è®¾ç½®å…è®¸è®¿é—®ã€‚<code>setAccessible(true)</code>å¯èƒ½ä¼šå¤±è´¥ã€‚</p>
<h1 id="è·å–ç»§æ‰¿å…³ç³»">è·å–ç»§æ‰¿å…³ç³»<a hidden class="anchor" aria-hidden="true" href="#è·å–ç»§æ‰¿å…³ç³»">#</a></h1>
<p>å½“æˆ‘ä»¬è·å–åˆ°æŸä¸ª<code>Class</code>å¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šå°±è·å–åˆ°äº†ä¸€ä¸ªç±»çš„ç±»å‹ï¼š
<code>Class cls = String.class; // è·å–åˆ°Stringçš„Class</code></p>
<p>è¿˜å¯ä»¥ç”¨å®ä¾‹çš„<code>getClass()</code>æ–¹æ³•è·å–ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>Class cls = s.<span style="color:#007f7f">getClass</span>(); <span style="color:#007f7f">// sæ˜¯Stringï¼Œå› æ­¤è·å–åˆ°Stringçš„Class</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€åä¸€ç§è·å–<code>Class</code>çš„æ–¹æ³•æ˜¯é€šè¿‡<code>Class.forName(&quot;&quot;)</code>ï¼Œä¼ å…¥<code>Class</code>çš„å®Œæ•´ç±»åè·å–ï¼š</p>
<p><code>Class s = Class.forName(&quot;java.lang.String&quot;);</code></p>
<p>è¿™ä¸‰ç§æ–¹å¼è·å–çš„<code>Class</code>å®ä¾‹éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå› ä¸ºJVMå¯¹æ¯ä¸ªåŠ è½½çš„<code>Class</code>åªåˆ›å»ºä¸€ä¸ª<code>Class</code>å®ä¾‹æ¥è¡¨ç¤ºå®ƒçš„ç±»å‹ã€‚</p>
<h2 id="è·å–çˆ¶ç±»çš„class">è·å–çˆ¶ç±»çš„Class<a hidden class="anchor" aria-hidden="true" href="#è·å–çˆ¶ç±»çš„class">#</a></h2>
<p>æœ‰äº†<code>Class</code>å®ä¾‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è·å–å®ƒçš„çˆ¶ç±»çš„<code>Class</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Class i = Integer.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        Class n = i.<span style="color:#007f7f">getSuperclass</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n);
</span></span><span style="display:flex;"><span>        Class o = n.<span style="color:#007f7f">getSuperclass</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(o);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(o.<span style="color:#007f7f">getSuperclass</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ<code>Integer</code>çš„çˆ¶ç±»ç±»å‹æ˜¯<code>Number</code>ï¼Œ<code>Number</code>çš„çˆ¶ç±»æ˜¯<code>Object</code>ï¼Œ<code>Object</code>çš„çˆ¶ç±»æ˜¯<code>null</code>ã€‚é™¤<code>Object</code>å¤–ï¼Œå…¶ä»–ä»»ä½•é<code>interface</code>çš„<code>Class</code>éƒ½å¿…å®šå­˜åœ¨ä¸€ä¸ªçˆ¶ç±»ç±»å‹ã€‚</p>
<h2 id="è·å–interface">è·å–interface<a hidden class="anchor" aria-hidden="true" href="#è·å–interface">#</a></h2>
<p>ç”±äºä¸€ä¸ªç±»å¯èƒ½å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œé€šè¿‡<code>Class</code>æˆ‘ä»¬å°±å¯ä»¥æŸ¥è¯¢åˆ°å®ç°çš„æ¥å£ç±»å‹ã€‚ä¾‹å¦‚ï¼ŒæŸ¥è¯¢<code>Integer</code>å®ç°çš„æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Class s = Integer.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        Class[] is = s.<span style="color:#007f7f">getInterfaces</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (Class i : is) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¸Šè¿°ä»£ç å¯çŸ¥ï¼Œ<code>Integer</code>å®ç°çš„æ¥å£æœ‰ï¼š</p>
<ul>
<li>java.lang.Comparable</li>
<li>java.lang.constant.Constable</li>
<li>java.lang.constant.ConstantDesc</li>
</ul>
<p>è¦ç‰¹åˆ«æ³¨æ„ï¼š<code>getInterfaces()</code>åªè¿”å›å½“å‰ç±»ç›´æ¥å®ç°çš„æ¥å£ç±»å‹ï¼Œå¹¶ä¸åŒ…æ‹¬å…¶çˆ¶ç±»å®ç°çš„æ¥å£ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Class s = Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getSuperclass</span>();
</span></span><span style="display:flex;"><span>        Class[] is = s.<span style="color:#007f7f">getInterfaces</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (Class i : is) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>Integer</code>çš„çˆ¶ç±»æ˜¯<code>Number</code>ï¼Œ<code>Number</code>å®ç°çš„æ¥å£æ˜¯<code>java.io.Serializable</code>ã€‚</p>
<p>æ­¤å¤–ï¼Œå¯¹æ‰€æœ‰<code>interface</code>çš„<code>Class</code>è°ƒç”¨<code>getSuperclass()</code>è¿”å›çš„æ˜¯<code>null</code>ï¼Œè·å–æ¥å£çš„çˆ¶æ¥å£è¦ç”¨<code>getInterfaces()</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// java.io.FilterInputStreamï¼Œå› ä¸ºDataInputStreamç»§æ‰¿è‡ªFilterInputStream</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(java.<span style="color:#007f7f">io</span>.<span style="color:#007f7f">DataInputStream</span>.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getSuperclass</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#007f7f">// nullï¼Œå¯¹æ¥å£è°ƒç”¨getSuperclass()æ€»æ˜¯è¿”å›nullï¼Œè·å–æ¥å£çš„çˆ¶æ¥å£è¦ç”¨getInterfaces()</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(java.<span style="color:#007f7f">io</span>.<span style="color:#007f7f">Closeable</span>.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getSuperclass</span>());
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®ç°ä»»ä½•<code>interface</code>ï¼Œé‚£ä¹ˆ<code>getInterfaces()</code>è¿”å›ç©ºæ•°ç»„ã€‚</p>
<h2 id="ç»§æ‰¿å…³ç³»">ç»§æ‰¿å…³ç³»<a hidden class="anchor" aria-hidden="true" href="#ç»§æ‰¿å…³ç³»">#</a></h2>
<p>å½“æˆ‘ä»¬åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯æŸä¸ªç±»å‹æ—¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨<code>instanceof</code>æ“ä½œç¬¦ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Object n = Integer.<span style="color:#007f7f">valueOf</span>(123);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> isDouble = n <span style="color:#fff;font-weight:bold">instanceof</span> Double; <span style="color:#007f7f">// false</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> isInteger = n <span style="color:#fff;font-weight:bold">instanceof</span> Integer; <span style="color:#007f7f">// true</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> isNumber = n <span style="color:#fff;font-weight:bold">instanceof</span> Number; <span style="color:#007f7f">// true</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">boolean</span> isSerializable = n <span style="color:#fff;font-weight:bold">instanceof</span> java.<span style="color:#007f7f">io</span>.<span style="color:#007f7f">Serializable</span>; <span style="color:#007f7f">// true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ˜¯ä¸¤ä¸ª<code>Class</code>å®ä¾‹ï¼Œè¦åˆ¤æ–­ä¸€ä¸ªå‘ä¸Šè½¬å‹æ˜¯å¦æˆç«‹ï¼Œå¯ä»¥è°ƒç”¨<code>isAssignableFrom()</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// Integer i = ?</span>
</span></span><span style="display:flex;"><span>Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">isAssignableFrom</span>(Integer.<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Integer</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// Number n = ?</span>
</span></span><span style="display:flex;"><span>Number.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">isAssignableFrom</span>(Integer.<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Number</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// Object o = ?</span>
</span></span><span style="display:flex;"><span>Object.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">isAssignableFrom</span>(Integer.<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Object</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// Integer i = ?</span>
</span></span><span style="display:flex;"><span>Integer.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">isAssignableFrom</span>(Number.<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// falseï¼Œå› ä¸ºNumberä¸èƒ½èµ‹å€¼ç»™Integer</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="åŠ¨æ€ä»£ç†">åŠ¨æ€ä»£ç†<a hidden class="anchor" aria-hidden="true" href="#åŠ¨æ€ä»£ç†">#</a></h1>
<p>æˆ‘ä»¬æ¥æ¯”è¾ƒJavaçš„<code>class</code>å’Œ<code>interface</code>çš„åŒºåˆ«ï¼š</p>
<ul>
<li>å¯ä»¥å®ä¾‹åŒ–<code>class</code>ï¼ˆé<code>abstract</code>ï¼‰ï¼›</li>
<li>ä¸èƒ½å®ä¾‹åŒ–<code>interface</code>ã€‚</li>
</ul>
<p>æ‰€æœ‰<code>interface</code>ç±»å‹çš„å˜é‡æ€»æ˜¯é€šè¿‡æŸä¸ªå®ä¾‹å‘ä¸Šè½¬å‹å¹¶èµ‹å€¼ç»™æ¥å£ç±»å‹å˜é‡çš„ï¼š</p>
<p><code>CharSequence cs = new StringBuilder();</code></p>
<p>æœ‰æ²¡æœ‰å¯èƒ½ä¸ç¼–å†™å®ç°ç±»ï¼Œç›´æ¥åœ¨è¿è¡ŒæœŸåˆ›å»ºæŸä¸ª<code>interface</code>çš„å®ä¾‹å‘¢ï¼Ÿ
è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºJavaæ ‡å‡†åº“æä¾›äº†ä¸€ç§åŠ¨æ€ä»£ç†ï¼ˆDynamic Proxyï¼‰çš„æœºåˆ¶ï¼šå¯ä»¥åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºæŸä¸ª<code>interface</code>çš„å®ä¾‹ã€‚</p>
<p>ä»€ä¹ˆå«è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºï¼Ÿå¬èµ·æ¥å¥½åƒå¾ˆå¤æ‚ã€‚æ‰€è°“åŠ¨æ€ä»£ç†ï¼Œæ˜¯å’Œé™æ€ç›¸å¯¹åº”çš„ã€‚æˆ‘ä»¬æ¥çœ‹é™æ€ä»£ç æ€ä¹ˆå†™ï¼šå®šä¹‰æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Hello {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span> morning(String name);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¼–å†™å®ç°ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> HelloWorld <span style="color:#fff;font-weight:bold">implements</span> Hello {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> morning(String name) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Good morning, &#34;</span> + name);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ›å»ºå®ä¾‹ï¼Œè½¬å‹ä¸ºæ¥å£å¹¶è°ƒç”¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Hello hello = <span style="color:#fff;font-weight:bold">new</span> HelloWorld();
</span></span><span style="display:flex;"><span>hello.<span style="color:#007f7f">morning</span>(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ç§æ–¹å¼å°±æ˜¯æˆ‘ä»¬é€šå¸¸ç¼–å†™ä»£ç çš„æ–¹å¼ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯åŠ¨æ€ä»£ç ï¼Œæˆ‘ä»¬ä»ç„¶å…ˆå®šä¹‰äº†æ¥å£<code>Hello</code>ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸å»ç¼–å†™å®ç°ç±»ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡JDKæä¾›çš„ä¸€ä¸ª<code>Proxy.newProxyInstance()</code>åˆ›å»ºäº†ä¸€ä¸ª<code>Hello</code>æ¥å£å¯¹è±¡ã€‚è¿™ç§æ²¡æœ‰å®ç°ç±»ä½†æ˜¯åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºäº†ä¸€ä¸ªæ¥å£å¯¹è±¡çš„æ–¹å¼ï¼Œæˆ‘ä»¬ç§°ä¸ºåŠ¨æ€ä»£ç ã€‚JDKæä¾›çš„åŠ¨æ€åˆ›å»ºæ¥å£å¯¹è±¡çš„æ–¹å¼ï¼Œå°±å«åŠ¨æ€ä»£ç†ã€‚</p>
<p>ä¸€ä¸ªæœ€ç®€å•çš„åŠ¨æ€ä»£ç†å®ç°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        InvocationHandler handler = <span style="color:#fff;font-weight:bold">new</span> InvocationHandler() {
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> Object invoke(Object proxy, Method method, Object[] args) <span style="color:#fff;font-weight:bold">throws</span> Throwable {
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(method);
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (method.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;morning&#34;</span>)) {
</span></span><span style="display:flex;"><span>                    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Good morning, &#34;</span> + args[0]);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        Hello hello = (Hello) Proxy.<span style="color:#007f7f">newProxyInstance</span>(
</span></span><span style="display:flex;"><span>            Hello.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getClassLoader</span>(), <span style="color:#007f7f">// ä¼ å…¥ClassLoader</span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Class[] { Hello.<span style="color:#007f7f">class</span> }, <span style="color:#007f7f">// ä¼ å…¥è¦å®ç°çš„æ¥å£</span>
</span></span><span style="display:flex;"><span>            handler); <span style="color:#007f7f">// ä¼ å…¥å¤„ç†è°ƒç”¨æ–¹æ³•çš„InvocationHandler</span>
</span></span><span style="display:flex;"><span>        hello.<span style="color:#007f7f">morning</span>(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Hello {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span> morning(String name);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºä¸€ä¸ª<code>interface</code>å®ä¾‹çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®šä¹‰ä¸€ä¸ª<code>InvocationHandler</code>å®ä¾‹ï¼Œå®ƒè´Ÿè´£å®ç°æ¥å£çš„æ–¹æ³•è°ƒç”¨ï¼›</li>
<li>é€šè¿‡<code>Proxy.newProxyInstance()</code>ï¼Œåˆ›å»º<code>interface</code>å®ä¾‹ï¼Œå®ƒéœ€è¦3ä¸ªå‚æ•°ï¼š
<ol>
<li>ä½¿ç”¨çš„<code>ClassLoader</code>ï¼Œé€šå¸¸å°±æ˜¯æ¥å£ç±»çš„<code>ClassLoader</code>ï¼›</li>
<li>éœ€è¦å®ç°çš„æ¥å£æ•°ç»„ï¼Œè‡³å°‘éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¥å£è¿›å»ï¼›</li>
<li>ç”¨æ¥å¤„ç†æ¥å£æ–¹æ³•è°ƒç”¨çš„<code>InvocationHandler</code>å®ä¾‹ã€‚</li>
</ol>
</li>
<li>å°†è¿”å›çš„<code>Object</code>å¼ºåˆ¶è½¬å‹ä¸ºæ¥å£ã€‚</li>
</ol>
<p>åŠ¨æ€ä»£ç†å®é™…ä¸Šæ˜¯JVMåœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºclasså­—èŠ‚ç å¹¶åŠ è½½çš„è¿‡ç¨‹ï¼Œå®ƒå¹¶æ²¡æœ‰ä»€ä¹ˆé»‘é­”æ³•ï¼ŒæŠŠä¸Šé¢çš„åŠ¨æ€ä»£ç†æ”¹å†™ä¸ºé™æ€å®ç°ç±»å¤§æ¦‚é•¿è¿™æ ·ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> HelloDynamicProxy <span style="color:#fff;font-weight:bold">implements</span> Hello {
</span></span><span style="display:flex;"><span>    InvocationHandler handler;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> HelloDynamicProxy(InvocationHandler handler) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">handler</span> = handler;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> morning(String name) {
</span></span><span style="display:flex;"><span>        handler.<span style="color:#007f7f">invoke</span>(
</span></span><span style="display:flex;"><span>           <span style="color:#fff;font-weight:bold">this</span>,
</span></span><span style="display:flex;"><span>           Hello.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;morning&#34;</span>, String.<span style="color:#007f7f">class</span>),
</span></span><span style="display:flex;"><span>           <span style="color:#fff;font-weight:bold">new</span> Object[] { name });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶å®å°±æ˜¯JVMå¸®æˆ‘ä»¬è‡ªåŠ¨ç¼–å†™äº†ä¸€ä¸ªä¸Šè¿°ç±»ï¼ˆä¸éœ€è¦æºç ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆå­—èŠ‚ç ï¼‰ï¼Œå¹¶ä¸å­˜åœ¨å¯ä»¥ç›´æ¥å®ä¾‹åŒ–æ¥å£çš„é»‘é­”æ³•ã€‚</p>
<h1 id="class-è¯¦ç»†è¯´æ˜">Class è¯¦ç»†è¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#class-è¯¦ç»†è¯´æ˜">#</a></h1>
<h2 id="reflectæ¦‚è¿°">Reflectæ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#reflectæ¦‚è¿°">#</a></h2>
<p>Java åå°„æœºåˆ¶ã€‚é€šä¿—æ¥è®²å‘¢ï¼Œå°±æ˜¯ï¼š
<code>åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å·²ç»å¾—çš„åˆ°ç±»çš„éƒ¨åˆ†ä¿¡æ¯ï¼Œæ¥è¿˜åŸç±»çš„å…¨éƒ¨çš„ä¿¡æ¯ã€‚</code>
è¿™é‡Œå·²ç»å¾—çš„åˆ°ç±»çš„éƒ¨åˆ†ä¿¡æ¯ï¼Œå¯ä»¥æ˜¯ç±»åæˆ–ç±»çš„å¯¹è±¡ç­‰ä¿¡æ¯ã€‚
ç±»çš„å…¨éƒ¨ä¿¡æ¯å°±æ˜¯æŒ‡ç±»çš„å±æ€§ï¼Œæ–¹æ³•ï¼Œç»§æ‰¿å…³ç³»å’ŒAnnotationæ³¨è§£ç­‰å†…å®¹ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šå‡è®¾å¯¹äºç±»<code>ReflectionTest.java</code>ï¼Œæˆ‘ä»¬çŸ¥é“çš„å”¯ä¸€ä¿¡æ¯æ˜¯å®ƒçš„ç±»åæ˜¯
<code>com.skywang.Reflection</code>ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“<code>ReflectionTest.java</code>çš„å…¶å®ƒä¿¡æ¯(æ¯”å¦‚å®ƒçš„æ„é€ å‡½æ•°ï¼Œå®ƒçš„æˆå‘˜å˜é‡ç­‰ç­‰)ï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™å°±éœ€è¦ç”¨åˆ°åå°„ã€‚é€šè¿‡åå°„ï¼Œæˆ‘ä»¬å¯ä»¥è§£æå‡º<code>ReflectionTest.java</code>çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®ƒçš„æ„é€ å‡½æ•°ï¼Œæˆå‘˜å˜é‡ï¼Œç»§æ‰¿å…³ç³»ç­‰ç­‰ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•æ ¹æ®ç±»åï¼Œæ¥è·å–ç±»çš„å®Œæ•´ä¿¡æ¯å‘¢ï¼Ÿ
è¿™ä¸ªè¿‡ç¨‹ä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼š</p>
<ol>
<li>æ ¹æ®ç±»åæ¥è·å–å¯¹åº”ç±»çš„Classå¯¹è±¡ã€‚</li>
<li>é€šè¿‡Classå¯¹è±¡çš„å‡½æ•°æ¥å£ï¼Œæ¥è¯»å–ç±»çš„æ„é€ å‡½æ•°ï¼Œæˆå‘˜å˜é‡ç­‰ä¿¡æ¯ã€‚</li>
</ol>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ ¹æ®ç¤ºä¾‹æ¥åŠ æ·±å¯¹è¿™ä¸ªæ¦‚å¿µçš„ç†è§£ã€‚ç¤ºä¾‹å¦‚ä¸‹</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Demo1 {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®â€œç±»åâ€è·å– å¯¹åº”çš„Classå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ–°å»ºå¯¹è±¡ã€‚newInstance()ä¼šè°ƒç”¨ç±»çš„æ— å‚æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            Object obj = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;cls=&#34;</span>+cls);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;create Person&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>create Person
</span></span><span style="display:flex;"><span>cls=class com.skywang.test.Person
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼š</p>
<ul>
<li>Personç±»çš„å®Œæ•´åŒ…åæ˜¯<code>com.skywang.test.Person</code>ã€‚
è€Œ<code>Class.forName(&quot;com.skywang.test.Person&quot;);</code>è¿™ä¸€å¥çš„ä½œç”¨æ˜¯ï¼Œå°±æ˜¯æ ¹æ®Personçš„åŒ…åæ¥è·å–Personçš„Classå¯¹è±¡ã€‚</li>
<li>æ¥ç€ï¼Œæˆ‘ä»¬è°ƒç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•ï¼Œåˆ›å»ºPersonå¯¹è±¡ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“äº†â€œjavaåå°„æœºåˆ¶â€çš„æ¦‚å¿µä»¥åŠå®ƒçš„åŸç†ã€‚æœ‰äº†è¿™ä¸ªæ€»ä½“æ€æƒ³ä¹‹åï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹å¯¹åå°„è¿›è¡Œæ·±å…¥ç ”ç©¶äº†ã€‚</p>
<h2 id="è·å–classå¯¹è±¡çš„æ–¹æ³•">è·å–Classå¯¹è±¡çš„æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#è·å–classå¯¹è±¡çš„æ–¹æ³•">#</a></h2>
<p>æˆ‘è¿™é‡Œæ€»ç»“äº†4ç§å¸¸ç”¨çš„<code>è·å–Classå¯¹è±¡</code>çš„æ–¹æ³•ï¼š</p>
<ul>
<li>Class.forName(&ldquo;ç±»åå­—ç¬¦ä¸²&rdquo;)(æ³¨æ„ï¼šç±»åå­—ç¬¦ä¸²å¿…é¡»æ˜¯å…¨ç§°ï¼ŒåŒ…å+ç±»å)</li>
<li>ç±»å.class</li>
<li>å®ä¾‹å¯¹è±¡.getClass()</li>
<li>&ldquo;ç±»åå­—ç¬¦ä¸²&rdquo;.getClass()</li>
</ul>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æ¼”ç¤ºè¿™4ç§æ–¹æ³•ã€‚ç¤ºä¾‹å¦‚ä¸‹(Demo2.java)</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Demo2 {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ–¹æ³•1ï¼šClass.forName(&#34;ç±»åå­—ç¬¦ä¸²&#34;)  ï¼ˆæ³¨æ„ï¼šç±»åå­—ç¬¦ä¸²å¿…é¡»æ˜¯å…¨ç§°ï¼ŒåŒ…å+ç±»åï¼‰</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Class cls1 = Class.forName(&#34;com.skywang.test.Person&#34;);</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls1 = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Class&lt;Person&gt; cls1 = Class.forName(&#34;com.skywang.test.Person&#34;);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ–¹æ³•2ï¼šç±»å.class</span>
</span></span><span style="display:flex;"><span>            Class cls2 = Person.<span style="color:#007f7f">class</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ–¹æ³•3ï¼šå®ä¾‹å¯¹è±¡.getClass()</span>
</span></span><span style="display:flex;"><span>            Person person = <span style="color:#fff;font-weight:bold">new</span> Person();
</span></span><span style="display:flex;"><span>            Class cls3 = person.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ–¹æ³•4ï¼š&#34;ç±»åå­—ç¬¦ä¸²&#34;.getClass()</span>
</span></span><span style="display:flex;"><span>            String str = <span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>; 
</span></span><span style="display:flex;"><span>            Class cls4 = str.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;cls1=%s, cls2=%s, cls3=%s, cls4=%s\n&#34;</span>, cls1, cls2, cls3, cls4);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;create Person&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>create Person
</span></span><span style="display:flex;"><span>cls1=class com.skywang.test.Person, cls2=class com.skywang.test.Person, cls3=class com.skywang.test.Person, cls4=class java.lang.String
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="classçš„apiè¯´æ˜">Classçš„APIè¯´æ˜<a hidden class="anchor" aria-hidden="true" href="#classçš„apiè¯´æ˜">#</a></h2>
<p>Classçš„å…¨éƒ¨APIå¦‚ä¸‹:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Class    forName(String className)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Class    forName(String name, <span style="color:#fff;font-weight:bold">boolean</span> initialize, ClassLoader loader)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getConstructor(Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor[]    getConstructors()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getDeclaredConstructor(Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor[]    getDeclaredConstructors()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getEnclosingConstructor()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getMethod(String name, Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method[]    getMethods()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getDeclaredMethod(String name, Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method[]    getDeclaredMethods()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getEnclosingMethod()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field    getField(String name)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field[]    getFields()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field    getDeclaredField(String name)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field[]    getDeclaredFields()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Type[]    getGenericInterfaces()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Type    getGenericSuperclass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation&lt;A&gt;    getAnnotation(Class annotationClass)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation[]    getAnnotations()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation[]    getDeclaredAnnotations()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isAnnotation()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isAnnotationPresent(Class annotationClass)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isAnonymousClass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isArray()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isAssignableFrom(Class cls)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    desiredAssertionStatus()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class&lt;U&gt;    asSubclass(Class clazz)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class    getSuperclass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class    getComponentType()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class    getDeclaringClass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class    getEnclosingClass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class[]    getClasses()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class[]    getDeclaredClasses()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Class[]    getInterfaces()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isEnum()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isInstance(Object obj)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isInterface()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isLocalClass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isMemberClass()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isPrimitive()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isSynthetic()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    getSimpleName()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    getName()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    getCanonicalName()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toString()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> ClassLoader    getClassLoader()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Package    getPackage()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    getModifiers()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> ProtectionDomain    getProtectionDomain()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> URL    getResource(String name)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> InputStream    getResourceAsStream(String name)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Object    cast(Object obj)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Object    newInstance()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Object[]    getSigners()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Object[]    getEnumConstants()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> TypeVariable[]    getTypeParameters()
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬æ ¹æ®ç±»çš„ç‰¹æ€§ï¼Œå°†Classä¸­çš„ç±»åˆ†ä¸º4éƒ¨åˆ†è¿›è¡Œè¯´æ˜ï¼šæ„é€ å‡½æ•°ï¼Œæˆå‘˜æ–¹æ³•ï¼Œæˆå‘˜å˜é‡ï¼Œç±»çš„å…¶å®ƒä¿¡æ¯(å¦‚æ³¨è§£ã€åŒ…åã€ç±»åã€ç»§æ‰¿å…³ç³»ç­‰ç­‰)ã€‚Classä¸­æ¶‰åŠåˆ°Annotation(æ³¨è§£)çš„ç›¸å…³APIï¼Œå¯ä»¥ç‚¹å‡»æŸ¥çœ‹å‰ä¸€ç« èŠ‚å…³äºAnnotationçš„è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°<a hidden class="anchor" aria-hidden="true" href="#æ„é€ å‡½æ•°">#</a></h3>
<p>ç›¸å…³API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œå‚æ•°æ˜¯parameterTypesâ€çš„publicçš„æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getConstructor(Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å…¨éƒ¨çš„publicçš„æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor[]    getConstructors()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œå‚æ•°æ˜¯parameterTypesâ€çš„ï¼Œå¹¶ä¸”æ˜¯ç±»è‡ªèº«å£°æ˜çš„æ„é€ å‡½æ•°ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getDeclaredConstructor(Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–ç±»è‡ªèº«å£°æ˜çš„å…¨éƒ¨çš„æ„é€ å‡½æ•°ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor[]    getDeclaredConstructors()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// å¦‚æœè¿™ä¸ªç±»æ˜¯â€œå…¶å®ƒç±»çš„æ„é€ å‡½æ•°ä¸­çš„å†…éƒ¨ç±»â€ï¼Œè°ƒç”¨getEnclosingConstructor()å°±æ˜¯è¿™ä¸ªç±»æ‰€åœ¨çš„æ„é€ å‡½æ•°ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›nullã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Constructor    getEnclosingConstructor()
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å¯¹è¿™äº›APIè¿›è¡Œè¯´æ˜ã€‚ç¤ºä¾‹ä»£ç (DemoClassContructor.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Constructor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»çš„Constructorç›¸å…³APIçš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassContructor {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// getDeclaredConstructor() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>        testGetDeclaredConstructor() ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// getConstructor() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>        testGetConstructor() ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// getEnclosingConstructor() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>        testGetEnclosingConstructor() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getDeclaredConstructor() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetDeclaredConstructor() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè·å–æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            Constructor cst1 = cls.<span style="color:#007f7f">getDeclaredConstructor</span>();
</span></span><span style="display:flex;"><span>            Constructor cst2 = cls.<span style="color:#007f7f">getDeclaredConstructor</span>(<span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>            Constructor cst3 = cls.<span style="color:#007f7f">getDeclaredConstructor</span>(<span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>, <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>, Gender.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            cst1.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>); <span style="color:#007f7f">// å› ä¸ºPersonä¸­Person()æ˜¯privateçš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸ºå¯è®¿é—®</span>
</span></span><span style="display:flex;"><span>            Object p1 = cst1.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>            Object p2 = cst2.<span style="color:#007f7f">newInstance</span>(<span style="color:#0ff;font-weight:bold">&#34;Juce&#34;</span>);
</span></span><span style="display:flex;"><span>            Object p3 = cst3.<span style="color:#007f7f">newInstance</span>(<span style="color:#0ff;font-weight:bold">&#34;Jody&#34;</span>, 34, Gender.<span style="color:#007f7f">MALE</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: p1=%s, p2=%s, p3=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getConstructor()&#34;</span>, p1, p2, p3);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getConstructor() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetConstructor() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè·å–æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Constructor cst1 = cls.getConstructor(); // æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºé»˜è®¤æ„é€ å‡½æ•°æ˜¯privateæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Constructor cst2 = cls.getConstructor(new Class[]{String.class});// æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºè¯¥æ„é€ å‡½æ•°æ˜¯protectedæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>            Constructor cst3 = cls.<span style="color:#007f7f">getConstructor</span>(<span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>, <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>, Gender.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Object p1 = cst1.newInstance();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//cst1.setAccessible(true); // å› ä¸ºPersonä¸­Person()æ˜¯privateçš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸ºå¯è®¿é—®</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Object p1 = cst1.newInstance();</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Object p2 = cst2.newInstance(&#34;Kim&#34;);</span>
</span></span><span style="display:flex;"><span>            Object p3 = cst3.<span style="color:#007f7f">newInstance</span>(<span style="color:#0ff;font-weight:bold">&#34;Katter&#34;</span>, 36, Gender.<span style="color:#007f7f">MALE</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: p3=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getConstructor()&#34;</span>, p3);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getEnclosingConstructor() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetEnclosingConstructor() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨Personç±»ä¸­æœ‰å†…éƒ¨ç±»InnerAçš„æ„é€ å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            Constructor cst = cls.<span style="color:#007f7f">getDeclaredConstructor</span>(<span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>, <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            Object obj = cst.<span style="color:#007f7f">newInstance</span>(<span style="color:#0ff;font-weight:bold">&#34;Ammy&#34;</span>, 18);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: obj=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getEnclosingConstructor()&#34;</span>, obj);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æšä¸¾ç±»å‹ã€‚è¡¨ç¤ºâ€œæ€§åˆ«â€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">enum</span> Gender{  
</span></span><span style="display:flex;"><span>    MALE, FEMALE
</span></span><span style="display:flex;"><span>} 
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// äºº</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Gender gender;  <span style="color:#007f7f">// æ€§åˆ«</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> age;        <span style="color:#007f7f">// å¹´é¾„</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;    <span style="color:#007f7f">// å§“å</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Person() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = <span style="color:#0ff;font-weight:bold">&#34;unknown&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = Gender.<span style="color:#007f7f">FEMALE</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;call--\&#34;private Person()\&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> Person(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = Gender.<span style="color:#007f7f">FEMALE</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;call--\&#34;protected Person(String name)\&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age, Gender gender) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = gender;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;call--\&#34;public Person(String name, int age, Gender gender)\&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = Gender.<span style="color:#007f7f">FEMALE</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//å†…éƒ¨ç±»åœ¨æ„é€ æ–¹æ³•ä¸­</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">class</span> InnerA{
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–InnerAçš„Classå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>        Class cls = InnerA.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–â€œå°é—­è¯¥å†…éƒ¨ç±»(InnerA)â€çš„æ„é€ æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>        Constructor cst = cls.<span style="color:#007f7f">getEnclosingConstructor</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;call--\&#34;public Person(String name, int age)\&#34; cst=&#34;</span>+cst);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;(&#34;</span>+name+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+age+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+gender+<span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>call--&#34;private Person()&#34;
</span></span><span style="display:flex;"><span>call--&#34;protected Person(String name)&#34;
</span></span><span style="display:flex;"><span>call--&#34;public Person(String name, int age, Gender gender)&#34;
</span></span><span style="display:flex;"><span>getConstructor() : p1=(unknown, 0, FEMALE), p2=(Juce, 0, FEMALE), p3=(Jody, 34, MALE)
</span></span><span style="display:flex;"><span>call--&#34;public Person(String name, int age, Gender gender)&#34;
</span></span><span style="display:flex;"><span>getConstructor() : p3=(Katter, 36, MALE)
</span></span><span style="display:flex;"><span>call--&#34;public Person(String name, int age)&#34; cst=public com.skywang.test.Person(java.lang.String,int)
</span></span><span style="display:flex;"><span>getEnclosingConstructor() : obj=(Ammy, 18, FEMALE)
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼š</p>
<ul>
<li>é¦–å…ˆï¼Œè¦ææ¸…æ¥šPersonç±»ï¼Œå®ƒæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»ã€‚ä¸“é—¨ç”¨æ¥æµ‹è¯•è¿™äº›APIçš„ã€‚Personä¸­æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡genderï¼›å®ƒæ˜¯Genderå¯¹è±¡ï¼ŒGenderæ˜¯ä¸€ä¸ªæšä¸¾ç±»ã€‚å–å€¼å¯ä»¥æ˜¯MALEæˆ–è€…FEMALEã€‚</li>
<li>testGetDeclaredConstructor() æ˜¯â€œgetDeclaredConstructor() çš„æµ‹è¯•å‡½æ•°â€ã€‚getDeclaredConstructor()å¯ä»¥â€œè·å–ç±»ä¸­ä»»æ„çš„æ„é€ å‡½æ•°ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•â€ã€‚</li>
<li>testGetConstructor() æ˜¯â€œgetConstructor() çš„æµ‹è¯•å‡½æ•°â€ã€‚getConstructor()åªèƒ½â€œè·å–ç±»ä¸­publicçš„æ„é€ å‡½æ•°â€ã€‚</li>
<li>testGetEnclosingConstructor() æ˜¯â€œgetEnclosingConstructor() çš„æµ‹è¯•å‡½æ•°â€ã€‚å…³äºgetEnclosingConstructor()çš„ä»‹ç»ï¼Œå®˜æ–¹è¯´æ³•æ˜¯â€œå¦‚æœè¯¥ Class å¯¹è±¡è¡¨ç¤ºæ„é€ æ–¹æ³•ä¸­çš„ä¸€ä¸ªæœ¬åœ°æˆ–åŒ¿åç±»ï¼Œåˆ™è¿”å› Constructor å¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºåº•å±‚ç±»çš„ç«‹å³å°é—­æ„é€ æ–¹æ³•ã€‚å¦åˆ™è¿”å› nullã€‚â€ é€šä¿—ç‚¹æ¥è¯´ï¼Œå°±æ˜¯â€œå¦‚æœä¸€ä¸ªç±»Açš„æ„é€ å‡½æ•°ä¸­å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ç±»InnerAï¼Œåˆ™é€šè¿‡InnerAçš„Classå¯¹è±¡è°ƒç”¨getEnclosingConstructor()æ–¹æ³•ï¼Œå¯ä»¥è·å–ç±»Açš„è¿™ä¸ªæ„é€ å‡½æ•°â€ã€‚</li>
</ul>
<h3 id="æˆå‘˜æ–¹æ³•">æˆå‘˜æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#æˆå‘˜æ–¹æ³•">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œåç§°æ˜¯nameï¼Œå‚æ•°æ˜¯parameterTypesâ€çš„publicçš„å‡½æ•°(åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicå‡½æ•°)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getMethod(String name, Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å…¨éƒ¨çš„publicçš„å‡½æ•°(åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicå‡½æ•°)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method[]    getMethods()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œåç§°æ˜¯nameï¼Œå‚æ•°æ˜¯parameterTypesâ€ï¼Œå¹¶ä¸”æ˜¯ç±»è‡ªèº«å£°æ˜çš„å‡½æ•°ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getDeclaredMethod(String name, Class[] parameterTypes)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å…¨éƒ¨çš„ç±»è‡ªèº«å£°æ˜çš„å‡½æ•°ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method[]    getDeclaredMethods()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// å¦‚æœè¿™ä¸ªç±»æ˜¯â€œå…¶å®ƒç±»ä¸­æŸä¸ªæ–¹æ³•çš„å†…éƒ¨ç±»â€ï¼Œè°ƒç”¨getEnclosingMethod()å°±æ˜¯è¿™ä¸ªç±»æ‰€åœ¨çš„æ–¹æ³•ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›nullã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Method    getEnclosingMethod()
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å¯¹è¿™äº›APIè¿›è¡Œè¯´æ˜ã€‚ç¤ºä¾‹ä»£ç (DemoClassMethod.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">184
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Method;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»çš„Methodç›¸å…³APIçš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassMethod {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// getDeclaredMethod() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            testGetDeclaredMethod() ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// getMethod() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            testGetMethod() ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// getEnclosingMethod() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            testGetEnclosingMethod() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getDeclaredMethod() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetDeclaredMethod() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°(ä¸å¸¦å‚æ•°)</span>
</span></span><span style="display:flex;"><span>            Object person = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personä¸­çš„æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>            Method mSetName = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;setName&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>            Method mGetName = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getName&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{});
</span></span><span style="display:flex;"><span>            Method mSetAge  = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;setAge&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{<span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>            Method mGetAge  = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getAge&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{});
</span></span><span style="display:flex;"><span>            Method mSetGender = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;setGender&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{Gender.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>            Method mGetGender = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getGender&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è°ƒç”¨è·å–çš„æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>            mSetName.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{<span style="color:#0ff;font-weight:bold">&#34;Jimmy&#34;</span>});
</span></span><span style="display:flex;"><span>            mSetAge.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{30});
</span></span><span style="display:flex;"><span>            mSetGender.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);    <span style="color:#007f7f">// å› ä¸ºPersonä¸­setGender()æ˜¯privateçš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸ºå¯è®¿é—®</span>
</span></span><span style="display:flex;"><span>            mSetGender.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{Gender.<span style="color:#007f7f">MALE</span>});
</span></span><span style="display:flex;"><span>            String name = (String)mGetName.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{});
</span></span><span style="display:flex;"><span>            Integer age = (Integer)mGetAge.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{});
</span></span><span style="display:flex;"><span>            mGetGender.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);    <span style="color:#007f7f">// å› ä¸ºPersonä¸­getGender()æ˜¯privateçš„ï¼Œæ‰€ä»¥è¿™é‡Œè¦è®¾ç½®ä¸ºå¯è®¿é—®</span>
</span></span><span style="display:flex;"><span>            Gender gender = (Gender)mGetGender.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ‰“å°è¾“å‡º</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: person=%s, name=%s, age=%s, gender=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getDeclaredMethod()&#34;</span>, person, name, age, gender);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getMethod() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetMethod() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°(ä¸å¸¦å‚æ•°)</span>
</span></span><span style="display:flex;"><span>            Object person = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personä¸­çš„æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>            Method mSetName = cls.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;setName&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{String.<span style="color:#007f7f">class</span>});
</span></span><span style="display:flex;"><span>            Method mGetName = cls.<span style="color:#007f7f">getMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getName&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{});
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Method mSetAge  = cls.getMethod(&#34;setAge&#34;, new Class[]{int.class});         // æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºsetAge()æ˜¯protectedæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Method mGetAge  = cls.getMethod(&#34;getAge&#34;, new Class[]{});                  // æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºgetAge()æ˜¯protectedæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Method mSetGender = cls.getMethod(&#34;setGender&#34;, new Class[]{Gender.class}); // æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºsetGender()æ˜¯privateæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Method mGetGender = cls.getMethod(&#34;getGender&#34;, new Class[]{});             // æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºgetGender()æ˜¯privateæƒé™ã€‚</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è°ƒç”¨è·å–çš„æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>            mSetName.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{<span style="color:#0ff;font-weight:bold">&#34;Phobe&#34;</span>});
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//mSetAge.invoke(person, new Object[]{38});</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//mSetGender.invoke(person, new Object[]{Gender.FEMALE});</span>
</span></span><span style="display:flex;"><span>            String name = (String)mGetName.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{});
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Integer age = (Integer)mGetAge.invoke(person, new Object[]{});</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Gender gender = (Gender)mGetGender.invoke(person, new Object[]{});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ‰“å°è¾“å‡º</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: person=%s\n&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getMethod()&#34;</span>, person);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getEnclosingMethod() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetEnclosingMethod() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°(ä¸å¸¦å‚æ•°)</span>
</span></span><span style="display:flex;"><span>            Object person = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨Personç±»ä¸­æœ‰å†…éƒ¨ç±»InnerBçš„å‡½æ•°</span>
</span></span><span style="display:flex;"><span>            Method mGetInner = cls.<span style="color:#007f7f">getDeclaredMethod</span>(<span style="color:#0ff;font-weight:bold">&#34;getInner&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Class[]{});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            mGetInner.<span style="color:#007f7f">invoke</span>(person, <span style="color:#fff;font-weight:bold">new</span> Object[]{});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: person=%s\n&#34;</span>,
</span></span><span style="display:flex;"><span>                       <span style="color:#0ff;font-weight:bold">&#34;getEnclosingMethod&#34;</span>, person);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">enum</span> Gender{  
</span></span><span style="display:flex;"><span>    MALE, FEMALE
</span></span><span style="display:flex;"><span>} 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Gender gender;  <span style="color:#007f7f">// æ€§åˆ«</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> age;        <span style="color:#007f7f">// å¹´é¾„</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;    <span style="color:#007f7f">// å§“å</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>(<span style="color:#0ff;font-weight:bold">&#34;unknown&#34;</span>, 0, Gender.<span style="color:#007f7f">FEMALE</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age, Gender gender) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = gender;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–â€å§“åâ€œã€‚æƒé™æ˜¯ public</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getName() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è®¾ç½®â€å§“åâ€œã€‚æƒé™æ˜¯ public</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setName(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–â€å¹´é¾„â€œã€‚æƒé™æ˜¯ protected</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">int</span> getAge() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> age;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è®¾ç½®â€å¹´é¾„â€œã€‚æƒé™æ˜¯ protected</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> setAge(<span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–â€œæ€§åˆ«â€ã€‚æƒé™æ˜¯ private</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Gender getGender() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> gender;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è®¾ç½®â€œæ€§åˆ«â€ã€‚æƒé™æ˜¯ private</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> setGender(Gender gender) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = gender;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// getInner() ä¸­æœ‰å†…éƒ¨ç±»InnerBï¼Œç”¨æ¥æµ‹è¯•getEnclosingMethod()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> getInner() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å†…éƒ¨ç±»</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">class</span> InnerB{
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–InnerBçš„Classå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>        Class cls = InnerB.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–â€œå°é—­è¯¥å†…éƒ¨ç±»(InnerB)â€çš„æ„é€ æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>        Method cst = cls.<span style="color:#007f7f">getEnclosingMethod</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;call--\&#34;getInner()\&#34; cst=&#34;</span>+cst);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;(&#34;</span>+name+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+age+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+gender+<span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>getDeclaredMethod() : person=(Jimmy, 30, MALE), name=Jimmy, age=30, gender=MALE
</span></span><span style="display:flex;"><span>getMethod() : person=(Phobe, 0, FEMALE)
</span></span><span style="display:flex;"><span>call--&#34;getInner()&#34; cst=public void com.skywang.test.Person.getInner()
</span></span><span style="display:flex;"><span>getEnclosingMethod : person=(unknown, 0, FEMALE)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æˆå‘˜å˜é‡">æˆå‘˜å˜é‡<a hidden class="anchor" aria-hidden="true" href="#æˆå‘˜å˜é‡">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œåç§°æ˜¯nameâ€çš„publicçš„æˆå‘˜å˜é‡(åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicæˆå‘˜å˜é‡)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field    getField(String name)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å…¨éƒ¨çš„publicæˆå‘˜å˜é‡(åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicæˆå‘˜å˜é‡)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field[]    getFields()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œåç§°æ˜¯nameâ€ï¼Œå¹¶ä¸”æ˜¯ç±»è‡ªèº«å£°æ˜çš„æˆå‘˜å˜é‡ï¼ŒåŒ…å«publicã€protectedå’Œprivateæˆå‘˜å˜é‡ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field    getDeclaredField(String name)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å…¨éƒ¨çš„ç±»è‡ªèº«å£°æ˜çš„æˆå‘˜å˜é‡ï¼ŒåŒ…å«publicã€protectedå’Œprivateæˆå‘˜å˜é‡ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Field[]    getDeclaredFields()
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å¯¹è¿™äº›APIè¿›è¡Œè¯´æ˜ã€‚ç¤ºä¾‹ä»£ç (DemoClassField.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Field;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»çš„&#34;æˆå‘˜å˜é‡&#34;ç›¸å…³APIçš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassField {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// getDeclaredField() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>        testGetDeclaredField() ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// getField() çš„æµ‹è¯•å‡½æ•°</span>
</span></span><span style="display:flex;"><span>        testGetField() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getDeclaredField() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getDeclaredField() ç”¨äºè·å–çš„æ˜¯ç±»è‡ªèº«å£°æ˜çš„æ‰€æœ‰æˆå‘˜éå†ï¼ŒåŒ…å«publicã€protectedå’Œprivateæ–¹æ³•ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetDeclaredField() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°(ä¸å¸¦å‚æ•°)</span>
</span></span><span style="display:flex;"><span>            Object person = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè·å–Filed</span>
</span></span><span style="display:flex;"><span>            Field fName = cls.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);
</span></span><span style="display:flex;"><span>            Field fAge = cls.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>);
</span></span><span style="display:flex;"><span>            Field fGender = cls.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;gender&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            fName.<span style="color:#007f7f">set</span>(person, <span style="color:#0ff;font-weight:bold">&#34;Hamier&#34;</span>);
</span></span><span style="display:flex;"><span>            fAge.<span style="color:#007f7f">set</span>(person, 31);
</span></span><span style="display:flex;"><span>            fGender.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);  <span style="color:#007f7f">// å› ä¸º&#34;flag&#34;æ˜¯privateæƒé™ï¼Œæ‰€ä»¥è¦è®¾ç½®è®¿é—®æƒé™ä¸ºtrueï¼›å¦åˆ™ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</span>
</span></span><span style="display:flex;"><span>            fGender.<span style="color:#007f7f">set</span>(person, Gender.<span style="color:#007f7f">FEMALE</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: person=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getDeclaredField()&#34;</span>, person);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getField() çš„æµ‹è¯•å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * getField() ç”¨äºè·å–çš„æ˜¯publicçš„â€œæˆå‘˜â€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testGetField() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–Personç±»çš„Class</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè°ƒç”¨ç±»çš„é»˜è®¤æ„é€ å‡½æ•°(ä¸å¸¦å‚æ•°)</span>
</span></span><span style="display:flex;"><span>            Object person = cls.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®classï¼Œè·å–Filed</span>
</span></span><span style="display:flex;"><span>            Field fName = cls.<span style="color:#007f7f">getField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);
</span></span><span style="display:flex;"><span>            Field fAge = cls.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>);       <span style="color:#007f7f">// æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºPersonä¸­ageæ˜¯protectedæƒé™ã€‚ </span>
</span></span><span style="display:flex;"><span>            Field fGender = cls.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;gender&#34;</span>); <span style="color:#007f7f">// æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºPersonä¸­genderæ˜¯privateæƒé™ã€‚ </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®æ„é€ å‡½æ•°ï¼Œåˆ›å»ºç›¸åº”çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            fName.<span style="color:#007f7f">set</span>(person, <span style="color:#0ff;font-weight:bold">&#34;Grace&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//fAge.set(person, 26);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//fGender.set(person, Gender.FEMALE);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s: person=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                    <span style="color:#0ff;font-weight:bold">&#34;getField()&#34;</span>, person);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æšä¸¾ç±»å‹ã€‚è¡¨ç¤ºâ€œæ€§åˆ«â€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">enum</span> Gender{  
</span></span><span style="display:flex;"><span>    MALE, FEMALE
</span></span><span style="display:flex;"><span>} 
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// äºº</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// privateã€‚æ€§åˆ«</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Gender gender;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// protectedã€‚ å¹´é¾„</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// publicã€‚ å§“å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>(<span style="color:#0ff;font-weight:bold">&#34;unknown&#34;</span>, 0, Gender.<span style="color:#007f7f">FEMALE</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age, Gender gender) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">gender</span> = gender;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;(&#34;</span>+name+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+age+<span style="color:#0ff;font-weight:bold">&#34;, &#34;</span>+gender+<span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>getDeclaredField() : person=(Hamier, 31, FEMALE)
</span></span><span style="display:flex;"><span>getField() : person=(Grace, 0, FEMALE)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç±»çš„å…¶ä»–ä¿¡æ¯">ç±»çš„å…¶ä»–ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#ç±»çš„å…¶ä»–ä¿¡æ¯">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–ç±»çš„&#34;annotationClass&#34;ç±»å‹çš„æ³¨è§£ (åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicæˆå‘˜å˜é‡)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation&lt;A&gt;    getAnnotation(Class annotationClass)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–ç±»çš„å…¨éƒ¨æ³¨è§£ (åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿çš„ã€ä»æ¥å£å®ç°çš„æ‰€æœ‰publicæˆå‘˜å˜é‡)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation[]    getAnnotations()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–ç±»è‡ªèº«å£°æ˜çš„å…¨éƒ¨æ³¨è§£ (åŒ…å«publicã€protectedå’Œprivateæˆå‘˜å˜é‡)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Annotation[]    getDeclaredAnnotations()
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹å¯¹è¿™äº›APIè¿›è¡Œè¯´æ˜ã€‚ç¤ºä¾‹ä»£ç (DemoClassAnnotation.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.annotation.Retention;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.annotation.RetentionPolicy;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»getAnnotation()çš„æµ‹è¯•ç¨‹åº
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassAnnotation {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®â€œç±»åâ€è·å– å¯¹åº”çš„Classå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–â€œPersonç±»â€çš„æ³¨è§£</span>
</span></span><span style="display:flex;"><span>            MyAnnotation myann = cls.<span style="color:#007f7f">getAnnotation</span>(MyAnnotation.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;myann=&#34;</span>+myann);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * MyAnnotationæ˜¯è‡ªå®šä¹‰ä¸ªä¸€ä¸ªAnnotation
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@Retention(RetentionPolicy.<span style="color:#007f7f">RUNTIME</span>)
</span></span><span style="display:flex;"><span>@interface MyAnnotation {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * MyAnnotation æ˜¯Personçš„æ³¨è§£ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@MyAnnotation 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š
<code>myann=@com.skywang.test.MyAnnotation()</code></p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>MyAnnotation æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰ä¸ªä¸€ä¸ªAnnotationæ³¨è§£ã€‚</li>
<li>getAnnotation()å°±æ˜¯è·å–è¿™ä¸ªç±»çš„æ³¨è§£ã€‚</li>
</ul>
<h3 id="çˆ¶ç±»å’Œæ¥å£ç›¸å…³çš„api">çˆ¶ç±»å’Œæ¥å£ç›¸å…³çš„API<a hidden class="anchor" aria-hidden="true" href="#çˆ¶ç±»å’Œæ¥å£ç›¸å…³çš„api">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–å®ç°çš„å…¨éƒ¨æ¥å£</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Type[]    getGenericInterfaces()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–çˆ¶ç±»</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Type    getGenericSuperclass()
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¤ºä¾‹ä»£ç (DemoClassInterface.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.Serializable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Runnable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Thread;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Type;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»çš„æœ‰å…³çˆ¶ç±»å’Œæ¥å£çš„æµ‹è¯•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassInterface {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ ¹æ®â€œç±»åâ€è·å– å¯¹åº”çš„Classå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>            Class&lt;?&gt; cls = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;com.skywang.test.Person&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–â€œPersonâ€çš„çˆ¶ç±»</span>
</span></span><span style="display:flex;"><span>            Type father = cls.<span style="color:#007f7f">getGenericSuperclass</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è·å–â€œPersonâ€å®ç°çš„å…¨éƒ¨æ¥å£</span>
</span></span><span style="display:flex;"><span>            Type[] intfs = cls.<span style="color:#007f7f">getGenericInterfaces</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;father=&#34;</span>+father);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (Type t:intfs)
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;t=&#34;</span>+t);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * Person ç»§æ‰¿äº Objectï¼Œå¹¶ä¸”å®ç°äº†Serializableå’ŒRunnableæ¥å£
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person <span style="color:#fff;font-weight:bold">extends</span> Object <span style="color:#fff;font-weight:bold">implements</span> Serializable, Runnable{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> run() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>father=class java.lang.Object
</span></span><span style="display:flex;"><span>t=interface java.io.Serializable
</span></span><span style="display:flex;"><span>t=interface java.lang.Runnable
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å‰©ä½™çš„api">å‰©ä½™çš„API<a hidden class="anchor" aria-hidden="true" href="#å‰©ä½™çš„api">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œç±»åâ€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    getSimpleName()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–â€œå®Œæ•´ç±»åâ€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    getName()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæšä¸¾ç±»â€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isEnum()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// objæ˜¯ä¸æ˜¯ç±»çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isInstance(Object obj)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæ¥å£â€</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isInterface()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæœ¬åœ°ç±»â€ã€‚æœ¬åœ°ç±»,å°±æ˜¯å®šä¹‰åœ¨æ–¹æ³•å†…éƒ¨çš„ç±»ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isLocalClass()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæˆå‘˜ç±»â€ã€‚æˆå‘˜ç±»,æ˜¯å†…éƒ¨ç±»çš„ä¸€ç§ï¼Œä½†æ˜¯å®ƒä¸æ˜¯â€œå†…éƒ¨ç±»â€æˆ–â€œåŒ¿åç±»â€ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isMemberClass()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œåŸºæœ¬ç±»å‹â€ã€‚ åŸºæœ¬ç±»å‹ï¼ŒåŒ…æ‹¬voidå’Œbooleanã€byteã€charã€shortã€intã€longã€float å’Œ doubleè¿™å‡ ç§ç±»å‹ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isPrimitive()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œå¤åˆç±»â€ã€‚ JVMä¸­æ‰ä¼šäº§ç”Ÿå¤åˆç±»ï¼Œåœ¨javaåº”ç”¨ç¨‹åºä¸­ä¸å­˜åœ¨â€œå¤åˆç±»â€ï¼</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isSynthetic()
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¤ºä¾‹ä»£ç (DemoClassOtherAPIs.java)å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.skywang.test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Class;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Runnable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.annotation.ElementType;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.TreeMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * java Classç±»çš„getName(), isInterface()ç­‰æµ‹è¯•ç¨‹åº
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DemoClassOtherAPIs {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Class cls = DemoClassOtherAPIs.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–â€œç±»åâ€</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:getSimpleName()=%s\n&#34;</span>, cls, cls.<span style="color:#007f7f">getSimpleName</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–â€œå®Œæ•´ç±»åâ€</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:getName()=%s\n&#34;</span>, cls, cls.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æµ‹è¯•å…¶å®ƒçš„API</span>
</span></span><span style="display:flex;"><span>        testOtherAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testOtherAPIs() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æœ¬åœ°ç±»</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">class</span> LocalA {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æµ‹è¯•æšä¸¾ç±»å‹ã€‚ElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»</span>
</span></span><span style="display:flex;"><span>        Class elementtypeCls = ElementType.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isEnum()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                elementtypeCls, elementtypeCls.<span style="color:#007f7f">isEnum</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åˆ¤æ–­æ˜¯ä¸æ˜¯ç±»çš„å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>        Class demoCls = DemoClassOtherAPIs.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        DemoClassOtherAPIs demoObj = <span style="color:#fff;font-weight:bold">new</span> DemoClassOtherAPIs();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isInstance(obj)=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                demoCls, demoCls.<span style="color:#007f7f">isInstance</span>(demoObj));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæ¥å£â€</span>
</span></span><span style="display:flex;"><span>        Class runCls = Runnable.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isInterface()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                runCls, runCls.<span style="color:#007f7f">isInterface</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæœ¬åœ°ç±»â€ã€‚æœ¬åœ°ç±»,å°±æ˜¯å®šä¹‰åœ¨æ–¹æ³•å†…éƒ¨çš„ç±»ã€‚</span>
</span></span><span style="display:flex;"><span>        Class localCls = LocalA.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isLocalClass()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                localCls, localCls.<span style="color:#007f7f">isLocalClass</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œæˆå‘˜ç±»â€ã€‚æˆå‘˜ç±»,æ˜¯å†…éƒ¨ç±»çš„ä¸€ç§ï¼Œä½†æ˜¯å®ƒä¸æ˜¯â€œå†…éƒ¨ç±»â€æˆ–â€œåŒ¿åç±»â€ã€‚</span>
</span></span><span style="display:flex;"><span>        Class memCls = MemberB.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isMemberClass()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                memCls, memCls.<span style="color:#007f7f">isMemberClass</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œåŸºæœ¬ç±»å‹â€ã€‚ åŸºæœ¬ç±»å‹ï¼ŒåŒ…æ‹¬voidå’Œbooleanã€byteã€charã€shortã€intã€longã€float å’Œ doubleè¿™å‡ ç§ç±»å‹ã€‚</span>
</span></span><span style="display:flex;"><span>        Class primCls = <span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isPrimitive()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                primCls, primCls.<span style="color:#007f7f">isPrimitive</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç±»æ˜¯ä¸æ˜¯â€œå¤åˆç±»â€ã€‚ JVMä¸­æ‰ä¼šäº§ç”Ÿå¤åˆç±»ï¼Œåœ¨javaåº”ç”¨ç¨‹åºä¸­ä¸å­˜åœ¨â€œå¤åˆç±»â€ï¼</span>
</span></span><span style="display:flex;"><span>        Class synCls = DemoClassOtherAPIs.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s:isSynthetic()=%s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                synCls, synCls.<span style="color:#007f7f">isSynthetic</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å†…éƒ¨æˆå‘˜ç±»</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">class</span> MemberB {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šè‹¥ç¨‹åºæ— æ³•è¿è¡Œï¼Œè¯·æ£€æŸ¥â€œforName()â€ä¸­çš„åŒ…åæ˜¯å¦æ­£ç¡®ï¼forName()çš„å‚æ•°å¿…é¡»æ˜¯ï¼ŒPersonç±»çš„å®Œæ•´åŒ…åã€‚</p>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs :getSimpleName()=DemoClassOtherAPIs
</span></span><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs :getName()=com.skywang.test.DemoClassOtherAPIs
</span></span><span style="display:flex;"><span>class java.lang.annotation.ElementType :isEnum()=true
</span></span><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs :isInstance(obj)=true
</span></span><span style="display:flex;"><span>interface java.lang.Runnable :isInterface()=true
</span></span><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs$1LocalA :isLocalClass()=true
</span></span><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs$MemberB :isMemberClass()=true
</span></span><span style="display:flex;"><span>int :isPrimitive()=true
</span></span><span style="display:flex;"><span>class com.skywang.test.DemoClassOtherAPIs :isSynthetic()=false
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼šisSynthetic()æ˜¯ç”¨æ¥åˆ¤æ–­Classæ˜¯ä¸æ˜¯â€œå¤åˆç±»â€ã€‚è¿™åœ¨javaåº”ç”¨ç¨‹åºä¸­åªä¼šè¿”å›falseï¼Œä¸ä¼šè¿”å›trueã€‚å› ä¸ºï¼ŒJVMä¸­æ‰ä¼šäº§ç”Ÿå¤åˆç±»ï¼Œåœ¨javaåº”ç”¨ç¨‹åºä¸­ä¸å­˜åœ¨â€œå¤åˆç±»â€ï¼</p>
<p><a href="https://www.cnblogs.com/skywang12345/p/3345205.html">å‚è€ƒ</a></p>
<h1 id="å†…çœ">å†…çœ<a hidden class="anchor" aria-hidden="true" href="#å†…çœ">#</a></h1>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå†…çœæ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆRun timeï¼‰æ£€æŸ¥å¯¹è±¡ï¼ˆObjectï¼‰ç±»å‹çš„ä¸€ç§èƒ½åŠ›ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥ç§°ä½œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ã€‚ ä¸åº”è¯¥å°†å†…çœå’Œåå°„æ··æ·†ã€‚ç›¸å¯¹äºå†…çœï¼Œåå°„æ›´è¿›ä¸€æ­¥ï¼Œæ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆRun timeï¼‰å¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚</p>
<h2 id="å†…çœå’Œåå°„çš„åŒºåˆ«">å†…çœå’Œåå°„çš„åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#å†…çœå’Œåå°„çš„åŒºåˆ«">#</a></h2>
<p>åå°„æ˜¯åœ¨è¿è¡ŒçŠ¶æ€æŠŠJavaç±»ä¸­çš„å„ç§æˆåˆ†æ˜ å°„æˆç›¸åº”çš„Javaç±»ï¼Œå¯ä»¥åŠ¨æ€çš„è·å–æ‰€æœ‰çš„å±æ€§ä»¥åŠåŠ¨æ€è°ƒç”¨ä»»æ„ä¸€ä¸ªæ–¹æ³•ï¼Œå¼ºè°ƒçš„æ˜¯è¿è¡ŒçŠ¶æ€ã€‚</p>
<p>å†…çœ(IntroSpector)æ˜¯Java è¯­è¨€é’ˆå¯¹ Bean ç±»å±æ€§ã€äº‹ä»¶çš„ä¸€ç§ç¼ºçœå¤„ç†æ–¹æ³•ã€‚JavaBeanæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œä¸»è¦ç”¨äºä¼ é€’æ•°æ®ä¿¡æ¯ï¼Œè¿™ç§ç±»ä¸­çš„æ–¹æ³•ä¸»è¦ç”¨äºè®¿é—®ç§æœ‰çš„å­—æ®µï¼Œä¸”æ–¹æ³•åç¬¦åˆæŸç§å‘½åè§„åˆ™ã€‚å¦‚æœåœ¨ä¸¤ä¸ªæ¨¡å—ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼Œå¯ä»¥å°†ä¿¡æ¯å°è£…è¿›JavaBeanä¸­ï¼Œè¿™ç§å¯¹è±¡ç§°ä¸ºâ€œå€¼å¯¹è±¡â€(Value Object)ï¼Œæˆ–â€œVOâ€ã€‚æ–¹æ³•æ¯”è¾ƒå°‘ã€‚è¿™äº›ä¿¡æ¯å‚¨å­˜åœ¨ç±»çš„ç§æœ‰å˜é‡ä¸­ï¼Œé€šè¿‡set()ã€get()è·å¾—ã€‚å†…çœæœºåˆ¶æ˜¯é€šè¿‡åå°„æ¥å®ç°çš„ï¼ŒBeanInfoç”¨æ¥æš´éœ²ä¸€ä¸ªbeançš„å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶ï¼Œä»¥åæˆ‘ä»¬å°±å¯ä»¥æ“çºµè¯¥JavaBeançš„å±æ€§ã€‚</p>
<p>Java ä¸­æä¾›äº†ä¸€å¥— API ç”¨æ¥è®¿é—®æŸä¸ªå±æ€§çš„ getter/setter æ–¹æ³•ï¼Œè¿™äº› API å­˜æ”¾åœ¨ java.beans åŒ…ä¸­ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String password;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// abä¹Ÿæ˜¯beanä¸­çš„ä¸€ä¸ªå±æ€§</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getAb() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getName() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setName(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getPassword() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> password;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setPassword(String password) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">password</span> = password;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> getAge() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> age;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setAge(<span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.beans.BeanInfo;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.beans.Introspector;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.beans.PropertyDescriptor;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Method;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Neixing {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            test1();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è·å–beançš„æ‰€æœ‰å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @throws Exception
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> test1() <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        BeanInfo info = Introspector.<span style="color:#007f7f">getBeanInfo</span>(Person.<span style="color:#007f7f">class</span>, Object.<span style="color:#007f7f">class</span>);<span style="color:#007f7f">// ä¸è‡ªçœä»çˆ¶ç±»ç»§æ‰¿çš„å±æ€§</span>
</span></span><span style="display:flex;"><span>        PropertyDescriptor[] pds = info.<span style="color:#007f7f">getPropertyDescriptors</span>();<span style="color:#007f7f">// å–å¾—å±æ€§æè¿°å™¨</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (PropertyDescriptor pd : pds) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(pd.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ“çºµbeançš„æŒ‡å®šå±æ€§ï¼šage
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @throws Exception
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> test2() <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        PropertyDescriptor pd = <span style="color:#fff;font-weight:bold">new</span> PropertyDescriptor(<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>, Person.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å¾—åˆ°å±æ€§çš„å†™æ–¹æ³•ï¼Œä¸ºå±æ€§èµ‹å€¼</span>
</span></span><span style="display:flex;"><span>        Method method = pd.<span style="color:#007f7f">getWriteMethod</span>(); <span style="color:#007f7f">// setAge</span>
</span></span><span style="display:flex;"><span>        method.<span style="color:#007f7f">invoke</span>(p, 24);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–å±æ€§çš„å€¼</span>
</span></span><span style="display:flex;"><span>        method = pd.<span style="color:#007f7f">getReadMethod</span>(); <span style="color:#007f7f">// getAge()</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(method.<span style="color:#007f7f">invoke</span>(p, <span style="color:#fff;font-weight:bold">null</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è·å–å½“å‰æ“ä½œçš„å±æ€§çš„ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @throws Exception
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> test3() <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        PropertyDescriptor pd = <span style="color:#fff;font-weight:bold">new</span> PropertyDescriptor(<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>, Person.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(pd.<span style="color:#007f7f">getPropertyType</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å°è®®-java-å†…çœæœºåˆ¶">å°è®® Java å†…çœæœºåˆ¶<a hidden class="anchor" aria-hidden="true" href="#å°è®®-java-å†…çœæœºåˆ¶">#</a></h1>
<p>åŸæ–‡ï¼š<a href="https://xiaomi-info.github.io/2020/03/16/java-beans-introspection/">å°è®® Java å†…çœæœºåˆ¶ | å°ç±³ä¿¡æ¯éƒ¨æŠ€æœ¯å›¢é˜Ÿ (xiaomi-info.github.io)</a></p>
<h2 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬æ¦‚å¿µ">#</a></h2>
<p>Wiki ä¸­æ˜¯è¿™æ ·æè¿°å†…çœçš„ï¼š</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå†…çœæ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆRun timeï¼‰æ£€æŸ¥å¯¹è±¡ï¼ˆObjectï¼‰ç±»å‹çš„ä¸€ç§èƒ½åŠ›ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥ç§°ä½œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ã€‚</p>
</blockquote>
<p>è¿™ä¸ªæè¿°éå¸¸å®½æ³›ï¼Œä½†æœ‰ä¸‰ä¸ªå…³é”®è¯ï¼š</p>
<ul>
<li>è¿è¡Œæ—¶</li>
<li>å¯¹è±¡</li>
<li>ç±»å‹</li>
</ul>
<p>Java å®˜æ–¹å¯¹ Java Beans å†…çœçš„å®šä¹‰ï¼š</p>
<blockquote>
<p>At runtime and in the builder environment we need to be able to figure out which properties, events, and methods a Java Bean supports. We call this process introspection.</p>
</blockquote>
<p>ä» Java Bean çš„è§’åº¦æ¥çœ‹ï¼Œè¿™é‡Œçš„å¯¹è±¡å°±æ˜¯ Bean å¯¹è±¡ï¼Œä¸»è¦å…³æ³¨ç‚¹æ˜¯å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿è¡Œæ—¶å¯ä»¥è·å–ç›¸åº”çš„ä¿¡æ¯è¿›è¡Œä¸€äº›å¤„ç†ï¼Œè¿™å°±æ˜¯ Java Beans çš„å†…çœæœºåˆ¶ã€‚</p>
<h3 id="ä¸åå°„çš„åŒºåˆ«">ä¸åå°„çš„åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#ä¸åå°„çš„åŒºåˆ«">#</a></h3>
<p>Java Beans å†…çœå…¶å®å°±æ˜¯å¯¹åå°„çš„ä¸€ç§å°è£…ï¼Œè¿™ä¸ªä»æºç ä¸­æˆ–è€…å®˜æ–¹æ–‡æ¡£ä¸­éƒ½èƒ½çœ‹åˆ°ï¼š</p>
<blockquote>
<p>By default we will use a low level reflection mechanism to study the methods supported by a target bean and then apply simple design patterns to deduce from those methods what properties, events, and public methods are supported.</p>
</blockquote>
<h2 id="java-beans-å†…çœæœºåˆ¶">Java Beans å†…çœæœºåˆ¶<a hidden class="anchor" aria-hidden="true" href="#java-beans-å†…çœæœºåˆ¶">#</a></h2>
<h3 id="æ ¸å¿ƒç±»åº“">æ ¸å¿ƒç±»åº“<a hidden class="anchor" aria-hidden="true" href="#æ ¸å¿ƒç±»åº“">#</a></h3>
<p>Java Beans å†…çœæœºåˆ¶çš„æ ¸å¿ƒç±»æ˜¯ <code>Introspector</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>* The Introspector <span style="color:#fff;font-weight:bold">class</span> provides a standard way <span style="color:#fff;font-weight:bold">for</span> tools to learn about
</span></span><span style="display:flex;"><span>* the properties, events, and methods supported by a target Java Bean.
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ“ä½œèŒƒå›´ä¸»è¦åŒ…æ‹¬ä½†ä¸å±€é™äº Java Beans çš„å±æ€§ï¼Œäº‹ä»¶å’Œæ–¹æ³•ï¼Œå…·ä½“æ˜¯åŸºäºä»¥ä¸‹å‡ ä¸ªç±»å®ç°ï¼š</p>
<ul>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>BeanInfo
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Java Bean ä¿¡æ¯ç±»</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyDescriptor
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§æè¿°ç±»</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>MethodDescriptor
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ–¹æ³•æè¿°ç±»</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>EventSetDescriptor
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>äº‹ä»¶æè¿°é›†åˆ</li>
</ul>
</li>
</ul>
<p>å…ˆçœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š</p>
<p>å®šä¹‰ä¸€ä¸ª Java Beanï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public class User {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private String username;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private Integer age;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    // getter/setter
</span></span><span style="display:flex;"><span>    // toString
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test1() throws IntrospectionException {
</span></span><span style="display:flex;"><span>    //è·å– User Bean ä¿¡æ¯
</span></span><span style="display:flex;"><span>    BeanInfo userBeanInfo = Introspector.getBeanInfo(User.class);
</span></span><span style="display:flex;"><span>    //å±æ€§æè¿°
</span></span><span style="display:flex;"><span>    PropertyDescriptor[] propertyDescriptors = userBeanInfo.getPropertyDescriptors();
</span></span><span style="display:flex;"><span>    System.out.println(&#34;å±æ€§æè¿°ï¼š&#34;);
</span></span><span style="display:flex;"><span>    Stream.of(propertyDescriptors).forEach(System.out::println);
</span></span><span style="display:flex;"><span>    //æ–¹æ³•æè¿°
</span></span><span style="display:flex;"><span>    System.out.println(&#34;æ–¹æ³•æè¿°ï¼š&#34;);
</span></span><span style="display:flex;"><span>    MethodDescriptor[] methodDescriptors = userBeanInfo.getMethodDescriptors();
</span></span><span style="display:flex;"><span>    Stream.of(methodDescriptors).forEach(System.out::println);
</span></span><span style="display:flex;"><span>    //äº‹ä»¶æè¿°
</span></span><span style="display:flex;"><span>    System.out.println(&#34;äº‹ä»¶æè¿°ï¼š&#34;);
</span></span><span style="display:flex;"><span>    EventSetDescriptor[] eventSetDescriptors = userBeanInfo.getEventSetDescriptors();
</span></span><span style="display:flex;"><span>    Stream.of(eventSetDescriptors).forEach(System.out::println);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>å±æ€§æè¿°ï¼š
</span></span><span style="display:flex;"><span>java.beans.PropertyDescriptor[name=age; propertyType=class java.lang.Integer; readMethod=public java.lang.Integer introspector.bean.User.getAge(); writeMethod=public void introspector.bean.User.setAge(java.lang.Integer)]
</span></span><span style="display:flex;"><span>java.beans.PropertyDescriptor[name=class; propertyType=class java.lang.Class; readMethod=public final native java.lang.Class java.lang.Object.getClass()]
</span></span><span style="display:flex;"><span>java.beans.PropertyDescriptor[name=username; propertyType=class java.lang.String; readMethod=public java.lang.String introspector.bean.User.getUsername(); writeMethod=public void introspector.bean.User.setUsername(java.lang.String)]
</span></span><span style="display:flex;"><span>æ–¹æ³•æè¿°ï¼š
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=getClass; method=public final native java.lang.Class java.lang.Object.getClass()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=setAge; method=public void introspector.bean.User.setAge(java.lang.Integer)]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=getAge; method=public java.lang.Integer introspector.bean.User.getAge()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=wait; method=public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=notifyAll; method=public final native void java.lang.Object.notifyAll()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=notify; method=public final native void java.lang.Object.notify()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=getUsername; method=public java.lang.String introspector.bean.User.getUsername()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=wait; method=public final void java.lang.Object.wait() throws java.lang.InterruptedException]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=hashCode; method=public native int java.lang.Object.hashCode()]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=setUsername; method=public void introspector.bean.User.setUsername(java.lang.String)]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=wait; method=public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=equals; method=public boolean java.lang.Object.equals(java.lang.Object)]
</span></span><span style="display:flex;"><span>java.beans.MethodDescriptor[name=toString; method=public java.lang.String introspector.bean.User.toString()]
</span></span><span style="display:flex;"><span>äº‹ä»¶æè¿°ï¼š
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹å‡ºé€šè¿‡å†…çœæœºåˆ¶å¯ä»¥è·å– Java Bean çš„å±æ€§ã€æ–¹æ³•æè¿°ï¼Œè¿™é‡Œäº‹ä»¶æè¿°æ˜¯ç©ºçš„ï¼ˆå…³äºäº‹ä»¶ç›¸å…³ä¼šåœ¨åé¢ä»‹ç»ï¼‰ã€‚ç”±äº Java ç±»éƒ½ä¼šç»§æ‰¿ <code>Object</code> ç±»ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œå°† <code>Object</code> ç±»ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•æè¿°ä¹Ÿè¾“å‡ºäº†ï¼Œå¦‚æœæƒ³å°†æŸä¸ªç±»çš„æè¿°ä¿¡æ¯æ’é™¤å¯ä»¥ä½¿ç”¨ <code>java.beans.Introspector#getBeanInfo(java.lang.Class&lt;?&gt;, java.lang.Class&lt;?&gt;)</code> è¿™ä¸ªæ–¹æ³•ã€‚</p>
<h3 id="å±æ€§å¤„ç†">å±æ€§å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å±æ€§å¤„ç†">#</a></h3>
<h4 id="é…ç½®ç»‘å®š">é…ç½®ç»‘å®š<a hidden class="anchor" aria-hidden="true" href="#é…ç½®ç»‘å®š">#</a></h4>
<p>é€šè¿‡ <code>PropertyDescriptor</code> å¯ä»¥åŸºäºå­—æ®µåä¸ºå¯å†™å±æ€§è®¾ç½®å€¼ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨è¿™æ ·çš„é…ç½®æ–‡ä»¶ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>user:
</span></span><span style="display:flex;"><span>  username: zhangsan
</span></span><span style="display:flex;"><span>  age: 1
</span></span></code></pre></td></tr></table>
</div>
</div><p>é…ç½®æ–‡ä»¶ä¼šä¸å¯¹è±¡è¿›è¡Œæ•°æ®ç»‘å®šã€‚æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test2() throws IntrospectionException {
</span></span><span style="display:flex;"><span>    YamlPropertiesFactoryBean yaml = new YamlPropertiesFactoryBean();
</span></span><span style="display:flex;"><span>    yaml.setResources(new ClassPathResource(&#34;application.yml&#34;));
</span></span><span style="display:flex;"><span>    String path = &#34;user.&#34;;
</span></span><span style="display:flex;"><span>    Properties properties = yaml.getObject();
</span></span><span style="display:flex;"><span>    System.out.println(properties);
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    //è·å– User Bean ä¿¡æ¯ï¼Œæ’é™¤ Object
</span></span><span style="display:flex;"><span>    BeanInfo userBeanInfo = Introspector.getBeanInfo(User.class, Object.class);
</span></span><span style="display:flex;"><span>    //å±æ€§æè¿°
</span></span><span style="display:flex;"><span>    PropertyDescriptor[] propertyDescriptors = userBeanInfo.getPropertyDescriptors();
</span></span><span style="display:flex;"><span>    Stream.of(propertyDescriptors).forEach(propertyDescriptor -&gt; {
</span></span><span style="display:flex;"><span>        //è·å–å±æ€§åç§°
</span></span><span style="display:flex;"><span>        String property = propertyDescriptor.getName();
</span></span><span style="display:flex;"><span>        try {
</span></span><span style="display:flex;"><span>            propertyDescriptor.getWriteMethod().invoke(user,properties.get(path+property));
</span></span><span style="display:flex;"><span>        } catch (IllegalAccessException | InvocationTargetException ignored) {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    System.out.println(user);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>User{username=&#39;zhangsan&#39;, age=1}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="åœ¨-spring-ä¸­çš„ä½¿ç”¨">åœ¨ Spring ä¸­çš„ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#åœ¨-spring-ä¸­çš„ä½¿ç”¨">#</a></h5>
<p>åœ¨ä¼ ç»Ÿçš„ Spring å¼€å‘ä¸­æˆ‘ä»¬éœ€è¦åœ¨ web.xml ä¸­æŒ‡å®šä¸€äº›é…ç½®å‚æ•°ï¼Œæ¯”å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>&lt;servlet&gt;
</span></span><span style="display:flex;"><span>    &lt;servlet-name&gt;app&lt;/servlet-name&gt;
</span></span><span style="display:flex;"><span>    &lt;servlet-<span style="color:#fff;font-weight:bold">class</span>&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-<span style="color:#fff;font-weight:bold">class</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;init-param&gt;
</span></span><span style="display:flex;"><span>        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
</span></span><span style="display:flex;"><span>        &lt;param-value&gt;&lt;/param-value&gt;
</span></span><span style="display:flex;"><span>    &lt;/init-param&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#fff;font-weight:bold">load</span>-on-startup&gt;<span style="color:#ff0;font-weight:bold">1</span>&lt;/<span style="color:#fff;font-weight:bold">load</span>-on-startup&gt;
</span></span><span style="display:flex;"><span>&lt;/servlet&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œæœ‰ä¸€ä¸ª <code>contextConfigLocation</code> å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æœ€ç»ˆæ˜¯ä¸ <code>FrameworkServlet</code> ç±»ä¸­çš„ä¸€ä¸ªå±æ€§è¿›è¡Œç»‘å®šï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>public abstract <span style="color:#fff;font-weight:bold">class</span> FrameworkServlet <span style="color:#fff;font-weight:bold">extends</span> HttpServletBean implements ApplicationContextAware {
</span></span><span style="display:flex;"><span>  private String contextConfigLocation;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‚£ä¹ˆ Spring æ˜¯å¦‚ä½•å°† web.xml ä¸­çš„é…ç½®é¡¹ä¸å±æ€§è¿›è¡Œç»‘å®šçš„å‘¢ï¼Œå¯ä»¥å‚æ•°çœ‹<code>org.springframework.web.servlet.HttpServletBean#init()</code> æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Override
</span></span><span style="display:flex;"><span>public final void init() throws ServletException {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  // Set bean properties from init parameters.
</span></span><span style="display:flex;"><span>  PropertyValues pvs = new ServletConfigPropertyValues(getServletConfig(), this.requiredProperties);
</span></span><span style="display:flex;"><span>  if (!pvs.isEmpty()) {
</span></span><span style="display:flex;"><span>    try {
</span></span><span style="display:flex;"><span>      BeanWrapper bw = PropertyAccessorFactory.forBeanPropertyAccess(this);
</span></span><span style="display:flex;"><span>      ResourceLoader resourceLoader = new ServletContextResourceLoader(getServletContext());
</span></span><span style="display:flex;"><span>      bw.registerCustomEditor(Resource.class, new ResourceEditor(resourceLoader, getEnvironment()));
</span></span><span style="display:flex;"><span>      initBeanWrapper(bw);
</span></span><span style="display:flex;"><span>      bw.setPropertyValues(pvs, true);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    catch (BeansException ex) {
</span></span><span style="display:flex;"><span>      if (logger.isErrorEnabled()) {
</span></span><span style="display:flex;"><span>        logger.error(&#34;Failed to set bean properties on servlet &#39;&#34; + getServletName() + &#34;&#39;&#34;, ex);
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      throw ex;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  // Let subclasses do whatever initialization they like.
</span></span><span style="display:flex;"><span>  initServletBean();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ° Spring æ˜¯é€šè¿‡ <code>BeanWrapper</code> å®Œæˆå¯¹å±æ€§çš„ç»‘å®šï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>public interface BeanWrapper <span style="color:#fff;font-weight:bold">extends</span> ConfigurablePropertyAccessor {
</span></span><span style="display:flex;"><span>    // <span style="color:#f00">è·å–å±æ€§æè¿°å™¨</span>
</span></span><span style="display:flex;"><span>    PropertyDescriptor[] getPropertyDescriptors();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    PropertyDescriptor getPropertyDescriptor(String var1) throws InvalidPropertyException;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œ <code>BeanWrapper</code> åˆç»§æ‰¿äº† <code>PropertyAccessor</code> æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>public interface PropertyAccessor {
</span></span><span style="display:flex;"><span>    //<span style="color:#f00">è¯»å±æ€§</span>
</span></span><span style="display:flex;"><span>    boolean isReadableProperty(String var1);
</span></span><span style="display:flex;"><span>    //<span style="color:#f00">å†™å±æ€§</span>
</span></span><span style="display:flex;"><span>    boolean isWritableProperty(String var1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f00">@</span>Nullable
</span></span><span style="display:flex;"><span>    Class&lt;<span style="color:#f00">?</span>&gt; getPropertyType(String var1) throws BeansException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f00">@</span>Nullable
</span></span><span style="display:flex;"><span>    TypeDescriptor getPropertyTypeDescriptor(String var1) throws BeansException;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¹Ÿå°±æ˜¯è¯´ Spring ä¸­ <code>BeanWrapper</code> åŸºäº Java çš„å†…çœæœºåˆ¶å®ç°äº†å¯¹å±æ€§çš„èµ‹å€¼å·¥ä½œï¼Œä½†æ˜¯ Spring å¹¶æœªå±€é™äº Java æä¾›çš„ APIï¼Œè€Œæ˜¯ä¹Ÿè¿›è¡Œäº†æ‰©å±•å’Œè¿›ä¸€æ­¥çš„å°è£…ï¼Œå¦‚ <code>TypeDescriptor</code>ã€‚</p>
<p>å¯ä»¥å‚è€ƒ <code>org.springframework.web.servlet.HttpServletBean#init()</code> ä¸­ <code>BeanWrapper</code> çš„ä½¿ç”¨æ¥å®ç°å¯¹ <code>User</code> å¯¹è±¡çš„å±æ€§èµ‹å€¼ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test5(){
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    BeanWrapper bw = PropertyAccessorFactory.forBeanPropertyAccess(user);
</span></span><span style="display:flex;"><span>    MutablePropertyValues pvs = new MutablePropertyValues();
</span></span><span style="display:flex;"><span>    pvs.add(&#34;username&#34;,&#34;zhangsan&#34;);
</span></span><span style="display:flex;"><span>    pvs.add(&#34;age&#34;,1);
</span></span><span style="display:flex;"><span>    bw.setPropertyValues(pvs);
</span></span><span style="display:flex;"><span>    System.out.println(user);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>User{username=&#39;zhangsan&#39;, age=1}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ç±»å‹è½¬æ¢">ç±»å‹è½¬æ¢<a hidden class="anchor" aria-hidden="true" href="#ç±»å‹è½¬æ¢">#</a></h4>
<p>æœ‰å±æ€§èµ‹å€¼ï¼Œå¿…ç„¶å°±ä¼šæœ‰ç±»å‹è½¬æ¢ã€‚è¯´ç™½äº†æˆ‘ä»¬ä»é…ç½®æ–‡ä»¶è¯»å–çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²ï¼Œä¸å±æ€§è¿›è¡Œå‚æ•°ç»‘å®šçš„è¿‡ç¨‹ä¸­åŠ¿å¿…ä¼šæœ‰ç±»å‹è½¬æ¢ï¼Œ<code>java.beans</code> ä¸­æä¾›äº†ç›¸åº”çš„ APIï¼š</p>
<ul>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyEditor
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ç¼–è¾‘å™¨é¡¶å±‚æ¥å£</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyEditorSupport
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ç¼–è¾‘å™¨å®ç°ç±»</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyEditorManager
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ç¼–è¾‘å™¨ç®¡ç†å™¨</li>
<li>åœ¨ Spring ä¸­æä¾›äº†ä¸€ä¸ª <code>PropertyEditorRegistrar</code></li>
</ul>
</li>
</ul>
<p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>User ç±»å¢åŠ  Date å±æ€§ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public class User {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private String username;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private Integer age;
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    private Date createTime;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    // getter/setter
</span></span><span style="display:flex;"><span>    // toString
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¥æœŸè½¬æ¢å™¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * <span style="color:#f00">æ—¥æœŸå±æ€§ç¼–è¾‘å™¨</span>
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>public <span style="color:#fff;font-weight:bold">class</span> DatPropertyEditor <span style="color:#fff;font-weight:bold">extends</span> PropertyEditorSupport {
</span></span><span style="display:flex;"><span>    <span style="color:#f00">@</span>Override
</span></span><span style="display:flex;"><span>    public void setAsText(String text) {
</span></span><span style="display:flex;"><span>        try {
</span></span><span style="display:flex;"><span>            setValue((text == null) <span style="color:#f00">?</span> null : new SimpleDateFormat(<span style="color:#0ff;font-weight:bold">&#34;yyyy-MM-dd&#34;</span>).parse(text));
</span></span><span style="display:flex;"><span>        } catch (ParseException e) {
</span></span><span style="display:flex;"><span>            e.printStackTrace();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­å†…çœè®¾ç½®å±æ€§å€¼éƒ½æ˜¯ç›´æ¥é€šè¿‡ <code>PropertyDescriptor</code> è·å–å±æ€§çš„å†™æ–¹æ³•é€šè¿‡åå°„å»èµ‹å€¼ï¼Œè€Œå¦‚æœéœ€è¦å¯¹å€¼è¿›è¡Œç±»å‹è½¬æ¢ï¼Œåˆ™éœ€è¦é€šè¿‡ <code>PropertyEditorSupport#setAsText</code> è°ƒç”¨ <code>setValue</code> æ–¹æ³•ï¼Œç„¶å <code>setValue</code> æ–¹æ³•è§¦å‘å±æ€§å±æ€§ä¿®æ”¹äº‹ä»¶ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public class PropertyEditorSupport implements PropertyEditor {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    public void setValue(Object value) {
</span></span><span style="display:flex;"><span>        this.value = value;
</span></span><span style="display:flex;"><span>        firePropertyChange();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¦æ³¨æ„è¿™é‡Œçš„ <code>value</code> å®é™…ä¸Šæ˜¯ä¸´æ—¶å­˜å‚¨åœ¨ <code>PropertyEditorSupport</code> ä¸­ï¼Œ<code>PropertyEditorSupport</code> åˆ™ä½œä¸ºäº‹ä»¶æºï¼Œä»è€Œå¾—åˆ°ç±»å‹è½¬æ¢åçš„ <code>value</code>ï¼Œå†é€šè¿‡ <code>PropertyDescriptor</code> è·å–å±æ€§çš„å†™æ–¹æ³•é€šè¿‡åå°„å»èµ‹å€¼ã€‚</p>
<p>æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test6() throws IntrospectionException, FileNotFoundException {
</span></span><span style="display:flex;"><span>   Map&lt;String,Object&gt; properties = ImmutableMap.of(&#34;age&#34;,1,&#34;username&#34;,&#34;zhangsan&#34;,&#34;createTime&#34;,&#34;2020-01-01&#34;);
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    //è·å– User Bean ä¿¡æ¯ï¼Œæ’é™¤ Object
</span></span><span style="display:flex;"><span>    BeanInfo userBeanInfo = Introspector.getBeanInfo(User.class, Object.class);
</span></span><span style="display:flex;"><span>    //å±æ€§æè¿°
</span></span><span style="display:flex;"><span>    PropertyDescriptor[] propertyDescriptors = userBeanInfo.getPropertyDescriptors();
</span></span><span style="display:flex;"><span>    Stream.of(propertyDescriptors).forEach(propertyDescriptor -&gt; {
</span></span><span style="display:flex;"><span>        //è·å–å±æ€§åç§°
</span></span><span style="display:flex;"><span>        String property = propertyDescriptor.getName();
</span></span><span style="display:flex;"><span>        //å€¼
</span></span><span style="display:flex;"><span>        Object value = properties.get(property);
</span></span><span style="display:flex;"><span>        if (Objects.equals(&#34;createTime&#34;, property)) {
</span></span><span style="display:flex;"><span>            //è®¾ç½®å±æ€§ç¼–è¾‘å™¨
</span></span><span style="display:flex;"><span>            propertyDescriptor.setPropertyEditorClass(DatPropertyEditor.class);
</span></span><span style="display:flex;"><span>            //åˆ›å»ºå±æ€§ç¼–è¾‘å™¨
</span></span><span style="display:flex;"><span>            PropertyEditor propertyEditor = propertyDescriptor.createPropertyEditor(user);
</span></span><span style="display:flex;"><span>            //æ·»åŠ ç›‘å¬å™¨
</span></span><span style="display:flex;"><span>            propertyEditor.addPropertyChangeListener(evt -&gt; {
</span></span><span style="display:flex;"><span>                //è·å–è½¬æ¢åçš„value
</span></span><span style="display:flex;"><span>                Object value1 = propertyEditor.getValue();
</span></span><span style="display:flex;"><span>                setPropertyValue(user, propertyDescriptor, value1);
</span></span><span style="display:flex;"><span>            });
</span></span><span style="display:flex;"><span>            propertyEditor.setAsText(String.valueOf(value));
</span></span><span style="display:flex;"><span>            return;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        setPropertyValue(user, propertyDescriptor, value);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    System.out.println(user);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * è®¾ç½®å±æ€§å€¼
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>private void setPropertyValue(User user, PropertyDescriptor propertyDescriptor, Object value1) {
</span></span><span style="display:flex;"><span>    try {
</span></span><span style="display:flex;"><span>        propertyDescriptor.getWriteMethod().invoke(user, value1);
</span></span><span style="display:flex;"><span>    } catch (IllegalAccessException | InvocationTargetException ignored) {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>User{username=&#39;zhangsan&#39;, age=1, createTime=2020-1-1 0:00:00}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="äº‹ä»¶ç›‘å¬">äº‹ä»¶ç›‘å¬<a hidden class="anchor" aria-hidden="true" href="#äº‹ä»¶ç›‘å¬">#</a></h3>
<p>å…ˆä¸¾ä¸€ä¸ªçš„ä¾‹å­ï¼Œåœ¨ Mac ä¸­è®¾ç½®é£ä¹¦é€šçŸ¥æ–¹å¼çš„æ—¶å€™ï¼Œå½“ç•Œé¢å³ä¾§é€‰æ‹©â€œæç¤ºâ€çš„æ—¶å€™ï¼Œé‚£ä¹ˆå·¦ä¾§ä¹Ÿä¼šç›¸åº”çš„æ˜¾ç¤ºä¸ºâ€œæç¤ºâ€ï¼š</p>
<p>å¦‚æœå°†å³ä¾§çœ‹æˆä¸€ä¸ª Java Beanï¼Œé‚£ä¹ˆè¿™ä¸­é—´åŠ¿å¿…å­˜åœ¨ä¸€ä¸ªå±æ€§å˜åŒ–ç›‘å¬ã€‚<code>java.beans</code> åŒ…ä¸­ä¹Ÿæä¾›äº†ç›¸åº”å®ç°ï¼š</p>
<ul>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyChangeEvent
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§å˜åŒ–äº‹ä»¶</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyChangeListener
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>PropertyChangeSupport
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨ç®¡ç†å™¨â€™</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>VetoableChangeListener
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–ç›‘å¬å™¨</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>VetoableChangeSupport
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–ç›‘å¬å™¨ç®¡ç†å™¨</li>
</ul>
</li>
</ul>
<p><code>PropertyChangeEvent</code> çš„æ„é€ æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public PropertyChangeEvent(Object source, String propertyName,
</span></span><span style="display:flex;"><span>    Object oldValue, Object newValue) {
</span></span><span style="display:flex;"><span>    super(source);
</span></span><span style="display:flex;"><span>    this.propertyName = propertyName;
</span></span><span style="display:flex;"><span>    this.newValue = newValue;
</span></span><span style="display:flex;"><span>    this.oldValue = oldValue;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡è¿™ä¸ªæ„é€ æ–¹æ³•å¯ä»¥çœ‹å‡ºå±æ€§å˜åŒ–ç›‘å¬çš„å…³æ³¨ç‚¹ï¼š</p>
<ul>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>source
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>äº‹ä»¶æº</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>propertyName
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>å‘ç”Ÿå˜åŒ–çš„å±æ€§åç§°</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>oldValue
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ—§å€¼</li>
</ul>
</li>
<li>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>newValue
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>æ–°å€¼</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<p>åœ¨ <code>User</code> ä¸­å¢åŠ å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>public class User {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private String username;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    private Integer age;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨ç®¡ç†å™¨
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    private PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * å¯åŠ¨å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–
</span></span><span style="display:flex;"><span>     * @param propertyName 
</span></span><span style="display:flex;"><span>     * @param oldValue 
</span></span><span style="display:flex;"><span>     * @param newValue
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    private void firePropertyChange(String propertyName, String oldValue, String newValue) {
</span></span><span style="display:flex;"><span>        PropertyChangeEvent event = new PropertyChangeEvent(this, propertyName, oldValue, newValue);
</span></span><span style="display:flex;"><span>        propertyChangeSupport.firePropertyChange(event);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * æ·»åŠ å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    public void addPropertyChangeListener(PropertyChangeListener listener){
</span></span><span style="display:flex;"><span>        propertyChangeSupport.addPropertyChangeListener(listener);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * åˆ é™¤å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    public void removePropertyChangeListener(PropertyChangeListener listener){
</span></span><span style="display:flex;"><span>        propertyChangeSupport.removePropertyChangeListener(listener);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    /**
</span></span><span style="display:flex;"><span>     * è·å–å±æ€§ï¼ˆç”Ÿæ•ˆï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    public PropertyChangeListener[] getPropertyChangeListeners() {
</span></span><span style="display:flex;"><span>        return propertyChangeSupport.getPropertyChangeListeners();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    public void setUsername(String username) {
</span></span><span style="display:flex;"><span>        String oldValue = this.username;
</span></span><span style="display:flex;"><span>        this.username = username;
</span></span><span style="display:flex;"><span>        firePropertyChange(&#34;username&#34;, oldValue, username);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>   // getter/setter
</span></span><span style="display:flex;"><span>   // toString
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test3(){
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    user.setAge(1);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;zhangsan&#34;);
</span></span><span style="display:flex;"><span>    user.addPropertyChangeListener(System.out::println);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;lisi&#34;);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;wangwu&#34;);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>java.beans.PropertyChangeEvent[propertyName=name; oldValue=zhangsan; newValue=lisi; propagationId=null; source=User{username=&#39;lisi&#39;, age=1}]
</span></span><span style="display:flex;"><span>java.beans.PropertyChangeEvent[propertyName=name; oldValue=lisi; newValue=wangwu; propagationId=null; source=User{username=&#39;wangwu&#39;, age=1}]
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥çœ‹åˆ°åœ¨æ·»åŠ äº†ç›‘å¬å™¨åï¼Œå½“ username å±æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ä¼šå‡ºå‘ç›‘å¬äº‹ä»¶ã€‚</p>
<p>å†çœ‹çœ‹å¦å¤–ä¸€ç§ç›‘å¬å™¨ <code>VetoableChangeListener</code>ã€‚åœ¨ <code>User</code> ä¸­æ·»åŠ ç›‘å¬å™¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>private VetoableChangeSupport vetoableChangeSupport = new VetoableChangeSupport(this);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * å¯åŠ¨å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–
</span></span><span style="display:flex;"><span> * @param propertyName
</span></span><span style="display:flex;"><span> * @param oldValue
</span></span><span style="display:flex;"><span> * @param newValue
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>private void fireVetoableChange(String propertyName, String oldValue, String newValue) throws PropertyVetoException {
</span></span><span style="display:flex;"><span>    PropertyChangeEvent event = new PropertyChangeEvent(this, propertyName, oldValue, newValue);
</span></span><span style="display:flex;"><span>    vetoableChangeSupport.fireVetoableChange(event);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * æ·»åŠ å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>public void addVetoableChangeListener(VetoableChangeListener listener){
</span></span><span style="display:flex;"><span>    vetoableChangeSupport.addVetoableChangeListener(listener);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * åˆ é™¤å±æ€§ï¼ˆå¦å†³ï¼‰å˜åŒ–ç›‘å¬å™¨
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>public void removeVetoableChangeListener(VetoableChangeListener listener){
</span></span><span style="display:flex;"><span>    vetoableChangeSupport.removeVetoableChangeListener(listener);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>public void setUsername(String username) throws PropertyVetoException {
</span></span><span style="display:flex;"><span>    String oldValue = this.username;
</span></span><span style="display:flex;"><span>    fireVetoableChange(&#34;username&#34;,oldValue,username);
</span></span><span style="display:flex;"><span>    this.username = username;
</span></span><span style="display:flex;"><span>    firePropertyChange(&#34;username&#34;, oldValue, username);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test3() throws PropertyVetoException {
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    user.setAge(1);
</span></span><span style="display:flex;"><span>    user.addVetoableChangeListener(evt -&gt; {
</span></span><span style="display:flex;"><span>        System.out.println(evt.getNewValue()+&#34;,,&#34;+evt.getOldValue());
</span></span><span style="display:flex;"><span>        if (Objects.equals(evt.getNewValue(), evt.getOldValue())) {
</span></span><span style="display:flex;"><span>            throw new PropertyVetoException(&#34;å½“å‰å±æ€§å€¼æœªå‘ç”Ÿä»»ä½•å˜åŒ–&#34;, evt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    user.addPropertyChangeListener(System.out::println);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;lisi&#34;);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;zhangsan&#34;);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;zhangsan&#34;);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œæ—¶å‘ç°ä¸€ç›´æ— æ³•æŠ›å‡ºå¼‚å¸¸ã€‚æŸ¥çœ‹æºç å‘ç° <code>PropertyChangeSupport</code> å’Œ <code>VetoableChangeSupport</code> å½“æ–°æ—§å€¼ç›¸ç­‰æ—¶ä¸ä¼šè§¦å‘ç›‘å¬ï¼Œäºæ˜¯ä¿®æ”¹æµ‹è¯•ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test3() throws PropertyVetoException {
</span></span><span style="display:flex;"><span>    User user = new User();
</span></span><span style="display:flex;"><span>    user.setAge(1);
</span></span><span style="display:flex;"><span>    user.addVetoableChangeListener(evt -&gt; {
</span></span><span style="display:flex;"><span>        System.out.println(evt.getNewValue()+&#34;,,&#34;+evt.getOldValue());
</span></span><span style="display:flex;"><span>        if (Objects.isNull(evt.getNewValue())) {
</span></span><span style="display:flex;"><span>            throw new PropertyVetoException(&#34;username ä¸èƒ½ä¸ºnull&#34;, evt);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    user.addPropertyChangeListener(System.out::println);
</span></span><span style="display:flex;"><span>    user.setUsername(&#34;lisi&#34;);
</span></span><span style="display:flex;"><span>    user.setUsername(null);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>lisi,,null
</span></span><span style="display:flex;"><span>java.beans.PropertyChangeEvent[propertyName=username; oldValue=null; newValue=lisi; propagationId=null; source=User{username=&#39;lisi&#39;, age=1}]
</span></span><span style="display:flex;"><span>null,,lisi
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>java.beans.PropertyVetoException: username ä¸èƒ½ä¸ºnull
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  at introspector.test.IntrospectorTest.lambda$test3$1(IntrospectorTest.java:78)
</span></span><span style="display:flex;"><span>  at java.beans.VetoableChangeSupport.fireVetoableChange(VetoableChangeSupport.java:375)
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥å‘ç°å½“ç¬¦åˆâ€œå¦å†³â€å±æ€§å˜åŒ–çš„æ¡ä»¶æ—¶ï¼Œä¼šæŠ›å‡º <code>PropertyVetoException</code> å¼‚å¸¸é˜»æ–­å±æ€§çš„å˜åŒ–ã€‚</p>
<p>åœ¨ä¹‹å‰çš„ç¤ºä¾‹ä¸­ <code>userBeanInfo</code> è¾“å‡ºçš„ <code>EventSetDescriptor</code> ä¸ºç©ºï¼Œè¿™æ˜¯å› ä¸ºå¹¶æœªåˆ° <code>User</code> ç±»ä¸­å¢åŠ äº‹ä»¶ã€‚ç°åœ¨å†æµ‹è¯•ä¸€ä¸‹è·å– <code>EventSetDescriptor</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Test
</span></span><span style="display:flex;"><span>public void test1() throws IntrospectionException {
</span></span><span style="display:flex;"><span>    BeanInfo userBeanInfo = Introspector.getBeanInfo(User.class, Object.class);
</span></span><span style="display:flex;"><span>    EventSetDescriptor[] eventSetDescriptors = userBeanInfo.getEventSetDescriptors();
</span></span><span style="display:flex;"><span>    Stream.of(eventSetDescriptors).forEach(System.out::println);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¾“å‡ºç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>java.beans.EventSetDescriptor[name=propertyChange; inDefaultEventSet; listenerType=interface java.beans.PropertyChangeListener; getListenerMethod=public java.beans.PropertyChangeListener[] introspector.bean.User.getPropertyChangeListeners(); addListenerMethod=public void introspector.bean.User.addPropertyChangeListener(java.beans.PropertyChangeListener); removeListenerMethod=public void introspector.bean.User.removePropertyChangeListener(java.beans.PropertyChangeListener)]
</span></span><span style="display:flex;"><span>java.beans.EventSetDescriptor[name=vetoableChange; inDefaultEventSet; listenerType=interface java.beans.VetoableChangeListener; addListenerMethod=public void introspector.bean.User.addVetoableChangeListener(java.beans.VetoableChangeListener); removeListenerMethod=public void introspector.bean.User.removeVetoableChangeListener(java.beans.VetoableChangeListener)]
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å…¶ä»–">å…¶ä»–<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–">#</a></h2>
<p>åœ¨ Java ç”Ÿæ€é£é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œå¾ˆå¤šåº•å±‚æŠ€æœ¯ç»†èŠ‚éƒ½è¢«é«˜çº§æ¡†æ¶æ‰€å±è”½ï¼Œè€Œ Java Beans å°±æ˜¯å…¶ä¸­ä¸€ç§ã€‚ä¹Ÿè®¸å¹³æ—¶æ ¹æœ¬å°±ç”¨ä¸åˆ°ï¼Œä½†æ˜¯å…¶ä»£ç è®¾è®¡å’Œæ€æƒ³ç†å¿µä¸åº”è¯¥è¢«å¿½è§†ã€‚Dubbo 2.7 ä¹‹åæå‡ºäº†â€œæœåŠ¡è‡ªçœâ€çš„æ¦‚å¿µï¼Œå…¶çµæ„Ÿå°±æ¥æºäº Java Beans å†…çœæœºåˆ¶ã€‚</p>
<h2 id="references">References<a hidden class="anchor" aria-hidden="true" href="#references">#</a></h2>
<ul>
<li><a href="https://zh.wikipedia.org/zh-hans/%E5%86%85%E7%9C%81_%28%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%29">https://zh.wikipedia.org/zh-hans/%E5%86%85%E7%9C%81_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)</a></li>
<li><a href="https://yq.aliyun.com/live/1944">https://yq.aliyun.com/live/1944</a></li>
<li>ã€Šbeans.101.pdfã€‹</li>
</ul>
<h1 id="å…¶ä»–-1">å…¶ä»–<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–-1">#</a></h1>
<h2 id="åå°„ç®€å•è§£é‡Š">åå°„ï¼ˆç®€å•è§£é‡Šï¼‰<a hidden class="anchor" aria-hidden="true" href="#åå°„ç®€å•è§£é‡Š">#</a></h2>
<p>é¦–å…ˆæˆ‘ä»¬äº†è§£ä¸€ä¸‹JVMï¼Œä»€ä¹ˆæ˜¯JVMï¼ŒJavaçš„è™šæ‹Ÿæœºï¼Œjavaä¹‹æ‰€ä»¥èƒ½è·¨å¹³å°å°±æ˜¯å› ä¸ºè¿™ä¸ªä¸œè¥¿ï¼Œ
ä½ å¯ä»¥ç†è§£æˆä¸€ä¸ªè¿›ç¨‹ï¼Œç¨‹åºï¼Œåªä¸è¿‡ä»–çš„ä½œç”¨æ˜¯ç”¨æ¥è·‘ä½ çš„ä»£ç çš„ã€‚
å‡å¦‚ä½ å†™äº†ä¸€æ®µä»£ç ï¼šObject o=new Object();  è¿è¡Œäº†èµ·æ¥ï¼</p>
<p>1.é¦–å…ˆJVMä¼šå¯åŠ¨ï¼Œä½ çš„ä»£ç ä¼šç¼–è¯‘æˆä¸€ä¸ª.classæ–‡ä»¶
2.ç„¶åè¢«ç±»åŠ è½½å™¨åŠ è½½è¿›jvmçš„å†…å­˜ä¸­ï¼Œä½ çš„ç±»ObjectåŠ è½½åˆ°æ–¹æ³•åŒºä¸­ï¼Œåˆ›å»ºäº†Objectç±»çš„classå¯¹è±¡åˆ°å †ä¸­ï¼Œæ³¨æ„è¿™ä¸ªä¸æ˜¯newå‡ºæ¥çš„å¯¹è±¡ï¼Œè€Œæ˜¯ç±»çš„ç±»å‹å¯¹è±¡ï¼Œæ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªclasså¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºç±»çš„æ•°æ®ç»“æ„çš„æ¥å£ã€‚</p>
<p>jvmåˆ›å»ºå¯¹è±¡å‰ï¼Œä¼šå…ˆæ£€æŸ¥ç±»æ˜¯å¦åŠ è½½ï¼Œå¯»æ‰¾ç±»å¯¹åº”çš„classå¯¹è±¡ï¼Œè‹¥åŠ è½½å¥½ï¼Œåˆ™ä¸ºä½ çš„å¯¹è±¡åˆ†é…å†…å­˜ï¼Œåˆå§‹åŒ–ä¹Ÿå°±æ˜¯ä»£ç :new Object()ã€‚ä¸Šé¢çš„æµç¨‹å°±æ˜¯ä½ è‡ªå·±å†™å¥½çš„ä»£ç æ‰”ç»™jvmå»è·‘ï¼Œè·‘å®Œå°±overäº†ï¼Œjvmå…³é—­ï¼Œä½ çš„ç¨‹åºä¹Ÿåœæ­¢äº†ã€‚ä¸ºä»€ä¹ˆè¦è®²è¿™ä¸ªå‘¢ï¼Ÿå› ä¸ºè¦ç†è§£åå°„å¿…é¡»çŸ¥é“å®ƒåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨ã€‚</p>
<p>æƒ³æƒ³ä¸Šé¢çš„ç¨‹åºå¯¹è±¡æ˜¯è‡ªå·±newçš„ï¼Œç¨‹åºç›¸å½“äºå†™æ­»äº†ç»™jvmå»è·‘ã€‚å‡å¦‚ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçªç„¶é‡åˆ°æŸä¸ªè¯·æ±‚è¦ç”¨åˆ°æŸä¸ªç±»ï¼Œä½†æ²¡åŠ è½½è¿›jvmï¼Œæ˜¯ä¸æ˜¯è¦åœä¸‹æ¥è‡ªå·±å†™æ®µä»£ç ï¼Œnewä¸€ä¸‹ï¼Œå†å¯åŠ¨ä¸€ä¸‹æœåŠ¡å™¨ï¼Ÿé”™</p>
<p>åå°„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå½“æˆ‘ä»¬çš„ç¨‹åºåœ¨è¿è¡Œæ—¶ï¼Œ
éœ€è¦åŠ¨æ€çš„åŠ è½½ä¸€äº›ç±»è¿™äº›ç±»å¯èƒ½ä¹‹å‰ç”¨ä¸åˆ°æ‰€ä»¥ä¸ç”¨åŠ è½½åˆ°jvmã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­æˆ‘ä»¬çš„é¡¹ç›®åº•å±‚æœ‰æ—¶æ˜¯ç”¨mysqlï¼Œæœ‰æ—¶ç”¨oracleï¼Œ
éœ€è¦åŠ¨æ€åœ°æ ¹æ®å®é™…æƒ…å†µåŠ è½½é©±åŠ¨ç±»ï¼Œè¿™ä¸ªæ—¶å€™åå°„å°±æœ‰ç”¨äº†ï¼Œ
å‡è®¾ com.java.dbtest.myqlConnectionï¼Œcom.java.dbtest.oracleConnection
è¿™ä¸¤ä¸ªç±»æˆ‘ä»¬è¦ç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„ç¨‹åºå°±å†™å¾—æ¯”è¾ƒåŠ¨æ€åŒ–ï¼Œ
é€šè¿‡Class tc = Class.forName(&ldquo;com.java.dbtest.TestConnection&rdquo;);
é€šè¿‡ç±»çš„å…¨ç±»åè®©jvmåœ¨æœåŠ¡å™¨ä¸­æ‰¾åˆ°å¹¶åŠ è½½è¿™ä¸ªç±»ï¼Œ
è€Œå¦‚æœæ˜¯oracleåˆ™ä¼ å…¥çš„å‚æ•°å°±å˜æˆå¦ä¸€ä¸ªäº†ã€‚
è¿™æ—¶å€™å°±å¯ä»¥çœ‹åˆ°åå°„çš„å¥½å¤„äº†ï¼Œè¿™ä¸ªåŠ¨æ€æ€§å°±ä½“ç°å‡ºjavaçš„ç‰¹æ€§äº†ï¼
å½“ç„¶è¿™é‡Œåªæ˜¯ä¸¾äº†åå°„çš„ä¸€ä¸ªåº”ç”¨ï¼Œå®é™…è¿˜æœ‰å…¶ä»–ä½œç”¨ï¼Œåªæ˜¯è¿™ä¸ªä¾‹å­èƒ½æ›´å¥½åœ°ç†è§£ï¼</p>
<h3 id="æ¦‚å¿µ">æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#æ¦‚å¿µ">#</a></h3>
<p>åå°„ï¼šä¸»è¦æ˜¯æŒ‡ç¨‹åºå¯ä»¥è®¿é—®ï¼Œæ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ï¼Œ
å¹¶èƒ½æ ¹æ®è‡ªèº«è¡Œä¸ºçš„çŠ¶æ€å’Œç»“æœï¼Œè°ƒæ•´æˆ–ä¿®æ”¹åº”ç”¨æ‰€æè¿°è¡Œä¸ºçš„çŠ¶æ€å’Œç›¸å…³çš„è¯­ä¹‰ã€‚</p>
<p>ç¨‹åºä¸­ä¸€èˆ¬çš„å¯¹è±¡çš„ç±»å‹éƒ½æ˜¯åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šä¸‹æ¥çš„ï¼Œè€ŒJavaåå°„æœºåˆ¶å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨å…¶å±æ€§ï¼Œè¿™æ ·çš„å¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚
æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå¯¹è±¡çš„ç±»å‹åœ¨ç¼–è¯‘æœŸæ˜¯æœªçŸ¥çš„ã€‚
åå°„çš„æ ¸å¿ƒæ˜¯JVMåœ¨è¿è¡Œæ—¶æ‰åŠ¨æ€åŠ è½½ç±»æˆ–è°ƒç”¨æ–¹æ³•/è®¿é—®å±æ€§ï¼Œå®ƒä¸éœ€è¦äº‹å…ˆï¼ˆå†™ä»£ç çš„æ—¶å€™æˆ–ç¼–è¯‘æœŸï¼‰çŸ¥é“è¿è¡Œå¯¹è±¡æ˜¯è°ã€‚</p>
<p>Javaåå°„æ¡†æ¶ä¸»è¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼ˆé€šè¿‡åå°„ç”šè‡³å¯ä»¥è°ƒç”¨privateæ–¹æ³•ï¼‰ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼›
é‡ç‚¹ï¼šæ˜¯è¿è¡Œæ—¶è€Œä¸æ˜¯ç¼–è¯‘æ—¶</li>
</ul>
<p>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨IDE(å¦‚Eclipseï¼ŒIDEA)æ—¶ï¼Œå½“æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªå¯¹è±¡æˆ–ç±»å¹¶æƒ³è°ƒç”¨å®ƒçš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œä¸€æŒ‰ç‚¹å·ï¼Œç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨åˆ—å‡ºå®ƒçš„å±æ€§æˆ–æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¼šç”¨åˆ°åå°„ã€‚
å¾ˆå¤šæ¡†æ¶ï¼ˆæ¯”å¦‚Springï¼‰éƒ½æ˜¯é…ç½®åŒ–çš„ï¼ˆæ¯”å¦‚é€šè¿‡XMLæ–‡ä»¶é…ç½®JavaBean,Actionä¹‹ç±»çš„ï¼‰ï¼Œ
ä¸ºäº†ä¿è¯æ¡†æ¶çš„é€šç”¨æ€§ï¼Œå®ƒä»¬å¯èƒ½éœ€è¦æ ¹æ®é…ç½®æ–‡ä»¶åŠ è½½ä¸åŒçš„å¯¹è±¡æˆ–ç±»ï¼Œè°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™å°±å¿…é¡»ç”¨åˆ°åå°„â€”â€”è¿è¡Œæ—¶åŠ¨æ€åŠ è½½éœ€è¦çš„å¯¹è±¡ã€‚</p>
<h3 id="åå°„æœºåˆ¶çš„ä½œç”¨">åå°„æœºåˆ¶çš„ä½œç”¨ï¼š<a hidden class="anchor" aria-hidden="true" href="#åå°„æœºåˆ¶çš„ä½œç”¨">#</a></h3>
<p>1.åç¼–è¯‘ï¼š.class&ndash;&gt;.java
2.é€šè¿‡åå°„æœºåˆ¶è®¿é—®javaå¯¹è±¡çš„å±æ€§ï¼Œæ–¹æ³•ï¼Œæ„é€ æ–¹æ³•ç­‰ï¼›</p>
<h3 id="javaä¸ºæˆ‘ä»¬æä¾›çš„åå°„æœºåˆ¶ä¸­çš„ç±»">javaä¸ºæˆ‘ä»¬æä¾›çš„åå°„æœºåˆ¶ä¸­çš„ç±»<a hidden class="anchor" aria-hidden="true" href="#javaä¸ºæˆ‘ä»¬æä¾›çš„åå°„æœºåˆ¶ä¸­çš„ç±»">#</a></h3>
<p>java.lang.Class;
java.lang.reflect.Constructor;
java.lang.reflect.Field;
java.lang.reflect.Method;
java.lang.reflect.Modifier;
å¾ˆå¤šåå°„ä¸­çš„æ–¹æ³•ï¼Œå±æ€§ç­‰æ“ä½œæˆ‘ä»¬å¯ä»¥ä»è¿™å››ä¸ªç±»ä¸­æŸ¥è¯¢ã€‚</p>
<h3 id="å…·ä½“åŠŸèƒ½å®ç°">å…·ä½“åŠŸèƒ½å®ç°<a hidden class="anchor" aria-hidden="true" href="#å…·ä½“åŠŸèƒ½å®ç°">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>1.<span style="color:#007f7f">åå°„æœºåˆ¶è·å–ç±»æœ‰ä¸‰ç§æ–¹æ³•</span><span style="color:#f00">ï¼Œ</span>æˆ‘ä»¬æ¥è·å–Employeeç±»å‹
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ç¬¬ä¸€ç§æ–¹å¼ï¼š  (æ³¨æ„è¦åŒ…å+ç±»å)</span>
</span></span><span style="display:flex;"><span>Class c1 = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;demo.Employee&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ç¬¬äºŒç§æ–¹å¼ï¼š</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//javaä¸­æ¯ä¸ªç±»å‹éƒ½æœ‰classå±æ€§.</span>
</span></span><span style="display:flex;"><span>Class c2 = Employee.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ç¬¬ä¸‰ç§æ–¹å¼ï¼š</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//javaè¯­è¨€ä¸­ä»»ä½•ä¸€ä¸ªjavaå¯¹è±¡éƒ½æœ‰getClass æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>Employee e = <span style="color:#fff;font-weight:bold">new</span> Employee();
</span></span><span style="display:flex;"><span>Class c3 = e.<span style="color:#007f7f">getClass</span>(); <span style="color:#007f7f">//c3æ˜¯è¿è¡Œæ—¶ç±» (eçš„è¿è¡Œæ—¶ç±»æ˜¯Employee)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>2.<span style="color:#007f7f">åˆ›å»ºå¯¹è±¡</span><span style="color:#f00">ï¼š</span>è·å–ç±»ä»¥åæˆ‘ä»¬æ¥åˆ›å»ºå®ƒçš„å¯¹è±¡<span style="color:#f00">ï¼Œ</span>åˆ©ç”¨newInstance
</span></span><span style="display:flex;"><span>Class c = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;demo.Employee&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//åˆ›å»ºæ­¤Class å¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»çš„ä¸€ä¸ªæ–°å®ä¾‹</span>
</span></span><span style="display:flex;"><span>Object o = c.<span style="color:#007f7f">newInstance</span>(); <span style="color:#007f7f">//è°ƒç”¨äº†Employeeçš„æ— å‚æ•°æ„é€ æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>3.<span style="color:#007f7f">è·å–å±æ€§</span><span style="color:#f00">ï¼š</span>åˆ†ä¸ºæ‰€æœ‰çš„å±æ€§å’ŒæŒ‡å®šçš„å±æ€§<span style="color:#f00">ï¼š</span>
</span></span><span style="display:flex;"><span>b<span style="color:#f00">ï¼Œ</span>è·å–ç‰¹å®šçš„å±æ€§<span style="color:#f00">ï¼Œ</span>å¯¹æ¯”ç€ä¼ ç»Ÿçš„æ–¹æ³•æ¥å­¦ä¹ <span style="color:#f00">ï¼š</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//Studentç±»</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Student {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name ;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ä¼ ç»Ÿæ–¹æ³•ï¼š</span>
</span></span><span style="display:flex;"><span>Student s = <span style="color:#fff;font-weight:bold">new</span> Student();
</span></span><span style="display:flex;"><span>s.<span style="color:#007f7f">age</span> = 12; <span style="color:#007f7f">//set </span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s.<span style="color:#007f7f">age</span>);<span style="color:#007f7f">//get </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ä½†æ˜¯æ— æ³•è·å–privateçš„å±æ€§</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//åå°„æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>Class&lt;?&gt; c1 = Class.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;reflect.Student&#34;</span>);<span style="color:#007f7f">//å–å¾—å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>Object o = c1.<span style="color:#007f7f">newInstance</span>();<span style="color:#007f7f">//å®ä¾‹åŒ–å¯¹è±¡ </span>
</span></span><span style="display:flex;"><span>Field nameF = c1.<span style="color:#007f7f">getDeclaredField</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);<span style="color:#007f7f">//è·å–nameå±æ€§</span>
</span></span><span style="display:flex;"><span>nameF.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>); <span style="color:#007f7f">//ä½¿ç”¨åå°„æœºåˆ¶å¯ä»¥æ‰“ç ´å°è£…æ€§ï¼Œå¯¼è‡´äº†javaå¯¹è±¡çš„å±æ€§ä¸å®‰å…¨ã€‚</span>
</span></span><span style="display:flex;"><span>nameF.<span style="color:#007f7f">set</span>(o,<span style="color:#0ff;font-weight:bold">&#34;é’¢è›‹&#34;</span>);<span style="color:#007f7f">//ç»™å±æ€§èµ‹å€¼</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(nameF.<span style="color:#007f7f">get</span>(o));
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>4.<span style="color:#007f7f">è·å–æ–¹æ³•</span><span style="color:#f00">ï¼Œ</span>å’Œæ„é€ æ–¹æ³•<span style="color:#f00">ï¼Œ</span>ä¸å†è¯¦ç»†æè¿°<span style="color:#f00">ï¼Œ</span>åªæ¥çœ‹ä¸€ä¸‹å…³é”®å­—<span style="color:#f00">ï¼š</span>
</span></span><span style="display:flex;"><span>æ–¹æ³•å’Œå…³é”®å­—:
</span></span><span style="display:flex;"><span>getDeclaredMethods():è·å–æ‰€æœ‰çš„æ–¹æ³•
</span></span><span style="display:flex;"><span>getReturnType():è·å¾—æ–¹æ³•çš„æ”¾å›ç±»å‹
</span></span><span style="display:flex;"><span>getParameterTypes():è·å¾—æ–¹æ³•çš„ä¼ å…¥å‚æ•°ç±»å‹
</span></span><span style="display:flex;"><span>getDeclaredMethod(<span style="color:#0ff;font-weight:bold">&#34;æ–¹æ³•å&#34;</span>,å‚æ•°ç±»å‹.<span style="color:#007f7f">class</span>,<span style="color:#f00">â€¦â€¦</span>):è·å¾—ç‰¹å®šçš„æ–¹æ³•
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>æ„é€ æ–¹æ³•å…³é”®å­—
</span></span><span style="display:flex;"><span>getDeclaredConstructors():è·å–æ‰€æœ‰çš„æ„é€ æ–¹æ³•
</span></span><span style="display:flex;"><span>getDeclaredConstructor(å‚æ•°ç±»å‹.<span style="color:#007f7f">class</span>,<span style="color:#f00">â€¦â€¦</span>):è·å–ç‰¹å®šçš„æ„é€ æ–¹æ³•
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>çˆ¶ç±»å’Œçˆ¶æ¥å£:
</span></span><span style="display:flex;"><span>getSuperclass():è·å–æŸç±»çš„çˆ¶ç±»
</span></span><span style="display:flex;"><span>getInterfaces():è·å–æŸç±»å®ç°çš„æ¥å£
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è·å¾—ç±»çš„å„ç§å†…å®¹ï¼Œè¿›è¡Œäº†åç¼–è¯‘ã€‚
å¯¹äºJAVAè¿™ç§å…ˆç¼–è¯‘å†è¿è¡Œçš„è¯­è¨€æ¥è¯´ï¼Œåå°„æœºåˆ¶å¯ä»¥ä½¿ä»£ç æ›´åŠ çµæ´»ï¼Œæ›´åŠ å®¹æ˜“å®ç°é¢å‘å¯¹è±¡ã€‚
<a href="https://www.sczyh30.com/posts/Java/java-reflection-1/">å‚è€ƒ</a></p>
<h2 id="åå°„æ€§èƒ½ç ”ç©¶">åå°„æ€§èƒ½ç ”ç©¶<a hidden class="anchor" aria-hidden="true" href="#åå°„æ€§èƒ½ç ”ç©¶">#</a></h2>
<p>å¯èƒ½æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¨¡ç³Šçš„æ¦‚å¿µï¼Œåå°„æ€§èƒ½ä¼šæ…¢ï¼Œä½†æ˜¯æœ‰å¤šæ…¢æ²¡æœ‰ä¸€ä¸ªå…·ä½“çš„æ•°æ®ã€‚é‚£æˆ‘å°±å†™ä»£ç æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.itbac.reflection;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Field;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> test {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> NoSuchFieldException, IllegalAccessException {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> begin = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        Book book = <span style="color:#fff;font-weight:bold">new</span> Book();
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setName</span>(<span style="color:#0ff;font-weight:bold">&#34;javaä»å…¥é—¨åˆ°æ”¾å¼ƒ&#34;</span>);
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setNum</span>(1);
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setPrice</span>(1.<span style="color:#007f7f">2</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(book.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>              <span style="color:#007f7f">//å¾ªç¯ä¸€åƒä¸‡æ¬¡</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &lt; 10000000; i++) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//1.setæ–¹æ³•èµ‹å€¼  è€—æ—¶æ¯«ç§’ï¼š7</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            book.setNum(++i);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//2.åå°„èµ‹å€¼  è€—æ—¶æ¯«ç§’ï¼š1045</span>
</span></span><span style="display:flex;"><span>            setFeild(book, i,<span style="color:#0ff;font-weight:bold">&#34;num&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(book.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> end = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;æ¯«ç§’ï¼š&#34;</span>+(end-begin));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> setFeild(Book book, <span style="color:#fff;font-weight:bold">int</span> i,String str) <span style="color:#fff;font-weight:bold">throws</span> NoSuchFieldException, IllegalAccessException {
</span></span><span style="display:flex;"><span>        Class&lt;? <span style="color:#fff;font-weight:bold">extends</span> Book&gt; aClass = book.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>        Field num = aClass.<span style="color:#007f7f">getDeclaredField</span>(str);
</span></span><span style="display:flex;"><span>        num.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>        num.<span style="color:#007f7f">set</span>(book, i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‘ç°åœ¨å¾ªç¯èµ‹å€¼ä¸€åƒä¸‡æ¬¡çš„æ—¶å€™ï¼Œåå°„è€—æ—¶ä¸€ç§’ã€‚
å†çœ‹ä¸¤ä¸ªæ–¹æ³•çš„å¯¹æ¯”ï¼Œsetæ–¹æ³•ç›´æ¥å°±èƒ½èµ‹å€¼ï¼Œåå°„æ–¹æ³•è¿˜éœ€è¦è·å–Class å’Œ Field ï¼Œè®¾ç½®è®¿é—®æƒé™ï¼Œå¥½å‡ 
éƒ¨æ“ä½œã€‚æˆ‘å¯ä»¥ç”¨ä¸€ä¸ªmapæ¥ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.itbac.reflection;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Field;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> test {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> NoSuchFieldException, IllegalAccessException {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> begin = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        Book book = <span style="color:#fff;font-weight:bold">new</span> Book();
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setName</span>(<span style="color:#0ff;font-weight:bold">&#34;javaä»å…¥é—¨åˆ°æ”¾å¼ƒ&#34;</span>);
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setNum</span>(1);
</span></span><span style="display:flex;"><span>        book.<span style="color:#007f7f">setPrice</span>(1.<span style="color:#007f7f">2</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(book.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>        Map&lt;String, Field&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>              <span style="color:#007f7f">//å¾ªç¯ä¸€åƒä¸‡æ¬¡</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &lt; 10000000; i++) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//1.setæ–¹æ³•èµ‹å€¼  è€—æ—¶æ¯«ç§’ï¼š7</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            book.setNum(++i);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//2.åå°„èµ‹å€¼(æ²¡æœ‰ç”¨map)  è€—æ—¶æ¯«ç§’ï¼š1045</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//3.åå°„èµ‹å€¼(ä½¿ç”¨mapç¼“å­˜Field)  è€—æ—¶æ¯«ç§’ï¼š95</span>
</span></span><span style="display:flex;"><span>            setFeild(book, i,<span style="color:#0ff;font-weight:bold">&#34;num&#34;</span>,map);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(book.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> end = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è€—æ—¶æ¯«ç§’ï¼š&#34;</span>+(end-begin));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> setFeild(Book book, <span style="color:#fff;font-weight:bold">int</span> i,String str,Map&lt;String, Field&gt; map) <span style="color:#fff;font-weight:bold">throws</span> NoSuchFieldException, IllegalAccessException{
</span></span><span style="display:flex;"><span>        Field field = map.<span style="color:#007f7f">get</span>(str);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">null</span> == field) {
</span></span><span style="display:flex;"><span>            Class&lt;? <span style="color:#fff;font-weight:bold">extends</span> Book&gt; aClass = book.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>            field= aClass.<span style="color:#007f7f">getDeclaredField</span>(str);
</span></span><span style="display:flex;"><span>            field.<span style="color:#007f7f">setAccessible</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>            map.<span style="color:#007f7f">put</span>(str, field);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        field.<span style="color:#007f7f">set</span>(book, i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·å¤„ç†ï¼Œå¾—å‡ºä¸€ä¸ªæ•°æ®ï¼Œ95 é™¤ä»¥ 7  çº¦ç­‰äº 13.5  ï¼Œå¾—å‡ºç»“è®ºï¼Œåœ¨ä¸€åƒä¸‡æ¬¡è°ƒç”¨ï¼Œåå°„èµ‹å€¼æ¯”ç›´æ¥èµ‹å€¼æ…¢äº† 13.5å€ã€‚</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/java%E5%9F%BA%E7%A1%80/">JavaåŸºç¡€</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>