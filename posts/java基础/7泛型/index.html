<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>7ã€æ³›å‹ | Wjy&#39;s Blog</title>
<meta name="keywords" content="javaåŸºç¡€">
<meta name="description" content="æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/java%E5%9F%BA%E7%A1%80/7%E6%B3%9B%E5%9E%8B/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="7ã€æ³›å‹" />
<meta property="og:description" content="æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/java%E5%9F%BA%E7%A1%80/7%E6%B3%9B%E5%9E%8B/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-07T09:36:54+00:00" />
<meta property="article:modified_time" content="2022-08-07T09:36:54+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="7ã€æ³›å‹"/>
<meta name="twitter:description" content="æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "7ã€æ³›å‹",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/java%E5%9F%BA%E7%A1%80/7%E6%B3%9B%E5%9E%8B/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "7ã€æ³›å‹",
  "name": "7ã€æ³›å‹",
  "description": "æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚\n",
  "keywords": [
    "javaåŸºç¡€"
  ],
  "articleBody": "æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚\nä»€ä¹ˆæ˜¯æ³›å‹ åœ¨è®²è§£ä»€ä¹ˆæ˜¯æ³›å‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè§‚å¯ŸJavaæ ‡å‡†åº“æä¾›çš„ArrayListï¼Œå®ƒå¯ä»¥çœ‹ä½œâ€œå¯å˜é•¿åº¦â€çš„æ•°ç»„ï¼Œå› ä¸ºç”¨èµ·æ¥æ¯”æ•°ç»„æ›´æ–¹ä¾¿ã€‚å®é™…ä¸ŠArrayListå†…éƒ¨å°±æ˜¯ä¸€ä¸ªObject[]æ•°ç»„ï¼Œé…åˆå­˜å‚¨ä¸€ä¸ªå½“å‰åˆ†é…çš„é•¿åº¦ï¼Œå°±å¯ä»¥å……å½“â€œå¯å˜æ•°ç»„â€ï¼š\n1 2 3 4 5 6 7 public class ArrayList { private Object[] array; private int size; public void add(Object e) {...} public void remove(int index) {...} public Object get(int index) {...} } å¦‚æœç”¨ä¸Šè¿°ArrayListå­˜å‚¨Stringç±»å‹ï¼Œä¼šæœ‰è¿™ä¹ˆå‡ ä¸ªç¼ºç‚¹ï¼š\néœ€è¦å¼ºåˆ¶è½¬å‹ï¼› ä¸æ–¹ä¾¿ï¼Œæ˜“å‡ºé”™ã€‚ ä¾‹å¦‚ï¼Œä»£ç å¿…é¡»è¿™ä¹ˆå†™ï¼š\n1 2 3 4 ArrayList list = new ArrayList(); list.add(\"Hello\"); // è·å–åˆ°Objectï¼Œå¿…é¡»å¼ºåˆ¶è½¬å‹ä¸ºString: String first = (String) list.get(0); å¾ˆå®¹æ˜“å‡ºç°ClassCastExceptionï¼Œå› ä¸ºå®¹æ˜“â€œè¯¯è½¬å‹â€ï¼š\n1 2 3 list.add(new Integer(123)); // ERROR: ClassCastException: String second = (String) list.get(1); è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºStringå•ç‹¬ç¼–å†™ä¸€ç§ArrayListï¼š\n1 2 3 4 5 6 7 public class StringArrayList { private String[] array; private int size; public void add(String e) {...} public void remove(int index) {...} public String get(int index) {...} } è¿™æ ·ä¸€æ¥ï¼Œå­˜å…¥çš„å¿…é¡»æ˜¯Stringï¼Œå–å‡ºçš„ä¹Ÿä¸€å®šæ˜¯Stringï¼Œä¸éœ€è¦å¼ºåˆ¶è½¬å‹ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå¼ºåˆ¶æ£€æŸ¥æ”¾å…¥çš„ç±»å‹ï¼š\n1 2 3 4 5 StringArrayList list = new StringArrayList(); list.add(\"Hello\"); String first = list.get(0); // ç¼–è¯‘é”™è¯¯: ä¸å…è®¸æ”¾å…¥éStringç±»å‹: list.add(new Integer(123)); é—®é¢˜æš‚æ—¶è§£å†³ã€‚\nç„¶è€Œï¼Œæ–°çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœè¦å­˜å‚¨Integerï¼Œè¿˜éœ€è¦ä¸ºIntegerå•ç‹¬ç¼–å†™ä¸€ç§ArrayListï¼š\n1 2 3 4 5 6 7 public class IntegerArrayList { private Integer[] array; private int size; public void add(Integer e) {...} public void remove(int index) {...} public Integer get(int index) {...} } å®é™…ä¸Šï¼Œè¿˜éœ€è¦ä¸ºå…¶ä»–æ‰€æœ‰classå•ç‹¬ç¼–å†™ä¸€ç§ArrayListï¼š\nLongArrayList DoubleArrayList PersonArrayList â€¦ è¿™æ˜¯ä¸å¯èƒ½çš„ï¼ŒJDKçš„classå°±æœ‰ä¸Šåƒä¸ªï¼Œè€Œä¸”å®ƒè¿˜ä¸çŸ¥é“å…¶ä»–äººç¼–å†™çš„classã€‚\nä¸ºäº†è§£å†³æ–°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»æŠŠArrayListå˜æˆä¸€ç§æ¨¡æ¿ï¼šArrayListï¼Œä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 public class ArrayList { private T[] array; private int size; public void add(T e) {...} public void remove(int index) {...} public T get(int index) {...} } Tå¯ä»¥æ˜¯ä»»ä½•classã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®ç°äº†ï¼šç¼–å†™ä¸€æ¬¡æ¨¡ç‰ˆï¼Œå¯ä»¥åˆ›å»ºä»»æ„ç±»å‹çš„ArrayListï¼š\n1 2 3 4 5 6 // åˆ›å»ºå¯ä»¥å­˜å‚¨Stringçš„ArrayList: ArrayList strList = new ArrayList(); // åˆ›å»ºå¯ä»¥å­˜å‚¨Floatçš„ArrayList: ArrayList floatList = new ArrayList(); // åˆ›å»ºå¯ä»¥å­˜å‚¨Personçš„ArrayList: ArrayList personList = new ArrayList(); å› æ­¤ï¼Œæ³›å‹å°±æ˜¯å®šä¹‰ä¸€ç§æ¨¡æ¿ï¼Œä¾‹å¦‚ArrayListï¼Œç„¶ååœ¨ä»£ç ä¸­ä¸ºç”¨åˆ°çš„ç±»åˆ›å»ºå¯¹åº”çš„ArrayList\u003cç±»å‹\u003eï¼š\n1 2 3 4 5 6 7 ArrayList strList = new ArrayList(); // ç”±ç¼–è¯‘å™¨é’ˆå¯¹ç±»å‹ä½œæ£€æŸ¥ï¼š strList.add(\"hello\"); // OK String s = strList.get(0); // OK strList.add(new Integer(123)); // compile error! Integer n = strList.get(0); // compile error! è¿™æ ·ä¸€æ¥ï¼Œæ—¢å®ç°äº†ç¼–å†™ä¸€æ¬¡ï¼Œä¸‡èƒ½åŒ¹é…ï¼Œåˆé€šè¿‡ç¼–è¯‘å™¨ä¿è¯äº†ç±»å‹å®‰å…¨ï¼šè¿™å°±æ˜¯æ³›å‹ã€‚\nå‘ä¸Šè½¬å‹ åœ¨Javaæ ‡å‡†åº“ä¸­çš„ArrayListå®ç°äº†Listæ¥å£ï¼Œå®ƒå¯ä»¥å‘ä¸Šè½¬å‹ä¸ºListï¼š\n1 2 3 4 5 public class ArrayList implements List { ... } List list = new ArrayList(); å³ç±»å‹ArrayListå¯ä»¥å‘ä¸Šè½¬å‹ä¸ºListã€‚\nè¦ç‰¹åˆ«æ³¨æ„ï¼šä¸èƒ½æŠŠArrayListå‘ä¸Šè½¬å‹ä¸ºArrayListæˆ–Listã€‚\nè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå‡è®¾ArrayListå¯ä»¥å‘ä¸Šè½¬å‹ä¸ºArrayListï¼Œè§‚å¯Ÿä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 // åˆ›å»ºArrayListç±»å‹ï¼š ArrayList integerList = new ArrayList(); // æ·»åŠ ä¸€ä¸ªIntegerï¼š integerList.add(new Integer(123)); // â€œå‘ä¸Šè½¬å‹â€ä¸ºArrayListï¼š ArrayList numberList = integerList; // æ·»åŠ ä¸€ä¸ªFloatï¼Œå› ä¸ºFloatä¹Ÿæ˜¯Numberï¼š numberList.add(new Float(12.34)); // ä»ArrayListè·å–ç´¢å¼•ä¸º1çš„å…ƒç´ ï¼ˆå³æ·»åŠ çš„Floatï¼‰ï¼š Integer n = integerList.get(1); // ClassCastException! æˆ‘ä»¬æŠŠä¸€ä¸ªArrayListè½¬å‹ä¸ºArrayListç±»å‹åï¼Œè¿™ä¸ªArrayListå°±å¯ä»¥æ¥å—Floatç±»å‹ï¼Œå› ä¸ºFloatæ˜¯Numberçš„å­ç±»ã€‚ä½†æ˜¯ï¼ŒArrayListå®é™…ä¸Šå’ŒArrayListæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ArrayListç±»å‹ï¼Œå®ƒä¸å¯èƒ½æ¥å—Floatç±»å‹ï¼Œ æ‰€ä»¥åœ¨è·å–Integerçš„æ—¶å€™å°†äº§ç”ŸClassCastExceptionã€‚\nå®é™…ä¸Šï¼Œç¼–è¯‘å™¨ä¸ºäº†é¿å…è¿™ç§é”™è¯¯ï¼Œæ ¹æœ¬å°±ä¸å…è®¸æŠŠArrayListè½¬å‹ä¸ºArrayListã€‚\nArrayListå’ŒArrayListä¸¤è€…å®Œå…¨æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚\nä½¿ç”¨æ³›å‹ ä½¿ç”¨ArrayListæ—¶ï¼Œå¦‚æœä¸å®šä¹‰æ³›å‹ç±»å‹æ—¶ï¼Œæ³›å‹ç±»å‹å®é™…ä¸Šå°±æ˜¯Objectï¼š\n1 2 3 4 5 6 // ç¼–è¯‘å™¨è­¦å‘Š: List list = new ArrayList(); list.add(\"Hello\"); list.add(\"World\"); String first = (String) list.get(0); String second = (String) list.get(1); æ­¤æ—¶ï¼Œåªèƒ½æŠŠå½“ä½œObjectä½¿ç”¨ï¼Œæ²¡æœ‰å‘æŒ¥æ³›å‹çš„ä¼˜åŠ¿ã€‚\nå½“æˆ‘ä»¬å®šä¹‰æ³›å‹ç±»å‹åï¼ŒListçš„æ³›å‹æ¥å£å˜ä¸ºå¼ºç±»å‹Listï¼š\n1 2 3 4 5 6 7 // æ— ç¼–è¯‘å™¨è­¦å‘Š: List list = new ArrayList(); list.add(\"Hello\"); list.add(\"World\"); // æ— å¼ºåˆ¶è½¬å‹: String first = list.get(0); String second = list.get(1); å½“æˆ‘ä»¬å®šä¹‰æ³›å‹ç±»å‹åï¼ŒListçš„æ³›å‹æ¥å£å˜ä¸ºå¼ºç±»å‹Listï¼š\n1 2 3 4 5 List list = new ArrayList(); list.add(new Integer(123)); list.add(new Double(12.34)); Number first = list.get(0); Number second = list.get(1); ç¼–è¯‘å™¨å¦‚æœèƒ½è‡ªåŠ¨æ¨æ–­å‡ºæ³›å‹ç±»å‹ï¼Œå°±å¯ä»¥çœç•¥åé¢çš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸‹é¢çš„ä»£ç ï¼š\n1 List list = new ArrayList(); ç¼–è¯‘å™¨çœ‹åˆ°æ³›å‹ç±»å‹Listå°±å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºåé¢çš„ArrayListçš„æ³›å‹ç±»å‹å¿…é¡»æ˜¯ArrayListï¼Œå› æ­¤ï¼Œå¯ä»¥æŠŠä»£ç ç®€å†™ä¸ºï¼š\n1 2 // å¯ä»¥çœç•¥åé¢çš„Numberï¼Œç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­æ³›å‹ç±»å‹ï¼š List list = new ArrayList\u003c\u003e(); æ³›å‹æ¥å£ é™¤äº†ArrayListä½¿ç”¨äº†æ³›å‹ï¼Œè¿˜å¯ä»¥åœ¨æ¥å£ä¸­ä½¿ç”¨æ³›å‹ã€‚ä¾‹å¦‚ï¼ŒArrays.sort(Object[])å¯ä»¥å¯¹ä»»æ„æ•°ç»„è¿›è¡Œæ’åºï¼Œä½†å¾…æ’åºçš„å…ƒç´ å¿…é¡»å®ç°Comparableè¿™ä¸ªæ³›å‹æ¥å£ï¼š\n1 2 3 4 5 6 7 8 public interface Comparable { /** * è¿”å›è´Ÿæ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå° * è¿”å›0: å½“å‰å®ä¾‹ä¸å‚æ•°oç›¸ç­‰ * è¿”å›æ­£æ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå¤§ */ int compareTo(T o); } å¯ä»¥ç›´æ¥å¯¹Stringæ•°ç»„è¿›è¡Œæ’åºï¼š\n1 2 3 4 5 6 7 public class Main { public static void main(String[] args) { String[] ss = new String[] { \"Orange\", \"Apple\", \"Pear\" }; Arrays.sort(ss); System.out.println(Arrays.toString(ss)); } } è¿™æ˜¯å› ä¸ºStringæœ¬èº«å·²ç»å®ç°äº†Comparableæ¥å£ã€‚å¦‚æœæ¢æˆæˆ‘ä»¬è‡ªå®šä¹‰çš„Personç±»å‹è¯•è¯•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 public class Main { public static void main(String[] args) { Person[] ps = new Person[] { new Person(\"Bob\", 61), new Person(\"Alice\", 88), new Person(\"Lily\", 75), }; Arrays.sort(ps); System.out.println(Arrays.toString(ps)); } } class Person { String name; int score; Person(String name, int score) { this.name = name; this.score = score; } public String toString() { return this.name + \",\" + this.score; } } è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ClassCastExceptionï¼Œå³æ— æ³•å°†Personè½¬å‹ä¸ºComparableã€‚æˆ‘ä»¬ä¿®æ”¹ä»£ç ï¼Œè®©Personå®ç°Comparableæ¥å£ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Main { public static void main(String[] args) { Person[] ps = new Person[] { new Person(\"Bob\", 61), new Person(\"Alice\", 88), new Person(\"Lily\", 75), }; Arrays.sort(ps); System.out.println(Arrays.toString(ps)); } } class Person implements Comparable { String name; int score; Person(String name, int score) { this.name = name; this.score = score; } public int compareTo(Person other) { return this.name.compareTo(other.name); } public String toString() { return this.name + \",\" + this.score; } } è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¯ä»¥æ­£ç¡®å®ç°æŒ‰nameè¿›è¡Œæ’åºã€‚\nä¹Ÿå¯ä»¥ä¿®æ”¹æ¯”è¾ƒé€»è¾‘ï¼Œä¾‹å¦‚ï¼ŒæŒ‰scoreä»é«˜åˆ°ä½æ’åºã€‚è¯·è‡ªè¡Œä¿®æ”¹æµ‹è¯•ã€‚\nç¼–å†™æ³›å‹ ç¼–å†™æ³›å‹ç±»æ¯”æ™®é€šç±»è¦å¤æ‚ã€‚é€šå¸¸æ¥è¯´ï¼Œæ³›å‹ç±»ä¸€èˆ¬ç”¨åœ¨é›†åˆç±»ä¸­ï¼Œä¾‹å¦‚ArrayListï¼Œæˆ‘ä»¬å¾ˆå°‘éœ€è¦ç¼–å†™æ³›å‹ç±»ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ï¼Œé‚£ä¹ˆï¼Œåº”è¯¥å¦‚ä½•ç¼–å†™å®ƒï¼Ÿå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ã€‚é¦–å…ˆï¼ŒæŒ‰ç…§æŸç§ç±»å‹ï¼Œä¾‹å¦‚ï¼šStringï¼Œæ¥ç¼–å†™ç±»ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Pair { private String first; private String last; public Pair(String first, String last) { this.first = first; this.last = last; } public String getFirst() { return first; } public String getLast() { return last; } } æŠŠç‰¹å®šç±»å‹Stringæ›¿æ¢ä¸ºTï¼Œå¹¶ç”³æ˜ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } ç†Ÿç»ƒåå³å¯ç›´æ¥ä»Tå¼€å§‹ç¼–å†™ã€‚\né™æ€æ–¹æ³• ç¼–å†™æ³›å‹ç±»æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œæ³›å‹ç±»å‹ä¸èƒ½ç”¨äºé™æ€æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { ... } public T getLast() { ... } // å¯¹é™æ€æ–¹æ³•ä½¿ç”¨: public static Pair create(T first, T last) { return new Pair(first, last); } } ä¸Šè¿°ä»£ç ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œæˆ‘ä»¬æ— æ³•åœ¨é™æ€æ–¹æ³•create()çš„æ–¹æ³•å‚æ•°å’Œè¿”å›ç±»å‹ä¸Šä½¿ç”¨æ³›å‹ç±»å‹Tã€‚\næœ‰äº›åŒå­¦åœ¨ç½‘ä¸Šæœç´¢å‘ç°ï¼Œå¯ä»¥åœ¨staticä¿®é¥°ç¬¦åé¢åŠ ä¸€ä¸ªï¼Œç¼–è¯‘å°±èƒ½é€šè¿‡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { ... } public T getLast() { ... } // å¯ä»¥ç¼–è¯‘é€šè¿‡: public static Pair create(T first, T last) { return new Pair(first, last); } } å¯¹äºé™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æ”¹å†™ä¸ºâ€œæ³›å‹â€æ–¹æ³•ï¼Œåªéœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªç±»å‹å³å¯ã€‚å¯¹äºä¸Šé¢çš„create()é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒæ”¹ä¸ºå¦ä¸€ç§æ³›å‹ç±»å‹ï¼Œä¾‹å¦‚ï¼Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { ... } public T getLast() { ... } // é™æ€æ³›å‹æ–¹æ³•åº”è¯¥ä½¿ç”¨å…¶ä»–ç±»å‹åŒºåˆ†: public static Pair create(K first, K last) { return new Pair(first, last); } } è¿™æ ·æ‰èƒ½æ¸…æ¥šåœ°å°†é™æ€æ–¹æ³•çš„æ³›å‹ç±»å‹å’Œå®ä¾‹ç±»å‹çš„æ³›å‹ç±»å‹åŒºåˆ†å¼€ã€‚\nå¤šä¸ªæ³›å‹ç±»å‹ æ³›å‹è¿˜å¯ä»¥å®šä¹‰å¤šç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›Pairä¸æ€»æ˜¯å­˜å‚¨ä¸¤ä¸ªç±»å‹ä¸€æ ·çš„å¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ç±»å‹ï¼š\n1 2 3 4 5 6 7 8 9 10 public class Pair { private T first; private K last; public Pair(T first, K last) { this.first = first; this.last = last; } public T getFirst() { ... } public K getLast() { ... } } ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å‡ºä¸¤ç§ç±»å‹ï¼š\n1 Pair p = new Pair\u003c\u003e(\"test\", 123); Javaæ ‡å‡†åº“çš„Mapå°±æ˜¯ä½¿ç”¨ä¸¤ç§æ³›å‹ç±»å‹çš„ä¾‹å­ã€‚å®ƒå¯¹Keyä½¿ç”¨ä¸€ç§ç±»å‹ï¼Œå¯¹Valueä½¿ç”¨å¦ä¸€ç§ç±»å‹ã€‚\næ“¦æ‹­æ³• æ³›å‹æ˜¯ä¸€ç§ç±»ä¼¼â€æ¨¡æ¿ä»£ç â€œçš„æŠ€æœ¯ï¼Œä¸åŒè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼ä¸ä¸€å®šç›¸åŒã€‚ Javaè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼æ˜¯æ“¦æ‹­æ³•ï¼ˆType Erasureï¼‰ã€‚ æ‰€è°“æ“¦æ‹­æ³•æ˜¯æŒ‡ï¼Œè™šæ‹Ÿæœºå¯¹æ³›å‹å…¶å®ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯ç¼–è¯‘å™¨åšçš„ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªæ³›å‹ç±»Pairï¼Œè¿™æ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } è€Œè™šæ‹Ÿæœºæ ¹æœ¬ä¸çŸ¥é“æ³›å‹ã€‚è¿™æ˜¯è™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Pair { private Object first; private Object last; public Pair(Object first, Object last) { this.first = first; this.last = last; } public Object getFirst() { return first; } public Object getLast() { return last; } } å› æ­¤ï¼ŒJavaä½¿ç”¨æ“¦æ‹­æ³•å®ç°æ³›å‹ï¼Œå¯¼è‡´äº†ï¼š\nç¼–è¯‘å™¨æŠŠç±»å‹è§†ä¸ºObjectï¼› ç¼–è¯‘å™¨æ ¹æ®å®ç°å®‰å…¨çš„å¼ºåˆ¶è½¬å‹ã€‚ ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç ä¹Ÿæ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç ï¼š\n1 2 3 Pair p = new Pair\u003c\u003e(\"Hello\", \"world\"); String first = p.getFirst(); String last = p.getLast(); è€Œè™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç å¹¶æ²¡æœ‰æ³›å‹ï¼š\n1 2 3 Pair p = new Pair(\"Hello\", \"world\"); String first = (String) p.getFirst(); String last = (String) p.getLast(); æ‰€ä»¥ï¼ŒJavaçš„æ³›å‹æ˜¯ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å®è¡Œçš„ï¼Œç¼–è¯‘å™¨å†…éƒ¨æ°¸è¿œæŠŠæ‰€æœ‰ç±»å‹Tè§†ä¸ºObjectå¤„ç†ï¼Œä½†æ˜¯ï¼Œåœ¨éœ€è¦è½¬å‹çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®Tçš„ç±»å‹è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®è¡Œå®‰å…¨åœ°å¼ºåˆ¶è½¬å‹ã€‚\näº†è§£äº†Javaæ³›å‹çš„å®ç°æ–¹å¼â€”â€”æ“¦æ‹­æ³•ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†Javaæ³›å‹çš„å±€é™ï¼š\nå±€é™ä¸€ï¼šä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚intï¼Œå› ä¸ºå®é™…ç±»å‹æ˜¯Objectï¼ŒObjectç±»å‹æ— æ³•æŒæœ‰åŸºæœ¬ç±»å‹ï¼š\n1 Pair\u003cint\u003e p = new Pair\u003c\u003e(1, 2); // compile error! å±€é™äºŒï¼šæ— æ³•å–å¾—å¸¦æ³›å‹çš„Classã€‚è§‚å¯Ÿä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 public class Main { public static void main(String[] args) { Pair p1 = new Pair\u003c\u003e(\"Hello\", \"world\"); Pair p2 = new Pair\u003c\u003e(123, 456); Class c1 = p1.getClass(); Class c2 = p2.getClass(); System.out.println(c1==c2); // true System.out.println(c1==Pair.class); // true } } class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } å› ä¸ºTæ˜¯Objectï¼Œæˆ‘ä»¬å¯¹Pairå’ŒPairç±»å‹è·å–Classæ—¶ï¼Œè·å–åˆ°çš„æ˜¯åŒä¸€ä¸ªClassï¼Œä¹Ÿå°±æ˜¯Pairç±»çš„Classã€‚\næ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æ³›å‹å®ä¾‹ï¼Œæ— è®ºTçš„ç±»å‹æ˜¯ä»€ä¹ˆï¼ŒgetClass()è¿”å›åŒä¸€ä¸ªClasså®ä¾‹ï¼Œå› ä¸ºç¼–è¯‘åå®ƒä»¬å…¨éƒ¨éƒ½æ˜¯Pairã€‚\nå±€é™ä¸‰ï¼šæ— æ³•åˆ¤æ–­å¸¦æ³›å‹çš„ç±»å‹ï¼š\n1 2 3 4 Pair p = new Pair\u003c\u003e(123, 456); // Compile error: if (p instanceof Pair) { } åŸå› å’Œå‰é¢ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨Pair.classï¼Œè€Œæ˜¯åªæœ‰å”¯ä¸€çš„Pair.classã€‚\nå±€é™å››ï¼šä¸èƒ½å®ä¾‹åŒ–Tç±»å‹ï¼š\n1 2 3 4 5 6 7 8 9 public class Pair { private T first; private T last; public Pair() { // Compile error: first = new T(); last = new T(); } } ä¸Šè¿°ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œå› ä¸ºæ„é€ æ–¹æ³•çš„ä¸¤è¡Œè¯­å¥ï¼š\n1 2 first = new T(); last = new T(); æ“¦æ‹­åå®é™…ä¸Šå˜æˆäº†ï¼š\n1 2 first = new Object(); last = new Object(); è¿™æ ·ä¸€æ¥ï¼Œåˆ›å»ºnew Pair()å’Œåˆ›å»ºnew Pair()å°±å…¨éƒ¨æˆäº†Objectï¼Œæ˜¾ç„¶ç¼–è¯‘å™¨è¦é˜»æ­¢è¿™ç§ç±»å‹ä¸å¯¹çš„ä»£ç ã€‚\nè¦å®ä¾‹åŒ–Tç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©é¢å¤–çš„Classå‚æ•°ï¼š\n1 2 3 4 5 6 7 8 public class Pair { private T first; private T last; public Pair(Class clazz) { first = clazz.newInstance(); last = clazz.newInstance(); } } ä¸Šè¿°ä»£ç å€ŸåŠ©Classå‚æ•°å¹¶é€šè¿‡åå°„æ¥å®ä¾‹åŒ–Tç±»å‹ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»ä¼ å…¥Classã€‚ä¾‹å¦‚ï¼š\n1 Pair pair = new Pair\u003c\u003e(String.class); å› ä¸ºä¼ å…¥äº†Classçš„å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å€ŸåŠ©String.classå°±å¯ä»¥å®ä¾‹åŒ–Stringç±»å‹ã€‚\nä¸æ°å½“çš„è¦†å†™æ–¹æ³• æœ‰äº›æ—¶å€™ï¼Œä¸€ä¸ªçœ‹ä¼¼æ­£ç¡®å®šä¹‰çš„æ–¹æ³•ä¼šæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚ä¾‹å¦‚ï¼š\n1 2 3 4 5 public class Pair { public boolean equals(T t) { return this == t; } } è¿™æ˜¯å› ä¸ºï¼Œå®šä¹‰çš„equals(T t)æ–¹æ³•å®é™…ä¸Šä¼šè¢«æ“¦æ‹­æˆequals(Object t)ï¼Œè€Œè¿™ä¸ªæ–¹æ³•æ˜¯ç»§æ‰¿è‡ªObjectçš„ï¼Œç¼–è¯‘å™¨ä¼šé˜»æ­¢ä¸€ä¸ªå®é™…ä¸Šä¼šå˜æˆè¦†å†™çš„æ³›å‹æ–¹æ³•å®šä¹‰ã€‚\næ¢ä¸ªæ–¹æ³•åï¼Œé¿å¼€ä¸Object.equals(Object)çš„å†²çªå°±å¯ä»¥æˆåŠŸç¼–è¯‘ï¼š\n1 2 3 4 5 public class Pair { public boolean same(T t) { return this == t; } } æ³›å‹ç»§æ‰¿ ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªæ³›å‹ç±»ã€‚ä¾‹å¦‚ï¼šçˆ¶ç±»çš„ç±»å‹æ˜¯Pairï¼Œå­ç±»çš„ç±»å‹æ˜¯IntPairï¼Œå¯ä»¥è¿™ä¹ˆç»§æ‰¿ï¼š\n1 2 public class IntPair extends Pair { } ä½¿ç”¨çš„æ—¶å€™ï¼Œå› ä¸ºå­ç±»IntPairå¹¶æ²¡æœ‰æ³›å‹ç±»å‹ï¼Œæ‰€ä»¥ï¼Œæ­£å¸¸ä½¿ç”¨å³å¯ï¼š\n1 IntPair ip = new IntPair(1, 2); å‰é¢è®²äº†ï¼Œæˆ‘ä»¬æ— æ³•è·å–Pairçš„Tç±»å‹ï¼Œå³ç»™å®šä¸€ä¸ªå˜é‡Pair pï¼Œæ— æ³•ä»pä¸­è·å–åˆ°Integerç±»å‹ã€‚\nä½†æ˜¯ï¼Œåœ¨çˆ¶ç±»æ˜¯æ³›å‹ç±»å‹çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°±å¿…é¡»æŠŠç±»å‹Tï¼ˆå¯¹IntPairæ¥è¯´ï¼Œä¹Ÿå°±æ˜¯Integerç±»å‹ï¼‰ä¿å­˜åˆ°å­ç±»çš„classæ–‡ä»¶ä¸­ï¼Œä¸ç„¶ç¼–è¯‘å™¨å°±ä¸çŸ¥é“IntPairåªèƒ½å­˜å–Integerè¿™ç§ç±»å‹ã€‚\nåœ¨ç»§æ‰¿äº†æ³›å‹ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå­ç±»å¯ä»¥è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼šIntPairå¯ä»¥è·å–åˆ°çˆ¶ç±»çš„æ³›å‹ç±»å‹Integerã€‚è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹ä»£ç æ¯”è¾ƒå¤æ‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import java.lang.reflect.ParameterizedType; import java.lang.reflect.Type; public class Main { public static void main(String[] args) { Class clazz = IntPair.class; Type t = clazz.getGenericSuperclass(); if (t instanceof ParameterizedType) { ParameterizedType pt = (ParameterizedType) t; Type[] types = pt.getActualTypeArguments(); // å¯èƒ½æœ‰å¤šä¸ªæ³›å‹ç±»å‹ Type firstType = types[0]; // å–ç¬¬ä¸€ä¸ªæ³›å‹ç±»å‹ Class\u003c?\u003e typeClass = (Class\u003c?\u003e) firstType; System.out.println(typeClass); // Integer } } } class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } class IntPair extends Pair { public IntPair(Integer first, Integer last) { super(first, last); } } å› ä¸ºJavaå¼•å…¥äº†æ³›å‹ï¼Œæ‰€ä»¥ï¼Œåªç”¨Classæ¥æ ‡è¯†ç±»å‹å·²ç»ä¸å¤Ÿäº†ã€‚å®é™…ä¸Šï¼ŒJavaçš„ç±»å‹ç³»ç»Ÿç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 â”Œâ”€â”€â”€â”€â” â”‚Typeâ”‚ â””â”€â”€â”€â”€â”˜ â–² â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚Classâ”‚â”‚ParameterizedTypeâ”‚â”‚GenericArrayTypeâ”‚â”‚WildcardTypeâ”‚ â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ extendsé€šé…ç¬¦ æˆ‘ä»¬å‰é¢å·²ç»è®²åˆ°äº†æ³›å‹çš„ç»§æ‰¿å…³ç³»ï¼šPairä¸æ˜¯Pairçš„å­ç±»ã€‚\nå‡è®¾æˆ‘ä»¬å®šä¹‰äº†Pairï¼š\n1 public class Pair { ... } ç„¶åï¼Œæˆ‘ä»¬åˆé’ˆå¯¹Pairç±»å‹å†™äº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒæ¥æ”¶çš„å‚æ•°ç±»å‹æ˜¯Pairï¼š\n1 2 3 4 5 6 7 public class PairHelper { static int add(Pair p) { Number first = p.getFirst(); Number last = p.getLast(); return first.intValue() + last.intValue(); } } ä¸Šè¿°ä»£ç æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘çš„ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å…¥ï¼š\n1 int sum = PairHelper.add(new Pair(1, 2)); æ³¨æ„ï¼šä¼ å…¥çš„ç±»å‹æ˜¯Pairï¼Œå®é™…å‚æ•°ç±»å‹æ˜¯(Integer, Integer)ã€‚\næ—¢ç„¶å®é™…å‚æ•°æ˜¯Integerç±»å‹ï¼Œè¯•è¯•ä¼ å…¥Pairï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 public class Main { public static void main(String[] args) { Pair p = new Pair\u003c\u003e(123, 456); int n = add(p); System.out.println(n); } static int add(Pair p) { Number first = p.getFirst(); Number last = p.getLast(); return first.intValue() + last.intValue(); } class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } } ç›´æ¥è¿è¡Œï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š incompatible types: Pair cannot be converted to Pair\nåŸå› å¾ˆæ˜æ˜¾ï¼Œå› ä¸ºPairä¸æ˜¯Pairçš„å­ç±»ï¼Œå› æ­¤ï¼Œadd(Pair)ä¸æ¥å—å‚æ•°ç±»å‹Pairã€‚\nä½†æ˜¯ä»add()æ–¹æ³•çš„ä»£ç å¯çŸ¥ï¼Œä¼ å…¥Pairæ˜¯å®Œå…¨ç¬¦åˆå†…éƒ¨ä»£ç çš„ç±»å‹è§„èŒƒï¼Œå› ä¸ºè¯­å¥ï¼š\n1 2 Number first = p.getFirst(); Number last = p.getLast(); å®é™…ç±»å‹æ˜¯Integerï¼Œå¼•ç”¨ç±»å‹æ˜¯Numberï¼Œæ²¡æœ‰é—®é¢˜ã€‚é—®é¢˜åœ¨äºæ–¹æ³•å‚æ•°ç±»å‹å®šæ­»äº†åªèƒ½ä¼ å…¥Pairã€‚\næœ‰æ²¡æœ‰åŠæ³•ä½¿å¾—æ–¹æ³•å‚æ•°æ¥å—Pairï¼ŸåŠæ³•æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯ä½¿ç”¨Pair\u003c? extends Number\u003eä½¿å¾—æ–¹æ³•æ¥æ”¶æ‰€æœ‰æ³›å‹ç±»å‹ä¸ºNumberæˆ–Numberå­ç±»çš„Pairç±»å‹ã€‚æˆ‘ä»¬æŠŠä»£ç æ”¹å†™å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 public class Main { public static void main(String[] args) { Pair p = new Pair\u003c\u003e(123, 456); int n = add(p); System.out.println(n); } static int add(Pair\u003c? extends Number\u003e p) { Number first = p.getFirst(); Number last = p.getLast(); return first.intValue() + last.intValue(); } } class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } } è¿™æ ·ä¸€æ¥ï¼Œç»™æ–¹æ³•ä¼ å…¥Pairç±»å‹æ—¶ï¼Œå®ƒç¬¦åˆå‚æ•°Pair\u003c? extends Number\u003eç±»å‹ã€‚è¿™ç§ä½¿ç”¨\u003c? extends Number\u003eçš„æ³›å‹å®šä¹‰ç§°ä¹‹ä¸ºä¸Šç•Œé€šé…ç¬¦ï¼ˆUpper Bounds Wildcardsï¼‰ï¼Œå³æŠŠæ³›å‹ç±»å‹Tçš„ä¸Šç•Œé™å®šåœ¨Numberäº†ã€‚\né™¤äº†å¯ä»¥ä¼ å…¥Pairç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥Pairç±»å‹ï¼ŒPairç±»å‹ç­‰ç­‰ï¼Œå› ä¸ºDoubleå’ŒBigDecimaléƒ½æ˜¯Numberçš„å­ç±»ã€‚\nå¦‚æœæˆ‘ä»¬è€ƒå¯Ÿå¯¹Pair\u003c? extends Number\u003eç±»å‹è°ƒç”¨getFirst()æ–¹æ³•ï¼Œå®é™…çš„æ–¹æ³•ç­¾åå˜æˆäº†ï¼š\n\u003c? extends Number\u003e getFirst();\nå³è¿”å›å€¼æ˜¯Numberæˆ–Numberçš„å­ç±»ï¼Œå› æ­¤ï¼Œå¯ä»¥å®‰å…¨èµ‹å€¼ç»™Numberç±»å‹çš„å˜é‡ï¼š\n1 Number x = p.getFirst(); ç„¶åï¼Œæˆ‘ä»¬ä¸å¯é¢„æµ‹å®é™…ç±»å‹å°±æ˜¯Integerï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼š\nInteger x = p.getFirst();\nè¿™æ˜¯å› ä¸ºå®é™…çš„è¿”å›ç±»å‹å¯èƒ½æ˜¯Integerï¼Œä¹Ÿå¯èƒ½æ˜¯Doubleæˆ–è€…å…¶ä»–ç±»å‹ï¼Œç¼–è¯‘å™¨åªèƒ½ç¡®å®šç±»å‹ä¸€å®šæ˜¯Numberçš„å­ç±»ï¼ˆåŒ…æ‹¬Numberç±»å‹æœ¬èº«ï¼‰ï¼Œä½†å…·ä½“ç±»å‹æ— æ³•ç¡®å®šã€‚\næˆ‘ä»¬å†æ¥è€ƒå¯Ÿä¸€ä¸‹Pairçš„setæ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 public class Main { public static void main(String[] args) { Pair p = new Pair\u003c\u003e(123, 456); int n = add(p); System.out.println(n); } static int add(Pair\u003c? extends Number\u003e p) { Number first = p.getFirst(); Number last = p.getLast(); p.setFirst(new Integer(first.intValue() + 100)); p.setLast(new Integer(last.intValue() + 100)); return p.getFirst().intValue() + p.getFirst().intValue(); } } class Pair { private T first; private T last; public Pair(T first, T last) { this.first = first; this.last = last; } public T getFirst() { return first; } public T getLast() { return last; } public void setFirst(T first) { this.first = first; } public void setLast(T last) { this.last = last; } } ä¸å‡ºæ„å¤–ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š\n1 2 3 incompatible types: Integer cannot be converted to CAP#1 where CAP#1 is a fresh type-variable: CAP#1 extends Number from capture of ? extends Number ç¼–è¯‘é”™è¯¯å‘ç”Ÿåœ¨p.setFirst()ä¼ å…¥çš„å‚æ•°æ˜¯Integerç±»å‹ã€‚æœ‰äº›ç«¥é‹ä¼šé—®äº†ï¼Œæ—¢ç„¶pçš„å®šä¹‰æ˜¯Pair\u003c? extends Number\u003eï¼Œé‚£ä¹ˆsetFirst(? extends Number)ä¸ºä»€ä¹ˆä¸èƒ½ä¼ å…¥Integerï¼Ÿ\nåŸå› è¿˜åœ¨äºæ“¦æ‹­æ³•ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥çš„pæ˜¯Pairï¼Œæ˜¾ç„¶å®ƒæ»¡è¶³å‚æ•°å®šä¹‰Pair\u003c? extends Number\u003eï¼Œç„¶è€Œï¼ŒPairçš„setFirst()æ˜¾ç„¶æ— æ³•æ¥å—Integerç±»å‹ã€‚\nè¿™å°±æ˜¯\u003c? extends Number\u003eé€šé…ç¬¦çš„ä¸€ä¸ªé‡è¦é™åˆ¶ï¼šæ–¹æ³•å‚æ•°ç­¾åsetFirst(? extends Number)æ— æ³•ä¼ é€’ä»»ä½•Numberçš„å­ç±»å‹ç»™setFirst(? extends Number)ã€‚\nè¿™é‡Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯å¯ä»¥ç»™æ–¹æ³•å‚æ•°ä¼ å…¥nullï¼š\n1 2 p.setFirst(null); // ok, ä½†æ˜¯åé¢ä¼šæŠ›å‡ºNullPointerException p.getFirst().intValue(); // NullPointerException extendsé€šé…ç¬¦çš„ä½œç”¨ å¦‚æœæˆ‘ä»¬è€ƒå¯ŸJavaæ ‡å‡†åº“çš„java.util.Listæ¥å£ï¼Œå®ƒå®ç°çš„æ˜¯ä¸€ä¸ªç±»ä¼¼â€œå¯å˜æ•°ç»„â€çš„åˆ—è¡¨ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n1 2 3 4 5 6 public interface List { int size(); // è·å–ä¸ªæ•° T get(int index); // æ ¹æ®ç´¢å¼•è·å–æŒ‡å®šå…ƒç´  void add(T t); // æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  void remove(T t); // åˆ é™¤ä¸€ä¸ªå·²æœ‰å…ƒç´  } ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 int sumOfList(List\u003c? extends Integer\u003e list) { int sum = 0; for (int i=0; i",
  "wordCount" : "13751",
  "inLanguage": "en",
  "datePublished": "2022-08-07T09:36:54Z",
  "dateModified": "2022-08-07T09:36:54Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/java%E5%9F%BA%E7%A1%80/7%E6%B3%9B%E5%9E%8B/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;Â»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      7ã€æ³›å‹
    </h1>
    <div class="post-meta"><span title='2022-08-07 09:36:54 +0000 UTC'>2022-08-07</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e6%b3%9b%e5%9e%8b" aria-label="ä»€ä¹ˆæ˜¯æ³›å‹">ä»€ä¹ˆæ˜¯æ³›å‹</a><ul>
                        
                <li>
                    <a href="#%e5%90%91%e4%b8%8a%e8%bd%ac%e5%9e%8b" aria-label="å‘ä¸Šè½¬å‹">å‘ä¸Šè½¬å‹</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e6%b3%9b%e5%9e%8b" aria-label="ä½¿ç”¨æ³›å‹">ä½¿ç”¨æ³›å‹</a><ul>
                        
                <li>
                    <a href="#%e6%b3%9b%e5%9e%8b%e6%8e%a5%e5%8f%a3" aria-label="æ³›å‹æ¥å£">æ³›å‹æ¥å£</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bc%96%e5%86%99%e6%b3%9b%e5%9e%8b" aria-label="ç¼–å†™æ³›å‹">ç¼–å†™æ³›å‹</a><ul>
                        
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95" aria-label="é™æ€æ–¹æ³•">é™æ€æ–¹æ³•</a></li>
                <li>
                    <a href="#%e5%a4%9a%e4%b8%aa%e6%b3%9b%e5%9e%8b%e7%b1%bb%e5%9e%8b" aria-label="å¤šä¸ªæ³›å‹ç±»å‹">å¤šä¸ªæ³›å‹ç±»å‹</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%93%a6%e6%8b%ad%e6%b3%95" aria-label="æ“¦æ‹­æ³•">æ“¦æ‹­æ³•</a><ul>
                        
                <li>
                    <a href="#%e4%b8%8d%e6%81%b0%e5%bd%93%e7%9a%84%e8%a6%86%e5%86%99%e6%96%b9%e6%b3%95" aria-label="ä¸æ°å½“çš„è¦†å†™æ–¹æ³•">ä¸æ°å½“çš„è¦†å†™æ–¹æ³•</a></li>
                <li>
                    <a href="#%e6%b3%9b%e5%9e%8b%e7%bb%a7%e6%89%bf" aria-label="æ³›å‹ç»§æ‰¿">æ³›å‹ç»§æ‰¿</a></li></ul>
                </li>
                <li>
                    <a href="#extends%e9%80%9a%e9%85%8d%e7%ac%a6" aria-label="extendsé€šé…ç¬¦">extendsé€šé…ç¬¦</a><ul>
                        
                <li>
                    <a href="#extends%e9%80%9a%e9%85%8d%e7%ac%a6%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="extendsé€šé…ç¬¦çš„ä½œç”¨">extendsé€šé…ç¬¦çš„ä½œç”¨</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8extends%e9%99%90%e5%ae%9at%e7%b1%bb%e5%9e%8b" aria-label="ä½¿ç”¨extendsé™å®šTç±»å‹">ä½¿ç”¨extendsé™å®šTç±»å‹</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93" aria-label="å°ç»“">å°ç»“</a></li></ul>
                </li>
                <li>
                    <a href="#super%e9%80%9a%e9%85%8d%e7%ac%a6" aria-label="superé€šé…ç¬¦">superé€šé…ç¬¦</a><ul>
                        
                <li>
                    <a href="#%e5%af%b9%e6%af%94extends%e5%92%8csuper%e9%80%9a%e9%85%8d%e7%ac%a6" aria-label="å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦">å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦</a></li>
                <li>
                    <a href="#pecs%e5%8e%9f%e5%88%99" aria-label="PECSåŸåˆ™">PECSåŸåˆ™</a></li>
                <li>
                    <a href="#%e6%97%a0%e9%99%90%e5%ae%9a%e9%80%9a%e9%85%8d%e7%ac%a6" aria-label="æ— é™å®šé€šé…ç¬¦">æ— é™å®šé€šé…ç¬¦</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93-1" aria-label="å°ç»“">å°ç»“</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%b3%9b%e5%9e%8b%e5%92%8c%e5%8f%8d%e5%b0%84" aria-label="æ³›å‹å’Œåå°„">æ³›å‹å’Œåå°„</a><ul>
                        
                <li>
                    <a href="#%e8%b0%a8%e6%85%8e%e4%bd%bf%e7%94%a8%e6%b3%9b%e5%9e%8b%e5%8f%af%e5%8f%98%e5%8f%82%e6%95%b0" aria-label="è°¨æ…ä½¿ç”¨æ³›å‹å¯å˜å‚æ•°">è°¨æ…ä½¿ç”¨æ³›å‹å¯å˜å‚æ•°</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93-2" aria-label="å°ç»“">å°ç»“</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>æ³›å‹æ˜¯ä¸€ç§â€œä»£ç æ¨¡æ¿â€ï¼Œå¯ä»¥ç”¨ä¸€å¥—ä»£ç å¥—ç”¨å„ç§ç±»å‹ã€‚</p>
<h1 id="ä»€ä¹ˆæ˜¯æ³›å‹">ä»€ä¹ˆæ˜¯æ³›å‹<a hidden class="anchor" aria-hidden="true" href="#ä»€ä¹ˆæ˜¯æ³›å‹">#</a></h1>
<p>åœ¨è®²è§£ä»€ä¹ˆæ˜¯æ³›å‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè§‚å¯ŸJavaæ ‡å‡†åº“æä¾›çš„<code>ArrayList</code>ï¼Œå®ƒå¯ä»¥çœ‹ä½œâ€œå¯å˜é•¿åº¦â€çš„æ•°ç»„ï¼Œå› ä¸ºç”¨èµ·æ¥æ¯”æ•°ç»„æ›´æ–¹ä¾¿ã€‚å®é™…ä¸Š<code>ArrayList</code>å†…éƒ¨å°±æ˜¯ä¸€ä¸ª<code>Object[]</code>æ•°ç»„ï¼Œé…åˆå­˜å‚¨ä¸€ä¸ªå½“å‰åˆ†é…çš„é•¿åº¦ï¼Œå°±å¯ä»¥å……å½“â€œå¯å˜æ•°ç»„â€ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ArrayList {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Object[] array;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> add(Object e) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Object get(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœç”¨ä¸Šè¿°<code>ArrayList</code>å­˜å‚¨<code>String</code>ç±»å‹ï¼Œä¼šæœ‰è¿™ä¹ˆå‡ ä¸ªç¼ºç‚¹ï¼š</p>
<ul>
<li>éœ€è¦å¼ºåˆ¶è½¬å‹ï¼›</li>
<li>ä¸æ–¹ä¾¿ï¼Œæ˜“å‡ºé”™ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä»£ç å¿…é¡»è¿™ä¹ˆå†™ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ArrayList list = <span style="color:#fff;font-weight:bold">new</span> ArrayList();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–åˆ°Objectï¼Œå¿…é¡»å¼ºåˆ¶è½¬å‹ä¸ºString:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String first = (String) list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¾ˆå®¹æ˜“å‡ºç°<code>ClassCastException</code>ï¼Œå› ä¸ºå®¹æ˜“â€œè¯¯è½¬å‹â€ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">123</span>));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ERROR: ClassCastException:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String second = (String) list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¦è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¸º<code>String</code>å•ç‹¬ç¼–å†™ä¸€ç§<code>ArrayList</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringArrayList {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String[] array;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> add(String e) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String get(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¸€æ¥ï¼Œå­˜å…¥çš„å¿…é¡»æ˜¯<code>String</code>ï¼Œå–å‡ºçš„ä¹Ÿä¸€å®šæ˜¯<code>String</code>ï¼Œä¸éœ€è¦å¼ºåˆ¶è½¬å‹ï¼Œå› ä¸ºç¼–è¯‘å™¨ä¼šå¼ºåˆ¶æ£€æŸ¥æ”¾å…¥çš„ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>StringArrayList list = <span style="color:#fff;font-weight:bold">new</span> StringArrayList();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span>String first = list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç¼–è¯‘é”™è¯¯: ä¸å…è®¸æ”¾å…¥éStringç±»å‹:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>list.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">123</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><p>é—®é¢˜æš‚æ—¶è§£å†³ã€‚</p>
<p>ç„¶è€Œï¼Œæ–°çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœè¦å­˜å‚¨<code>Integer</code>ï¼Œè¿˜éœ€è¦ä¸º<code>Integer</code>å•ç‹¬ç¼–å†™ä¸€ç§<code>ArrayList</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> IntegerArrayList {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer[] array;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> add(Integer e) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Integer get(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼Œè¿˜éœ€è¦ä¸ºå…¶ä»–æ‰€æœ‰classå•ç‹¬ç¼–å†™ä¸€ç§<code>ArrayList</code>ï¼š</p>
<ul>
<li>LongArrayList</li>
<li>DoubleArrayList</li>
<li>PersonArrayList</li>
<li>&hellip;</li>
</ul>
<p>è¿™æ˜¯ä¸å¯èƒ½çš„ï¼ŒJDKçš„classå°±æœ‰ä¸Šåƒä¸ªï¼Œè€Œä¸”å®ƒè¿˜ä¸çŸ¥é“å…¶ä»–äººç¼–å†™çš„classã€‚</p>
<p>ä¸ºäº†è§£å†³æ–°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¿…é¡»æŠŠ<code>ArrayList</code>å˜æˆä¸€ç§æ¨¡æ¿ï¼š<code>ArrayList&lt;T&gt;</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ArrayList&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T[] array;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> size;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> add(T e) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T get(<span style="color:#fff;font-weight:bold">int</span> index) {...}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>T</code>å¯ä»¥æ˜¯ä»»ä½•classã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±å®ç°äº†ï¼šç¼–å†™ä¸€æ¬¡æ¨¡ç‰ˆï¼Œå¯ä»¥åˆ›å»ºä»»æ„ç±»å‹çš„<code>ArrayList</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// åˆ›å»ºå¯ä»¥å­˜å‚¨Stringçš„ArrayList:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>ArrayList&lt;String&gt; strList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åˆ›å»ºå¯ä»¥å­˜å‚¨Floatçš„ArrayList:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>ArrayList&lt;Float&gt; floatList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Float&gt;();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åˆ›å»ºå¯ä»¥å­˜å‚¨Personçš„ArrayList:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>ArrayList&lt;Person&gt; personList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Person&gt;();
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› æ­¤ï¼Œæ³›å‹å°±æ˜¯å®šä¹‰ä¸€ç§æ¨¡æ¿ï¼Œä¾‹å¦‚<code>ArrayList&lt;T&gt;</code>ï¼Œç„¶ååœ¨ä»£ç ä¸­ä¸ºç”¨åˆ°çš„ç±»åˆ›å»ºå¯¹åº”çš„<code>ArrayList&lt;ç±»å‹&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ArrayList&lt;String&gt; strList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç”±ç¼–è¯‘å™¨é’ˆå¯¹ç±»å‹ä½œæ£€æŸ¥ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>strList.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>); <span style="color:#007f7f">// OK
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s = strList.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>); <span style="color:#007f7f">// OK
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>strList.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">123</span>)); <span style="color:#007f7f">// compile error!
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Integer n = strList.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>); <span style="color:#007f7f">// compile error!
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¸€æ¥ï¼Œæ—¢å®ç°äº†ç¼–å†™ä¸€æ¬¡ï¼Œä¸‡èƒ½åŒ¹é…ï¼Œåˆé€šè¿‡ç¼–è¯‘å™¨ä¿è¯äº†ç±»å‹å®‰å…¨ï¼šè¿™å°±æ˜¯æ³›å‹ã€‚</p>
<h2 id="å‘ä¸Šè½¬å‹">å‘ä¸Šè½¬å‹<a hidden class="anchor" aria-hidden="true" href="#å‘ä¸Šè½¬å‹">#</a></h2>
<p>åœ¨Javaæ ‡å‡†åº“ä¸­çš„<code>ArrayList&lt;T&gt;</code>å®ç°äº†<code>List&lt;T&gt;</code>æ¥å£ï¼Œå®ƒå¯ä»¥å‘ä¸Šè½¬å‹ä¸º<code>List&lt;T&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ArrayList&lt;T&gt; <span style="color:#fff;font-weight:bold">implements</span> List&lt;T&gt; {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span></code></pre></td></tr></table>
</div>
</div><p>å³ç±»å‹<code>ArrayList&lt;T&gt;</code>å¯ä»¥å‘ä¸Šè½¬å‹ä¸º<code>List&lt;T&gt;</code>ã€‚</p>
<p>è¦<em>ç‰¹åˆ«æ³¨æ„</em>ï¼šä¸èƒ½æŠŠ<code>ArrayList&lt;Integer&gt;</code>å‘ä¸Šè½¬å‹ä¸º<code>ArrayList&lt;Number&gt;</code>æˆ–<code>List&lt;Number&gt;</code>ã€‚</p>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå‡è®¾<code>ArrayList&lt;Integer&gt;</code>å¯ä»¥å‘ä¸Šè½¬å‹ä¸º<code>ArrayList&lt;Number&gt;</code>ï¼Œè§‚å¯Ÿä»¥ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// åˆ›å»ºArrayList&lt;Integer&gt;ç±»å‹ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>ArrayList&lt;Integer&gt; integerList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Integer&gt;();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ·»åŠ ä¸€ä¸ªIntegerï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>integerList.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">123</span>));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// â€œå‘ä¸Šè½¬å‹â€ä¸ºArrayList&lt;Number&gt;ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>ArrayList&lt;Number&gt; numberList = integerList;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ·»åŠ ä¸€ä¸ªFloatï¼Œå› ä¸ºFloatä¹Ÿæ˜¯Numberï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>numberList.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Float(<span style="color:#ff0;font-weight:bold">12.34</span>));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä»ArrayList&lt;Integer&gt;è·å–ç´¢å¼•ä¸º1çš„å…ƒç´ ï¼ˆå³æ·»åŠ çš„Floatï¼‰ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Integer n = integerList.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">1</span>); <span style="color:#007f7f">// ClassCastException!
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬æŠŠä¸€ä¸ª<code>ArrayList&lt;Integer&gt;</code>è½¬å‹ä¸º<code>ArrayList&lt;Number&gt;</code>ç±»å‹åï¼Œè¿™ä¸ª<code>ArrayList&lt;Number&gt;</code>å°±å¯ä»¥æ¥å—<code>Float</code>ç±»å‹ï¼Œå› ä¸º<code>Float</code>æ˜¯<code>Number</code>çš„å­ç±»ã€‚ä½†æ˜¯ï¼Œ<code>ArrayList&lt;Number&gt;</code>å®é™…ä¸Šå’Œ<code>ArrayList&lt;Integer&gt;</code>æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>ArrayList&lt;Integer&gt;</code>ç±»å‹ï¼Œå®ƒä¸å¯èƒ½æ¥å—<code>Float</code>ç±»å‹ï¼Œ æ‰€ä»¥åœ¨è·å–<code>Integer</code>çš„æ—¶å€™å°†äº§ç”Ÿ<code>ClassCastException</code>ã€‚</p>
<p>å®é™…ä¸Šï¼Œç¼–è¯‘å™¨ä¸ºäº†é¿å…è¿™ç§é”™è¯¯ï¼Œæ ¹æœ¬å°±ä¸å…è®¸æŠŠ<code>ArrayList&lt;Integer&gt;</code>è½¬å‹ä¸º<code>ArrayList&lt;Number&gt;</code>ã€‚</p>
<p><code> ArrayList&lt;Integer&gt;å’ŒArrayList&lt;Number&gt;ä¸¤è€…å®Œå…¨æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€‚</code></p>
<h1 id="ä½¿ç”¨æ³›å‹">ä½¿ç”¨æ³›å‹<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨æ³›å‹">#</a></h1>
<p>ä½¿ç”¨<code>ArrayList</code>æ—¶ï¼Œå¦‚æœä¸å®šä¹‰æ³›å‹ç±»å‹æ—¶ï¼Œæ³›å‹ç±»å‹å®é™…ä¸Šå°±æ˜¯<code>Object</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// ç¼–è¯‘å™¨è­¦å‘Š:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List list = <span style="color:#fff;font-weight:bold">new</span> ArrayList();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;World&#34;</span>);
</span></span><span style="display:flex;"><span>String first = (String) list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>String second = (String) list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ­¤æ—¶ï¼Œåªèƒ½æŠŠ<code>&lt;T&gt;</code>å½“ä½œ<code>Object</code>ä½¿ç”¨ï¼Œæ²¡æœ‰å‘æŒ¥æ³›å‹çš„ä¼˜åŠ¿ã€‚</p>
<p>å½“æˆ‘ä»¬å®šä¹‰æ³›å‹ç±»å‹<code>&lt;String&gt;</code>åï¼Œ<code>List&lt;T&gt;</code>çš„æ³›å‹æ¥å£å˜ä¸ºå¼ºç±»å‹<code>List&lt;String&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// æ— ç¼–è¯‘å™¨è­¦å‘Š:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;World&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ— å¼ºåˆ¶è½¬å‹:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String first = list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>String second = list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“æˆ‘ä»¬å®šä¹‰æ³›å‹ç±»å‹<code>&lt;Number&gt;</code>åï¼Œ<code>List&lt;T&gt;</code>çš„æ³›å‹æ¥å£å˜ä¸ºå¼ºç±»å‹<code>List&lt;Number&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Number&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Number&gt;();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">123</span>));
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Double(<span style="color:#ff0;font-weight:bold">12.34</span>));
</span></span><span style="display:flex;"><span>Number first = list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>Number second = list.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¼–è¯‘å™¨å¦‚æœèƒ½è‡ªåŠ¨æ¨æ–­å‡ºæ³›å‹ç±»å‹ï¼Œå°±å¯ä»¥çœç•¥åé¢çš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Number&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;Number&gt;();
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¼–è¯‘å™¨çœ‹åˆ°æ³›å‹ç±»å‹<code>List&lt;Number&gt;</code>å°±å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºåé¢çš„<code>ArrayList&lt;T&gt;</code>çš„æ³›å‹ç±»å‹å¿…é¡»æ˜¯<code>ArrayList&lt;Number&gt;</code>ï¼Œå› æ­¤ï¼Œå¯ä»¥æŠŠä»£ç ç®€å†™ä¸ºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// å¯ä»¥çœç•¥åé¢çš„Numberï¼Œç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨æ¨æ–­æ³›å‹ç±»å‹ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;Number&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ³›å‹æ¥å£">æ³›å‹æ¥å£<a hidden class="anchor" aria-hidden="true" href="#æ³›å‹æ¥å£">#</a></h2>
<p>é™¤äº†<code>ArrayList&lt;T&gt;</code>ä½¿ç”¨äº†æ³›å‹ï¼Œè¿˜å¯ä»¥åœ¨æ¥å£ä¸­ä½¿ç”¨æ³›å‹ã€‚ä¾‹å¦‚ï¼Œ<code>Arrays.sort(Object[])</code>å¯ä»¥å¯¹ä»»æ„æ•°ç»„è¿›è¡Œæ’åºï¼Œä½†å¾…æ’åºçš„å…ƒç´ å¿…é¡»å®ç°<code>Comparable&lt;T&gt;</code>è¿™ä¸ªæ³›å‹æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Comparable&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿”å›è´Ÿæ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿”å›0: å½“å‰å®ä¾‹ä¸å‚æ•°oç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿”å›æ­£æ•°: å½“å‰å®ä¾‹æ¯”å‚æ•°oå¤§
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> compareTo(T o);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥ç›´æ¥å¯¹<code>String</code>æ•°ç»„è¿›è¡Œæ’åºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        String[] ss = <span style="color:#fff;font-weight:bold">new</span> String[] { <span style="color:#0ff;font-weight:bold">&#34;Orange&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Pear&#34;</span> };
</span></span><span style="display:flex;"><span>        Arrays.<span style="color:#007f7f">sort</span>(ss);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Arrays.<span style="color:#007f7f">toString</span>(ss));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ˜¯å› ä¸º<code>String</code>æœ¬èº«å·²ç»å®ç°äº†<code>Comparable&lt;String&gt;</code>æ¥å£ã€‚å¦‚æœæ¢æˆæˆ‘ä»¬è‡ªå®šä¹‰çš„<code>Person</code>ç±»å‹è¯•è¯•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Person[] ps = <span style="color:#fff;font-weight:bold">new</span> Person[] {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>, <span style="color:#ff0;font-weight:bold">61</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Alice&#34;</span>, <span style="color:#ff0;font-weight:bold">88</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Lily&#34;</span>, <span style="color:#ff0;font-weight:bold">75</span>),
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        Arrays.<span style="color:#007f7f">sort</span>(ps);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Arrays.<span style="color:#007f7f">toString</span>(ps));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> score;
</span></span><span style="display:flex;"><span>    Person(String name, <span style="color:#fff;font-weight:bold">int</span> score) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">score</span> = score;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> + <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> + <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">score</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°<code>ClassCastException</code>ï¼Œå³æ— æ³•å°†<code>Person</code>è½¬å‹ä¸º<code>Comparable</code>ã€‚æˆ‘ä»¬ä¿®æ”¹ä»£ç ï¼Œè®©<code>Person</code>å®ç°<code>Comparable&lt;T&gt;</code>æ¥å£ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Person[] ps = <span style="color:#fff;font-weight:bold">new</span> Person[] {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>, <span style="color:#ff0;font-weight:bold">61</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Alice&#34;</span>, <span style="color:#ff0;font-weight:bold">88</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Lily&#34;</span>, <span style="color:#ff0;font-weight:bold">75</span>),
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        Arrays.<span style="color:#007f7f">sort</span>(ps);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Arrays.<span style="color:#007f7f">toString</span>(ps));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person <span style="color:#fff;font-weight:bold">implements</span> Comparable&lt;Person&gt; {
</span></span><span style="display:flex;"><span>    String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> score;
</span></span><span style="display:flex;"><span>    Person(String name, <span style="color:#fff;font-weight:bold">int</span> score) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">score</span> = score;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> compareTo(Person other) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span>.<span style="color:#007f7f">compareTo</span>(other.<span style="color:#007f7f">name</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> + <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> + <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">score</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¯ä»¥æ­£ç¡®å®ç°æŒ‰<code>name</code>è¿›è¡Œæ’åºã€‚</p>
<p>ä¹Ÿå¯ä»¥ä¿®æ”¹æ¯”è¾ƒé€»è¾‘ï¼Œä¾‹å¦‚ï¼ŒæŒ‰<code>score</code>ä»é«˜åˆ°ä½æ’åºã€‚è¯·è‡ªè¡Œä¿®æ”¹æµ‹è¯•ã€‚</p>
<h1 id="ç¼–å†™æ³›å‹">ç¼–å†™æ³›å‹<a hidden class="anchor" aria-hidden="true" href="#ç¼–å†™æ³›å‹">#</a></h1>
<p>ç¼–å†™æ³›å‹ç±»æ¯”æ™®é€šç±»è¦å¤æ‚ã€‚é€šå¸¸æ¥è¯´ï¼Œæ³›å‹ç±»ä¸€èˆ¬ç”¨åœ¨é›†åˆç±»ä¸­ï¼Œä¾‹å¦‚<code>ArrayList&lt;T&gt;</code>ï¼Œæˆ‘ä»¬å¾ˆå°‘éœ€è¦ç¼–å†™æ³›å‹ç±»ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ï¼Œé‚£ä¹ˆï¼Œåº”è¯¥å¦‚ä½•ç¼–å†™å®ƒï¼Ÿå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ã€‚é¦–å…ˆï¼ŒæŒ‰ç…§æŸç§ç±»å‹ï¼Œä¾‹å¦‚ï¼š<code>String</code>ï¼Œæ¥ç¼–å†™ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(String first, String last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æŠŠç‰¹å®šç±»å‹<code>String</code>æ›¿æ¢ä¸º<code>T</code>ï¼Œå¹¶ç”³æ˜<code>&lt;T&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç†Ÿç»ƒåå³å¯ç›´æ¥ä»<code>T</code>å¼€å§‹ç¼–å†™ã€‚</p>
<h2 id="é™æ€æ–¹æ³•">é™æ€æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#é™æ€æ–¹æ³•">#</a></h2>
<p>ç¼–å†™æ³›å‹ç±»æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œæ³›å‹ç±»å‹<code>&lt;T&gt;</code>ä¸èƒ½ç”¨äºé™æ€æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() { ... }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¯¹é™æ€æ–¹æ³•ä½¿ç”¨&lt;T&gt;:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Pair&lt;T&gt; create(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> Pair&lt;T&gt;(first, last);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œæˆ‘ä»¬æ— æ³•åœ¨é™æ€æ–¹æ³•<code>create()</code>çš„æ–¹æ³•å‚æ•°å’Œè¿”å›ç±»å‹ä¸Šä½¿ç”¨æ³›å‹ç±»å‹<code>T</code>ã€‚</p>
<p>æœ‰äº›åŒå­¦åœ¨ç½‘ä¸Šæœç´¢å‘ç°ï¼Œå¯ä»¥åœ¨<code>static</code>ä¿®é¥°ç¬¦åé¢åŠ ä¸€ä¸ª<code>&lt;T&gt;</code>ï¼Œç¼–è¯‘å°±èƒ½é€šè¿‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() { ... }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¯ä»¥ç¼–è¯‘é€šè¿‡:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; Pair&lt;T&gt; create(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> Pair&lt;T&gt;(first, last);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯¹äºé™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æ”¹å†™ä¸ºâ€œæ³›å‹â€æ–¹æ³•ï¼Œåªéœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªç±»å‹å³å¯ã€‚å¯¹äºä¸Šé¢çš„<code>create()</code>é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒæ”¹ä¸ºå¦ä¸€ç§æ³›å‹ç±»å‹ï¼Œä¾‹å¦‚ï¼Œ<code>&lt;K&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() { ... }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// é™æ€æ³›å‹æ–¹æ³•åº”è¯¥ä½¿ç”¨å…¶ä»–ç±»å‹åŒºåˆ†:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> &lt;K&gt; Pair&lt;K&gt; create(K first, K last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> Pair&lt;K&gt;(first, last);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·æ‰èƒ½æ¸…æ¥šåœ°å°†é™æ€æ–¹æ³•çš„æ³›å‹ç±»å‹å’Œå®ä¾‹ç±»å‹çš„æ³›å‹ç±»å‹åŒºåˆ†å¼€ã€‚</p>
<h2 id="å¤šä¸ªæ³›å‹ç±»å‹">å¤šä¸ªæ³›å‹ç±»å‹<a hidden class="anchor" aria-hidden="true" href="#å¤šä¸ªæ³›å‹ç±»å‹">#</a></h2>
<p>æ³›å‹è¿˜å¯ä»¥å®šä¹‰å¤šç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›<code>Pair</code>ä¸æ€»æ˜¯å­˜å‚¨ä¸¤ä¸ªç±»å‹ä¸€æ ·çš„å¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ç±»å‹<code>&lt;T, K&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T, K&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> K last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, K last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() { ... }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> K getLast() { ... }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å‡ºä¸¤ç§ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;String, Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#0ff;font-weight:bold">&#34;test&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>Javaæ ‡å‡†åº“çš„<code>Map&lt;K, V&gt;</code>å°±æ˜¯ä½¿ç”¨ä¸¤ç§æ³›å‹ç±»å‹çš„ä¾‹å­ã€‚å®ƒå¯¹Keyä½¿ç”¨ä¸€ç§ç±»å‹ï¼Œå¯¹Valueä½¿ç”¨å¦ä¸€ç§ç±»å‹ã€‚</p>
<h1 id="æ“¦æ‹­æ³•">æ“¦æ‹­æ³•<a hidden class="anchor" aria-hidden="true" href="#æ“¦æ‹­æ³•">#</a></h1>
<p>æ³›å‹æ˜¯ä¸€ç§ç±»ä¼¼â€æ¨¡æ¿ä»£ç â€œçš„æŠ€æœ¯ï¼Œä¸åŒè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼ä¸ä¸€å®šç›¸åŒã€‚
Javaè¯­è¨€çš„æ³›å‹å®ç°æ–¹å¼æ˜¯æ“¦æ‹­æ³•ï¼ˆType Erasureï¼‰ã€‚
æ‰€è°“æ“¦æ‹­æ³•æ˜¯æŒ‡ï¼Œè™šæ‹Ÿæœºå¯¹æ³›å‹å…¶å®ä¸€æ— æ‰€çŸ¥ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯ç¼–è¯‘å™¨åšçš„ã€‚
ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªæ³›å‹ç±»<code>Pair&lt;T&gt;</code>ï¼Œè¿™æ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œè™šæ‹Ÿæœºæ ¹æœ¬ä¸çŸ¥é“æ³›å‹ã€‚è¿™æ˜¯è™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Object first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Object last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(Object first, Object last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Object getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Object getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› æ­¤ï¼ŒJavaä½¿ç”¨æ“¦æ‹­æ³•å®ç°æ³›å‹ï¼Œå¯¼è‡´äº†ï¼š</p>
<ul>
<li>ç¼–è¯‘å™¨æŠŠç±»å‹<code>&lt;T&gt;</code>è§†ä¸º<code>Object</code>ï¼›</li>
<li>ç¼–è¯‘å™¨æ ¹æ®<code>&lt;T&gt;</code>å®ç°å®‰å…¨çš„å¼ºåˆ¶è½¬å‹ã€‚</li>
</ul>
<p>ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç¼–å†™çš„ä»£ç ä¹Ÿæ˜¯ç¼–è¯‘å™¨çœ‹åˆ°çš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;String&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;world&#34;</span>);
</span></span><span style="display:flex;"><span>String first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>String last = p.<span style="color:#007f7f">getLast</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œè™šæ‹Ÿæœºæ‰§è¡Œçš„ä»£ç å¹¶æ²¡æœ‰æ³›å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair p = <span style="color:#fff;font-weight:bold">new</span> Pair(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;world&#34;</span>);
</span></span><span style="display:flex;"><span>String first = (String) p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>String last = (String) p.<span style="color:#007f7f">getLast</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥ï¼ŒJavaçš„æ³›å‹æ˜¯ç”±ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶å®è¡Œçš„ï¼Œç¼–è¯‘å™¨å†…éƒ¨æ°¸è¿œæŠŠæ‰€æœ‰ç±»å‹<code>T</code>è§†ä¸º<code>Object</code>å¤„ç†ï¼Œä½†æ˜¯ï¼Œåœ¨éœ€è¦è½¬å‹çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®<code>T</code>çš„ç±»å‹è‡ªåŠ¨ä¸ºæˆ‘ä»¬å®è¡Œå®‰å…¨åœ°å¼ºåˆ¶è½¬å‹ã€‚</p>
<p>äº†è§£äº†Javaæ³›å‹çš„å®ç°æ–¹å¼â€”â€”æ“¦æ‹­æ³•ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†Javaæ³›å‹çš„å±€é™ï¼š</p>
<p>å±€é™ä¸€ï¼š<code>&lt;T&gt;</code>ä¸èƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œä¾‹å¦‚<code>int</code>ï¼Œå› ä¸ºå®é™…ç±»å‹æ˜¯<code>Object</code>ï¼Œ<code>Object</code>ç±»å‹æ— æ³•æŒæœ‰åŸºæœ¬ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;<span style="color:#fff;font-weight:bold">int</span>&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>); <span style="color:#007f7f">// compile error!
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å±€é™äºŒï¼šæ— æ³•å–å¾—å¸¦æ³›å‹çš„<code>Class</code>ã€‚è§‚å¯Ÿä»¥ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;String&gt; p1 = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;world&#34;</span>);
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p2 = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        Class c1 = p1.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>        Class c2 = p2.<span style="color:#007f7f">getClass</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(c1==c2); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(c1==Pair.<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸º<code>T</code>æ˜¯<code>Object</code>ï¼Œæˆ‘ä»¬å¯¹<code>Pair&lt;String&gt;</code>å’Œ<code>Pair&lt;Integer&gt;</code>ç±»å‹è·å–<code>Class</code>æ—¶ï¼Œè·å–åˆ°çš„æ˜¯åŒä¸€ä¸ª<code>Class</code>ï¼Œä¹Ÿå°±æ˜¯<code>Pair</code>ç±»çš„<code>Class</code>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰æ³›å‹å®ä¾‹ï¼Œæ— è®º<code>T</code>çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œ<code>getClass()</code>è¿”å›åŒä¸€ä¸ª<code>Class</code>å®ä¾‹ï¼Œå› ä¸ºç¼–è¯‘åå®ƒä»¬å…¨éƒ¨éƒ½æ˜¯<code>Pair&lt;Object&gt;</code>ã€‚</p>
<p>å±€é™ä¸‰ï¼šæ— æ³•åˆ¤æ–­å¸¦æ³›å‹çš„ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// Compile error:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">if</span> (p <span style="color:#fff;font-weight:bold">instanceof</span> Pair&lt;String&gt;) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŸå› å’Œå‰é¢ä¸€æ ·ï¼Œå¹¶ä¸å­˜åœ¨<code>Pair&lt;String&gt;.class</code>ï¼Œè€Œæ˜¯åªæœ‰å”¯ä¸€çš„<code>Pair.class</code>ã€‚</p>
<p>å±€é™å››ï¼šä¸èƒ½å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Compile error:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        first = <span style="color:#fff;font-weight:bold">new</span> T();
</span></span><span style="display:flex;"><span>        last = <span style="color:#fff;font-weight:bold">new</span> T();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œå› ä¸ºæ„é€ æ–¹æ³•çš„ä¸¤è¡Œè¯­å¥ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>first = <span style="color:#fff;font-weight:bold">new</span> T();
</span></span><span style="display:flex;"><span>last = <span style="color:#fff;font-weight:bold">new</span> T();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ“¦æ‹­åå®é™…ä¸Šå˜æˆäº†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>first = <span style="color:#fff;font-weight:bold">new</span> Object();
</span></span><span style="display:flex;"><span>last = <span style="color:#fff;font-weight:bold">new</span> Object();
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¸€æ¥ï¼Œåˆ›å»º<code>new Pair&lt;String&gt;()</code>å’Œåˆ›å»º<code>new Pair&lt;Integer&gt;()</code>å°±å…¨éƒ¨æˆäº†<code>Object</code>ï¼Œæ˜¾ç„¶ç¼–è¯‘å™¨è¦é˜»æ­¢è¿™ç§ç±»å‹ä¸å¯¹çš„ä»£ç ã€‚</p>
<p>è¦å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©é¢å¤–çš„<code>Class&lt;T&gt;</code>å‚æ•°ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(Class&lt;T&gt; clazz) {
</span></span><span style="display:flex;"><span>        first = clazz.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>        last = clazz.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç å€ŸåŠ©<code>Class&lt;T&gt;</code>å‚æ•°å¹¶é€šè¿‡åå°„æ¥å®ä¾‹åŒ–<code>T</code>ç±»å‹ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œä¹Ÿå¿…é¡»ä¼ å…¥<code>Class&lt;T&gt;</code>ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;String&gt; pair = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(String.<span style="color:#007f7f">class</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºä¼ å…¥äº†<code>Class&lt;String&gt;</code>çš„å®ä¾‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å€ŸåŠ©<code>String.class</code>å°±å¯ä»¥å®ä¾‹åŒ–<code>String</code>ç±»å‹ã€‚</p>
<h2 id="ä¸æ°å½“çš„è¦†å†™æ–¹æ³•">ä¸æ°å½“çš„è¦†å†™æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#ä¸æ°å½“çš„è¦†å†™æ–¹æ³•">#</a></h2>
<p>æœ‰äº›æ—¶å€™ï¼Œä¸€ä¸ªçœ‹ä¼¼æ­£ç¡®å®šä¹‰çš„æ–¹æ³•ä¼šæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(T t) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span> == t;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ˜¯å› ä¸ºï¼Œå®šä¹‰çš„<code>equals(T t)</code>æ–¹æ³•å®é™…ä¸Šä¼šè¢«æ“¦æ‹­æˆ<code>equals(Object t)</code>ï¼Œè€Œè¿™ä¸ªæ–¹æ³•æ˜¯ç»§æ‰¿è‡ª<code>Object</code>çš„ï¼Œç¼–è¯‘å™¨ä¼šé˜»æ­¢ä¸€ä¸ªå®é™…ä¸Šä¼šå˜æˆè¦†å†™çš„æ³›å‹æ–¹æ³•å®šä¹‰ã€‚</p>
<p>æ¢ä¸ªæ–¹æ³•åï¼Œé¿å¼€ä¸<code>Object.equals(Object)</code>çš„å†²çªå°±å¯ä»¥æˆåŠŸç¼–è¯‘ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> same(T t) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">this</span> == t;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ³›å‹ç»§æ‰¿">æ³›å‹ç»§æ‰¿<a hidden class="anchor" aria-hidden="true" href="#æ³›å‹ç»§æ‰¿">#</a></h2>
<p>ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªæ³›å‹ç±»ã€‚ä¾‹å¦‚ï¼šçˆ¶ç±»çš„ç±»å‹æ˜¯<code>Pair&lt;Integer&gt;</code>ï¼Œå­ç±»çš„ç±»å‹æ˜¯<code>IntPair</code>ï¼Œå¯ä»¥è¿™ä¹ˆç»§æ‰¿ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> IntPair <span style="color:#fff;font-weight:bold">extends</span> Pair&lt;Integer&gt; {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨çš„æ—¶å€™ï¼Œå› ä¸ºå­ç±»<code>IntPair</code>å¹¶æ²¡æœ‰æ³›å‹ç±»å‹ï¼Œæ‰€ä»¥ï¼Œæ­£å¸¸ä½¿ç”¨å³å¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>IntPair ip = <span style="color:#fff;font-weight:bold">new</span> IntPair(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‰é¢è®²äº†ï¼Œæˆ‘ä»¬æ— æ³•è·å–<code>Pair&lt;T&gt;</code>çš„<code>T</code>ç±»å‹ï¼Œå³ç»™å®šä¸€ä¸ªå˜é‡<code>Pair&lt;Integer&gt; p</code>ï¼Œæ— æ³•ä»<code>p</code>ä¸­è·å–åˆ°<code>Integer</code>ç±»å‹ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨çˆ¶ç±»æ˜¯æ³›å‹ç±»å‹çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°±å¿…é¡»æŠŠç±»å‹<code>T</code>ï¼ˆå¯¹<code>IntPair</code>æ¥è¯´ï¼Œä¹Ÿå°±æ˜¯<code>Integer</code>ç±»å‹ï¼‰ä¿å­˜åˆ°å­ç±»çš„classæ–‡ä»¶ä¸­ï¼Œä¸ç„¶ç¼–è¯‘å™¨å°±ä¸çŸ¥é“<code>IntPair</code>åªèƒ½å­˜å–<code>Integer</code>è¿™ç§ç±»å‹ã€‚</p>
<p>åœ¨ç»§æ‰¿äº†æ³›å‹ç±»å‹çš„æƒ…å†µä¸‹ï¼Œå­ç±»å¯ä»¥è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹ã€‚ä¾‹å¦‚ï¼š<code>IntPair</code>å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„æ³›å‹ç±»å‹<code>Integer</code>ã€‚è·å–çˆ¶ç±»çš„æ³›å‹ç±»å‹ä»£ç æ¯”è¾ƒå¤æ‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.ParameterizedType;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.reflect.Type;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Class&lt;IntPair&gt; clazz = IntPair.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>        Type t = clazz.<span style="color:#007f7f">getGenericSuperclass</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (t <span style="color:#fff;font-weight:bold">instanceof</span> ParameterizedType) {
</span></span><span style="display:flex;"><span>            ParameterizedType pt = (ParameterizedType) t;
</span></span><span style="display:flex;"><span>            Type[] types = pt.<span style="color:#007f7f">getActualTypeArguments</span>(); <span style="color:#007f7f">// å¯èƒ½æœ‰å¤šä¸ªæ³›å‹ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            Type firstType = types[<span style="color:#ff0;font-weight:bold">0</span>]; <span style="color:#007f7f">// å–ç¬¬ä¸€ä¸ªæ³›å‹ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            Class&lt;?&gt; typeClass = (Class&lt;?&gt;) firstType;
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(typeClass); <span style="color:#007f7f">// Integer
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> IntPair <span style="color:#fff;font-weight:bold">extends</span> Pair&lt;Integer&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> IntPair(Integer first, Integer last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>(first, last);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºJavaå¼•å…¥äº†æ³›å‹ï¼Œæ‰€ä»¥ï¼Œåªç”¨<code>Class</code>æ¥æ ‡è¯†ç±»å‹å·²ç»ä¸å¤Ÿäº†ã€‚å®é™…ä¸Šï¼ŒJavaçš„ç±»å‹ç³»ç»Ÿç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>                      â”Œâ”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>                      â”‚Typeâ”‚
</span></span><span style="display:flex;"><span>                      â””â”€â”€â”€â”€â”˜
</span></span><span style="display:flex;"><span>                         â–²
</span></span><span style="display:flex;"><span>                         â”‚
</span></span><span style="display:flex;"><span>   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>   â”‚            â”‚                  â”‚               â”‚
</span></span><span style="display:flex;"><span>â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span></span><span style="display:flex;"><span>â”‚Classâ”‚â”‚ParameterizedTypeâ”‚â”‚GenericArrayTypeâ”‚â”‚WildcardTypeâ”‚
</span></span><span style="display:flex;"><span>â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="extendsé€šé…ç¬¦">extendsé€šé…ç¬¦<a hidden class="anchor" aria-hidden="true" href="#extendsé€šé…ç¬¦">#</a></h1>
<p>æˆ‘ä»¬å‰é¢å·²ç»è®²åˆ°äº†æ³›å‹çš„ç»§æ‰¿å…³ç³»ï¼š<code>Pair&lt;Integer&gt;</code>ä¸æ˜¯<code>Pair&lt;Number&gt;</code>çš„å­ç±»ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬å®šä¹‰äº†<code>Pair&lt;T&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; { ... }
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œæˆ‘ä»¬åˆé’ˆå¯¹<code>Pair&lt;Number&gt;</code>ç±»å‹å†™äº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒæ¥æ”¶çš„å‚æ•°ç±»å‹æ˜¯<code>Pair&lt;Number&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> PairHelper {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> add(Pair&lt;Number&gt; p) {
</span></span><span style="display:flex;"><span>        Number first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>        Number last = p.<span style="color:#007f7f">getLast</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first.<span style="color:#007f7f">intValue</span>() + last.<span style="color:#007f7f">intValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘çš„ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å…¥ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> sum = PairHelper.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> Pair&lt;Number&gt;(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šä¼ å…¥çš„ç±»å‹æ˜¯<code>Pair&lt;Number&gt;</code>ï¼Œå®é™…å‚æ•°ç±»å‹æ˜¯<code>(Integer, Integer)</code>ã€‚</p>
<p>æ—¢ç„¶å®é™…å‚æ•°æ˜¯<code>Integer</code>ç±»å‹ï¼Œè¯•è¯•ä¼ å…¥<code>Pair&lt;Integer&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> n = add(p);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> add(Pair&lt;Number&gt; p) {
</span></span><span style="display:flex;"><span>        Number first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>        Number last = p.<span style="color:#007f7f">getLast</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first.<span style="color:#007f7f">intValue</span>() + last.<span style="color:#007f7f">intValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç›´æ¥è¿è¡Œï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š
<code>incompatible types: Pair&lt;Integer&gt; cannot be converted to Pair&lt;Number&gt;</code></p>
<p>åŸå› å¾ˆæ˜æ˜¾ï¼Œå› ä¸º<code>Pair&lt;Integer&gt;</code>ä¸æ˜¯<code>Pair&lt;Number&gt;</code>çš„å­ç±»ï¼Œå› æ­¤ï¼Œ<code>add(Pair&lt;Number&gt;)</code>ä¸æ¥å—å‚æ•°ç±»å‹<code>Pair&lt;Integer&gt;</code>ã€‚</p>
<p>ä½†æ˜¯ä»<code>add()</code>æ–¹æ³•çš„ä»£ç å¯çŸ¥ï¼Œä¼ å…¥<code>Pair&lt;Integer&gt;</code>æ˜¯å®Œå…¨ç¬¦åˆå†…éƒ¨ä»£ç çš„ç±»å‹è§„èŒƒï¼Œå› ä¸ºè¯­å¥ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Number first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>Number last = p.<span style="color:#007f7f">getLast</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ç±»å‹æ˜¯<code>Integer</code>ï¼Œå¼•ç”¨ç±»å‹æ˜¯<code>Number</code>ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é—®é¢˜åœ¨äºæ–¹æ³•å‚æ•°ç±»å‹å®šæ­»äº†åªèƒ½ä¼ å…¥<code>Pair&lt;Number&gt;</code>ã€‚</p>
<p>æœ‰æ²¡æœ‰åŠæ³•ä½¿å¾—æ–¹æ³•å‚æ•°æ¥å—<code>Pair&lt;Integer&gt;</code>ï¼ŸåŠæ³•æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯ä½¿ç”¨<code>Pair&lt;? extends Number&gt;</code>ä½¿å¾—æ–¹æ³•æ¥æ”¶æ‰€æœ‰æ³›å‹ç±»å‹ä¸º<code>Number</code>æˆ–<code>Number</code>å­ç±»çš„<code>Pair</code>ç±»å‹ã€‚æˆ‘ä»¬æŠŠä»£ç æ”¹å†™å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> n = add(p);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> add(Pair&lt;? <span style="color:#fff;font-weight:bold">extends</span> Number&gt; p) {
</span></span><span style="display:flex;"><span>        Number first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>        Number last = p.<span style="color:#007f7f">getLast</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first.<span style="color:#007f7f">intValue</span>() + last.<span style="color:#007f7f">intValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·ä¸€æ¥ï¼Œç»™æ–¹æ³•ä¼ å…¥<code>Pair&lt;Integer&gt;</code>ç±»å‹æ—¶ï¼Œå®ƒç¬¦åˆå‚æ•°<code>Pair&lt;? extends Number&gt;</code>ç±»å‹ã€‚è¿™ç§ä½¿ç”¨<code>&lt;? extends Number&gt;</code>çš„æ³›å‹å®šä¹‰ç§°ä¹‹ä¸ºä¸Šç•Œé€šé…ç¬¦ï¼ˆUpper Bounds Wildcardsï¼‰ï¼Œå³æŠŠæ³›å‹ç±»å‹<code>T</code>çš„ä¸Šç•Œé™å®šåœ¨<code>Number</code>äº†ã€‚</p>
<p>é™¤äº†å¯ä»¥ä¼ å…¥<code>Pair&lt;Integer&gt;</code>ç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥<code>Pair&lt;Double&gt;</code>ç±»å‹ï¼Œ<code>Pair&lt;BigDecimal&gt;</code>ç±»å‹ç­‰ç­‰ï¼Œå› ä¸º<code>Double</code>å’Œ<code>BigDecimal</code>éƒ½æ˜¯<code>Number</code>çš„å­ç±»ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è€ƒå¯Ÿå¯¹<code>Pair&lt;? extends Number&gt;</code>ç±»å‹è°ƒç”¨<code>getFirst()</code>æ–¹æ³•ï¼Œå®é™…çš„æ–¹æ³•ç­¾åå˜æˆäº†ï¼š</p>
<p><code>&lt;? extends Number&gt; getFirst();</code></p>
<p>å³è¿”å›å€¼æ˜¯<code>Number</code>æˆ–<code>Number</code>çš„å­ç±»ï¼Œå› æ­¤ï¼Œå¯ä»¥å®‰å…¨èµ‹å€¼ç»™<code>Number</code>ç±»å‹çš„å˜é‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Number x = p.<span style="color:#007f7f">getFirst</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼Œæˆ‘ä»¬ä¸å¯é¢„æµ‹å®é™…ç±»å‹å°±æ˜¯<code>Integer</code>ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼š</p>
<p><code>Integer x = p.getFirst();</code></p>
<p>è¿™æ˜¯å› ä¸ºå®é™…çš„è¿”å›ç±»å‹å¯èƒ½æ˜¯<code>Integer</code>ï¼Œä¹Ÿå¯èƒ½æ˜¯<code>Double</code>æˆ–è€…å…¶ä»–ç±»å‹ï¼Œç¼–è¯‘å™¨åªèƒ½ç¡®å®šç±»å‹ä¸€å®šæ˜¯<code>Number</code>çš„å­ç±»ï¼ˆåŒ…æ‹¬<code>Number</code>ç±»å‹æœ¬èº«ï¼‰ï¼Œä½†å…·ä½“ç±»å‹æ— æ³•ç¡®å®šã€‚</p>
<p>æˆ‘ä»¬å†æ¥è€ƒå¯Ÿä¸€ä¸‹<code>Pair&lt;T&gt;</code>çš„<code>set</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> n = add(p);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(n);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> add(Pair&lt;? <span style="color:#fff;font-weight:bold">extends</span> Number&gt; p) {
</span></span><span style="display:flex;"><span>        Number first = p.<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>        Number last = p.<span style="color:#007f7f">getLast</span>();
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">setFirst</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(first.<span style="color:#007f7f">intValue</span>() + <span style="color:#ff0;font-weight:bold">100</span>));
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">setLast</span>(<span style="color:#fff;font-weight:bold">new</span> Integer(last.<span style="color:#007f7f">intValue</span>() + <span style="color:#ff0;font-weight:bold">100</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> p.<span style="color:#007f7f">getFirst</span>().<span style="color:#007f7f">intValue</span>() + p.<span style="color:#007f7f">getFirst</span>().<span style="color:#007f7f">intValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setFirst(T first) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setLast(T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸å‡ºæ„å¤–ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>incompatible types: Integer cannot be converted to CAP<span style="color:#f00">#</span><span style="color:#ff0;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>where CAP<span style="color:#f00">#</span><span style="color:#ff0;font-weight:bold">1</span> is a fresh type-variable:
</span></span><span style="display:flex;"><span>    CAP<span style="color:#f00">#</span><span style="color:#ff0;font-weight:bold">1</span> <span style="color:#fff;font-weight:bold">extends</span> Number from capture of ? <span style="color:#fff;font-weight:bold">extends</span> Number
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¼–è¯‘é”™è¯¯å‘ç”Ÿåœ¨<code>p.setFirst()</code>ä¼ å…¥çš„å‚æ•°æ˜¯<code>Integer</code>ç±»å‹ã€‚æœ‰äº›ç«¥é‹ä¼šé—®äº†ï¼Œæ—¢ç„¶<code>p</code>çš„å®šä¹‰æ˜¯<code>Pair&lt;? extends Number&gt;</code>ï¼Œé‚£ä¹ˆ<code>setFirst(? extends Number)</code>ä¸ºä»€ä¹ˆä¸èƒ½ä¼ å…¥<code>Integer</code>ï¼Ÿ</p>
<p>åŸå› è¿˜åœ¨äºæ“¦æ‹­æ³•ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥çš„<code>p</code>æ˜¯<code>Pair&lt;Double&gt;</code>ï¼Œæ˜¾ç„¶å®ƒæ»¡è¶³å‚æ•°å®šä¹‰<code>Pair&lt;? extends Number&gt;</code>ï¼Œç„¶è€Œï¼Œ<code>Pair&lt;Double&gt;</code>çš„<code>setFirst()</code>æ˜¾ç„¶æ— æ³•æ¥å—<code>Integer</code>ç±»å‹ã€‚</p>
<p>è¿™å°±æ˜¯<code>&lt;? extends Number&gt;</code>é€šé…ç¬¦çš„ä¸€ä¸ªé‡è¦é™åˆ¶ï¼šæ–¹æ³•å‚æ•°ç­¾å<code>setFirst(? extends Number)</code>æ— æ³•ä¼ é€’ä»»ä½•<code>Number</code>çš„å­ç±»å‹ç»™<code>setFirst(? extends Number)</code>ã€‚</p>
<p>è¿™é‡Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯å¯ä»¥ç»™æ–¹æ³•å‚æ•°ä¼ å…¥<code>null</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>p.<span style="color:#007f7f">setFirst</span>(<span style="color:#fff;font-weight:bold">null</span>); <span style="color:#007f7f">// ok, ä½†æ˜¯åé¢ä¼šæŠ›å‡ºNullPointerException
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>p.<span style="color:#007f7f">getFirst</span>().<span style="color:#007f7f">intValue</span>(); <span style="color:#007f7f">// NullPointerException
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="extendsé€šé…ç¬¦çš„ä½œç”¨">extendsé€šé…ç¬¦çš„ä½œç”¨<a hidden class="anchor" aria-hidden="true" href="#extendsé€šé…ç¬¦çš„ä½œç”¨">#</a></h2>
<p>å¦‚æœæˆ‘ä»¬è€ƒå¯ŸJavaæ ‡å‡†åº“çš„<code>java.util.List&lt;T&gt;</code>æ¥å£ï¼Œå®ƒå®ç°çš„æ˜¯ä¸€ä¸ªç±»ä¼¼â€œå¯å˜æ•°ç»„â€çš„åˆ—è¡¨ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> List&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> size(); <span style="color:#007f7f">// è·å–ä¸ªæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    T get(<span style="color:#fff;font-weight:bold">int</span> index); <span style="color:#007f7f">// æ ¹æ®ç´¢å¼•è·å–æŒ‡å®šå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">void</span> add(T t); <span style="color:#007f7f">// æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">void</span> remove(T t); <span style="color:#007f7f">// åˆ é™¤ä¸€ä¸ªå·²æœ‰å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> sumOfList(List&lt;? <span style="color:#fff;font-weight:bold">extends</span> Integer&gt; list) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> sum = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;list.<span style="color:#007f7f">size</span>(); i++) {
</span></span><span style="display:flex;"><span>        Integer n = list.<span style="color:#007f7f">get</span>(i);
</span></span><span style="display:flex;"><span>        sum = sum + n;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> sum;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å®šä¹‰çš„æ–¹æ³•å‚æ•°ç±»å‹æ˜¯<code>List&lt;? extends Integer&gt;</code>è€Œä¸æ˜¯<code>List&lt;Integer&gt;</code>ï¼Ÿä»æ–¹æ³•å†…éƒ¨ä»£ç çœ‹ï¼Œä¼ å…¥<code>List&lt;? extends Integer&gt;</code>æˆ–è€…<code>List&lt;Integer&gt;</code>æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½†æ˜¯ï¼Œæ³¨æ„åˆ°<code>List&lt;? extends Integer&gt;</code>çš„é™åˆ¶ï¼š</p>
<ul>
<li>å…è®¸è°ƒç”¨<code>get()</code>æ–¹æ³•è·å–<code>Integer</code>çš„å¼•ç”¨ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>set(? extends Integer)</code>æ–¹æ³•å¹¶ä¼ å…¥ä»»ä½•<code>Integer</code>çš„å¼•ç”¨ï¼ˆ<code>null</code>é™¤å¤–ï¼‰ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œæ–¹æ³•å‚æ•°ç±»å‹<code>List&lt;? extends Integer&gt;</code>è¡¨æ˜äº†è¯¥æ–¹æ³•å†…éƒ¨åªä¼šè¯»å–<code>List</code>çš„å…ƒç´ ï¼Œä¸ä¼šä¿®æ”¹<code>List</code>çš„å…ƒç´ ï¼ˆå› ä¸ºæ— æ³•è°ƒç”¨<code>add(? extends Integer)</code>ã€<code>remove(? extends Integer)</code>è¿™äº›æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¹å‚æ•°<code>List&lt;? extends Integer&gt;</code>è¿›è¡Œåªè¯»çš„æ–¹æ³•ï¼ˆæ¶æ„è°ƒç”¨<code>set(null)</code>é™¤å¤–ï¼‰ã€‚</p>
<h2 id="ä½¿ç”¨extendsé™å®štç±»å‹">ä½¿ç”¨extendsé™å®šTç±»å‹<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨extendsé™å®štç±»å‹">#</a></h2>
<p>åœ¨å®šä¹‰æ³›å‹ç±»å‹<code>Pair&lt;T&gt;</code>çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>extends</code>é€šé…ç¬¦æ¥é™å®š<code>T</code>çš„ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Pair&lt;T <span style="color:#fff;font-weight:bold">extends</span> Number&gt; { ... }
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨ï¼Œæˆ‘ä»¬åªèƒ½å®šä¹‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;Number&gt; p1 = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>Pair&lt;Integer&gt; p2 = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>Pair&lt;Double&gt; p3 = <span style="color:#fff;font-weight:bold">null</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸º<code>Number</code>ã€<code>Integer</code>å’Œ<code>Double</code>éƒ½ç¬¦åˆ<code>&lt;T extends Number&gt;</code>ã€‚</p>
<p>é<code>Number</code>ç±»å‹å°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;String&gt; p1 = <span style="color:#fff;font-weight:bold">null</span>; <span style="color:#007f7f">// compile error!
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Pair&lt;Object&gt; p2 = <span style="color:#fff;font-weight:bold">null</span>; <span style="color:#007f7f">// compile error!
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸º<code>String</code>ã€<code>Object</code>éƒ½ä¸ç¬¦åˆ<code>&lt;T extends Number&gt;</code>ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯<code>Number</code>ç±»å‹æˆ–<code>Number</code>çš„å­ç±»ã€‚</p>
<h2 id="å°ç»“">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“">#</a></h2>
<p>ä½¿ç”¨ç±»ä¼¼<code>&lt;? extends Number&gt;</code>é€šé…ç¬¦ä½œä¸ºæ–¹æ³•å‚æ•°æ—¶è¡¨ç¤ºï¼š</p>
<ul>
<li>æ–¹æ³•å†…éƒ¨å¯ä»¥è°ƒç”¨è·å–<code>Number</code>å¼•ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<code>Number n = obj.getFirst();</code>ï¼›</li>
<li>æ–¹æ³•å†…éƒ¨æ— æ³•è°ƒç”¨ä¼ å…¥<code>Number</code>å¼•ç”¨çš„æ–¹æ³•ï¼ˆ<code>null</code>é™¤å¤–ï¼‰ï¼Œä¾‹å¦‚ï¼š<code>obj.setFirst(Number n);</code>ã€‚</li>
</ul>
<p>å³ä¸€å¥è¯æ€»ç»“ï¼šä½¿ç”¨<code>extends</code>é€šé…ç¬¦è¡¨ç¤ºå¯ä»¥è¯»ï¼Œä¸èƒ½å†™ã€‚</p>
<p>ä½¿ç”¨ç±»ä¼¼<code>&lt;T extends Number&gt;</code>å®šä¹‰æ³›å‹ç±»æ—¶è¡¨ç¤ºï¼š</p>
<ul>
<li>æ³›å‹ç±»å‹é™å®šä¸º<code>Number</code>ä»¥åŠ<code>Number</code>çš„å­ç±»ã€‚</li>
</ul>
<h1 id="superé€šé…ç¬¦">superé€šé…ç¬¦<a hidden class="anchor" aria-hidden="true" href="#superé€šé…ç¬¦">#</a></h1>
<p>æˆ‘ä»¬å‰é¢å·²ç»è®²åˆ°äº†æ³›å‹çš„ç»§æ‰¿å…³ç³»ï¼š<code>Pair&lt;Integer&gt;</code>ä¸æ˜¯<code>Pair&lt;Number&gt;</code>çš„å­ç±»ã€‚</p>
<p>è€ƒå¯Ÿä¸‹é¢çš„<code>set</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> set(Pair&lt;Integer&gt; p, Integer first, Integer last) {
</span></span><span style="display:flex;"><span>    p.<span style="color:#007f7f">setFirst</span>(first);
</span></span><span style="display:flex;"><span>    p.<span style="color:#007f7f">setLast</span>(last);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¼ å…¥<code>Pair&lt;Integer&gt;</code>æ˜¯å…è®¸çš„ï¼Œä½†æ˜¯ä¼ å…¥<code>Pair&lt;Number&gt;</code>æ˜¯ä¸å…è®¸çš„ã€‚</p>
<p>å’Œ<code>extends</code>é€šé…ç¬¦ç›¸åï¼Œè¿™æ¬¡ï¼Œæˆ‘ä»¬å¸Œæœ›æ¥å—<code>Pair&lt;Integer&gt;</code>ç±»å‹ï¼Œä»¥åŠ<code>Pair&lt;Number&gt;</code>ã€<code>Pair&lt;Object&gt;</code>ï¼Œå› ä¸º<code>Number</code>å’Œ<code>Object</code>æ˜¯<code>Integer</code>çš„çˆ¶ç±»ï¼Œ<code>setFirst(Number)</code>å’Œ<code>setFirst(Object)</code>å®é™…ä¸Šå…è®¸æ¥å—<code>Integer</code>ç±»å‹ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨<code>super</code>é€šé…ç¬¦æ¥æ”¹å†™è¿™ä¸ªæ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> set(Pair&lt;? <span style="color:#fff;font-weight:bold">super</span> Integer&gt; p, Integer first, Integer last) {
</span></span><span style="display:flex;"><span>    p.<span style="color:#007f7f">setFirst</span>(first);
</span></span><span style="display:flex;"><span>    p.<span style="color:#007f7f">setLast</span>(last);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„åˆ°<code>Pair&lt;? super Integer&gt;</code>è¡¨ç¤ºï¼Œæ–¹æ³•å‚æ•°æ¥å—æ‰€æœ‰æ³›å‹ç±»å‹ä¸º<code>Integer</code>æˆ–<code>Integer</code>çˆ¶ç±»çš„<code>Pair</code>ç±»å‹ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç å¯ä»¥è¢«æ­£å¸¸ç¼–è¯‘ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;Number&gt; p1 = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">12.3</span>, <span style="color:#ff0;font-weight:bold">4.56</span>);
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p2 = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        setSame(p1, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        setSame(p2, <span style="color:#ff0;font-weight:bold">200</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p1.<span style="color:#007f7f">getFirst</span>() + <span style="color:#0ff;font-weight:bold">&#34;, &#34;</span> + p1.<span style="color:#007f7f">getLast</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p2.<span style="color:#007f7f">getFirst</span>() + <span style="color:#0ff;font-weight:bold">&#34;, &#34;</span> + p2.<span style="color:#007f7f">getLast</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> setSame(Pair&lt;? <span style="color:#fff;font-weight:bold">super</span> Integer&gt; p, Integer n) {
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">setFirst</span>(n);
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">setLast</span>(n);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setFirst(T first) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setLast(T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€ƒå¯Ÿ<code>Pair&lt;? super Integer&gt;</code>çš„<code>setFirst()</code>æ–¹æ³•ï¼Œå®ƒçš„æ–¹æ³•ç­¾åå®é™…ä¸Šæ˜¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> setFirst(? <span style="color:#fff;font-weight:bold">super</span> Integer);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› æ­¤ï¼Œå¯ä»¥å®‰å…¨åœ°ä¼ å…¥<code>Integer</code>ç±»å‹ã€‚
å†è€ƒå¯Ÿ<code>Pair&lt;? super Integer&gt;</code>çš„<code>getFirst()</code>æ–¹æ³•ï¼Œå®ƒçš„æ–¹æ³•ç­¾åå®é™…ä¸Šæ˜¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>? <span style="color:#fff;font-weight:bold">super</span> Integer getFirst();
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œæ³¨æ„åˆ°æˆ‘ä»¬æ— æ³•ä½¿ç”¨<code>Integer</code>ç±»å‹æ¥æ¥æ”¶<code>getFirst()</code>çš„è¿”å›å€¼ï¼Œå³ä¸‹é¢çš„è¯­å¥å°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer x = p.<span style="color:#007f7f">getFirst</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºå¦‚æœä¼ å…¥çš„å®é™…ç±»å‹æ˜¯<code>Pair&lt;Number&gt;</code>ï¼Œç¼–è¯‘å™¨æ— æ³•å°†<code>Number</code>ç±»å‹è½¬å‹ä¸º<code>Integer</code>ã€‚</p>
<p>æ³¨æ„ï¼šè™½ç„¶<code>Number</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥å®ä¾‹åŒ–å®ƒã€‚ä½†æ˜¯ï¼Œå³ä¾¿<code>Number</code>ä¸æ˜¯æŠ½è±¡ç±»ï¼Œè¿™é‡Œä»ç„¶æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚æ­¤å¤–ï¼Œä¼ å…¥<code>Pair&lt;Object&gt;</code>ç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨ä¹Ÿæ— æ³•å°†<code>Object</code>ç±»å‹è½¬å‹ä¸º<code>Integer</code>ã€‚</p>
<p>å”¯ä¸€å¯ä»¥æ¥æ”¶<code>getFirst()</code>æ–¹æ³•è¿”å›å€¼çš„æ˜¯<code>Object</code>ç±»å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Object obj = p.<span style="color:#007f7f">getFirst</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› æ­¤ï¼Œä½¿ç”¨<code>&lt;? super Integer&gt;</code>é€šé…ç¬¦è¡¨ç¤ºï¼š</p>
<ul>
<li>å…è®¸è°ƒç”¨<code>set(? super Integer)</code>æ–¹æ³•ä¼ å…¥<code>Integer</code>çš„å¼•ç”¨ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>get()</code>æ–¹æ³•è·å¾—<code>Integer</code>çš„å¼•ç”¨ã€‚</li>
</ul>
<p>å”¯ä¸€ä¾‹å¤–æ˜¯å¯ä»¥è·å–<code>Object</code>çš„å¼•ç”¨ï¼š<code>Object o = p.getFirst()</code>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œä½¿ç”¨<code>&lt;? super Integer&gt;</code>é€šé…ç¬¦ä½œä¸ºæ–¹æ³•å‚æ•°ï¼Œè¡¨ç¤ºæ–¹æ³•å†…éƒ¨ä»£ç å¯¹äºå‚æ•°åªèƒ½å†™ï¼Œä¸èƒ½è¯»ã€‚</p>
<h2 id="å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦">å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦<a hidden class="anchor" aria-hidden="true" href="#å¯¹æ¯”extendså’Œsuperé€šé…ç¬¦">#</a></h2>
<p>æˆ‘ä»¬å†å›é¡¾ä¸€ä¸‹<code>extends</code>é€šé…ç¬¦ã€‚ä½œä¸ºæ–¹æ³•å‚æ•°ï¼Œ<code>&lt;? extends T&gt;</code>ç±»å‹å’Œ<code>&lt;? super T&gt;</code>ç±»å‹çš„åŒºåˆ«åœ¨äºï¼š</p>
<ul>
<li><code>&lt;? extends T&gt;</code>å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼ˆä¼ å…¥<code>null</code>é™¤å¤–ï¼‰ï¼›</li>
<li><code>&lt;? super T&gt;</code>å…è®¸è°ƒç”¨å†™æ–¹æ³•<code>set(T)</code>ä¼ å…¥<code>T</code>çš„å¼•ç”¨ï¼Œä½†ä¸å…è®¸è°ƒç”¨è¯»æ–¹æ³•<code>T get()</code>è·å–<code>T</code>çš„å¼•ç”¨ï¼ˆè·å–<code>Object</code>é™¤å¤–ï¼‰ã€‚</li>
</ul>
<p>ä¸€ä¸ªæ˜¯å…è®¸è¯»ä¸å…è®¸å†™ï¼Œå¦ä¸€ä¸ªæ˜¯å…è®¸å†™ä¸å…è®¸è¯»ã€‚</p>
<p>å…ˆè®°ä½ä¸Šé¢çš„ç»“è®ºï¼Œæˆ‘ä»¬æ¥çœ‹Javaæ ‡å‡†åº“çš„<code>Collections</code>ç±»å®šä¹‰çš„<code>copy()</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Collections {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æŠŠsrcçš„æ¯ä¸ªå…ƒç´ å¤åˆ¶åˆ°destä¸­:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; <span style="color:#fff;font-weight:bold">void</span> copy(List&lt;? <span style="color:#fff;font-weight:bold">super</span> T&gt; dest, List&lt;? <span style="color:#fff;font-weight:bold">extends</span> T&gt; src) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;src.<span style="color:#007f7f">size</span>(); i++) {
</span></span><span style="display:flex;"><span>            T t = src.<span style="color:#007f7f">get</span>(i);
</span></span><span style="display:flex;"><span>            dest.<span style="color:#007f7f">add</span>(t);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®ƒçš„ä½œç”¨æ˜¯æŠŠä¸€ä¸ª<code>List</code>çš„æ¯ä¸ªå…ƒç´ ä¾æ¬¡æ·»åŠ åˆ°å¦ä¸€ä¸ª<code>List</code>ä¸­ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>List&lt;? super T&gt;</code>ï¼Œè¡¨ç¤ºç›®æ ‡<code>List</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>List&lt;? extends T&gt;</code>ï¼Œè¡¨ç¤ºè¦å¤åˆ¶çš„<code>List</code>ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ç”¨<code>for</code>å¾ªç¯å®ç°å¤åˆ¶ã€‚åœ¨<code>for</code>å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºç±»å‹<code>&lt;? extends T&gt;</code>çš„å˜é‡<code>src</code>ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°è·å–ç±»å‹<code>T</code>çš„å¼•ç”¨ï¼Œè€Œå¯¹äºç±»å‹<code>&lt;? super T&gt;</code>çš„å˜é‡<code>dest</code>ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°ä¼ å…¥<code>T</code>çš„å¼•ç”¨ã€‚</p>
<p>è¿™ä¸ª<code>copy()</code>æ–¹æ³•çš„å®šä¹‰å°±å®Œç¾åœ°å±•ç¤ºäº†<code>extends</code>å’Œ<code>super</code>çš„æ„å›¾ï¼š</p>
<ul>
<li><code>copy()</code>æ–¹æ³•å†…éƒ¨ä¸ä¼šè¯»å–<code>dest</code>ï¼Œå› ä¸ºä¸èƒ½è°ƒç”¨<code>dest.get()</code>æ¥è·å–<code>T</code>çš„å¼•ç”¨ï¼›</li>
<li><code>copy()</code>æ–¹æ³•å†…éƒ¨ä¹Ÿä¸ä¼šä¿®æ”¹<code>src</code>ï¼Œå› ä¸ºä¸èƒ½è°ƒç”¨<code>src.add(T)</code>ã€‚</li>
</ul>
<p>è¿™æ˜¯ç”±ç¼–è¯‘å™¨æ£€æŸ¥æ¥å®ç°çš„ã€‚å¦‚æœåœ¨æ–¹æ³•ä»£ç ä¸­æ„å¤–ä¿®æ”¹äº†<code>src</code>ï¼Œæˆ–è€…æ„å¤–è¯»å–äº†<code>dest</code>ï¼Œå°±ä¼šå¯¼è‡´ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Collections {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æŠŠsrcçš„æ¯ä¸ªå…ƒç´ å¤åˆ¶åˆ°destä¸­:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; <span style="color:#fff;font-weight:bold">void</span> copy(List&lt;? <span style="color:#fff;font-weight:bold">super</span> T&gt; dest, List&lt;? <span style="color:#fff;font-weight:bold">extends</span> T&gt; src) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        T t = dest.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>); <span style="color:#007f7f">// compile error!
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        src.<span style="color:#007f7f">add</span>(t); <span style="color:#007f7f">// compile error!
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ª<code>copy()</code>æ–¹æ³•çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯å¯ä»¥å®‰å…¨åœ°æŠŠä¸€ä¸ª<code>List&lt;Integer&gt;</code>æ·»åŠ åˆ°<code>List&lt;Number&gt;</code>ï¼Œä½†æ˜¯æ— æ³•åè¿‡æ¥æ·»åŠ ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// copy List&lt;Integer&gt; to List&lt;Number&gt; ok:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;Number&gt; numList = ...;
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; intList = ...;
</span></span><span style="display:flex;"><span>Collections.<span style="color:#007f7f">copy</span>(numList, intList);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ERROR: cannot copy List&lt;Number&gt; to List&lt;Integer&gt;:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Collections.<span style="color:#007f7f">copy</span>(intList, numList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è€Œè¿™äº›éƒ½æ˜¯é€šè¿‡<code>super</code>å’Œ<code>extends</code>é€šé…ç¬¦ï¼Œå¹¶ç”±ç¼–è¯‘å™¨å¼ºåˆ¶æ£€æŸ¥æ¥å®ç°çš„ã€‚</p>
<h2 id="pecsåŸåˆ™">PECSåŸåˆ™<a hidden class="anchor" aria-hidden="true" href="#pecsåŸåˆ™">#</a></h2>
<p>ä½•æ—¶ä½¿ç”¨<code>extends</code>ï¼Œä½•æ—¶ä½¿ç”¨<code>super</code>ï¼Ÿä¸ºäº†ä¾¿äºè®°å¿†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨PECSåŸåˆ™ï¼šProducer Extends Consumer Superã€‚</p>
<p>å³ï¼šå¦‚æœéœ€è¦è¿”å›<code>T</code>ï¼Œå®ƒæ˜¯ç”Ÿäº§è€…ï¼ˆProducerï¼‰ï¼Œè¦ä½¿ç”¨<code>extends</code>é€šé…ç¬¦ï¼›å¦‚æœéœ€è¦å†™å…¥<code>T</code>ï¼Œå®ƒæ˜¯æ¶ˆè´¹è€…ï¼ˆConsumerï¼‰ï¼Œè¦ä½¿ç”¨<code>super</code>é€šé…ç¬¦ã€‚</p>
<p>è¿˜æ˜¯ä»¥<code>Collections</code>çš„<code>copy()</code>æ–¹æ³•ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Collections {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; <span style="color:#fff;font-weight:bold">void</span> copy(List&lt;? <span style="color:#fff;font-weight:bold">super</span> T&gt; dest, List&lt;? <span style="color:#fff;font-weight:bold">extends</span> T&gt; src) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;src.<span style="color:#007f7f">size</span>(); i++) {
</span></span><span style="display:flex;"><span>            T t = src.<span style="color:#007f7f">get</span>(i); <span style="color:#007f7f">// srcæ˜¯producer
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            dest.<span style="color:#007f7f">add</span>(t); <span style="color:#007f7f">// destæ˜¯consumer
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>éœ€è¦è¿”å›<code>T</code>çš„<code>src</code>æ˜¯ç”Ÿäº§è€…ï¼Œå› æ­¤å£°æ˜ä¸º<code>List&lt;? extends T&gt;</code>ï¼Œéœ€è¦å†™å…¥<code>T</code>çš„<code>dest</code>æ˜¯æ¶ˆè´¹è€…ï¼Œå› æ­¤å£°æ˜ä¸º<code>List&lt;? super T&gt;</code>ã€‚</p>
<h2 id="æ— é™å®šé€šé…ç¬¦">æ— é™å®šé€šé…ç¬¦<a hidden class="anchor" aria-hidden="true" href="#æ— é™å®šé€šé…ç¬¦">#</a></h2>
<p>æˆ‘ä»¬å·²ç»è®¨è®ºäº†<code>&lt;? extends T&gt;</code>å’Œ<code>&lt;? super T&gt;</code>ä½œä¸ºæ–¹æ³•å‚æ•°çš„ä½œç”¨ã€‚å®é™…ä¸Šï¼ŒJavaçš„æ³›å‹è¿˜å…è®¸ä½¿ç”¨æ— é™å®šé€šé…ç¬¦ï¼ˆUnbounded Wildcard Typeï¼‰ï¼Œå³åªå®šä¹‰ä¸€ä¸ª<code>?</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> sample(Pair&lt;?&gt; p) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸º<code>&lt;?&gt;</code>é€šé…ç¬¦æ—¢æ²¡æœ‰<code>extends</code>ï¼Œä¹Ÿæ²¡æœ‰<code>super</code>ï¼Œå› æ­¤ï¼š</p>
<ul>
<li>ä¸å…è®¸è°ƒç”¨<code>set(T)</code>æ–¹æ³•å¹¶ä¼ å…¥å¼•ç”¨ï¼ˆ<code>null</code>é™¤å¤–ï¼‰ï¼›</li>
<li>ä¸å…è®¸è°ƒç”¨<code>T get()</code>æ–¹æ³•å¹¶è·å–<code>T</code>å¼•ç”¨ï¼ˆåªèƒ½è·å–<code>Object</code>å¼•ç”¨ï¼‰ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œæ—¢ä¸èƒ½è¯»ï¼Œä¹Ÿä¸èƒ½å†™ï¼Œé‚£åªèƒ½åšä¸€äº›<code>null</code>åˆ¤æ–­ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">boolean</span> isNull(Pair&lt;?&gt; p) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> p.<span style="color:#007f7f">getFirst</span>() == <span style="color:#fff;font-weight:bold">null</span> || p.<span style="color:#007f7f">getLast</span>() == <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯ä»¥å¼•å…¥æ³›å‹å‚æ•°<code>&lt;T&gt;</code>æ¶ˆé™¤<code>&lt;?&gt;</code>é€šé…ç¬¦ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; <span style="color:#fff;font-weight:bold">boolean</span> isNull(Pair&lt;T&gt; p) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> p.<span style="color:#007f7f">getFirst</span>() == <span style="color:#fff;font-weight:bold">null</span> || p.<span style="color:#007f7f">getLast</span>() == <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>&lt;?&gt;</code>é€šé…ç¬¦æœ‰ä¸€ä¸ªç‹¬ç‰¹çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ï¼š<code>Pair&lt;?&gt;</code>æ˜¯æ‰€æœ‰<code>Pair&lt;T&gt;</code>çš„è¶…ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Pair&lt;Integer&gt; p = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;&gt;(<span style="color:#ff0;font-weight:bold">123</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        Pair&lt;?&gt; p2 = p; <span style="color:#007f7f">// å®‰å…¨åœ°å‘ä¸Šè½¬å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(p2.<span style="color:#007f7f">getFirst</span>() + <span style="color:#0ff;font-weight:bold">&#34;, &#34;</span> + p2.<span style="color:#007f7f">getLast</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Pair&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T first;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> T last;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Pair(T first, T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getFirst() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> T getLast() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setFirst(T first) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">first</span> = first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setLast(T last) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">last</span> = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šè¿°ä»£ç æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œçš„ï¼Œå› ä¸º<code>Pair&lt;Integer&gt;</code>æ˜¯<code>Pair&lt;?&gt;</code>çš„å­ç±»ï¼Œå¯ä»¥å®‰å…¨åœ°å‘ä¸Šè½¬å‹ã€‚</p>
<h2 id="å°ç»“-1">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“-1">#</a></h2>
<p>ä½¿ç”¨ç±»ä¼¼<code>&lt;? super Integer&gt;</code>é€šé…ç¬¦ä½œä¸ºæ–¹æ³•å‚æ•°æ—¶è¡¨ç¤ºï¼š</p>
<ul>
<li>æ–¹æ³•å†…éƒ¨å¯ä»¥è°ƒç”¨ä¼ å…¥<code>Integer</code>å¼•ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<code>obj.setFirst(Integer n);</code>ï¼›</li>
<li>æ–¹æ³•å†…éƒ¨æ— æ³•è°ƒç”¨è·å–<code>Integer</code>å¼•ç”¨çš„æ–¹æ³•ï¼ˆ<code>Object</code>é™¤å¤–ï¼‰ï¼Œä¾‹å¦‚ï¼š<code>Integer n = obj.getFirst();</code>ã€‚</li>
</ul>
<p>å³ä½¿ç”¨<code>super</code>é€šé…ç¬¦è¡¨ç¤ºåªèƒ½å†™ä¸èƒ½è¯»ã€‚</p>
<p>ä½¿ç”¨<code>extends</code>å’Œ<code>super</code>é€šé…ç¬¦è¦éµå¾ªPECSåŸåˆ™ã€‚</p>
<p>æ— é™å®šé€šé…ç¬¦<code>&lt;?&gt;</code>å¾ˆå°‘ä½¿ç”¨ï¼Œå¯ä»¥ç”¨<code>&lt;T&gt;</code>æ›¿æ¢ï¼ŒåŒæ—¶å®ƒæ˜¯æ‰€æœ‰<code>&lt;T&gt;</code>ç±»å‹çš„è¶…ç±»ã€‚</p>
<h1 id="æ³›å‹å’Œåå°„">æ³›å‹å’Œåå°„<a hidden class="anchor" aria-hidden="true" href="#æ³›å‹å’Œåå°„">#</a></h1>
<p>Javaçš„éƒ¨åˆ†åå°„APIä¹Ÿæ˜¯æ³›å‹ã€‚ä¾‹å¦‚ï¼š<code>Class&lt;T&gt;</code>å°±æ˜¯æ³›å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// compile warning:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Class clazz = String.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>String str = (String) clazz.<span style="color:#007f7f">newInstance</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// no warning:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Class&lt;String&gt; clazz = String.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>String str = clazz.<span style="color:#007f7f">newInstance</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>è°ƒç”¨<code>Class</code>çš„<code>getSuperclass()</code>æ–¹æ³•è¿”å›çš„<code>Class</code>ç±»å‹æ˜¯<code>Class&lt;? super T&gt;</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class&lt;? <span style="color:#fff;font-weight:bold">super</span> String&gt; sup = String.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">getSuperclass</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ„é€ æ–¹æ³•<code>Constructor&lt;T&gt;</code>ä¹Ÿæ˜¯æ³›å‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class&lt;Integer&gt; clazz = Integer.<span style="color:#007f7f">class</span>;
</span></span><span style="display:flex;"><span>Constructor&lt;Integer&gt; cons = clazz.<span style="color:#007f7f">getConstructor</span>(<span style="color:#fff;font-weight:bold">int</span>.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>Integer i = cons.<span style="color:#007f7f">newInstance</span>(<span style="color:#ff0;font-weight:bold">123</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬å¯ä»¥å£°æ˜å¸¦æ³›å‹çš„æ•°ç»„ï¼Œä½†ä¸èƒ½ç”¨<code>new</code>æ“ä½œç¬¦åˆ›å»ºå¸¦æ³›å‹çš„æ•°ç»„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair&lt;String&gt;[] ps = <span style="color:#fff;font-weight:bold">null</span>; <span style="color:#007f7f">// ok
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Pair&lt;String&gt;[] ps = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;String&gt;[<span style="color:#ff0;font-weight:bold">2</span>]; <span style="color:#007f7f">// compile error!
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¿…é¡»é€šè¿‡å¼ºåˆ¶è½¬å‹å®ç°å¸¦æ³›å‹çš„æ•°ç»„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@SuppressWarnings(<span style="color:#0ff;font-weight:bold">&#34;unchecked&#34;</span>)
</span></span><span style="display:flex;"><span>Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) <span style="color:#fff;font-weight:bold">new</span> Pair[<span style="color:#ff0;font-weight:bold">2</span>];
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨æ³›å‹æ•°ç»„è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºæ•°ç»„å®é™…ä¸Šåœ¨è¿è¡ŒæœŸæ²¡æœ‰æ³›å‹ï¼Œç¼–è¯‘å™¨å¯ä»¥å¼ºåˆ¶æ£€æŸ¥å˜é‡<code>ps</code>ï¼Œå› ä¸ºå®ƒçš„ç±»å‹æ˜¯æ³›å‹æ•°ç»„ã€‚ä½†æ˜¯ï¼Œç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥å˜é‡<code>arr</code>ï¼Œå› ä¸ºå®ƒä¸æ˜¯æ³›å‹æ•°ç»„ã€‚å› ä¸ºè¿™ä¸¤ä¸ªå˜é‡å®é™…ä¸ŠæŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥ï¼Œæ“ä½œ<code>arr</code>å¯èƒ½å¯¼è‡´ä»<code>ps</code>è·å–å…ƒç´ æ—¶æŠ¥é”™ï¼Œä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†ä¸å®‰å…¨åœ°ä½¿ç”¨å¸¦æ³›å‹çš„æ•°ç»„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair[] arr = <span style="color:#fff;font-weight:bold">new</span> Pair[<span style="color:#ff0;font-weight:bold">2</span>];
</span></span><span style="display:flex;"><span>Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) arr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ps[<span style="color:#ff0;font-weight:bold">0</span>] = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;String&gt;(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>);
</span></span><span style="display:flex;"><span>arr[<span style="color:#ff0;font-weight:bold">1</span>] = <span style="color:#fff;font-weight:bold">new</span> Pair&lt;Integer&gt;(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ClassCastException:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Pair&lt;String&gt; p = ps[<span style="color:#ff0;font-weight:bold">1</span>];
</span></span><span style="display:flex;"><span>String s = p.<span style="color:#007f7f">getFirst</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¦å®‰å…¨åœ°ä½¿ç”¨æ³›å‹æ•°ç»„ï¼Œå¿…é¡»æ‰”æ‰<code>arr</code>çš„å¼•ç”¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@SuppressWarnings(<span style="color:#0ff;font-weight:bold">&#34;unchecked&#34;</span>)
</span></span><span style="display:flex;"><span>Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) <span style="color:#fff;font-weight:bold">new</span> Pair[<span style="color:#ff0;font-weight:bold">2</span>];
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç”±äºæ‹¿ä¸åˆ°åŸå§‹æ•°ç»„çš„å¼•ç”¨ï¼Œå°±åªèƒ½å¯¹æ³›å‹æ•°ç»„<code>ps</code>è¿›è¡Œæ“ä½œï¼Œè¿™ç§æ“ä½œå°±æ˜¯å®‰å…¨çš„ã€‚</p>
<p>å¸¦æ³›å‹çš„æ•°ç»„å®é™…ä¸Šæ˜¯ç¼–è¯‘å™¨çš„ç±»å‹æ“¦é™¤ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Pair[] arr = <span style="color:#fff;font-weight:bold">new</span> Pair[<span style="color:#ff0;font-weight:bold">2</span>];
</span></span><span style="display:flex;"><span>Pair&lt;String&gt;[] ps = (Pair&lt;String&gt;[]) arr;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(ps.<span style="color:#007f7f">getClass</span>() == Pair[].<span style="color:#007f7f">class</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>String s1 = (String) arr[<span style="color:#ff0;font-weight:bold">0</span>].<span style="color:#007f7f">getFirst</span>();
</span></span><span style="display:flex;"><span>String s2 = ps[<span style="color:#ff0;font-weight:bold">0</span>].<span style="color:#007f7f">getFirst</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„<code>T[]</code>ï¼Œå› ä¸ºæ“¦æ‹­åä»£ç å˜ä¸º<code>Object[]</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// compile error:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Abc&lt;T&gt; {
</span></span><span style="display:flex;"><span>    T[] createArray() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> T[<span style="color:#ff0;font-weight:bold">5</span>];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¿…é¡»å€ŸåŠ©<code>Class&lt;T&gt;</code>æ¥åˆ›å»ºæ³›å‹æ•°ç»„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>T[] createArray(Class&lt;T&gt; cls) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> (T[]) Array.<span style="color:#007f7f">newInstance</span>(cls, <span style="color:#ff0;font-weight:bold">5</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨å¯å˜å‚æ•°åˆ›å»ºæ³›å‹æ•°ç»„<code>T[]</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ArrayHelper {
</span></span><span style="display:flex;"><span>    @SafeVarargs
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; T[] asArray(T... objs) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> objs;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>String[] ss = ArrayHelper.<span style="color:#007f7f">asArray</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>);
</span></span><span style="display:flex;"><span>Integer[] ns = ArrayHelper.<span style="color:#007f7f">asArray</span>(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è°¨æ…ä½¿ç”¨æ³›å‹å¯å˜å‚æ•°">è°¨æ…ä½¿ç”¨æ³›å‹å¯å˜å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#è°¨æ…ä½¿ç”¨æ³›å‹å¯å˜å‚æ•°">#</a></h2>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œé€šè¿‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; T[] asArray(T... objs) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> objs;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¼¼ä¹å¯ä»¥å®‰å…¨åœ°åˆ›å»ºä¸€ä¸ªæ³›å‹æ•°ç»„ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ç§æ–¹æ³•éå¸¸å±é™©ã€‚ä»¥ä¸‹ä»£ç æ¥è‡ªã€ŠEffective Javaã€‹çš„ç¤ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        String[] arr = asArray(<span style="color:#0ff;font-weight:bold">&#34;one&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;two&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;three&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Arrays.<span style="color:#007f7f">toString</span>(arr));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ClassCastException:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String[] firstTwo = pickTwo(<span style="color:#0ff;font-weight:bold">&#34;one&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;two&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;three&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Arrays.<span style="color:#007f7f">toString</span>(firstTwo));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> &lt;K&gt; K[] pickTwo(K k1, K k2, K k3) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> asArray(k1, k2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">static</span> &lt;T&gt; T[] asArray(T... objs) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> objs;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç›´æ¥è°ƒç”¨<code>asArray(T...)</code>ä¼¼ä¹æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨å¦ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªæ³›å‹æ•°ç»„å°±ä¼šäº§ç”Ÿ<code>ClassCastException</code>ï¼ŒåŸå› è¿˜æ˜¯å› ä¸ºæ“¦æ‹­æ³•ï¼Œåœ¨<code>pickTwo()</code>æ–¹æ³•å†…éƒ¨ï¼Œç¼–è¯‘å™¨æ— æ³•æ£€æµ‹<code>K[]</code>çš„æ­£ç¡®ç±»å‹ï¼Œå› æ­¤è¿”å›äº†<code>Object[]</code>ã€‚</p>
<p>å¦‚æœä»”ç»†è§‚å¯Ÿï¼Œå¯ä»¥å‘ç°ç¼–è¯‘å™¨å¯¹æ‰€æœ‰å¯å˜æ³›å‹å‚æ•°éƒ½ä¼šå‘å‡ºè­¦å‘Šï¼Œé™¤éç¡®è®¤å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œæ‰å¯ä»¥ç”¨<code>@SafeVarargs</code>æ¶ˆé™¤è­¦å‘Šã€‚</p>
<p>å¦‚æœåœ¨æ–¹æ³•å†…éƒ¨åˆ›å»ºäº†æ³›å‹æ•°ç»„ï¼Œæœ€å¥½ä¸è¦å°†å®ƒè¿”å›ç»™å¤–éƒ¨ä½¿ç”¨ã€‚</p>
<h2 id="å°ç»“-2">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“-2">#</a></h2>
<p>éƒ¨åˆ†åå°„APIæ˜¯æ³›å‹ï¼Œä¾‹å¦‚ï¼š<code>Class&lt;T&gt;</code>ï¼Œ<code>Constructor&lt;T&gt;</code>ï¼›</p>
<p>å¯ä»¥å£°æ˜å¸¦æ³›å‹çš„æ•°ç»„ï¼Œä½†ä¸èƒ½ç›´æ¥åˆ›å»ºå¸¦æ³›å‹çš„æ•°ç»„ï¼Œå¿…é¡»å¼ºåˆ¶è½¬å‹ï¼›</p>
<p>å¯ä»¥é€šè¿‡<code>Array.newInstance(Class&lt;T&gt;, int)</code>åˆ›å»º<code>T[]</code>æ•°ç»„ï¼Œéœ€è¦å¼ºåˆ¶è½¬å‹ï¼›</p>
<p>åŒæ—¶ä½¿ç”¨æ³›å‹å’Œå¯å˜å‚æ•°æ—¶éœ€è¦ç‰¹åˆ«å°å¿ƒã€‚</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/java%E5%9F%BA%E7%A1%80/">javaåŸºç¡€</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>