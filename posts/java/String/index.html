<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>String | Wjy&#39;s Blog</title>
<meta name="keywords" content="java">
<meta name="description" content="String简介
String 是java中的字符串，它继承于CharSequence。
String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。
String 和 CharSequence 关系：
String 继承于CharSequence，也就是说String也是CharSequence类型。
CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。
需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。
StringBuilder 和 StringBuffer 的区别：
StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。
但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。
它们之间的关系图如下：

">
<meta name="author" content="">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/java/string/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="String" />
<meta property="og:description" content="String简介
String 是java中的字符串，它继承于CharSequence。
String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。
String 和 CharSequence 关系：
String 继承于CharSequence，也就是说String也是CharSequence类型。
CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。
需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。
StringBuilder 和 StringBuffer 的区别：
StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。
但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。
它们之间的关系图如下：

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/java/string/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-07T15:30:07+00:00" />
<meta property="article:modified_time" content="2019-05-07T15:30:07+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="String"/>
<meta name="twitter:description" content="String简介
String 是java中的字符串，它继承于CharSequence。
String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。
String 和 CharSequence 关系：
String 继承于CharSequence，也就是说String也是CharSequence类型。
CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。
需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。
StringBuilder 和 StringBuffer 的区别：
StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。
但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。
它们之间的关系图如下：

"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "String",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/java/string/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "String",
  "name": "String",
  "description": "String简介 String 是java中的字符串，它继承于CharSequence。 String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。\nString 和 CharSequence 关系： String 继承于CharSequence，也就是说String也是CharSequence类型。 CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。 需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。 StringBuilder 和 StringBuffer 的区别： StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。 但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。\n它们之间的关系图如下： ",
  "keywords": [
    "java"
  ],
  "articleBody": "String简介 String 是java中的字符串，它继承于CharSequence。 String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。\nString 和 CharSequence 关系： String 继承于CharSequence，也就是说String也是CharSequence类型。 CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。 需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。 StringBuilder 和 StringBuffer 的区别： StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。 但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。\n它们之间的关系图如下： String函数列表 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 public String() public String(String original) public String(char[] value) public String(char[] value, int offset, int count) public String(byte[] bytes) public String(byte[] bytes, int offset, int length) public String(byte[] ascii, int hibyte) public String(byte[] ascii, int hibyte, int offset, int count) public String(byte[] bytes, String charsetName) public String(byte[] bytes, int offset, int length, String charsetName) public String(byte[] bytes, Charset charset) public String(byte[] bytes, int offset, int length, Charset charset) public String(int[] codePoints, int offset, int count) public String(StringBuffer buffer) public String(StringBuilder builder) public char charAt(int index) public int codePointAt(int index) public int codePointBefore(int index) public int codePointCount(int beginIndex, int endIndex) public int compareTo(String anotherString) public int compareToIgnoreCase(String str) public String concat(String str) public boolean contains(CharSequence s) public boolean contentEquals(StringBuffer sb) public boolean contentEquals(CharSequence cs) public static String copyValueOf(char[] data, int offset, int count) public static String copyValueOf(char[] data) public boolean endsWith(String suffix) public boolean equals(Object anObject) public boolean equalsIgnoreCase(String anotherString) public static String format(String format, Object[] args) public static String format(Locale l, String format, Object[] args) public int hashCode() public int indexOf(int ch) public int indexOf(int ch, int fromIndex) public int indexOf(String str) public int indexOf(String str, int fromIndex) public String intern() public int lastIndexOf(int ch) public int lastIndexOf(int ch, int fromIndex) public int lastIndexOf(String str) public int lastIndexOf(String str, int fromIndex) public int length() public boolean matches(String regex) public int offsetByCodePoints(int index, int codePointOffset) public boolean regionMatches(int toffset, String other, int ooffset, int len) public boolean regionMatches(boolean ignoreCase, int toffset, String other, int ooffset, int len) public String replace(char oldChar, char newChar) public String replace(CharSequence target, CharSequence replacement) public String replaceAll(String regex, String replacement) public String replaceFirst(String regex, String replacement) public String[] split(String regex, int limit) public String[] split(String regex) public boolean startsWith(String prefix, int toffset) public boolean startsWith(String prefix) public CharSequence subSequence(int beginIndex, int endIndex) public String substring(int beginIndex) public String substring(int beginIndex, int endIndex) public char[] toCharArray() public String toLowerCase(Locale locale) public String toLowerCase() public String toString() public String toUpperCase(Locale locale) public String toUpperCase() public String trim() public static String valueOf(Object obj) public static String valueOf(char[] data) public static String valueOf(char[] data, int offset, int count) public static String valueOf(boolean b) public static String valueOf(char c) public static String valueOf(int i) public static String valueOf(long l) public static String valueOf(float f) public static String valueOf(double d) public void getBytes(int srcBegin, int srcEnd, byte[] dst, int dstBegin) public byte[] getBytes(String charsetName) public byte[] getBytes(Charset charset) public byte[] getBytes() public void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) public boolean isEmpty() 此处省略CharSequence和String源码。\nCharSequence示例 下面通过示例，演示CharSequence的使用方法！ 源码如下(CharSequenceTest.java)：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 /** * CharSequence 演示程序 * * @author skywang */ import java.nio.charset.Charset; import java.io.UnsupportedEncodingException; public class CharSequenceTest { public static void main(String[] args) { testCharSequence(); } /** * CharSequence 测试程序 */ private static void testCharSequence() { System.out.println(\"-------------------------------- testCharSequence -----------------------------\"); // 1. CharSequence的子类String String str = \"abcdefghijklmnopqrstuvwxyz\"; System.out.println(\"1. String\"); System.out.printf(\" %-30s=%d\\n\", \"str.length()\", str.length()); System.out.printf(\" %-30s=%c\\n\", \"str.charAt(5)\", str.charAt(5)); String substr = (String)str.subSequence(0,5); System.out.printf(\" %-30s=%s\\n\", \"str.subSequence(0,5)\", substr.toString()); // 2. CharSequence的子类StringBuilder StringBuilder strbuilder = new StringBuilder(\"abcdefghijklmnopqrstuvwxyz\"); System.out.println(\"2. StringBuilder\"); System.out.printf(\" %-30s=%d\\n\", \"strbuilder.length()\", strbuilder.length()); System.out.printf(\" %-30s=%c\\n\", \"strbuilder.charAt(5)\", strbuilder.charAt(5)); // 注意：StringBuilder的subSequence()返回的是，实际上是一个String对象！ String substrbuilder = (String)strbuilder.subSequence(0,5); System.out.printf(\" %-30s=%s\\n\", \"strbuilder.subSequence(0,5)\", substrbuilder.toString()); // 3. CharSequence的子类StringBuffer StringBuffer strbuffer = new StringBuffer(\"abcdefghijklmnopqrstuvwxyz\"); System.out.println(\"3. StringBuffer\"); System.out.printf(\" %-30s=%d\\n\", \"strbuffer.length()\", strbuffer.length()); System.out.printf(\" %-30s=%c\\n\", \"strbuffer.charAt(5)\", strbuffer.charAt(5)); // 注意：StringBuffer的subSequence()返回的是，实际上是一个String对象！ String substrbuffer = (String)strbuffer.subSequence(0,5); System.out.printf(\" %-30s=%s\\n\", \"strbuffer.subSequence(0,5)\", substrbuffer.toString()); System.out.println(); } } 运行结果：\n1 2 3 4 5 6 7 8 9 10 11 12 13 -------------------------------- testCharSequence ----------------------------- 1. String str.length() =26 str.charAt(5) =f str.subSequence(0,5) =abcde 2. StringBuilder strbuilder.length() =26 strbuilder.charAt(5) =f strbuilder.subSequence(0,5) =abcde 3. StringBuffer strbuffer.length() =26 strbuffer.charAt(5) =f strbuffer.subSequence(0,5) =abcde String 构造函数 下面通过示例，演示String的各种构造函数的使用方法！ 源码如下(StringContructorTest.java)：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 /** * String 构造函数演示程序 */ import java.nio.charset.Charset; import java.io.UnsupportedEncodingException; public class StringContructorTest { public static void main(String[] args) { testStringConstructors() ; } /** * String 构造函数测试程序 */ private static void testStringConstructors() { try { System.out.println(\"-------------------------------- testStringConstructors -----------------------\"); String str01 = new String(); String str02 = new String(\"String02\"); String str03 = new String(new char[]{'s','t','r','0','3'}); String str04 = new String(new char[]{'s','t','r','0','4'}, 1, 3); // 1表示起始位置，3表示个数 String str05 = new String(new byte[]{0x61, 0x62, 0x63, 0x64, 0x65}); // 0x61在ASC表中，对应字符\"a\"; 1表示起始位置，3表示长度 String str06 = new String(new byte[]{0x61, 0x62, 0x63, 0x64, 0x65}, 1, 3); // 0x61在ASC表中，对应字符\"a\"; 1表示起始位置，3表示长度 String str07 = new String(new byte[]{0x61, 0x62, 0x63, 0x64, 0x65}, 0); // 0x61在ASC表中，对应字符\"a\";0，表示“高字节” String str08 = new String(new byte[]{0x61, 0x62, 0x63, 0x64, 0x65}, 0, 1, 3); // 0x61在ASC表中，对应字符\"a\"; 0，表示“高字节”；1表示起始位置，3表示长度 String str09 = new String(new byte[]{(byte)0xe5, (byte)0xad, (byte)0x97, /* 字-对应的utf-8编码 */ (byte)0xe7, (byte)0xac, (byte)0xa6, /* 符-对应的utf-8编码 */ (byte)0xe7, (byte)0xbc, (byte)0x96, /* 编-对应的utf-8编码 */ (byte)0xe7, (byte)0xa0, (byte)0x81, /* 码-对应的utf-8编码 */ }, 0, 12, \"utf-8\"); // 0表示起始位置，12表示长度。 String str10 = new String(new byte[]{(byte)0x5b, (byte)0x57, /* 字-对应的utf-16编码 */ (byte)0x7b, (byte)0x26, /* 符-对应的utf-16编码 */ (byte)0x7f, (byte)0x16, /* 编-对应的utf-16编码 */ (byte)0x78, (byte)0x01, /* 码-对应的utf-16编码 */ }, 0, 8, \"utf-16\"); // 0表示起始位置，8表示长度。 String str11 = new String(new byte[]{(byte)0xd7, (byte)0xd6, /* 字-对应的gb2312编码 */ (byte)0xb7, (byte)0xfb, /* 符-对应的gb2312编码 */ (byte)0xb1, (byte)0xe0, /* 编-对应的gb2312编码 */ (byte)0xc2, (byte)0xeb, /* 码-对应的gb2312编码 */ }, Charset.forName(\"gb2312\")); String str12 = new String(new byte[]{(byte)0xd7, (byte)0xd6, /* 字-对应的gbk编码 */ (byte)0xb7, (byte)0xfb, /* 符-对应的gbk编码 */ (byte)0xb1, (byte)0xe0, /* 编-对应的gbk编码 */ (byte)0xc2, (byte)0xeb, /* 码-对应的gbk编码 */ }, 0, 8, Charset.forName(\"gbk\")); String str13 = new String(new int[] {0x5b57, 0x7b26, 0x7f16, 0x7801}, 0, 4); // \"字符编码\"(\\u5b57是‘字’的unicode编码)。0表示起始位置，4表示长度。 String str14 = new String(new StringBuffer(\"StringBuffer\")); String str15 = new String(new StringBuilder(\"StringBuilder\")); System.out.printf(\" str01=%s \\n str02=%s \\n str03=%s \\n str04=%s \\n str05=%s \\n str06=%s \\n str07=%s \\n str08=%s\\n str09=%s\\n str10=%s\\n str11=%s\\n str12=%s\\n str13=%s\\n str14=%s\\n str15=%s\\n\", str01, str02, str03, str04, str05, str06, str07, str08, str09, str10, str11, str12, str13, str14, str15); System.out.println(); } catch (UnsupportedEncodingException e) { e.printStackTrace(); } } } 运行结果：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 -------------------------------- testStringConstructors ----------------------- str01= str02=String02 str03=str03 str04=tr0 str05=abcde str06=bcd str07=abcde str08=bcd str09=字符编码 str10=字符编码 str11=字符编码 str12=字符编码 str13=字符编码 str14=StringBuffer str15=StringBuilder String 将各种对象转换成String的API 源码如下(StringValueTest.java):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 /** * String value相关示例 */ import java.util.HashMap; public class StringValueTest { public static void main(String[] args) { testValueAPIs() ; } /** * String 的valueOf()演示程序 */ private static void testValueAPIs() { System.out.println(\"-------------------------------- testValueAPIs --------------------------------\"); // 1. String valueOf(Object obj) // 实际上，返回的是obj.toString(); HashMap map = new HashMap(); map.put(\"1\", \"one\"); map.put(\"2\", \"two\"); map.put(\"3\", \"three\"); System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(map)\", String.valueOf(map)); // 2.String valueOf(boolean b) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(true)\", String.valueOf(true)); // 3.String valueOf(char c) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf('m')\", String.valueOf('m')); // 4.String valueOf(int i) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(96)\", String.valueOf(96)); // 5.String valueOf(long l) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(12345L)\", String.valueOf(12345L)); // 6.String valueOf(float f) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(1.414f)\", String.valueOf(1.414f)); // 7.String valueOf(double d) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(3.14159d)\", String.valueOf(3.14159d)); // 8.String valueOf(char[] data) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(new char[]{'s','k','y'})\", String.valueOf(new char[]{'s','k','y'})); // 9.String valueOf(char[] data, int offset, int count) System.out.printf(\"%-50s = %s\\n\", \"String.valueOf(new char[]{'s','k','y'}, 0, 2)\", String.valueOf(new char[]{'s','k','y'}, 0, 2)); System.out.println(); //StringJoiner的使用 StringJoiner stringJoiner = new StringJoiner(\",\",\"[\",\"]\"); stringJoiner.add(\"1\"); stringJoiner.add(\"2\"); stringJoiner.add(\"3\"); stringJoiner.add(\"4\"); stringJoiner.add(\"5\"); System.out.println(stringJoiner); //String.join()的使用 String str = String.join(\"|\", \"1\", \"2\", \"3\"); System.out.println(str); List list = new ArrayList(); list.add(\"1\"); list.add(\"2\"); list.add(\"3\"); list.add(\"4\"); String join = String.join(\",\", list); System.out.println(join); } } 运行结果：\n1 2 3 4 5 6 7 8 9 10 -------------------------------- testValueAPIs -------------------------------- String.valueOf(map) = {3=three, 2=two, 1=one} String.valueOf(true) = true String.valueOf('m') = m String.valueOf(96) = 96 String.valueOf(12345L) = 12345 String.valueOf(1.414f) = 1.414 String.valueOf(3.14159d) = 3.14159 String.valueOf(new char[]{'s','k','y'}) = sky String.valueOf(new char[]{'s','k','y'}, 0, 2) = sk String 中index相关的API 源码如下(StringIndexTest.java):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 /** * String 中index相关API演示 */ public class StringIndexTest { public static void main(String[] args) { testIndexAPIs() ; } /** * String 中index相关API演示 */ private static void testIndexAPIs() { System.out.println(\"-------------------------------- testIndexAPIs --------------------------------\"); String istr = \"abcAbcABCabCaBcAbCaBCabc\"; System.out.printf(\"istr=%s\\n\", istr); // 1. 从前往后，找出‘a’第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.indexOf((int)'a')\", istr.indexOf((int)'a')); // 2. 从位置5开始，从前往后，找出‘a’第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.indexOf((int)'a', 5)\", istr.indexOf((int)'a', 5)); // 3. 从后往前，找出‘a’第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.lastIndexOf((int)'a')\", istr.lastIndexOf((int)'a')); // 4. 从位置10开始，从后往前，找出‘a’第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.lastIndexOf((int)'a', 10)\", istr.lastIndexOf((int)'a', 10)); // 5. 从前往后，找出\"bc\"第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.indexOf(\\\"bc\\\")\", istr.indexOf(\"bc\")); // 6. 从位置5开始，从前往后，找出\"bc\"第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.indexOf(\\\"bc\\\", 5)\", istr.indexOf(\"bc\", 5)); // 7. 从后往前，找出\"bc\"第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.lastIndexOf(\\\"bc\\\")\", istr.lastIndexOf(\"bc\")); // 8. 从位置4开始，从后往前，找出\"bc\"第一次出现的位置 System.out.printf(\"%-30s = %d\\n\", \"istr.lastIndexOf(\\\"bc\\\", 4)\", istr.lastIndexOf(\"bc\", 4)); System.out.println(); } } 运行结果：\n1 2 3 4 5 6 7 8 9 10 -------------------------------- testIndexAPIs -------------------------------- istr=abcAbcABCabCaBcAbCaBCabc istr.indexOf((int)'a') = 0 istr.indexOf((int)'a', 5) = 9 istr.lastIndexOf((int)'a') = 21 istr.lastIndexOf((int)'a', 10) = 9 istr.indexOf(\"bc\") = 1 istr.indexOf(\"bc\", 5) = 22 istr.lastIndexOf(\"bc\") = 22 istr.lastIndexOf(\"bc\", 4) = 4 String “比较”操作的API 源码如下(StringCompareTest.java):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 /** * String 中比较相关API演示 */ public class StringCompareTest { public static void main(String[] args) { testCompareAPIs() ; } /** * String 中比较相关API演示 */ private static void testCompareAPIs() { System.out.println(\"-------------------------------- testCompareAPIs ------------------------------\"); //String str = \"abcdefghijklmnopqrstuvwxyz\"; String str = \"abcAbcABCabCAbCabc\"; System.out.printf(\"str=%s\\n\", str); // 1. 比较“2个String是否相等” System.out.printf(\"%-50s = %b\\n\", \"str.equals(\\\"abcAbcABCabCAbCabc\\\")\", str.equals(\"abcAbcABCabCAbCabc\")); // 2. 比较“2个String是否相等(忽略大小写)” System.out.printf(\"%-50s = %b\\n\", \"str.equalsIgnoreCase(\\\"ABCABCABCABCABCABC\\\")\", str.equalsIgnoreCase(\"ABCABCABCABCABCABC\")); // 3. 比较“2个String的大小” System.out.printf(\"%-40s = %d\\n\", \"str.compareTo(\\\"abce\\\")\", str.compareTo(\"abce\")); // 4. 比较“2个String的大小(忽略大小写)” System.out.printf(\"%-40s = %d\\n\", \"str.compareToIgnoreCase(\\\"ABC\\\")\", str.compareToIgnoreCase(\"ABC\")); // 5. 字符串的开头是不是\"ab\" System.out.printf(\"%-40s = %b\\n\", \"str.startsWith(\\\"ab\\\")\", str.startsWith(\"ab\")); // 6. 字符串的从位置3开头是不是\"ab\" System.out.printf(\"%-40s = %b\\n\", \"str.startsWith(\\\"Ab\\\")\", str.startsWith(\"Ab\", 3)); // 7. 字符串的结尾是不是\"bc\" System.out.printf(\"%-40s = %b\\n\", \"str.endsWith(\\\"bc\\\")\", str.endsWith(\"bc\")); // 8. 字符串的是不是包含\"ABC\" System.out.printf(\"%-40s = %b\\n\", \"str.contains(\\\"ABC\\\")\", str.contains(\"ABC\")); // 9. 比较2个字符串的部分内容 String region1 = str.substring(2, str.length()); // 获取str位置3(包括)到末尾(不包括)的子字符串 // 将“str中从位置2开始的字符串”和“region1中位置0开始的字符串”进行比较，比较长度是5。 System.out.printf(\"regionMatches(%s) = %b\\n\", region1, str.regionMatches(2, region1, 0, 5)); // 10. 比较2个字符串的部分内容(忽略大小写) String region2 = region1.toUpperCase(); // 将region1转换为大写 String region3 = region1.toLowerCase(); // 将region1转换为小写 System.out.printf(\"regionMatches(%s) = %b\\n\", region2, str.regionMatches(2, region2, 0, 5)); System.out.printf(\"regionMatches(%s) = %b\\n\", region3, str.regionMatches(2, region3, 0, 5)); // 11. 比较“String”和“StringBuffer”的内容是否相等 System.out.printf(\"%-60s = %b\\n\", \"str.contentEquals(new StringBuffer(\\\"abcAbcABCabCAbCabc\\\"))\", str.contentEquals(new StringBuffer(\"abcAbcABCabCAbCabc\"))); // 12. 比较“String”和“StringBuilder”的内容是否相等 System.out.printf(\"%-60s = %b\\n\", \"str.contentEquals(new StringBuilder(\\\"abcAbcABCabCAbCabc\\\"))\", str.contentEquals(new StringBuilder(\"abcAbcABCabCAbCabc\"))); // 13. match()测试程序 // 正则表达式 xxx.xxx.xxx.xxx，其中xxx中x的取值可以是0～9，xxx中有1～3位。 String reg_ipv4 = \"[0-9]{3}(\\\\.[0-9]{1,3}){3}\"; String ipv4addr1 = \"192.168.1.102\"; String ipv4addr2 = \"192.168\"; System.out.printf(\"%-40s = %b\\n\", \"ipv4addr1.matches()\", ipv4addr1.matches(reg_ipv4)); System.out.printf(\"%-40s = %b\\n\", \"ipv4addr2.matches()\", ipv4addr2.matches(reg_ipv4)); System.out.println(); } } 运行结果：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 -------------------------------- testCompareAPIs ------------------------------ str=abcAbcABCabCAbCabc str.equals(\"abcAbcABCabCAbCabc\") = true str.equalsIgnoreCase(\"ABCABCABCABCABCABC\") = true str.compareTo(\"abce\") = -36 str.compareToIgnoreCase(\"ABC\") = 15 str.startsWith(\"ab\") = true str.startsWith(\"Ab\") = true str.endsWith(\"bc\") = true str.contains(\"ABC\") = true regionMatches(cAbcABCabCAbCabc) = true regionMatches(CABCABCABCABCABC) = false regionMatches(cabcabcabcabcabc) = false str.contentEquals(new StringBuffer(\"abcAbcABCabCAbCabc\")) = true str.contentEquals(new StringBuilder(\"abcAbcABCabCAbCabc\")) = true ipv4addr1.matches() = true ipv4addr2.matches() = false String “修改(追加/替换/截取/分割)”操作的API 源码如下(StringModifyTest.java):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 /** * String 中 修改(追加/替换/截取/分割)字符串的相关API演示 */ public class StringModifyTest { public static void main(String[] args) { testModifyAPIs() ; } /** * String 中 修改(追加/替换/截取/分割)字符串的相关API演示 */ private static void testModifyAPIs() { System.out.println(\"---------------------- testModifyAPIs -------------------------------\"); String str = \" abcAbcABCabCAbCabc \"; System.out.printf(\"str=%s, len=%d\\n\", str, str.length()); // 1.追加 // 将\"123\"追加到str之后 System.out.printf(\"%-30s = %s\\n\", \"str.concat(\\\"123\\\")\", str.concat(\"123\")); // 2.截取 // 截取str中从位置7(包括)开始的元素。 System.out.printf(\"%-30s = %s\\n\", \"str.substring(7)\", str.substring(7)); // 截取str中从位置7(包括)到位置10(不包括)之间的元素。 System.out.printf(\"%-30s = %s\\n\", \"str.substring(7, 10)\", str.substring(7, 10)); // 删除str中首位的空格，并返回。 System.out.printf(\"%-30s = %s, len=%d\\n\", \"str.trim()\", str.trim(), str.trim().length()); // 3.替换 // 将str中的 “字符‘a’” 全部替换为 “字符‘_’” System.out.printf(\"%-30s = %s\\n\", \"str.replace('a', 'M')\", str.replace('a', '_')); // 将str中的第一次出现的“字符串“a”” 替换为 “字符串“###”” System.out.printf(\"%-30s = %s\\n\", \"str.replaceFirst(\\\"a\\\", \\\"###\\\")\", str.replaceFirst(\"a\", \"###\")); // 将str中的 “字符串“a”” 全部替换为 “字符串“$$$”” System.out.printf(\"%-30s = %s\\n\", \"str.replace(\\\"a\\\", \\\"$$$\\\")\", str.replace(\"a\", \"$$$\")); // 4.分割 // 以“b”作为分隔符，对str进行分割 String[] splits = str.split(\"b\"); for (int i=0; i",
  "wordCount" : "21291",
  "inLanguage": "en",
  "datePublished": "2019-05-07T15:30:07Z",
  "dateModified": "2019-05-07T15:30:07Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/java/string/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/links" title="🤝友链">
                    <span>🤝友链</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title">
      String
    </h1>
    <div class="post-meta"><span title='2019-05-07 15:30:07 +0000 UTC'>2019-05-07</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#string%e7%ae%80%e4%bb%8b" aria-label="String简介">String简介</a></li>
                <li>
                    <a href="#string%e5%87%bd%e6%95%b0%e5%88%97%e8%a1%a8" aria-label="String函数列表">String函数列表</a></li>
                <li>
                    <a href="#charsequence%e7%a4%ba%e4%be%8b" aria-label="CharSequence示例">CharSequence示例</a></li>
                <li>
                    <a href="#string-%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0" aria-label="String 构造函数">String 构造函数</a></li>
                <li>
                    <a href="#string-%e5%b0%86%e5%90%84%e7%a7%8d%e5%af%b9%e8%b1%a1%e8%bd%ac%e6%8d%a2%e6%88%90string%e7%9a%84api" aria-label="String 将各种对象转换成String的API">String 将各种对象转换成String的API</a></li>
                <li>
                    <a href="#string-%e4%b8%adindex%e7%9b%b8%e5%85%b3%e7%9a%84api" aria-label="String 中index相关的API">String 中index相关的API</a></li>
                <li>
                    <a href="#string-%e6%af%94%e8%be%83%e6%93%8d%e4%bd%9c%e7%9a%84api" aria-label="String “比较”操作的API">String “比较”操作的API</a></li>
                <li>
                    <a href="#string-%e4%bf%ae%e6%94%b9%e8%bf%bd%e5%8a%a0%e6%9b%bf%e6%8d%a2%e6%88%aa%e5%8f%96%e5%88%86%e5%89%b2%e6%93%8d%e4%bd%9c%e7%9a%84api" aria-label="String “修改(追加/替换/截取/分割)”操作的API">String “修改(追加/替换/截取/分割)”操作的API</a></li>
                <li>
                    <a href="#string-%e6%93%8d%e4%bd%9cunicode%e7%9a%84api" aria-label="String 操作Unicode的API">String 操作Unicode的API</a></li>
                <li>
                    <a href="#string-%e5%89%a9%e4%bd%99%e7%9a%84api" aria-label="String 剩余的API">String 剩余的API</a></li>
                <li>
                    <a href="#string%e5%bc%ba%e8%bd%ac-%e5%92%8c-tostring-%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="(String)强转 和 toString() 的区别">(String)强转 和 toString() 的区别</a></li>
                <li>
                    <a href="#stringformat" aria-label="String.format()">String.format()</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e8%a7%84%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="常规类型的格式化">常规类型的格式化</a></li>
                <li>
                    <a href="#%e6%97%a5%e6%9c%9f%e5%92%8c%e4%ba%8b%e4%bb%b6%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="日期和事件字符串格式化">日期和事件字符串格式化</a></li></ul>
                </li>
                <li>
                    <a href="#string%e5%92%8cnew-string%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="string和new string的区别">string和new string的区别</a></li>
                <li>
                    <a href="#string%e9%95%bf%e5%ba%a6%e6%9c%89%e9%99%90%e5%88%b6%e5%90%97%e6%98%af%e5%a4%9a%e5%b0%91" aria-label="String长度有限制吗？是多少？">String长度有限制吗？是多少？</a></li>
                <li>
                    <a href="#%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3string" aria-label="深入理解String">深入理解String</a><ul>
                        
                <li>
                    <a href="#java%e5%86%85%e5%ad%98%e6%a8%a1%e5%9e%8b" aria-label="Java内存模型">Java内存模型</a></li>
                <li>
                    <a href="#%e4%bb%a3%e7%a0%81%e7%a4%ba%e4%be%8b" aria-label="代码示例">代码示例</a></li>
                <li>
                    <a href="#stringintern" aria-label="String.intern()">String.intern()</a><ul>
                        
                <li>
                    <a href="#%e7%90%86%e8%a7%a31" aria-label="理解1">理解1</a></li>
                <li>
                    <a href="#%e7%90%86%e8%a7%a32" aria-label="理解2">理解2</a></li>
                <li>
                    <a href="#%e7%90%86%e8%a7%a33" aria-label="理解3">理解3</a></li></ul>
                </li>
                <li>
                    <a href="#string%e7%9a%84--%e5%92%8c-equals" aria-label="String的 == 和 equals()">String的 == 和 equals()</a></li>
                <li>
                    <a href="#%e6%80%bb%e7%bb%93" aria-label="总结">总结</a><ul>
                        
                <li>
                    <a href="#string%e5%88%9d%e5%a7%8b%e5%8c%96%e5%90%8e%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84immutable" aria-label="String初始化后是不可变的（immutable）">String初始化后是不可变的（immutable）</a></li>
                <li>
                    <a href="#string%e4%b8%ad%e7%9a%84final" aria-label="String中的final">String中的final</a></li>
                <li>
                    <a href="#string-a--123%e4%b8%8d%e4%b8%80%e5%ae%9a%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1" aria-label="String a = &amp;quot;123&amp;quot;不一定创建对象"><code>String a = &quot;123&quot;</code>不一定创建对象</a></li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84-" aria-label="字符串的 &#43;">字符串的 +</a></li>
                <li>
                    <a href="#new-string123%e4%b8%80%e5%ae%9a%e5%88%9b%e5%bb%ba%e6%96%b0%e5%af%b9%e8%b1%a1" aria-label="new String(&amp;ldquo;123&amp;rdquo;)，一定创建新对象">new String(&ldquo;123&rdquo;)，一定创建新对象</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="string简介">String简介<a hidden class="anchor" aria-hidden="true" href="#string简介">#</a></h1>
<p>String 是java中的字符串，它继承于CharSequence。
String类所包含的API接口非常多。为了便于今后的使用，我对String的API进行了分类，并都给出的演示程序。</p>
<p>String 和 CharSequence 关系：
String 继承于CharSequence，也就是说String也是CharSequence类型。
CharSequence是一个接口，它只包括length(), charAt(int index), subSequence(int start, int end)这几个API接口。除了String实现了CharSequence之外，StringBuffer和StringBuilder也实现了CharSequence接口。
需要说明的是，CharSequence就是字符序列，String、StringBuilder和StringBuffer本质上都是通过字符数组实现的。
StringBuilder 和 StringBuffer 的区别：
StringBuilder 和 StringBuffer都是可变的字符序列。它们都继承于AbstractStringBuilder，实现了CharSequence接口。
但是，StringBuilder是非线程安全的，而StringBuffer是线程安全的。</p>
<p>它们之间的关系图如下：
<img loading="lazy" src="1.jpg" alt=""  />
</p>
<h1 id="string函数列表">String函数列表<a hidden class="anchor" aria-hidden="true" href="#string函数列表">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(String original)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">char</span>[] value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">char</span>[] value, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> count)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> length)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] ascii, <span style="color:#fff;font-weight:bold">int</span> hibyte)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] ascii, <span style="color:#fff;font-weight:bold">int</span> hibyte, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> count)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes, String charsetName)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> length, String charsetName)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes, Charset charset)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">byte</span>[] bytes, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> length, Charset charset)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(<span style="color:#fff;font-weight:bold">int</span>[] codePoints, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> count)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(StringBuffer buffer)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span>    String(StringBuilder builder)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">char</span>    charAt(<span style="color:#fff;font-weight:bold">int</span> index)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    codePointAt(<span style="color:#fff;font-weight:bold">int</span> index)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    codePointBefore(<span style="color:#fff;font-weight:bold">int</span> index)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    codePointCount(<span style="color:#fff;font-weight:bold">int</span> beginIndex, <span style="color:#fff;font-weight:bold">int</span> endIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    compareTo(String anotherString)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    compareToIgnoreCase(String str)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    concat(String str)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    contains(CharSequence s)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    contentEquals(StringBuffer sb)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    contentEquals(CharSequence cs)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    copyValueOf(<span style="color:#fff;font-weight:bold">char</span>[] data, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> count)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    copyValueOf(<span style="color:#fff;font-weight:bold">char</span>[] data)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    endsWith(String suffix)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    equals(Object anObject)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    equalsIgnoreCase(String anotherString)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    format(String format, Object[] args)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    format(Locale l, String format, Object[] args)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    hashCode()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    indexOf(<span style="color:#fff;font-weight:bold">int</span> ch)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    indexOf(<span style="color:#fff;font-weight:bold">int</span> ch, <span style="color:#fff;font-weight:bold">int</span> fromIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    indexOf(String str)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    indexOf(String str, <span style="color:#fff;font-weight:bold">int</span> fromIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    intern()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    lastIndexOf(<span style="color:#fff;font-weight:bold">int</span> ch)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    lastIndexOf(<span style="color:#fff;font-weight:bold">int</span> ch, <span style="color:#fff;font-weight:bold">int</span> fromIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    lastIndexOf(String str)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    lastIndexOf(String str, <span style="color:#fff;font-weight:bold">int</span> fromIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    length()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    matches(String regex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span>    offsetByCodePoints(<span style="color:#fff;font-weight:bold">int</span> index, <span style="color:#fff;font-weight:bold">int</span> codePointOffset)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    regionMatches(<span style="color:#fff;font-weight:bold">int</span> toffset, String other, <span style="color:#fff;font-weight:bold">int</span> ooffset, <span style="color:#fff;font-weight:bold">int</span> len)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    regionMatches(<span style="color:#fff;font-weight:bold">boolean</span> ignoreCase, <span style="color:#fff;font-weight:bold">int</span> toffset, String other, <span style="color:#fff;font-weight:bold">int</span> ooffset, <span style="color:#fff;font-weight:bold">int</span> len)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    replace(<span style="color:#fff;font-weight:bold">char</span> oldChar, <span style="color:#fff;font-weight:bold">char</span> newChar)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    replace(CharSequence target, CharSequence replacement)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    replaceAll(String regex, String replacement)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    replaceFirst(String regex, String replacement)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String[]    split(String regex, <span style="color:#fff;font-weight:bold">int</span> limit)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String[]    split(String regex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    startsWith(String prefix, <span style="color:#fff;font-weight:bold">int</span> toffset)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    startsWith(String prefix)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> CharSequence    subSequence(<span style="color:#fff;font-weight:bold">int</span> beginIndex, <span style="color:#fff;font-weight:bold">int</span> endIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    substring(<span style="color:#fff;font-weight:bold">int</span> beginIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    substring(<span style="color:#fff;font-weight:bold">int</span> beginIndex, <span style="color:#fff;font-weight:bold">int</span> endIndex)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">char</span>[]    toCharArray()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toLowerCase(Locale locale)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toLowerCase()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toString()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toUpperCase(Locale locale)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    toUpperCase()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String    trim()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(Object obj)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">char</span>[] data)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">char</span>[] data, <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> count)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">boolean</span> b)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">char</span> c)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">int</span> i)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">long</span> l)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">float</span> f)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String    valueOf(<span style="color:#fff;font-weight:bold">double</span> d)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span>    getBytes(<span style="color:#fff;font-weight:bold">int</span> srcBegin, <span style="color:#fff;font-weight:bold">int</span> srcEnd, <span style="color:#fff;font-weight:bold">byte</span>[] dst, <span style="color:#fff;font-weight:bold">int</span> dstBegin)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">byte</span>[]    getBytes(String charsetName)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">byte</span>[]    getBytes(Charset charset)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">byte</span>[]    getBytes()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span>    getChars(<span style="color:#fff;font-weight:bold">int</span> srcBegin, <span style="color:#fff;font-weight:bold">int</span> srcEnd, <span style="color:#fff;font-weight:bold">char</span>[] dst, <span style="color:#fff;font-weight:bold">int</span> dstBegin)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span>    isEmpty()
</span></span></code></pre></td></tr></table>
</div>
</div><p>此处省略CharSequence和String源码。</p>
<h1 id="charsequence示例">CharSequence示例<a hidden class="anchor" aria-hidden="true" href="#charsequence示例">#</a></h1>
<p>下面通过示例，演示CharSequence的使用方法！
源码如下(CharSequenceTest.java)：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * CharSequence 演示程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.nio.charset.Charset;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.UnsupportedEncodingException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> CharSequenceTest {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testCharSequence();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * CharSequence 测试程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testCharSequence() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testCharSequence -----------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1. CharSequence的子类String
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String str = <span style="color:#0ff;font-weight:bold">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;1. String&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.length()&#34;</span>, str.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%c\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.charAt(5)&#34;</span>, str.<span style="color:#007f7f">charAt</span>(<span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>        String substr = (String)str.<span style="color:#007f7f">subSequence</span>(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">5</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.subSequence(0,5)&#34;</span>, substr.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2. CharSequence的子类StringBuilder
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        StringBuilder strbuilder = <span style="color:#fff;font-weight:bold">new</span> StringBuilder(<span style="color:#0ff;font-weight:bold">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;2. StringBuilder&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuilder.length()&#34;</span>, strbuilder.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%c\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuilder.charAt(5)&#34;</span>, strbuilder.<span style="color:#007f7f">charAt</span>(<span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 注意：StringBuilder的subSequence()返回的是，实际上是一个String对象！
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String substrbuilder = (String)strbuilder.<span style="color:#007f7f">subSequence</span>(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">5</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuilder.subSequence(0,5)&#34;</span>, substrbuilder.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3. CharSequence的子类StringBuffer
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        StringBuffer strbuffer = <span style="color:#fff;font-weight:bold">new</span> StringBuffer(<span style="color:#0ff;font-weight:bold">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;3. StringBuffer&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuffer.length()&#34;</span>, strbuffer.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%c\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuffer.charAt(5)&#34;</span>, strbuffer.<span style="color:#007f7f">charAt</span>(<span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 注意：StringBuffer的subSequence()返回的是，实际上是一个String对象！
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String substrbuffer = (String)strbuffer.<span style="color:#007f7f">subSequence</span>(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">5</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;   %-30s=%s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;strbuffer.subSequence(0,5)&#34;</span>, substrbuffer.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testCharSequence -----------------------------
</span></span><span style="display:flex;"><span>1. String
</span></span><span style="display:flex;"><span>   str.length()                  =26
</span></span><span style="display:flex;"><span>   str.charAt(5)                 =f
</span></span><span style="display:flex;"><span>   str.subSequence(0,5)          =abcde
</span></span><span style="display:flex;"><span>2. StringBuilder
</span></span><span style="display:flex;"><span>   strbuilder.length()           =26
</span></span><span style="display:flex;"><span>   strbuilder.charAt(5)          =f
</span></span><span style="display:flex;"><span>   strbuilder.subSequence(0,5)   =abcde
</span></span><span style="display:flex;"><span>3. StringBuffer
</span></span><span style="display:flex;"><span>   strbuffer.length()            =26
</span></span><span style="display:flex;"><span>   strbuffer.charAt(5)           =f
</span></span><span style="display:flex;"><span>   strbuffer.subSequence(0,5)    =abcde
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-构造函数">String 构造函数<a hidden class="anchor" aria-hidden="true" href="#string-构造函数">#</a></h1>
<p>下面通过示例，演示String的各种构造函数的使用方法！
源码如下(StringContructorTest.java)：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 构造函数演示程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.nio.charset.Charset;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.UnsupportedEncodingException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringContructorTest {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testStringConstructors() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 构造函数测试程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testStringConstructors() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testStringConstructors -----------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            String str01 = <span style="color:#fff;font-weight:bold">new</span> String();
</span></span><span style="display:flex;"><span>            String str02 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;String02&#34;</span>);
</span></span><span style="display:flex;"><span>            String str03 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;s&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;t&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;r&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;0&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;3&#39;</span>});
</span></span><span style="display:flex;"><span>            String str04 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;s&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;t&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;r&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;0&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;4&#39;</span>}, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">3</span>);          <span style="color:#007f7f">// 1表示起始位置，3表示个数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str05 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{<span style="color:#ff0;font-weight:bold">0x61</span>, <span style="color:#ff0;font-weight:bold">0x62</span>, <span style="color:#ff0;font-weight:bold">0x63</span>, <span style="color:#ff0;font-weight:bold">0x64</span>, <span style="color:#ff0;font-weight:bold">0x65</span>});       <span style="color:#007f7f">// 0x61在ASC表中，对应字符&#34;a&#34;; 1表示起始位置，3表示长度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str06 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{<span style="color:#ff0;font-weight:bold">0x61</span>, <span style="color:#ff0;font-weight:bold">0x62</span>, <span style="color:#ff0;font-weight:bold">0x63</span>, <span style="color:#ff0;font-weight:bold">0x64</span>, <span style="color:#ff0;font-weight:bold">0x65</span>}, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">3</span>); <span style="color:#007f7f">// 0x61在ASC表中，对应字符&#34;a&#34;; 1表示起始位置，3表示长度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str07 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{<span style="color:#ff0;font-weight:bold">0x61</span>, <span style="color:#ff0;font-weight:bold">0x62</span>, <span style="color:#ff0;font-weight:bold">0x63</span>, <span style="color:#ff0;font-weight:bold">0x64</span>, <span style="color:#ff0;font-weight:bold">0x65</span>}, <span style="color:#ff0;font-weight:bold">0</span>);       <span style="color:#007f7f">// 0x61在ASC表中，对应字符&#34;a&#34;;0，表示“高字节”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str08 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{<span style="color:#ff0;font-weight:bold">0x61</span>, <span style="color:#ff0;font-weight:bold">0x62</span>, <span style="color:#ff0;font-weight:bold">0x63</span>, <span style="color:#ff0;font-weight:bold">0x64</span>, <span style="color:#ff0;font-weight:bold">0x65</span>}, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">3</span>); <span style="color:#007f7f">// 0x61在ASC表中，对应字符&#34;a&#34;; 0，表示“高字节”；1表示起始位置，3表示长度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str09 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{(<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe5</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xad</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x97</span>, <span style="color:#007f7f">/* 字-对应的utf-8编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xac</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xa6</span>, <span style="color:#007f7f">/* 符-对应的utf-8编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xbc</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x96</span>, <span style="color:#007f7f">/* 编-对应的utf-8编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xa0</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x81</span>, <span style="color:#007f7f">/* 码-对应的utf-8编码 */</span> }, 
</span></span><span style="display:flex;"><span>                                      <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">12</span>, <span style="color:#0ff;font-weight:bold">&#34;utf-8&#34;</span>);  <span style="color:#007f7f">// 0表示起始位置，12表示长度。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str10 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{(<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x5b</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x57</span>, <span style="color:#007f7f">/* 字-对应的utf-16编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x7b</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x26</span>, <span style="color:#007f7f">/* 符-对应的utf-16编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x7f</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x16</span>, <span style="color:#007f7f">/* 编-对应的utf-16编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x78</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0x01</span>, <span style="color:#007f7f">/* 码-对应的utf-16编码 */</span> }, 
</span></span><span style="display:flex;"><span>                                      <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#0ff;font-weight:bold">&#34;utf-16&#34;</span>);  <span style="color:#007f7f">// 0表示起始位置，8表示长度。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str11 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{(<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xd7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xd6</span>, <span style="color:#007f7f">/* 字-对应的gb2312编码  */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xb7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xfb</span>, <span style="color:#007f7f">/* 符-对应的gb2312编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xb1</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe0</span>, <span style="color:#007f7f">/* 编-对应的gb2312编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xc2</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xeb</span>, <span style="color:#007f7f">/* 码-对应的gb2312编码 */</span> }, 
</span></span><span style="display:flex;"><span>                                      Charset.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;gb2312&#34;</span>)); 
</span></span><span style="display:flex;"><span>            String str12 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[]{(<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xd7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xd6</span>, <span style="color:#007f7f">/* 字-对应的gbk编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xb7</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xfb</span>, <span style="color:#007f7f">/* 符-对应的gbk编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xb1</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xe0</span>, <span style="color:#007f7f">/* 编-对应的gbk编码 */</span> 
</span></span><span style="display:flex;"><span>                (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xc2</span>, (<span style="color:#fff;font-weight:bold">byte</span>)<span style="color:#ff0;font-weight:bold">0xeb</span>, <span style="color:#007f7f">/* 码-对应的gbk编码 */</span> }, 
</span></span><span style="display:flex;"><span>                                      <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">8</span>, Charset.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;gbk&#34;</span>)); 
</span></span><span style="display:flex;"><span>            String str13 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">int</span>[] {<span style="color:#ff0;font-weight:bold">0x5b57</span>, <span style="color:#ff0;font-weight:bold">0x7b26</span>, <span style="color:#ff0;font-weight:bold">0x7f16</span>, <span style="color:#ff0;font-weight:bold">0x7801</span>}, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">4</span>);  <span style="color:#007f7f">// &#34;字符编码&#34;(\u5b57是‘字’的unicode编码)。0表示起始位置，4表示长度。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            String str14 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> StringBuffer(<span style="color:#0ff;font-weight:bold">&#34;StringBuffer&#34;</span>));
</span></span><span style="display:flex;"><span>            String str15 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> StringBuilder(<span style="color:#0ff;font-weight:bold">&#34;StringBuilder&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34; str01=%s \n str02=%s \n str03=%s \n str04=%s \n str05=%s \n str06=%s \n str07=%s \n str08=%s\n str09=%s\n str10=%s\n str11=%s\n str12=%s\n str13=%s\n str14=%s\n str15=%s\n&#34;</span>,
</span></span><span style="display:flex;"><span>                              str01, str02, str03, str04, str05, str06, str07, str08, str09, str10, str11, str12, str13, str14, str15);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (UnsupportedEncodingException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testStringConstructors -----------------------
</span></span><span style="display:flex;"><span> str01= 
</span></span><span style="display:flex;"><span> str02=String02 
</span></span><span style="display:flex;"><span> str03=str03 
</span></span><span style="display:flex;"><span> str04=tr0 
</span></span><span style="display:flex;"><span> str05=abcde 
</span></span><span style="display:flex;"><span> str06=bcd 
</span></span><span style="display:flex;"><span> str07=abcde 
</span></span><span style="display:flex;"><span> str08=bcd
</span></span><span style="display:flex;"><span> str09=字符编码
</span></span><span style="display:flex;"><span> str10=字符编码
</span></span><span style="display:flex;"><span> str11=字符编码
</span></span><span style="display:flex;"><span> str12=字符编码
</span></span><span style="display:flex;"><span> str13=字符编码
</span></span><span style="display:flex;"><span> str14=StringBuffer
</span></span><span style="display:flex;"><span> str15=StringBuilder
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-将各种对象转换成string的api">String 将各种对象转换成String的API<a hidden class="anchor" aria-hidden="true" href="#string-将各种对象转换成string的api">#</a></h1>
<p>源码如下(StringValueTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String value相关示例
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringValueTest {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testValueAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 的valueOf()演示程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testValueAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testValueAPIs --------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1. String    valueOf(Object obj)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">//  实际上，返回的是obj.toString();
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        HashMap map = <span style="color:#fff;font-weight:bold">new</span> HashMap();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;one&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;two&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;three&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(map)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(map));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2.String    valueOf(boolean b)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(true)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#fff;font-weight:bold">true</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3.String    valueOf(char c)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(&#39;m&#39;)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#0ff;font-weight:bold">&#39;m&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 4.String    valueOf(int i)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(96)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#ff0;font-weight:bold">96</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 5.String    valueOf(long l)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(12345L)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#ff0;font-weight:bold">12345L</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 6.String    valueOf(float f)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(1.414f)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#ff0;font-weight:bold">1.414f</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 7.String    valueOf(double d)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(3.14159d)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#ff0;font-weight:bold">3.14159d</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 8.String    valueOf(char[] data)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(new char[]{&#39;s&#39;,&#39;k&#39;,&#39;y&#39;})&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;s&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;k&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;y&#39;</span>}));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 9.String    valueOf(char[] data, int offset, int count)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;String.valueOf(new char[]{&#39;s&#39;,&#39;k&#39;,&#39;y&#39;}, 0, 2)&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;s&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;k&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;y&#39;</span>}, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//StringJoiner的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        StringJoiner stringJoiner = <span style="color:#fff;font-weight:bold">new</span> StringJoiner(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;[&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;]&#34;</span>);
</span></span><span style="display:flex;"><span>        stringJoiner.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span>        stringJoiner.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>);
</span></span><span style="display:flex;"><span>        stringJoiner.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>);
</span></span><span style="display:flex;"><span>        stringJoiner.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;4&#34;</span>);
</span></span><span style="display:flex;"><span>        stringJoiner.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;5&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(stringJoiner);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//String.join()的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String str = String.<span style="color:#007f7f">join</span>(<span style="color:#0ff;font-weight:bold">&#34;|&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;String&gt;();
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;4&#34;</span>);
</span></span><span style="display:flex;"><span>        String join = String.<span style="color:#007f7f">join</span>(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>, list);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(join);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testValueAPIs --------------------------------
</span></span><span style="display:flex;"><span>String.valueOf(map)                                = {3=three, 2=two, 1=one}
</span></span><span style="display:flex;"><span>String.valueOf(true)                               = true
</span></span><span style="display:flex;"><span>String.valueOf(&#39;m&#39;)                                = m
</span></span><span style="display:flex;"><span>String.valueOf(96)                                 = 96
</span></span><span style="display:flex;"><span>String.valueOf(12345L)                             = 12345
</span></span><span style="display:flex;"><span>String.valueOf(1.414f)                             = 1.414
</span></span><span style="display:flex;"><span>String.valueOf(3.14159d)                           = 3.14159
</span></span><span style="display:flex;"><span>String.valueOf(new char[]{&#39;s&#39;,&#39;k&#39;,&#39;y&#39;})            = sky
</span></span><span style="display:flex;"><span>String.valueOf(new char[]{&#39;s&#39;,&#39;k&#39;,&#39;y&#39;}, 0, 2)      = sk
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-中index相关的api">String 中index相关的API<a hidden class="anchor" aria-hidden="true" href="#string-中index相关的api">#</a></h1>
<p>源码如下(StringIndexTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 中index相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringIndexTest {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testIndexAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 中index相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testIndexAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testIndexAPIs --------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String istr = <span style="color:#0ff;font-weight:bold">&#34;abcAbcABCabCaBcAbCaBCabc&#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;istr=%s\n&#34;</span>, istr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1. 从前往后，找出‘a’第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.indexOf((int)&#39;a&#39;)&#34;</span>, istr.<span style="color:#007f7f">indexOf</span>((<span style="color:#fff;font-weight:bold">int</span>)<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2. 从位置5开始，从前往后，找出‘a’第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.indexOf((int)&#39;a&#39;, 5)&#34;</span>, istr.<span style="color:#007f7f">indexOf</span>((<span style="color:#fff;font-weight:bold">int</span>)<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>, <span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3. 从后往前，找出‘a’第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.lastIndexOf((int)&#39;a&#39;)&#34;</span>, istr.<span style="color:#007f7f">lastIndexOf</span>((<span style="color:#fff;font-weight:bold">int</span>)<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 4. 从位置10开始，从后往前，找出‘a’第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.lastIndexOf((int)&#39;a&#39;, 10)&#34;</span>, istr.<span style="color:#007f7f">lastIndexOf</span>((<span style="color:#fff;font-weight:bold">int</span>)<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>, <span style="color:#ff0;font-weight:bold">10</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 5. 从前往后，找出&#34;bc&#34;第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.indexOf(\&#34;bc\&#34;)&#34;</span>, istr.<span style="color:#007f7f">indexOf</span>(<span style="color:#0ff;font-weight:bold">&#34;bc&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 6. 从位置5开始，从前往后，找出&#34;bc&#34;第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.indexOf(\&#34;bc\&#34;, 5)&#34;</span>, istr.<span style="color:#007f7f">indexOf</span>(<span style="color:#0ff;font-weight:bold">&#34;bc&#34;</span>, <span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 7. 从后往前，找出&#34;bc&#34;第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.lastIndexOf(\&#34;bc\&#34;)&#34;</span>, istr.<span style="color:#007f7f">lastIndexOf</span>(<span style="color:#0ff;font-weight:bold">&#34;bc&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 8. 从位置4开始，从后往前，找出&#34;bc&#34;第一次出现的位置
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;istr.lastIndexOf(\&#34;bc\&#34;, 4)&#34;</span>, istr.<span style="color:#007f7f">lastIndexOf</span>(<span style="color:#0ff;font-weight:bold">&#34;bc&#34;</span>, <span style="color:#ff0;font-weight:bold">4</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testIndexAPIs --------------------------------
</span></span><span style="display:flex;"><span>istr=abcAbcABCabCaBcAbCaBCabc
</span></span><span style="display:flex;"><span>istr.indexOf((int)&#39;a&#39;)         = 0
</span></span><span style="display:flex;"><span>istr.indexOf((int)&#39;a&#39;, 5)      = 9
</span></span><span style="display:flex;"><span>istr.lastIndexOf((int)&#39;a&#39;)     = 21
</span></span><span style="display:flex;"><span>istr.lastIndexOf((int)&#39;a&#39;, 10) = 9
</span></span><span style="display:flex;"><span>istr.indexOf(&#34;bc&#34;)             = 1
</span></span><span style="display:flex;"><span>istr.indexOf(&#34;bc&#34;, 5)          = 22
</span></span><span style="display:flex;"><span>istr.lastIndexOf(&#34;bc&#34;)         = 22
</span></span><span style="display:flex;"><span>istr.lastIndexOf(&#34;bc&#34;, 4)      = 4
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-比较操作的api">String “比较”操作的API<a hidden class="anchor" aria-hidden="true" href="#string-比较操作的api">#</a></h1>
<p>源码如下(StringCompareTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 中比较相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringCompareTest {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testCompareAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 中比较相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testCompareAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testCompareAPIs ------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//String str = &#34;abcdefghijklmnopqrstuvwxyz&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String str = <span style="color:#0ff;font-weight:bold">&#34;abcAbcABCabCAbCabc&#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;str=%s\n&#34;</span>, str);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1. 比较“2个String是否相等”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %b\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.equals(\&#34;abcAbcABCabCAbCabc\&#34;)&#34;</span>, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;abcAbcABCabCAbCabc&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2. 比较“2个String是否相等(忽略大小写)”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-50s = %b\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.equalsIgnoreCase(\&#34;ABCABCABCABCABCABC\&#34;)&#34;</span>, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">equalsIgnoreCase</span>(<span style="color:#0ff;font-weight:bold">&#34;ABCABCABCABCABCABC&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3. 比较“2个String的大小”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.compareTo(\&#34;abce\&#34;)&#34;</span>, str.<span style="color:#007f7f">compareTo</span>(<span style="color:#0ff;font-weight:bold">&#34;abce&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 4. 比较“2个String的大小(忽略大小写)”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.compareToIgnoreCase(\&#34;ABC\&#34;)&#34;</span>, str.<span style="color:#007f7f">compareToIgnoreCase</span>(<span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 5. 字符串的开头是不是&#34;ab&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.startsWith(\&#34;ab\&#34;)&#34;</span>, str.<span style="color:#007f7f">startsWith</span>(<span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 6. 字符串的从位置3开头是不是&#34;ab&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.startsWith(\&#34;Ab\&#34;)&#34;</span>, str.<span style="color:#007f7f">startsWith</span>(<span style="color:#0ff;font-weight:bold">&#34;Ab&#34;</span>, <span style="color:#ff0;font-weight:bold">3</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 7. 字符串的结尾是不是&#34;bc&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.endsWith(\&#34;bc\&#34;)&#34;</span>, str.<span style="color:#007f7f">endsWith</span>(<span style="color:#0ff;font-weight:bold">&#34;bc&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 8. 字符串的是不是包含&#34;ABC&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.contains(\&#34;ABC\&#34;)&#34;</span>, str.<span style="color:#007f7f">contains</span>(<span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 9. 比较2个字符串的部分内容
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String region1 = str.<span style="color:#007f7f">substring</span>(<span style="color:#ff0;font-weight:bold">2</span>, str.<span style="color:#007f7f">length</span>());    <span style="color:#007f7f">// 获取str位置3(包括)到末尾(不包括)的子字符串
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 将“str中从位置2开始的字符串”和“region1中位置0开始的字符串”进行比较，比较长度是5。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;regionMatches(%s) = %b\n&#34;</span>, region1, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">regionMatches</span>(<span style="color:#ff0;font-weight:bold">2</span>, region1, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 10. 比较2个字符串的部分内容(忽略大小写)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String region2 = region1.<span style="color:#007f7f">toUpperCase</span>();    <span style="color:#007f7f">// 将region1转换为大写
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String region3 = region1.<span style="color:#007f7f">toLowerCase</span>();    <span style="color:#007f7f">// 将region1转换为小写
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;regionMatches(%s) = %b\n&#34;</span>, region2, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">regionMatches</span>(<span style="color:#ff0;font-weight:bold">2</span>, region2, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;regionMatches(%s) = %b\n&#34;</span>, region3, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">regionMatches</span>(<span style="color:#ff0;font-weight:bold">2</span>, region3, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">5</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 11. 比较“String”和“StringBuffer”的内容是否相等
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-60s = %b\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.contentEquals(new StringBuffer(\&#34;abcAbcABCabCAbCabc\&#34;))&#34;</span>, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">contentEquals</span>(<span style="color:#fff;font-weight:bold">new</span> StringBuffer(<span style="color:#0ff;font-weight:bold">&#34;abcAbcABCabCAbCabc&#34;</span>)));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 12. 比较“String”和“StringBuilder”的内容是否相等
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-60s = %b\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.contentEquals(new StringBuilder(\&#34;abcAbcABCabCAbCabc\&#34;))&#34;</span>, 
</span></span><span style="display:flex;"><span>                str.<span style="color:#007f7f">contentEquals</span>(<span style="color:#fff;font-weight:bold">new</span> StringBuilder(<span style="color:#0ff;font-weight:bold">&#34;abcAbcABCabCAbCabc&#34;</span>)));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 13. match()测试程序
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 正则表达式 xxx.xxx.xxx.xxx，其中xxx中x的取值可以是0～9，xxx中有1～3位。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String reg_ipv4 = <span style="color:#0ff;font-weight:bold">&#34;[0-9]{3}(\\.[0-9]{1,3}){3}&#34;</span>;    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String ipv4addr1 = <span style="color:#0ff;font-weight:bold">&#34;192.168.1.102&#34;</span>;
</span></span><span style="display:flex;"><span>        String ipv4addr2 = <span style="color:#0ff;font-weight:bold">&#34;192.168&#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ipv4addr1.matches()&#34;</span>, ipv4addr1.<span style="color:#007f7f">matches</span>(reg_ipv4));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-40s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ipv4addr2.matches()&#34;</span>, ipv4addr2.<span style="color:#007f7f">matches</span>(reg_ipv4));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testCompareAPIs ------------------------------
</span></span><span style="display:flex;"><span>str=abcAbcABCabCAbCabc
</span></span><span style="display:flex;"><span>str.equals(&#34;abcAbcABCabCAbCabc&#34;)                   = true
</span></span><span style="display:flex;"><span>str.equalsIgnoreCase(&#34;ABCABCABCABCABCABC&#34;)         = true
</span></span><span style="display:flex;"><span>str.compareTo(&#34;abce&#34;)                    = -36
</span></span><span style="display:flex;"><span>str.compareToIgnoreCase(&#34;ABC&#34;)           = 15
</span></span><span style="display:flex;"><span>str.startsWith(&#34;ab&#34;)                     = true
</span></span><span style="display:flex;"><span>str.startsWith(&#34;Ab&#34;)                     = true
</span></span><span style="display:flex;"><span>str.endsWith(&#34;bc&#34;)                       = true
</span></span><span style="display:flex;"><span>str.contains(&#34;ABC&#34;)                      = true
</span></span><span style="display:flex;"><span>regionMatches(cAbcABCabCAbCabc) = true
</span></span><span style="display:flex;"><span>regionMatches(CABCABCABCABCABC) = false
</span></span><span style="display:flex;"><span>regionMatches(cabcabcabcabcabc) = false
</span></span><span style="display:flex;"><span>str.contentEquals(new StringBuffer(&#34;abcAbcABCabCAbCabc&#34;))    = true
</span></span><span style="display:flex;"><span>str.contentEquals(new StringBuilder(&#34;abcAbcABCabCAbCabc&#34;))   = true
</span></span><span style="display:flex;"><span>ipv4addr1.matches()                      = true
</span></span><span style="display:flex;"><span>ipv4addr2.matches()                      = false
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-修改追加替换截取分割操作的api">String “修改(追加/替换/截取/分割)”操作的API<a hidden class="anchor" aria-hidden="true" href="#string-修改追加替换截取分割操作的api">#</a></h1>
<p>源码如下(StringModifyTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 中 修改(追加/替换/截取/分割)字符串的相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringModifyTest {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testModifyAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 中 修改(追加/替换/截取/分割)字符串的相关API演示
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testModifyAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;---------------------- testModifyAPIs -------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String str = <span style="color:#0ff;font-weight:bold">&#34; abcAbcABCabCAbCabc &#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;str=%s, len=%d\n&#34;</span>, str, str.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1.追加
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 将&#34;123&#34;追加到str之后
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.concat(\&#34;123\&#34;)&#34;</span>, str.<span style="color:#007f7f">concat</span>(<span style="color:#0ff;font-weight:bold">&#34;123&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2.截取
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 截取str中从位置7(包括)开始的元素。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.substring(7)&#34;</span>, str.<span style="color:#007f7f">substring</span>(<span style="color:#ff0;font-weight:bold">7</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 截取str中从位置7(包括)到位置10(不包括)之间的元素。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.substring(7, 10)&#34;</span>, str.<span style="color:#007f7f">substring</span>(<span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">10</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 删除str中首位的空格，并返回。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s, len=%d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.trim()&#34;</span>, str.<span style="color:#007f7f">trim</span>(), str.<span style="color:#007f7f">trim</span>().<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3.替换
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 将str中的 “字符‘a’” 全部替换为 “字符‘_’”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.replace(&#39;a&#39;, &#39;M&#39;)&#34;</span>, str.<span style="color:#007f7f">replace</span>(<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;_&#39;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 将str中的第一次出现的“字符串“a”” 替换为 “字符串“###””
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.replaceFirst(\&#34;a\&#34;, \&#34;###\&#34;)&#34;</span>, str.<span style="color:#007f7f">replaceFirst</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;###&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 将str中的 “字符串“a”” 全部替换为 “字符串“$$$””
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %s\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.replace(\&#34;a\&#34;, \&#34;$$$\&#34;)&#34;</span>, str.<span style="color:#007f7f">replace</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;$$$&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 4.分割
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// 以“b”作为分隔符，对str进行分割
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        String[] splits = str.<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;splits.<span style="color:#007f7f">length</span>; i++) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;splits[%d]=%s\n&#34;</span>, i, splits[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testModifyAPIs -------------------------------
</span></span><span style="display:flex;"><span>str= abcAbcABCabCAbCabc , len=20
</span></span><span style="display:flex;"><span>str.concat(&#34;123&#34;)              =  abcAbcABCabCAbCabc 123
</span></span><span style="display:flex;"><span>str.substring(7)               = ABCabCAbCabc 
</span></span><span style="display:flex;"><span>str.substring(7, 10)           = ABC
</span></span><span style="display:flex;"><span>str.trim()                     = abcAbcABCabCAbCabc, len=18
</span></span><span style="display:flex;"><span>str.replace(&#39;a&#39;, &#39;M&#39;)          =  _bcAbcABC_bCAbC_bc 
</span></span><span style="display:flex;"><span>str.replaceFirst(&#34;a&#34;, &#34;###&#34;)   =  ###bcAbcABCabCAbCabc 
</span></span><span style="display:flex;"><span>str.replace(&#34;a&#34;, &#34;$$$&#34;)        =  $$$bcAbcABC$$$bCAbC$$$bc 
</span></span><span style="display:flex;"><span>splits[0]= a
</span></span><span style="display:flex;"><span>splits[1]=cA
</span></span><span style="display:flex;"><span>splits[2]=cABCa
</span></span><span style="display:flex;"><span>splits[3]=CA
</span></span><span style="display:flex;"><span>splits[4]=Ca
</span></span><span style="display:flex;"><span>splits[5]=c
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-操作unicode的api">String 操作Unicode的API<a hidden class="anchor" aria-hidden="true" href="#string-操作unicode的api">#</a></h1>
<p>源码如下(StringUnicodeTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 中与unicode相关的API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringUnicodeTest {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testUnicodeAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 中与unicode相关的API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testUnicodeAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testUnicodeAPIs ------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String ustr = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">int</span>[] {<span style="color:#ff0;font-weight:bold">0x5b57</span>, <span style="color:#ff0;font-weight:bold">0x7b26</span>, <span style="color:#ff0;font-weight:bold">0x7f16</span>, <span style="color:#ff0;font-weight:bold">0x7801</span>}, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">4</span>);  <span style="color:#007f7f">// &#34;字符编码&#34;(\u5b57是‘字’的unicode编码)。0表示起始位置，4表示长度。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;ustr=%s\n&#34;</span>, ustr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//  获取位置0的元素对应的unciode编码
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = 0x%x\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ustr.codePointAt(0)&#34;</span>, ustr.<span style="color:#007f7f">codePointAt</span>(<span style="color:#ff0;font-weight:bold">0</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 获取位置2之前的元素对应的unciode编码
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = 0x%x\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ustr.codePointBefore(2)&#34;</span>, ustr.<span style="color:#007f7f">codePointBefore</span>(<span style="color:#ff0;font-weight:bold">2</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 获取位置1开始偏移2个代码点的索引
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ustr.offsetByCodePoints(1, 2)&#34;</span>, ustr.<span style="color:#007f7f">offsetByCodePoints</span>(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 获取第0~3个元素之间的unciode编码的个数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%-30s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ustr.codePointCount(0, 3)&#34;</span>, ustr.<span style="color:#007f7f">codePointCount</span>(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">3</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testUnicodeAPIs ------------------------------
</span></span><span style="display:flex;"><span>ustr=字符编码
</span></span><span style="display:flex;"><span>ustr.codePointAt(0)            = 0x5b57
</span></span><span style="display:flex;"><span>ustr.codePointBefore(2)        = 0x7b26
</span></span><span style="display:flex;"><span>ustr.offsetByCodePoints(1, 2)  = 3
</span></span><span style="display:flex;"><span>ustr.codePointCount(0, 3)      = 3
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string-剩余的api">String 剩余的API<a hidden class="anchor" aria-hidden="true" href="#string-剩余的api">#</a></h1>
<p>源码如下(StringOtherTest.java):</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * String 中其它的API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> StringOtherTest {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        testOtherAPIs() ;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * String 中其它的API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> testOtherAPIs() {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;-------------------------------- testOtherAPIs --------------------------------&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String str = <span style="color:#0ff;font-weight:bold">&#34;0123456789&#34;</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;str=%s\n&#34;</span>, str);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 1. 字符串长度
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %d\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.length()&#34;</span>, str.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 2. 字符串是否为空
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %b\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.isEmpty()&#34;</span>, str.<span style="color:#007f7f">isEmpty</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 3. [字节] 获取字符串对应的字节数组
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">byte</span>[] barr = str.<span style="color:#007f7f">getBytes</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;barr.<span style="color:#007f7f">length</span>; i++) {
</span></span><span style="display:flex;"><span>               System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;barr[%d]=0x%x &#34;</span>, i, barr[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 4. [字符] 获取字符串位置4的字符
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %c\n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;str.charAt(4)&#34;</span>, str.<span style="color:#007f7f">charAt</span>(<span style="color:#ff0;font-weight:bold">4</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 5. [字符] 获取字符串对应的字符数组
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">char</span>[] carr = str.<span style="color:#007f7f">toCharArray</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;carr.<span style="color:#007f7f">length</span>; i++) {
</span></span><span style="display:flex;"><span>               System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;carr[%d]=%c &#34;</span>, i, carr[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 6. [字符] 获取字符串中部分元素对应的字符数组
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">char</span>[] carr2 = <span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[<span style="color:#ff0;font-weight:bold">3</span>];
</span></span><span style="display:flex;"><span>        str.<span style="color:#007f7f">getChars</span>(<span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">9</span>, carr2, <span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;carr2.<span style="color:#007f7f">length</span>; i++) {
</span></span><span style="display:flex;"><span>               System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;carr2[%d]=%c &#34;</span>, i, carr2[i]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 7. [字符] 获取字符数组对应的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.copyValueOf(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;})&#34;</span>, 
</span></span><span style="display:flex;"><span>                String.<span style="color:#007f7f">copyValueOf</span>(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;b&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;c&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;d&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;e&#39;</span>}));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 8. [字符] 获取字符数组中部分元素对应的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.copyValueOf(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;}, 1, 4)&#34;</span>, 
</span></span><span style="display:flex;"><span>                String.<span style="color:#007f7f">copyValueOf</span>(<span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">char</span>[]{<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;b&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;c&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;d&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;e&#39;</span>}, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">4</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// 9. format()示例，将对象数组按指定格式转换为字符串
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s = %s\n&#34;</span>, 
</span></span><span style="display:flex;"><span>                <span style="color:#0ff;font-weight:bold">&#34;str.format()&#34;</span>, 
</span></span><span style="display:flex;"><span>                String.<span style="color:#007f7f">format</span>(<span style="color:#0ff;font-weight:bold">&#34;%s-%d-%b&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#fff;font-weight:bold">true</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>运行结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>-------------------------------- testOtherAPIs --------------------------------
</span></span><span style="display:flex;"><span>str=0123456789
</span></span><span style="display:flex;"><span>str.length() = 10
</span></span><span style="display:flex;"><span>str.isEmpty() = false
</span></span><span style="display:flex;"><span>barr[0]=0x30 barr[1]=0x31 barr[2]=0x32 barr[3]=0x33 barr[4]=0x34 barr[5]=0x35 barr[6]=0x36 barr[7]=0x37 barr[8]=0x38 barr[9]=0x39 
</span></span><span style="display:flex;"><span>str.charAt(4) = 4
</span></span><span style="display:flex;"><span>carr[0]=0 carr[1]=1 carr[2]=2 carr[3]=3 carr[4]=4 carr[5]=5 carr[6]=6 carr[7]=7 carr[8]=8 carr[9]=9 
</span></span><span style="display:flex;"><span>carr2[0]=6 carr2[1]=7 carr2[2]=8 
</span></span><span style="display:flex;"><span>str.copyValueOf(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;}) = abcde
</span></span><span style="display:flex;"><span>str.copyValueOf(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;}, 1, 4) = bcde
</span></span><span style="display:flex;"><span>str.format() = abc-3-true
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="string强转-和-tostring-的区别">(String)强转 和 toString() 的区别<a hidden class="anchor" aria-hidden="true" href="#string强转-和-tostring-的区别">#</a></h1>
<p>下面是Object类的toString()源码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> getClass().<span style="color:#007f7f">getName</span>() + <span style="color:#0ff;font-weight:bold">&#34;@&#34;</span> + Integer.<span style="color:#007f7f">toHexString</span>(hashCode());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Object 类的 toString 方法返回一个字符串，该字符串由类名、标记符“@”和此对象哈希码的十六进制表示组成。
toString()方法返回的是这个对象的字符串表示，就像这个对象的名字一样，任何对象都可以有自己的名字。你可以重写对象的toString()方法，赋予其任意的名字。
但是调用toString()方法的对象不能为 null，否则会抛出异常：java.lang.NullPointerException。</p>
<p>String.valueOf()和toString()的区别看源码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String valueOf(Object obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> (obj == <span style="color:#fff;font-weight:bold">null</span>) ? <span style="color:#0ff;font-weight:bold">&#34;null&#34;</span> : obj.<span style="color:#007f7f">toString</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>这个方法就是在调用 toString() 之前判断一下这个对象是不是null，如果不是null，则正常调用其toString()方法，如果是null 的话，则返回字符串形式的null。</p>
<p>强制转换（String）：
强制类型转换是一种显示的类型转换。示例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Object obj2 = <span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>String strVal = (String) obj2;
</span></span></code></pre></td></tr></table>
</div>
</div><p>obj2 虽然本质上是 Integer 类型，但其表面上确是 Object 类型，所以在编译的时候没有报错，但因为 obj2 在创建的时候已经确定了其在本质上 Integer 类型，所以这两行代码在运行时依然会报错，因为 Integer 型不能转换成 String 类型。</p>
<p>就是在需要转换的变量前加上<code>(你需要转换的类型)</code>。
每个对象的类型在对象创建的时候已经确定并且不能更改，所谓强制转换也只是使其表面上换成了另一种类型，可以使用其方法对这个对象进行处理。
那么可想而知，把物品A 当成物品B 来使用，当A 能能够被当成 B的时候大家都相安无事，一旦A 不能被当成B ，它不会去自动调用 toString()方法，而是马上就会报错。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer obj1 = <span style="color:#fff;font-weight:bold">new</span> Integer(<span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//Cannot cast from Integer to String
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String strVal = (String)obj1;
</span></span></code></pre></td></tr></table>
</div>
</div><p>这种编译直接报错了。所以使用强制类型转换需要谨慎。</p>
<p>用null去toString，会直接报空指针。
但是String.valueOf(null)，则还是返回null，不会报错。
但是需要注意，String.valueOf()，如果结果是null，返回的结果是字符串的<code>&quot;null&quot;</code>，而不是null类型。</p>
<h1 id="stringformat">String.format()<a hidden class="anchor" aria-hidden="true" href="#stringformat">#</a></h1>
<p><code>String.format()</code>方法用于创建格式化的字符串以及连接多个字符串对象。format()方法有两种重载形式。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>format(String format, Object... args)
</span></span></code></pre></td></tr></table>
</div>
</div><p>新字符串使用本地语言环境，制定字符串格式和参数生成格式化的新字符串。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>format(Locale locale, String format, Object... args)
</span></span></code></pre></td></tr></table>
</div>
</div><p>使用指定的语言环境，制定字符串格式和参数生成格式化的字符串。</p>
<h2 id="常规类型的格式化">常规类型的格式化<a hidden class="anchor" aria-hidden="true" href="#常规类型的格式化">#</a></h2>
<p>显示不同转换符实现不同数据类型到字符串的转换，如图所示。</p>
<table>
<thead>
<tr>
<th>转换符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>%s</td>
<td>字符串类型</td>
<td>&ldquo;mingrisoft&rdquo;</td>
</tr>
<tr>
<td>%c</td>
<td>字符类型</td>
<td>&rsquo;m'</td>
</tr>
<tr>
<td>%b</td>
<td>布尔类型</td>
<td>true</td>
</tr>
<tr>
<td>%d</td>
<td>整数类型（十进制）</td>
<td>99</td>
</tr>
<tr>
<td>%x</td>
<td>整数类型（十六进制）</td>
<td>FF</td>
</tr>
<tr>
<td>%o</td>
<td>整数类型（八进制）</td>
<td>77</td>
</tr>
<tr>
<td>%f</td>
<td>浮点类型</td>
<td>99.99</td>
</tr>
<tr>
<td>%a</td>
<td>十六进制浮点类型</td>
<td>FF.35AE</td>
</tr>
<tr>
<td>%e</td>
<td>指数类型</td>
<td>9.38e+5</td>
</tr>
<tr>
<td>%g</td>
<td>通用浮点类型（f和e类型中较短的）</td>
<td></td>
</tr>
<tr>
<td>%h</td>
<td>散列码</td>
<td></td>
</tr>
<tr>
<td>%%</td>
<td>百分比类型</td>
<td></td>
</tr>
<tr>
<td>%n</td>
<td>换行符</td>
<td></td>
</tr>
<tr>
<td>%tx</td>
<td>日期与时间类型（x代表不同的日期与时间转换符)</td>
<td></td>
</tr>
</tbody>
</table>
<p>测试用例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    String str = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    str = String.<span style="color:#007f7f">format</span>(<span style="color:#0ff;font-weight:bold">&#34;Hi,%s&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;张三&#34;</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    str = String.<span style="color:#007f7f">format</span>(<span style="color:#0ff;font-weight:bold">&#34;Hi,%s:%s.%s&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;张三&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;李四&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;王五&#34;</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;字母a的大写是：%c %n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#39;A&#39;</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;3&gt;7的结果是：%b %n&#34;</span>, <span style="color:#ff0;font-weight:bold">3</span> &gt; <span style="color:#ff0;font-weight:bold">7</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;100的一半是：%d %n&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span> / <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;100的16进制数是：%x %n&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;100的8进制数是：%o %n&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;50元的书打8.5折扣是：%f 元%n&#34;</span>, <span style="color:#ff0;font-weight:bold">50</span> * <span style="color:#ff0;font-weight:bold">0.85</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;上面价格的16进制数是：%a %n&#34;</span>, <span style="color:#ff0;font-weight:bold">50</span> * <span style="color:#ff0;font-weight:bold">0.85</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;上面价格的指数表示：%e %n&#34;</span>, <span style="color:#ff0;font-weight:bold">50</span> * <span style="color:#ff0;font-weight:bold">0.85</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;上面价格的指数和浮点数结果的长度较短的是：%g %n&#34;</span>, <span style="color:#ff0;font-weight:bold">50</span> * <span style="color:#ff0;font-weight:bold">0.85</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;上面的折扣是%d%% %n&#34;</span>, <span style="color:#ff0;font-weight:bold">85</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;字母A的散列码是：%h %n&#34;</span>, <span style="color:#0ff;font-weight:bold">&#39;A&#39;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Hi,王力
</span></span><span style="display:flex;"><span>Hi,王南:王力.王张
</span></span><span style="display:flex;"><span>字母a的大写是：A 
</span></span><span style="display:flex;"><span>3&gt;7的结果是：false 
</span></span><span style="display:flex;"><span>100的一半是：50 
</span></span><span style="display:flex;"><span>100的16进制数是：64 
</span></span><span style="display:flex;"><span>100的8进制数是：144 
</span></span><span style="display:flex;"><span>50元的书打8.5折扣是：42.500000 元
</span></span><span style="display:flex;"><span>上面价格的16进制数是：0x1.54p5 
</span></span><span style="display:flex;"><span>上面价格的指数表示：4.250000e+01 
</span></span><span style="display:flex;"><span>上面价格的指数和浮点数结果的长度较短的是：42.5000 
</span></span><span style="display:flex;"><span>上面的折扣是85% 
</span></span><span style="display:flex;"><span>字母A的散列码是：41
</span></span></code></pre></td></tr></table>
</div>
</div><p>搭配转换符的标志，如图所示。</p>
<table>
<thead>
<tr>
<th>标识</th>
<th>说明</th>
<th>示例</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>为正数或者负数添加符号</td>
<td>(&quot;%+d&quot;,15)</td>
<td>+15</td>
</tr>
<tr>
<td>-</td>
<td>左对齐</td>
<td>(&quot;%-5d&quot;,15)</td>
<td>|15   |</td>
</tr>
<tr>
<td>0</td>
<td>数字前面补0</td>
<td>(&quot;%04d&quot;, 99)</td>
<td>0099</td>
</tr>
<tr>
<td>空格</td>
<td>在整数之前添加指定数量的空格</td>
<td>(&quot;% 4d&quot;, 99)</td>
<td>|  99|</td>
</tr>
<tr>
<td>,</td>
<td>以“,”对数字分组</td>
<td>(&quot;%,f&quot;, 9999.99)</td>
<td>9,999.990000</td>
</tr>
<tr>
<td>(</td>
<td>使用括号包含负数</td>
<td>(&quot;%(f&quot;, -99.99)</td>
<td>(99.990000)</td>
</tr>
<tr>
<td>#</td>
<td>如果是浮点数则包含小数点，如果是16进制或8进制则添加0x或0</td>
<td>(&quot;%#x&quot;, 99)  (&quot;%#o&quot;, 99)</td>
<td>0x63  0143</td>
</tr>
<tr>
<td>&lt;</td>
<td>格式化前一个转换符所描述的参数</td>
<td>(&quot;%f和%&lt;3.2f&quot;, 99.45)</td>
<td>99.450000和99.45</td>
</tr>
<tr>
<td>$</td>
<td>被格式化的参数索引</td>
<td>(&quot;%1$d,%2$s&quot;, 99,&ldquo;abc&rdquo;)</td>
<td>99,abc</td>
</tr>
</tbody>
</table>
<p>测试用例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    String str=<span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//$使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    str=String.<span style="color:#007f7f">format</span>(<span style="color:#0ff;font-weight:bold">&#34;格式参数$的使用：%1$d,%2$s&#34;</span>, <span style="color:#ff0;font-weight:bold">99</span>,<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);           
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);                     
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//+使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;显示正负数的符号：%+d与%d%n&#34;</span>, <span style="color:#ff0;font-weight:bold">99</span>,-<span style="color:#ff0;font-weight:bold">99</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//补O使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;最牛的编号是：%03d%n&#34;</span>, <span style="color:#ff0;font-weight:bold">7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//空格使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;Tab键的效果是：% 8d%n&#34;</span>, <span style="color:#ff0;font-weight:bold">7</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//.使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;整数分组的效果是：%,d%n&#34;</span>, <span style="color:#ff0;font-weight:bold">9989997</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//空格和小数点后面个数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;一本书的价格是：% 50.5f元%n&#34;</span>, <span style="color:#ff0;font-weight:bold">49.8</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>格式参数$的使用：99,abc
</span></span><span style="display:flex;"><span>显示正负数的符号：+99与-99
</span></span><span style="display:flex;"><span>最牛的编号是：007
</span></span><span style="display:flex;"><span>Tab键的效果是：       7
</span></span><span style="display:flex;"><span>整数分组的效果是：9,989,997
</span></span><span style="display:flex;"><span>一本书的价格是：  49.80000元
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="日期和事件字符串格式化">日期和事件字符串格式化<a hidden class="anchor" aria-hidden="true" href="#日期和事件字符串格式化">#</a></h2>
<p>在程序界面中经常需要显示时间和日期，但是其显示的格式经常不尽人意，需要编写大量的代码经过各种算法才得到理想的日期与时间格式。
字符串格式中还有%tx转换符没有详细介绍，它是专门用来格式化日期和时 间的。%tx转换符中的x代表另外的处理日期和时间格式的转换符，它们的组合能够将日期和时间格式化成多种格式。</p>
<table>
<thead>
<tr>
<th>转换符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>c</td>
<td>包括全部日期和时间信息</td>
<td>星期六 十月 27 14:21:20 CST 2007</td>
</tr>
<tr>
<td>F</td>
<td>“年-月-日”格式</td>
<td>2007-10-27</td>
</tr>
<tr>
<td>D</td>
<td>“月/日/年”格式</td>
<td>10/27/07</td>
</tr>
<tr>
<td>r</td>
<td>“HH:MM:SS PM”格式（12时制）</td>
<td>02:25:51 下午</td>
</tr>
<tr>
<td>T</td>
<td>“HH:MM:SS”格式（24时制）</td>
<td>14:28:16</td>
</tr>
<tr>
<td>R</td>
<td>“HH:MM”格式（24时制）</td>
<td>14:28</td>
</tr>
</tbody>
</table>
<p>测试用例：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    Date date=<span style="color:#fff;font-weight:bold">new</span> Date();                                
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//c的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;全部日期和时间信息：%tc%n&#34;</span>,date);        
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//f的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;年-月-日格式：%tF%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//d的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;月/日/年格式：%tD%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//r的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;HH:MM:SS PM格式（12时制）：%tr%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//t的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;HH:MM:SS格式（24时制）：%tT%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//R的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;HH:MM格式（24时制）：%tR&#34;</span>,date);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>全部日期和时间信息：星期一 九月 10 10:43:36 CST 2012
</span></span><span style="display:flex;"><span>年-月-日格式：2012-09-10
</span></span><span style="display:flex;"><span>月/日/年格式：09/10/12
</span></span><span style="display:flex;"><span>HH:MM:SS PM格式（12时制）：10:43:36 上午
</span></span><span style="display:flex;"><span>HH:MM:SS格式（24时制）：10:43:36
</span></span><span style="display:flex;"><span>HH:MM格式（24时制）：10:43
</span></span></code></pre></td></tr></table>
</div>
</div><p>定义日期格式的转换符可以使日期通过指定的转换符生成新字符串。这些日期转换符如图所示。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    Date date=<span style="color:#fff;font-weight:bold">new</span> Date();                                    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//b的使用，月份简称
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    String str=String.<span style="color:#007f7f">format</span>(Locale.<span style="color:#007f7f">US</span>,<span style="color:#0ff;font-weight:bold">&#34;英文月份简称：%tb&#34;</span>,date);     
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);                                                                            
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;本地月份简称：%tb%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//B的使用，月份全称
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    str=String.<span style="color:#007f7f">format</span>(Locale.<span style="color:#007f7f">US</span>,<span style="color:#0ff;font-weight:bold">&#34;英文月份全称：%tB&#34;</span>,date);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;本地月份全称：%tB%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//a的使用，星期简称
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    str=String.<span style="color:#007f7f">format</span>(Locale.<span style="color:#007f7f">US</span>,<span style="color:#0ff;font-weight:bold">&#34;英文星期的简称：%ta&#34;</span>,date);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//A的使用，星期全称
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;本地星期的简称：%tA%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//C的使用，年前两位
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;年的前两位数字（不足两位前面补0）：%tC%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//y的使用，年后两位
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;年的后两位数字（不足两位前面补0）：%ty%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//j的使用，一年的天数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;一年中的天数（即年的第几天）：%tj%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//m的使用，月份
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;两位数字的月份（不足两位前面补0）：%tm%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//d的使用，日（二位，不够补零）
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;两位数字的日（不足两位前面补0）：%td%n&#34;</span>,date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//e的使用，日（一位不补零）
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;月份的日（前面不补0）：%te&#34;</span>,date);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>英文月份简称：Sep
</span></span><span style="display:flex;"><span>本地月份简称：九月
</span></span><span style="display:flex;"><span>英文月份全称：September
</span></span><span style="display:flex;"><span>本地月份全称：九月
</span></span><span style="display:flex;"><span>英文星期的简称：Mon
</span></span><span style="display:flex;"><span>本地星期的简称：星期一
</span></span><span style="display:flex;"><span>年的前两位数字（不足两位前面补0）：20
</span></span><span style="display:flex;"><span>年的后两位数字（不足两位前面补0）：12
</span></span><span style="display:flex;"><span>一年中的天数（即年的第几天）：254
</span></span><span style="display:flex;"><span>两位数字的月份（不足两位前面补0）：09
</span></span><span style="display:flex;"><span>两位数字的日（不足两位前面补0）：10
</span></span><span style="display:flex;"><span>月份的日（前面不补0）：10
</span></span></code></pre></td></tr></table>
</div>
</div><p>和日期格式转换符相比，时间格式的转换符要更多、更精确。它可以将时间格式化成时、分、秒甚至时毫秒等单位。格式化时间字符串的转换符如图所示。</p>
<table>
<thead>
<tr>
<th>转换符</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>2位数字24时制的小时（不足2位前面补0）</td>
<td>15</td>
</tr>
<tr>
<td>I</td>
<td>2位数字12时制的小时（不足2位前面补0）</td>
<td>03</td>
</tr>
<tr>
<td>k</td>
<td>2位数字24时制的小时（前面不补0）</td>
<td>15</td>
</tr>
<tr>
<td>I</td>
<td>2位数字12时制的小时（前面不补0）</td>
<td>3</td>
</tr>
<tr>
<td>M</td>
<td>2位数字的分钟（不足2位前面补0）</td>
<td>03</td>
</tr>
<tr>
<td>S</td>
<td>2位数字的秒（不足2位前面补0）</td>
<td>09</td>
</tr>
<tr>
<td>L</td>
<td>3位数字的毫秒（不足3位前面补0）</td>
<td>015</td>
</tr>
<tr>
<td>N</td>
<td>9位数字的毫秒数（不足9位前面补0）</td>
<td>562000000</td>
</tr>
<tr>
<td>p</td>
<td>小写字母的上午或下午标记</td>
<td>中：下午  英：pm</td>
</tr>
<tr>
<td>z</td>
<td>相对于GMT的RFC822时区的偏移量</td>
<td>+0800</td>
</tr>
<tr>
<td>Z</td>
<td>时区缩写字符串</td>
<td>CST</td>
</tr>
<tr>
<td>s</td>
<td>1970-1-1 00:00:00 到现在所经过的秒数</td>
<td>1193468128</td>
</tr>
<tr>
<td>Q</td>
<td>1970-1-1 00:00:00 到现在所经过的毫秒数</td>
<td>1193468128984</td>
</tr>
</tbody>
</table>
<p>测试代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    Date date = <span style="color:#fff;font-weight:bold">new</span> Date();
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//H的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字24时制的小时（不足2位前面补0）:%tH%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//I的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字12时制的小时（不足2位前面补0）:%tI%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//k的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字24时制的小时（前面不补0）:%tk%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//l的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字12时制的小时（前面不补0）:%tl%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//M的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字的分钟（不足2位前面补0）:%tM%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//S的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;2位数字的秒（不足2位前面补0）:%tS%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//L的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;3位数字的毫秒（不足3位前面补0）:%tL%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//N的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;9位数字的毫秒数（不足9位前面补0）:%tN%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//p的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    String str = String.<span style="color:#007f7f">format</span>(Locale.<span style="color:#007f7f">US</span>, <span style="color:#0ff;font-weight:bold">&#34;小写字母的上午或下午标记(英)：%tp&#34;</span>, date);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str); 
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;小写字母的上午或下午标记（中）：%tp%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//z的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;相对于GMT的RFC822时区的偏移量:%tz%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//Z的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;时区缩写字符串:%tZ%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//s的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;1970-1-1 00:00:00 到现在所经过的秒数：%ts%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//Q的使用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;1970-1-1 00:00:00 到现在所经过的毫秒数：%tQ%n&#34;</span>, date);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>2位数字24时制的小时（不足2位前面补0）:11
</span></span><span style="display:flex;"><span>2位数字12时制的小时（不足2位前面补0）:11
</span></span><span style="display:flex;"><span>2位数字24时制的小时（前面不补0）:11
</span></span><span style="display:flex;"><span>2位数字12时制的小时（前面不补0）:11
</span></span><span style="display:flex;"><span>2位数字的分钟（不足2位前面补0）:03
</span></span><span style="display:flex;"><span>2位数字的秒（不足2位前面补0）:52
</span></span><span style="display:flex;"><span>3位数字的毫秒（不足3位前面补0）:773
</span></span><span style="display:flex;"><span>9位数字的毫秒数（不足9位前面补0）:773000000
</span></span><span style="display:flex;"><span>小写字母的上午或下午标记(英)：am
</span></span><span style="display:flex;"><span>小写字母的上午或下午标记（中）：上午
</span></span><span style="display:flex;"><span>相对于GMT的RFC822时区的偏移量:+0800
</span></span><span style="display:flex;"><span>时区缩写字符串:CST
</span></span><span style="display:flex;"><span>1970-1-1 00:00:00 到现在所经过的秒数：1347246232
</span></span><span style="display:flex;"><span>1970-1-1 00:00:00 到现在所经过的毫秒数：1347246232773
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://blog.csdn.net/lonely_fireworks/article/details/7962171">参考</a>
<a href="https://blog.csdn.net/wuxiushu/article/details/51603436">参考</a></p>
<h1 id="string和new-string的区别">string和new string的区别<a hidden class="anchor" aria-hidden="true" href="#string和new-string的区别">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>String str1 = &quot;ABC&quot;;</code>可能创建一个对象或者不创建对象。
如果&quot;ABC&quot; 这个字符串在java String池中不存在，会在java String池中创建一个<code>String str1= &quot;ABC&quot;</code>的对象。然后把str1指向这个内存地址。之后用这种方式创建多少个值为&quot;ABC&quot;的字符串对象。始终只有一个内存地址被分配，之后都是String的copy。这种被称为<code>字符串驻留</code>，所有的字符串都会在编译之后自动驻留。</p>
<p><code>String str2 = new String(&quot;ABC&quot;);</code>至少会创建一个对象，也可能2个。
因为用到了new的关键字，肯定会在heap中创建一个str2的对象。它的value值是&quot;ABC&quot;，同时如果这个字符串在string池中不存在，会在string池中创建这个string对象&quot;ABC&quot;。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>);
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1.<span style="color:#007f7f">equals</span>(str2)); <span style="color:#007f7f">// true，比较的值
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1 == str2); <span style="color:#007f7f">// false，比较的是内存地址
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>String str3 = <span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>;
</span></span><span style="display:flex;"><span>String str4 = <span style="color:#0ff;font-weight:bold">&#34;ABC&#34;</span>;
</span></span><span style="display:flex;"><span>String str5 = <span style="color:#0ff;font-weight:bold">&#34;AB&#34;</span>+<span style="color:#0ff;font-weight:bold">&#34;C&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str3 == str4); <span style="color:#007f7f">//true 在string池中都是一个内存地址被分配给str3，str4，str5
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str3 == str5); <span style="color:#007f7f">//true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>String str6 = <span style="color:#0ff;font-weight:bold">&#34;AB&#34;</span>;
</span></span><span style="display:flex;"><span>String str7 = str6 + <span style="color:#0ff;font-weight:bold">&#34;C&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str3 == str7); <span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// str6在编译的时候已经确认为string池的对象。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// str7在编译的时候不能确认，故str7是一个引用变量。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// str6+&#34;C&#34;的过程是创建了一个StringBuffer对象，然后用StringBuffer对象执行append方法追加，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// 最后再转成String类型，也就是str7是放在heap里面的对象，str6是放在String常量池里的。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// 两个的内存地址不一样。故结果为false。
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>总结：
相等的字符串字面量将会指向相同的字符串对象（甚至是在不同包的不同类中）。总之，字符串字面量不会被垃圾回收。绝对不会。在运行时创建的字符串和由字符串字面量创建的是两个不同的对象。对于运行时创建的字符串你可以通过intern()方法来重用字符串字面量，使用equals()方法是比较两个字符串是否相等的最好方式。</p>
<p><a href="https://www.cnblogs.com/justcooooode/p/7670256.html">参考</a></p>
<h1 id="string长度有限制吗是多少">String长度有限制吗？是多少？<a hidden class="anchor" aria-hidden="true" href="#string长度有限制吗是多少">#</a></h1>
<p>String类中有很多重载的构造函数，其中有几个是支持用户传入length来指定长度的：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String(<span style="color:#fff;font-weight:bold">byte</span> bytes[], <span style="color:#fff;font-weight:bold">int</span> offset, <span style="color:#fff;font-weight:bold">int</span> length) 
</span></span></code></pre></td></tr></table>
</div>
</div><p>可以看到，这里面的参数length是使用int类型定义的，那么也就是说，String定义的时候，最大支持的长度就是int的最大范围值。根据Integer类的定义：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">Integer</span><span style="color:#f00">#</span>MAX_VALUE<span style="color:#f00">的最大值是</span><span style="color:#ff0;font-weight:bold">2</span>^<span style="color:#ff0;font-weight:bold">31</span> - <span style="color:#ff0;font-weight:bold">1</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>那么，我们是不是就可以认为String能支持的最大长度就是这个值了呢？</p>
<p>其实并不是，这个值只是在运行期，我们构造String的时候可以支持的一个最大长度，而实际上在运行期，定义字符串的时候也是有长度限制的。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//有10万个字符&#34;1&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s = <span style="color:#0ff;font-weight:bold">&#34;11111...1111&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>这种定义方式被称为字面量，这种字面量在编译之后会以常量的形式进入到Class常量池。因为要进入常量池，就要遵守常量池的有关规定。</p>
<p>我们可以使用IO流生成Java文件，文件的内容就是声明一个String对象，然后使用字面常量赋值，根据动态编译结果，调整字面常量的长度，最后得出字面常量的最大长度值。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.BufferedWriter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.FileWriter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.OutputStream;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> javax.tools.JavaCompiler;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> javax.tools.ToolProvider;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> LiteralLength {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        String fileName = <span style="color:#0ff;font-weight:bold">&#34;D:/Literal.java&#34;</span>;
</span></span><span style="display:flex;"><span>        StringBuilder prefix = <span style="color:#fff;font-weight:bold">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>        prefix.<span style="color:#007f7f">append</span>(<span style="color:#0ff;font-weight:bold">&#34;public class Literal{ String s = \&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> low = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> high = <span style="color:#ff0;font-weight:bold">100_0000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> mid = (low + high)/<span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span>        StringBuilder literal = <span style="color:#fff;font-weight:bold">new</span> StringBuilder(high);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> result;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String ch = <span style="color:#0ff;font-weight:bold">&#34;A&#34;</span>;
</span></span><span style="display:flex;"><span>        JavaCompiler compiler = ToolProvider.<span style="color:#007f7f">getSystemJavaCompiler</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//自定义错误输出流  取代System的err
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        OutputStream err = <span style="color:#fff;font-weight:bold">new</span> OutputStream() {
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> write(<span style="color:#fff;font-weight:bold">int</span> b) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> max = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; mid; i++) {
</span></span><span style="display:flex;"><span>            literal.<span style="color:#007f7f">append</span>(ch);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span>(low &lt;= high){
</span></span><span style="display:flex;"><span>            StringBuilder fileContent 
</span></span><span style="display:flex;"><span>                = <span style="color:#fff;font-weight:bold">new</span> StringBuilder(literal.<span style="color:#007f7f">length</span>() + prefix.<span style="color:#007f7f">length</span>() * <span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>            fileContent.<span style="color:#007f7f">append</span>(prefix);
</span></span><span style="display:flex;"><span>            fileContent.<span style="color:#007f7f">append</span>(literal);
</span></span><span style="display:flex;"><span>            fileContent.<span style="color:#007f7f">append</span>(<span style="color:#0ff;font-weight:bold">&#34;\&#34;;}&#34;</span>);
</span></span><span style="display:flex;"><span>            FileWriter w = <span style="color:#fff;font-weight:bold">new</span> FileWriter(fileName);
</span></span><span style="display:flex;"><span>            BufferedWriter bw = <span style="color:#fff;font-weight:bold">new</span> BufferedWriter(w);
</span></span><span style="display:flex;"><span>            bw.<span style="color:#007f7f">write</span>(fileContent.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>            bw.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>            w.<span style="color:#007f7f">close</span>();<span style="color:#007f7f">//生成java文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            result = compiler.<span style="color:#007f7f">run</span>(<span style="color:#fff;font-weight:bold">null</span>, <span style="color:#fff;font-weight:bold">null</span>, err, fileName);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//代码点的数量
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">int</span> codePointCount = literal.<span style="color:#007f7f">codePointCount</span>(<span style="color:#ff0;font-weight:bold">0</span>, literal.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(result == <span style="color:#ff0;font-weight:bold">0</span>){<span style="color:#007f7f">//0表示没有编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                low = mid + <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>                mid = (low + high)/<span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span>                max = codePointCount;
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = codePointCount; i &lt; mid; i++) {
</span></span><span style="display:flex;"><span>                    literal.<span style="color:#007f7f">append</span>(ch);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;长度&#34;</span> + max 
</span></span><span style="display:flex;"><span>                                   + <span style="color:#0ff;font-weight:bold">&#34;编译成功，增加长度至&#34;</span> + mid);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }<span style="color:#fff;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//编译错误，说明字面量太长
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>                high = mid - <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>                mid = (low + high)/<span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">err</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;长度&#34;</span> + codePointCount 
</span></span><span style="display:flex;"><span>                                   + <span style="color:#0ff;font-weight:bold">&#34;编译失败，减少长度至&#34;</span> + mid);
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">int</span> start = ch.<span style="color:#007f7f">length</span>() == <span style="color:#ff0;font-weight:bold">1</span>? mid : mid *<span style="color:#ff0;font-weight:bold">2</span>;
</span></span><span style="display:flex;"><span>                literal.<span style="color:#007f7f">delete</span>(start, literal.<span style="color:#007f7f">length</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        err.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;最大字面量长度：&#34;</span> + max);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>最大字面量长度：65534
修改代码
<code>String ch = &quot;α&quot;;</code>
结论 ： 最大字面量长度：32767</p>
<p>修改代码
<code>String ch = &quot;字&quot;;</code>
最大字面量长度：21845</p>
<p>javac是将Java文件编译成class文件的一个命令，那么在Class文件生成过程中，就需要遵守一定的格式。根据《Java虚拟机规范》中第4.4章节常量池的定义，CONSTANT_String_info 用于表示 java.lang.String类型的常量对象，格式如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CONSTANT_String_info {
</span></span><span style="display:flex;"><span>    u1 tag;
</span></span><span style="display:flex;"><span>    u2 string_index;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，string_index 项的值必须是对常量池的有效索引， 常量池在该索引处的项必须是
CONSTANT_Utf8_info 结构，表示一组 Unicode 码点序列，这组 Unicode 码点序列最终会被初始化为一个 String 对象。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CONSTANT_Utf8_info {
</span></span><span style="display:flex;"><span>    u1 tag;
</span></span><span style="display:flex;"><span>    u2 length;
</span></span><span style="display:flex;"><span>    u1 bytes[length];
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，length则指明了 bytes[]数组的长度，其类型为u2。
通过翻阅《规范》，我们可以获悉。u2表示两个字节的无符号数，那么1个字节有8位，2个字节就有16位。
16位无符号数可表示的最大值位2^16 - 1= 65535。
也就是说，Class文件中常量池的格式规定了，其字符串常量的长度不能超过65535。
那么，我们尝试使用以下方式定义字符串：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//其中有65535万个字符&#34;1&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s = <span style="color:#0ff;font-weight:bold">&#34;11111...1111&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>尝试使用javac编译，同样会得到<code>&quot;错误: 常量字符串过长&quot;</code>，那么原因是什么呢？
其实，这个原因在javac的代码中是可以找到的，在Gen类中有如下代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> checkStringConstant(DiagnosticPosition var1, Object var2) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">nerrs</span> == <span style="color:#ff0;font-weight:bold">0</span> &amp;&amp; var2 != <span style="color:#fff;font-weight:bold">null</span> &amp;&amp; var2 <span style="color:#fff;font-weight:bold">instanceof</span> String 
</span></span><span style="display:flex;"><span>        &amp;&amp; ((String)var2).<span style="color:#007f7f">length</span>() &gt;= <span style="color:#ff0;font-weight:bold">65535</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">log</span>.<span style="color:#007f7f">error</span>(var1, <span style="color:#0ff;font-weight:bold">&#34;limit.string&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Object[<span style="color:#ff0;font-weight:bold">0</span>]);
</span></span><span style="display:flex;"><span>        ++<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">nerrs</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>代码中可以看出，当参数类型为String，并且长度大于等于65535的时候，就会导致编译失败。
如果我们尝试以65534个字符定义字符串，则会发现可以正常编译。</p>
<p>上面提到的这种String长度的限制是编译期的限制，也就是使用<code>String s=&quot;abc&quot;</code>这种字面量方式定义的时候才会有的限制。那么。String在运行期有没有限制呢，答案是有的，就是我们前文提到的那个<code>Integer.MAX_VALUE</code>，这个值约等于4G，在运行期，如果String的长度超过这个范围，就可能会抛出异常。(在jdk 1.9之前）int是一个 32 位变量类型，取正数部分来算的话，他们最长可以有近 4G 的容量。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>2^31-1 =2147483647 个 16-bit Unicodecharacter
</span></span><span style="display:flex;"><span>2147483647 * 16 = 34359738352 位
</span></span><span style="display:flex;"><span>34359738352 / 8 = 4294967294 (Byte)
</span></span><span style="display:flex;"><span>4294967294 / 1024 = 4194303.998046875 (KB)
</span></span><span style="display:flex;"><span>4194303.998046875 / 1024 = 4095.9999980926513671875 (MB)
</span></span><span style="display:flex;"><span>4095.9999980926513671875 / 1024 = 3.99999999813735485076904296875 (GB)
</span></span></code></pre></td></tr></table>
</div>
</div><p>很多人会有疑惑，编译的时候最大长度都要求小于65535了，运行期怎么会出现大于65535的情况呢。这其实很常见，如以下代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt;<span style="color:#ff0;font-weight:bold">100000</span> ; i++) {
</span></span><span style="display:flex;"><span>    s += <span style="color:#0ff;font-weight:bold">&#34;i&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>得到的字符串长度就有10万。
另外我之前在实际应用中遇到过这个问题。之前一次系统对接，需要传输高清图片，约定的传输方式是对方将图片转成BASE6编码，我们接收到之后再转成图片。在将BASE64编码后的内容赋值给字符串的时候就抛了异常。</p>
<p>结论：字符串有长度限制。</p>
<ul>
<li>在编译期，要求字符串常量池中的常量不能超过65535，并且在javac执行过程中控制了最大值为65534。</li>
<li>在运行期，长度不能超过Int的范围，否则会抛异常。</li>
</ul>
<h1 id="深入理解string">深入理解String<a hidden class="anchor" aria-hidden="true" href="#深入理解string">#</a></h1>
<h2 id="java内存模型">Java内存模型<a hidden class="anchor" aria-hidden="true" href="#java内存模型">#</a></h2>
<p>Java 虚拟机具有一个堆，堆是运行时数据区域，所有类实例和数组的内存均从此处分配。
JVM主要管理两种类型内存：堆和非堆，堆内存（Heap Memory）是在 Java 虚拟机启动时创建，非堆内存(Non-heap Memory)是在JVM堆之外的内存。</p>
<p>简单来说，非堆包含方法区、JVM内部处理或优化所需的内存（如 JITCompiler，Just-in-time Compiler，即时编译后的代码缓存）、每个类结构（如运行时常数池、字段和方法数据）、方法构造方法的代码。</p>
<p>Java的堆是一个运行时数据区，类的对象从中分配空间。这些对象通过new、newarray、 anewarray和multianewarray等指令建立，它们不需要程序代码来显式的释放。堆是由垃圾回收来负责的，堆的优势是可以动态地分配内存大小，生存期也不必事先告诉编译器，因为它是在运行时动态分配内存的，Java的垃圾收集器会自动收走这些不再使用的数据。但缺点是，由于要在运行时动态分配内存，存取速度较慢。</p>
<p>栈的优势是，存取速度比堆要快，仅次于寄存器，栈数据可以共享。但缺点是，存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。栈中主要存放一些基本类型的变量数据（int, short, long, byte, float,double, boolean, char）和对象句柄(引用)。</p>
<p>虚拟机必须为每个被装载的类型维护一个常量池。常量池就是该类型所用到常量的一个有序集合，包括直接常量（string,integer和 floating point常量）和对其他类型，字段和方法的符号引用。</p>
<p>对于String常量，它的值是在常量池中的。而JVM中的常量池在内存当中是以表的形式存在的， 对于String类型，有一张固定长度的CONSTANT_String_info表用来存储文字字符串值，注意：该表只存储文字字符串值，不存储符号引用。说到这里，对常量池中的字符串值的存储位置应该有一个比较明了的理解了。</p>
<p>在程序执行的时候，常量池会储存在方法区(Method Area)，而不是堆中。常量池中保存着很多String对象；以被共享使用，因此它提高了效率。</p>
<h2 id="代码示例">代码示例<a hidden class="anchor" aria-hidden="true" href="#代码示例">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">85
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 情景一：字符串池
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * JAVA虚拟机(JVM)中存在着一个字符串池，其中保存着很多String对象; 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 并且可以被共享使用，因此它提高了效率。 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 由于String类是final的，它的值一经创建就不可改变。 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 字符串池由String类维护，我们可以调用intern()方法来访问字符串池。  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//在字符串池创建了一个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s1 = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//字符串池已经存在对象“abc”(共享)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s2 = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true 指向同一个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1 == s2 : &#34;</span> + (s1 == s2));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true  值相等
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1.equals(s2) : &#34;</span> + (s1.<span style="color:#007f7f">equals</span>(s2)));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 情景二：关于new String(&#34;&#34;) 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span> 
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//创建了两个对象，一个存放在字符串池中，一个存在与堆区中，还有一个对象引用s3存放在栈中
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s3 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//字符串池中已经存在“abc”对象，所以只在堆中创建了一个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s4 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false，s3和s4栈区的地址不同，指向堆区的不同地址
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s3 == s4 : &#34;</span> + (s3 == s4));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true，s3和s4的值相同
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s3.equals(s4) : &#34;</span> + (s3.<span style="color:#007f7f">equals</span>(s4)));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false 存放的地区不同，一个栈区，一个堆区
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1 == s3 : &#34;</span> + (s1 == s3));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true 值相同
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1.equals(s3) : &#34;</span> + (s1.<span style="color:#007f7f">equals</span>(s3)));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 情景三：  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 由于常量的值在编译的时候就被确定(优化)了。 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 在这里，&#34;ab&#34;和&#34;cd&#34;都是常量，因此变量str3的值在编译时就可以确定。 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 这行代码编译后的效果等同于： String str3 = &#34;abcd&#34;; 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;cd&#34;</span>;  <span style="color:#007f7f">//1个对象  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str11 = <span style="color:#0ff;font-weight:bold">&#34;abcd&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;str1 = str11 : &#34;</span> + (str1 == str11));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 情景四：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 局部变量str2,str3存储的是存储两个拘留字符串对象(intern字符串对象)的地址。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 第三行代码原理(str2+str3)：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 运行期JVM首先会在堆中创建一个StringBuilder类，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 同时用str2指向的拘留字符串对象完成初始化，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 然后调用append方法完成对str3所指向的拘留字符串的合并，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 接着调用StringBuilder的toString()方法在堆中创建一个String对象，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 最后将刚生成的String对象的堆地址存放在局部变量str4中。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 而str5存储的是字符串池中&#34;abcd&#34;所对应的拘留字符串对象的地址。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * str4与str5地址当然不一样了。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 内存中实际上有五个字符串对象：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 三个拘留字符串对象、一个String对象和一个StringBuilder对象。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>;  <span style="color:#007f7f">//1个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str3 = <span style="color:#0ff;font-weight:bold">&#34;cd&#34;</span>;  <span style="color:#007f7f">//1个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str4 = str2 + str3;
</span></span><span style="display:flex;"><span>String str5 = <span style="color:#0ff;font-weight:bold">&#34;abcd&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;str4 = str5 : &#34;</span> + (str4 == str5)); <span style="color:#007f7f">// false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 情景五：
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * JAVA编译器对string + 基本类型/常量 是当成常量表达式直接求值来优化的。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 运行期的两个string相加，会产生新的对象的，存储在堆(heap)中
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>String str6 = <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>;
</span></span><span style="display:flex;"><span>String str7 = <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span> + str6;
</span></span><span style="display:flex;"><span>String str67 = <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false str6为变量，在运行期才会被解析
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;str7 = str67 : &#34;</span> + (str7 == str67));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">final</span> String str8 = <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>;
</span></span><span style="display:flex;"><span>String str9 = <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span> + str8;
</span></span><span style="display:flex;"><span>String str89 = <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true str8为常量变量，编译期会被优化
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;str9 = str89 : &#34;</span> + (str9 == str89));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="stringintern">String.intern()<a hidden class="anchor" aria-hidden="true" href="#stringintern">#</a></h2>
<p>intern()方法设计的初衷，就是重用String对象，以节省内存消耗。</p>
<p>存在于.class文件中的常量池，在运行期被JVM装载，并且可以扩充。String的 intern()方法就是扩充常量池的一个方法。当一个String实例调用intern()方法时，jvm 会查找常量池中是否有相同Unicode的字符串常量，如果有，则返回常量池中的引用。如果没有，</p>
<ul>
<li>jdk1.7之前，在常量池中增加一个Unicode等于str的字符串，并返回它的引用</li>
<li>jdk1.7之后，在常量池生成一个对原字符串的引用</li>
</ul>
<p>简单的说，就是往常量池放的东西变了：原来在常量池中找不到时，复制一个副本放到常量池，1.7后则是将在堆上的地址引用复制到常量池。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;str&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;01&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//在JDK 1.7下，当执行str2.intern();时，因为常量池中没有“str01”这个字符串，所以会在常量池中生成一个对堆中的“str01”的引用(注意这里是引用)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>str2.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//字面量赋值,常量池中已经存在一个&#34;str01&#34;的引用，所以直接返回了该引用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;str01&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//因此str1和str2都指向堆中的同一个字符串，true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str2 == str1);
</span></span></code></pre></td></tr></table>
</div>
</div><p>下面调整<code>str2.intern()</code>位置</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;str&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;01&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//字面量赋值,常量池中不存在&#34;str01&#34;,所以在常量池生成&#34;str01&#34;,并返回引用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;str01&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//常量池已经存在&#34;str01&#34;，所以此处返回的是，&#34;str01&#34;在常量池中的引用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str3 = str2.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//str1在常量池中，str2在堆区，false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str2 == str1);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//str1在常量池，str3也是常量池，true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1 == str3);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//str2在堆区，str3在常量池，false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str2 == str3);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="理解1">理解1<a hidden class="anchor" aria-hidden="true" href="#理解1">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//生成了常量池中的“1” 和堆空间中的字符串对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//s对象去常量池中寻找后发现&#34;1&#34;已经存在于常量池中了
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//生成一个s2的引用指向常量池中的“1”对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s2 = <span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s == s2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//在字符串常量池中生成“1” ，并在堆空间中生成s3引用指向的对象（内容为&#34;11&#34;），注意此时常量池中是没有 “11”对象的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s3 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//将s3中的“11”字符串放入 String 常量池中，此时常量池中不存在“11”字符串，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//1.7之后，常量池直接存储堆中&#34;11&#34;的引用，这个引用指向s3
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s3.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//jvm去常量池中找&#34;11&#34;字符串，虽然没有找到&#34;11&#34;字符串，但是找到了&#34;11&#34;字符串在堆中的引用，于是，将堆中&#34;11&#34;的引用，又指向了s4
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s4 = <span style="color:#0ff;font-weight:bold">&#34;11&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true s3和s4是一个引用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s3 == s4);
</span></span></code></pre></td></tr></table>
</div>
</div><p>调整intern()的位置</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//生成了常量池中的“1” 和堆空间中的字符串对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//jvm发现常量池中已经存在&#34;1&#34;对象，于是将s2指向了它
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s2 = <span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//这一步没作用，因为常量池已经存在&#34;1&#34;了，就不会将堆中&#34;1&#34;的引用放到常量池了
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//s的引用地址是堆，s2是常量池，false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s == s2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//在字符串常量池中生成“1” ，并在堆空间中生成s3引用指向的对象（内容为&#34;11&#34;），注意此时常量池中是没有 “11”对象的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s3 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//在常量池生成&#34;11&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String s4 = <span style="color:#0ff;font-weight:bold">&#34;11&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//这一步没作用，因为常量池已经存在&#34;11&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s3.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//s3的引用地址是堆，s4的引用地址是常量池，false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s3 == s4);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="理解2">理解2<a hidden class="anchor" aria-hidden="true" href="#理解2">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//在字符串常量池中生成&#34;a&#34;和&#34;b&#34; ，并在堆空间中生成 str1 引用指向的对象（内容为&#34;ab&#34;），注意此时常量池中是没有&#34;ab&#34;对象的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str1 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//str1.intern() 发现常量池中不存在&#34;ab&#34;，于是将堆中str1的引用存入常量池，所以 true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1.<span style="color:#007f7f">intern</span>() == str1);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//&#34;ab&#34;会去常量池创建&#34;ab&#34;，但是发现常量池已经存在&#34;ab&#34;的引用，于是&#34;ab&#34;指向str1，所以 true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1 == <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>加一行代码</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//新加的一行代码，其余不变
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//str2先在常量池中创建了&#34;ab&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str2 = <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>;
</span></span><span style="display:flex;"><span>String str1 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>) + <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//str1.intern()发现常量池存在&#34;ab&#34;，所以str1.intern()的指向是str2，所以 false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1.<span style="color:#007f7f">intern</span>() == str1);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//&#34;ab&#34;去常量池找，发现已经存在，所以&#34;ab&#34;和str2指向的都是常量池中的&#34;ab&#34;，所以 false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1 == <span style="color:#0ff;font-weight:bold">&#34;ab&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="理解3">理解3<a hidden class="anchor" aria-hidden="true" href="#理解3">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s0 = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span>String s1 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);
</span></span><span style="display:flex;"><span>String s2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>( s0 == s1 ); <span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//虽然执行了s1.intern(),但它的返回值没有赋给s1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s1.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//把常量池中&#34;abc&#34;的引用赋给s2
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>s2 = s2.<span style="color:#007f7f">intern</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>( s0 == s1);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true 说明s1.intern()返回的是常量池中&#34;abc&#34;的引用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>( s0 == s1.<span style="color:#007f7f">intern</span>() );
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>( s0 == s2 );
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="string的--和-equals">String的 == 和 equals()<a hidden class="anchor" aria-hidden="true" href="#string的--和-equals">#</a></h2>
<p>java中有8种基本数据类型：
byte、short、char、int、long、float、double、boolean
它们之间的比较应该使用 ==，比较的是它们的值。</p>
<p>除了基本数据类型，其它都是引用数据类型。
引用数据类型的 ==，比较的是它们在内存中的地址。
引用数据类型的 equals()，equals()初始行为是，比较对象在堆内存中的地址，但在String、Integer等类中，重写了equals()方法，比较的是值是否相同。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String s1 = <span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>;
</span></span><span style="display:flex;"><span>String s2 = <span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>;
</span></span><span style="display:flex;"><span>String s3 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true s1和s2都指向常量池中的&#34;Hello&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1 == s2);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//true s1和s2的内容是相同的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1.<span style="color:#007f7f">equals</span>(s2));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//false s1指向常量池，s3指向堆区
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1 == s3);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//s1和s3的内容是相同的
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1.<span style="color:#007f7f">equals</span>(s3));
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>String s3 = new String(&quot;Hello&quot;);</code></p>
<p>每次都会在堆中创建一个新的对象，然后检查常量池是否存在 Hello，存在将堆中的对象的引用指向它，不存在就先在常量池创建&quot;Hello&quot;，然后指向。因此这段代码会产生一个或者两个对象。</p>
<p><code>String str = &quot;abc&quot;;</code>
jvm先去常量池找有没有&quot;abc&quot;，有则将str指向常量池的&quot;abc&quot;，没有则先创建，再指向。</p>
<p>为什么Java中1000 == 1000为false，而100 == 100为true？</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer i1 = <span style="color:#ff0;font-weight:bold">100</span>,i2 = <span style="color:#ff0;font-weight:bold">100</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(i1==i2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Integer i3 = <span style="color:#ff0;font-weight:bold">1000</span>,i4 = <span style="color:#ff0;font-weight:bold">1000</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(i3==i4);
</span></span></code></pre></td></tr></table>
</div>
</div><p>查看<code>Integer.java</code>类，会发现有一个内部私有类，IntegerCache.java，它缓存了从-128到127之间的所有的整数对象，所以例子中i1和i2指向了一个对象。因此100 == 100为true。</p>
<h2 id="总结">总结<a hidden class="anchor" aria-hidden="true" href="#总结">#</a></h2>
<h3 id="string初始化后是不可变的immutable">String初始化后是不可变的（immutable）<a hidden class="anchor" aria-hidden="true" href="#string初始化后是不可变的immutable">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">//jvm去常量池找&#34;a&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//找到-&gt;把str的引用指向&#34;a&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//未找到-&gt;jvm在常量池创建一个&#34;a&#34;，再把str的引用指向&#34;a&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>String str = <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//先去常量池找b，
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//找到-&gt;将str的引用指向&#34;b&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//未找到-&gt;jvm在常量池创建一个&#34;b&#34;，再把str的引用指向&#34;b&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>str = <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//输出 b
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(a);
</span></span></code></pre></td></tr></table>
</div>
</div><p>改变的只是对象的引用地址，并不是字符串。</p>
<p>比如说
<code>Object obj = new Object();</code>
有人称 obj 为对象，其实obj不是对象，他只是一个变量，然后这个变量里保存一个Object对象的引用地址罢了。</p>
<p>String 为什么是不可变的？</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">class</span> String <span style="color:#fff;font-weight:bold">implements</span> java.<span style="color:#007f7f">io</span>.<span style="color:#007f7f">Serializable</span>, Comparable&lt;String&gt;, CharSequence {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">char</span> value[];
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">value</span> = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String(String original) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">value</span> = original.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">hash</span> = original.<span style="color:#007f7f">hash</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String(<span style="color:#fff;font-weight:bold">char</span> value[]) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">value</span> = Arrays.<span style="color:#007f7f">copyOf</span>(value, value.<span style="color:#007f7f">length</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}   
</span></span></code></pre></td></tr></table>
</div>
</div><p>String 类中使用 <code>final</code> 关键字字符数组保存字符串。</p>
<ul>
<li>
<p>当final修饰一个基本数据类型时，表示该基本数据类型的值一旦在初始化后便不能发生变化。</p>
</li>
<li>
<p>final修饰一个引用类型时，则在对其初始化之后便不能再让其指向其他对象了，但该引用所指向的对象的内容是可以发生变化的。</p>
</li>
<li>
<p>final修饰一个成员变量（属性），必须要显示初始化。</p>
</li>
</ul>
<p>通过查看String的源码发现，无论是concat、replace、substring还是trim方法的操作都不是在原有的字符串上进行的，而是重新生成了一个新的字符串对象。也就是说进行这些操作后，最原始的字符串并没有被改变。</p>
<p>String对象一旦被创建就是固定不变的了，对String对象的任何改变都不影响到原对象，相关的任何变化性的操作都会生成新的对象。String对象每次有变化性操作的时候，都会从新new一个String对象（这里指的是有变化的情况）。</p>
<h3 id="string中的final">String中的final<a hidden class="anchor" aria-hidden="true" href="#string中的final">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">final</span> StringBuffer a = <span style="color:#fff;font-weight:bold">new</span> StringBuffer(<span style="color:#0ff;font-weight:bold">&#34;111&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">final</span> StringBuffer b = <span style="color:#fff;font-weight:bold">new</span> StringBuffer(<span style="color:#0ff;font-weight:bold">&#34;222&#34;</span>);
</span></span><span style="display:flex;"><span>a = b;<span style="color:#007f7f">//编译不通过
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>a.<span style="color:#007f7f">append</span>(<span style="color:#0ff;font-weight:bold">&#34;222&#34;</span>);<span style="color:#007f7f">// 编译通过
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>可见，final只对引用的&quot;值&quot;（即内存地址）有效，它迫使引用只能指向初始指向的那个对象，改变它的指向会导致编译期错误。至于它所指向的对象的变化，final是不负责的。</p>
<p>对于final字段，编译期直接进行了常量替换</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">final</span> String str1 = <span style="color:#0ff;font-weight:bold">&#34;ja&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">final</span> String str2 = <span style="color:#0ff;font-weight:bold">&#34;va&#34;</span>;
</span></span><span style="display:flex;"><span>String str3 = str1 + str2;
</span></span></code></pre></td></tr></table>
</div>
</div><p>在编译时，直接替换成了</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str3 = <span style="color:#0ff;font-weight:bold">&#34;ja&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;va&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>根据上边的规则，再替换成</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str3 = <span style="color:#0ff;font-weight:bold">&#34;java&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>而对于非final字段则是在运行期进行赋值处理的。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;ja&#34;</span>;
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#0ff;font-weight:bold">&#34;va&#34;</span>;
</span></span><span style="display:flex;"><span>String str3 = str1 + str2;
</span></span></code></pre></td></tr></table>
</div>
</div><p>代码中的字符串常量在编译的过程中收集并放在class文件的常量区中，如&quot;123&quot;、&ldquo;123&rdquo;+&ldquo;456&quot;等，含有变量的表达式不会收录，如&quot;123&rdquo;+a。</p>
<p>JVM在加载类的时候，根据常量区中的字符串生成常量池，每个字符序列如&quot;123&quot;会生成一个实例放在常量池里，这个实例不会被GC。</p>
<h3 id="string-a--123不一定创建对象"><code>String a = &quot;123&quot;</code>不一定创建对象<a hidden class="anchor" aria-hidden="true" href="#string-a--123不一定创建对象">#</a></h3>
<p>字面量方式声明string，String a = &ldquo;123&rdquo;，JVM会先在常量池中查找是否存在相同的字符串，若存在，则将栈中的引用直接指向该字符串；若不存在，则在常量池中生成一个字符串，再将栈中的引用指向该字符串。</p>
<h3 id="字符串的-">字符串的 +<a hidden class="anchor" aria-hidden="true" href="#字符串的-">#</a></h3>
<p>常量字符串的“+”操作，编译阶段直接会合成为一个字符串。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>在编译阶段会直接合并成语句</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><p>于是会去常量池中查找是否存在&quot;abc&quot;，存在引用，不存在创建并引用。</p>
<p>对于常量字符串和变量拼接</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String b = <span style="color:#0ff;font-weight:bold">&#34;456&#34;</span>;
</span></span><span style="display:flex;"><span>String a = <span style="color:#0ff;font-weight:bold">&#34;123&#34;</span> + b
</span></span></code></pre></td></tr></table>
</div>
</div><p>前半部分&quot;123&quot;还是走常量池的路线，但是这个+操作符其实是转换成<code>SringBuffer.append()</code>来实现的，所以最终a得到是一个新的实例引用，而且a的value存放的是一个新申请的字符数组内存空间的地址(存放着&quot;123456&quot;)，而此时&quot;123456&quot;在常量池中是未必存在的。</p>
<h3 id="new-string123一定创建新对象">new String(&ldquo;123&rdquo;)，一定创建新对象<a hidden class="anchor" aria-hidden="true" href="#new-string123一定创建新对象">#</a></h3>
<p><code>String a = new String(&quot;123&quot;)</code>
首先到常量池检查是否有常量&quot;123&quot;，没有则创建一个常量&quot;123&quot;，有则取到常量的引用，然后在堆上创建一个新的String实例，走以下构造函数给value属性赋值，然后把实例引用赋值给a：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String(String original) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> size = original.<span style="color:#007f7f">count</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">char</span>[] originalValue = original.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">char</span>[] v;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (originalValue.<span style="color:#007f7f">length</span> &gt; size) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// The array representing the String is bigger than the new
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// String itself.  Perhaps this constructor is being called
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// in order to trim the baggage, so make a copy of the array.
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">int</span> off = original.<span style="color:#007f7f">offset</span>;
</span></span><span style="display:flex;"><span>        v = Arrays.<span style="color:#007f7f">copyOfRange</span>(originalValue, off, off+size);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// The array representing the String is the same
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// size as the String, so no point in making a copy.
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        v = originalValue;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">offset</span> = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">count</span> = size;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">value</span> = v;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>从中我们可以看到，虽然是新创建了一个String的实例，但是value是等于常量池中的实例的value，没有new一个新的字符数组来存放&quot;123&quot;。</p>
<p><a href="https://www.cnblogs.com/ITtangtang/p/3976820.html">参考</a>
<a href="https://blog.csdn.net/tyyking/article/details/82496901">参考</a>
<a href="https://blog.csdn.net/SEU_Calvin/article/details/52291082">参考</a>
<a href="https://blog.csdn.net/o9109003234/article/details/109523691">参考</a></p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/java/">java</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
