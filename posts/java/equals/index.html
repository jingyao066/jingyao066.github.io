<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>equals | Wjy&#39;s Blog</title>
<meta name="keywords" content="java">
<meta name="description" content="equals() çš„ä½œç”¨
equals() çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚
equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š


1
2
3


public boolean equals(Object obj) {
    return (this == obj);
}


æ—¢ç„¶Object.javaä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„equals()æ–¹æ³•ï¼Œç­‰ä»·äº==æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚
ä¸‹é¢æ ¹æ®ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚

è‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚
æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚

ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/java/equals/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="equals" />
<meta property="og:description" content="equals() çš„ä½œç”¨
equals() çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚
equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š


1
2
3


public boolean equals(Object obj) {
    return (this == obj);
}


æ—¢ç„¶Object.javaä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„equals()æ–¹æ³•ï¼Œç­‰ä»·äº==æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚
ä¸‹é¢æ ¹æ®ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚

è‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚
æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚

ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/java/equals/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-30T11:36:50+00:00" />
<meta property="article:modified_time" content="2019-04-30T11:36:50+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="equals"/>
<meta name="twitter:description" content="equals() çš„ä½œç”¨
equals() çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚
equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š


1
2
3


public boolean equals(Object obj) {
    return (this == obj);
}


æ—¢ç„¶Object.javaä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„equals()æ–¹æ³•ï¼Œç­‰ä»·äº==æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚
ä¸‹é¢æ ¹æ®ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚

è‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚
æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚

ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "equals",
      "item": "http://localhost:1313/posts/java/equals/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "equals",
  "name": "equals",
  "description": "equals() çš„ä½œç”¨ equals() çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š\n1 2 3 public boolean equals(Object obj) { return (this == obj); } æ—¢ç„¶Object.javaä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„equals()æ–¹æ³•ï¼Œç­‰ä»·äº==æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚\nä¸‹é¢æ ¹æ®ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚\nè‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚ ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚\n",
  "keywords": [
    "java"
  ],
  "articleBody": "equals() çš„ä½œç”¨ equals() çš„ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š\n1 2 3 public boolean equals(Object obj) { return (this == obj); } æ—¢ç„¶Object.javaä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„equals()æ–¹æ³•ï¼Œç­‰ä»·äº==æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚\nä¸‹é¢æ ¹æ®ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚\nè‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚ ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚\næ²¡æœ‰è¦†ç›–equals()æ–¹æ³•çš„æƒ…å†µ ä»£ç å¦‚ä¸‹ (EqualsTest1.java)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 import java.util.*; import java.lang.Comparable; public class EqualsTest1{ public static void main(String[] args) { // æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ // å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); System.out.printf(\"%s\\n\", p1.equals(p2)); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return name + \" - \" +age; } } } è¿è¡Œç»“æœï¼šfalse ç»“æœåˆ†æï¼š æˆ‘ä»¬é€šè¿‡ p1.equals(p2) æ¥æ¯”è¾ƒp1å’Œp2æ˜¯å¦ç›¸ç­‰ã€‚å®é™…ä¸Šï¼Œè°ƒç”¨çš„Object.javaçš„equals()æ–¹æ³•ï¼Œå³è°ƒç”¨çš„ (p1==p2) ã€‚å®ƒæ˜¯æ¯”è¾ƒp1å’Œp2æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ è€Œç”± p1 å’Œ p2 çš„å®šä¹‰å¯çŸ¥ï¼Œå®ƒä»¬è™½ç„¶å†…å®¹ç›¸åŒï¼›ä½†å®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼å› æ­¤ï¼Œè¿”å›ç»“æœæ˜¯falseã€‚\nè¦†ç›–equals()æ–¹æ³•çš„æƒ…å†µ æˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„EqualsTest1.javaï¼šè¦†ç›–equals()æ–¹æ³•ã€‚ ä»£ç å¦‚ä¸‹ (EqualsTest2.java)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 import java.util.*; import java.lang.Comparable; public class EqualsTest2{ public static void main(String[] args) { // æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ // å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); System.out.printf(\"%s\\n\", p1.equals(p2)); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return name + \" - \" +age; } /** * @desc è¦†ç›–equalsæ–¹æ³• */ @Override public boolean equals(Object obj){ if(obj == null){ return false; } //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false if(this == obj){ return true; } //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ if(this.getClass() != obj.getClass()){ return false; } Person person = (Person)obj; return name.equals(person.name) \u0026\u0026 age == person.age; } } } è¿è¡Œç»“æœï¼štrue ç»“æœåˆ†æï¼š æˆ‘ä»¬åœ¨EqualsTest2.java ä¸­é‡å†™äº†Personçš„equals()å‡½æ•°ï¼šå½“ä¸¤ä¸ªPersonå¯¹è±¡çš„ name å’Œ age éƒ½ç›¸ç­‰ï¼Œåˆ™è¿”å›trueã€‚å› æ­¤ï¼Œè¿è¡Œç»“æœè¿”å›trueã€‚\nè®²åˆ°è¿™é‡Œï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹javaå¯¹equals()çš„è¦æ±‚ã€‚æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š\nå¯¹ç§°æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯\"true\"ï¼Œé‚£ä¹ˆy.equals(x)ä¹Ÿåº”è¯¥è¿”å›æ˜¯\"true\"ã€‚ åå°„æ€§ï¼šx.equals(x)å¿…é¡»è¿”å›æ˜¯\"true\"ã€‚ ç±»æ¨æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯\"true\"ï¼Œè€Œä¸”y.equals(z)è¿”å›æ˜¯\"true\"ï¼Œé‚£ä¹ˆz.equals(x)ä¹Ÿåº”è¯¥è¿”å›æ˜¯\"true\"ã€‚ ä¸€è‡´æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯\"true\"ï¼Œåªè¦xå’Œyå†…å®¹ä¸€ç›´ä¸å˜ï¼Œä¸ç®¡ä½ é‡å¤x.equals(y)å¤šå°‘æ¬¡ï¼Œè¿”å›éƒ½æ˜¯\"true\"ã€‚ éç©ºæ€§ï¼Œx.equals(null)ï¼Œæ°¸è¿œè¿”å›æ˜¯\"false\"ï¼›x.equals(å’Œxä¸åŒç±»å‹çš„å¯¹è±¡)æ°¸è¿œè¿”å›æ˜¯\"false\"ã€‚ ç°åœ¨ï¼Œå†å›é¡¾ä¸€ä¸‹equals()çš„ä½œç”¨ï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚å½“æˆ‘ä»¬é‡å†™equals()çš„æ—¶å€™ï¼Œå¯åƒä¸‡ä¸è¦å°†å®ƒçš„ä½œç”¨ç»™æ”¹å˜äº†ã€‚\nequals() ä¸ == çš„åŒºåˆ« ==ï¼šå®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ã€‚ equals()ï¼šå®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µ(å‰é¢ç¬¬1éƒ¨åˆ†å·²è¯¦ç»†ä»‹ç»è¿‡)ï¼š æƒ…å†µ1ï¼Œç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ã€‚åˆ™é€šè¿‡equals()æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡==æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ æƒ…å†µ2ï¼Œç±»è¦†ç›–äº†equals()æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›–equals()æ–¹æ³•æ¥ç¡®ä¿ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å›true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚\nä¸‹é¢ï¼Œé€šè¿‡ç¤ºä¾‹æ¯”è¾ƒå®ƒä»¬çš„åŒºåˆ«ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 import java.util.*; import java.lang.Comparable; public class EqualsTest3{ public static void main(String[] args) { // æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ // å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); System.out.printf(\"p1.equals(p2) : %s\\n\", p1.equals(p2)); System.out.printf(\"p1==p2 : %s\\n\", p1==p2); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return name + \" - \" +age; } /** * @desc è¦†ç›–equalsæ–¹æ³• */ @Override public boolean equals(Object obj){ if(obj == null){ return false; } //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false if(this == obj){ return true; } //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ if(this.getClass() != obj.getClass()){ return false; } Person person = (Person)obj; return name.equals(person.name) \u0026\u0026 age==person.age; } } } è¿è¡Œç»“æœï¼š\n1 2 p1.equals(p2) : true p1==p2 : false ç»“æœåˆ†æï¼š\np1.equals(p2) è¿™æ˜¯åˆ¤æ–­p1å’Œp2çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚å› ä¸ºPersonè¦†ç›–equals()æ–¹æ³•ï¼Œè€Œè¿™ä¸ªequals()æ˜¯ç”¨æ¥åˆ¤æ–­p1å’Œp2çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œæ°æ°p1å’Œp2çš„å†…å®¹åˆç›¸ç­‰ï¼›å› æ­¤ï¼Œè¿”å›trueã€‚ p1==p2 è¿™æ˜¯åˆ¤æ–­p1å’Œp2æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ç”±äºå®ƒä»¬æ˜¯å„è‡ªæ–°å»ºçš„ä¸¤ä¸ªPersonå¯¹è±¡ï¼›å› æ­¤ï¼Œè¿”å›falseã€‚ hashCode()çš„ä½œç”¨ hashCode() æ–¹æ³•çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚ hashCode() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ï¼Œè¿™å°±æ„å‘³ç€Javaä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰hashCode() å‡½æ•°ã€‚ è™½ç„¶ï¼Œæ¯ä¸ªJavaç±»éƒ½åŒ…å«hashCode() å‡½æ•°ã€‚ä½†æ˜¯ï¼Œä»…ä»…å½“åˆ›å»ºæŸä¸ªç±»çš„æ•£åˆ—è¡¨æ—¶ï¼Œè¯¥ç±»çš„hashCode() æ‰æœ‰ç”¨ï¼Œä½œç”¨æ˜¯ï¼šç¡®å®šè¯¥ç±»çš„æ¯ä¸€ä¸ªå¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œå…¶å®ƒæƒ…å†µä¸‹ï¼Œä¾‹å¦‚ï¼Œåˆ›å»ºç±»çš„å•ä¸ªå¯¹è±¡ï¼Œæˆ–è€…åˆ›å»ºç±»çš„å¯¹è±¡æ•°ç»„ç­‰ç­‰ï¼Œç±»çš„hashCode() æ²¡æœ‰ä½œç”¨ã€‚ ä¸Šé¢çš„æ•£åˆ—è¡¨ï¼ŒæŒ‡çš„æ˜¯ï¼šJavaé›†åˆä¸­æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„ç±»ï¼Œå¦‚HashMapï¼ŒHashtableï¼ŒHashSetã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼šhashCode() åœ¨æ•£åˆ—è¡¨ä¸­æ‰æœ‰ç”¨ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹æ²¡ç”¨ã€‚åœ¨æ•£åˆ—è¡¨ä¸­hashCode() çš„ä½œç”¨æ˜¯è·å–å¯¹è±¡çš„æ•£åˆ—ç ï¼Œè¿›è€Œç¡®å®šè¯¥å¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ã€‚\nOKï¼è‡³æ­¤ï¼Œæˆ‘ä»¬ææ¸…æ¥šäº†ï¼šhashCode()çš„ä½œç”¨æ˜¯è·å–æ•£åˆ—ç ã€‚ä½†æ˜¯ï¼Œæ•£åˆ—ç æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆæ•£åˆ—è¡¨éœ€è¦æ•£åˆ—ç å‘¢ï¼Ÿè¦è§£å†³è¿™äº›é—®é¢˜ï¼Œå°±éœ€è¦ç†è§£æ•£åˆ—è¡¨ï¼å…³äºæ•£åˆ—è¡¨çš„å†…å®¹ï¼Œéä¸‰è¨€ä¸¤è¯­é“çš„æ˜ç™½ï¼›å¤§å®¶å¯ä»¥é€šè¿‡ä¸‹é¢å‡ ç¯‡æ–‡ç« æ¥å­¦ä¹ ï¼š æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸Šï¼‰ æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸­ï¼‰ æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸‹ï¼‰ ä¸ºäº†èƒ½ç†è§£åé¢çš„å†…å®¹ï¼Œè¿™é‡Œç®€å•çš„ä»‹ç»ä¸€ä¸‹æ•£åˆ—ç çš„ä½œç”¨ã€‚\næˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®é”®å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„å€¼ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ã€‚æ•£åˆ—è¡¨çš„æœ¬è´¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ã€‚å½“æˆ‘ä»¬è¦è·å–æ•£åˆ—è¡¨ä¸­çš„æŸä¸ªå€¼æ—¶ï¼Œå®é™…ä¸Šæ˜¯è¦è·å–æ•°ç»„ä¸­çš„æŸä¸ªä½ç½®çš„å…ƒç´ ã€‚è€Œæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œå°±æ˜¯é€šè¿‡é”®æ¥è·å–çš„ï¼›æ›´è¿›ä¸€æ­¥è¯´ï¼Œæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ˜¯é€šè¿‡é”®å¯¹åº”çš„æ•£åˆ—ç è®¡ç®—å¾—åˆ°çš„ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬ä»¥HashSetä¸ºä¾‹ï¼Œæ¥æ·±å…¥è¯´æ˜hashCode()çš„ä½œç”¨ã€‚ å‡è®¾ï¼ŒHashSetä¸­å·²ç»æœ‰1000ä¸ªå…ƒç´ ã€‚å½“æ’å…¥ç¬¬1001ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦æ€ä¹ˆå¤„ç†ï¼Ÿå› ä¸ºHashSetæ˜¯Seté›†åˆï¼Œå®ƒä¸å…è®¸æœ‰é‡å¤å…ƒç´ ã€‚ å°†ç¬¬1001ä¸ªå…ƒç´ é€ä¸ªçš„å’Œå‰é¢1000ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Ÿæ˜¾ç„¶ï¼Œè¿™ä¸ªæ•ˆç‡æ˜¯ç›¸ç­‰ä½ä¸‹çš„ã€‚æ•£åˆ—è¡¨å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæ ¹æ®å…ƒç´ çš„æ•£åˆ—ç è®¡ç®—å‡ºå…ƒç´ åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œç„¶åå°†å…ƒç´ æ’å…¥è¯¥ä½ç½®å³å¯ã€‚å¯¹äºç›¸åŒçš„å…ƒç´ ï¼Œè‡ªç„¶æ˜¯åªä¿å­˜äº†ä¸€ä¸ªã€‚\nç”±æ­¤å¯çŸ¥ï¼Œè‹¥ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå®ƒä»¬çš„æ•£åˆ—ç ä¸€å®šç›¸ç­‰ï¼›ä½†åè¿‡æ¥å´ä¸ä¸€å®šã€‚åœ¨æ•£åˆ—è¡¨ä¸­ï¼Œ\nå¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„hashCode()å€¼ä¸€å®šè¦ç›¸åŒï¼› å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCode()ç›¸ç­‰ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚ æ³¨æ„ï¼šè¿™æ˜¯åœ¨æ•£åˆ—è¡¨ä¸­çš„æƒ…å†µã€‚åœ¨éæ•£åˆ—è¡¨ä¸­ä¸ä¸€å®šå¦‚æ­¤ã€‚ hashCode() å’Œ equals() çš„å…³ç³» æˆ‘ä»¬ä»¥ç±»çš„ç”¨é€”æ¥å°†hashCode() å’Œ equals()çš„å…³ç³»åˆ†2ç§æƒ…å†µæ¥è¯´æ˜ã€‚\nä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨ è¿™é‡Œæ‰€è¯´çš„ä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨æ˜¯è¯´ï¼šæˆ‘ä»¬ä¸ä¼šåœ¨HashSetï¼ŒHashtableï¼ŒHashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¸ä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„hashCode()å’Œequals()æ²¡æœ‰åŠç‚¹å…³ç³»ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œequals() ç”¨æ¥æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚è€ŒhashCode() åˆ™æ ¹æœ¬æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œæ‰€ä»¥ä¸ç”¨ç†ä¼šhashCode()ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æŸ¥çœ‹ç±»çš„ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ä»¥åŠä¸ç­‰æ—¶hashCode()çš„å–å€¼ã€‚\næºç å¦‚ä¸‹ (NormalHashCodeTest.java)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 import java.util.*; import java.lang.Comparable; public class NormalHashCodeTest{ public static void main(String[] args) { // æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ // å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); Person p3 = new Person(\"aaa\", 200); System.out.printf(\"p1.equals(p2) : %s; p1(%d) p2(%d)\\n\", p1.equals(p2), p1.hashCode(), p2.hashCode()); System.out.printf(\"p1.equals(p3) : %s; p1(%d) p3(%d)\\n\", p1.equals(p3), p1.hashCode(), p3.hashCode()); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return name + \" - \" +age; } /** * @desc è¦†ç›–equalsæ–¹æ³• */ public boolean equals(Object obj){ if(obj == null){ return false; } //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false if(this == obj){ return true; } //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ if(this.getClass() != obj.getClass()){ return false; } Person person = (Person)obj; return name.equals(person.name) \u0026\u0026 age==person.age; } } } è¿è¡Œç»“æœï¼š\n1 2 p1.equals(p2) : true; p1(1169863946) p2(1901116749) p1.equals(p3) : false; p1(1169863946) p3(2131949076) ä»ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼šp1å’Œp2ç›¸ç­‰çš„æƒ…å†µä¸‹ï¼ŒhashCode()ä¹Ÿä¸ä¸€å®šç›¸ç­‰ã€‚\nä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨ è¿™é‡Œæ‰€è¯´çš„ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨æ˜¯è¯´ï¼šæˆ‘ä»¬ä¼šåœ¨HashSetï¼ŒHashtableï¼ŒHashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„hashCode() å’Œ equals() æ˜¯æœ‰å…³ç³»çš„ï¼š\nå¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„hashCode()å€¼ä¸€å®šç›¸åŒã€‚è¿™é‡Œçš„ç›¸ç­‰æ˜¯æŒ‡ï¼Œé€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶è¿”å›trueã€‚ å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCode()ç›¸ç­‰ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚å› ä¸ºåœ¨æ•£åˆ—è¡¨ä¸­ï¼ŒhashCode()ç›¸ç­‰ï¼Œå³ä¸¤ä¸ªé”®å€¼å¯¹çš„å“ˆå¸Œå€¼ç›¸ç­‰ã€‚ç„¶è€Œå“ˆå¸Œå€¼ç›¸ç­‰ï¼Œå¹¶ä¸ä¸€å®šèƒ½å¾—å‡ºé”®å€¼å¯¹ç›¸ç­‰ã€‚è¡¥å……è¯´ä¸€å¥ï¼šä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹ï¼Œå“ˆå¸Œå€¼ç›¸ç­‰ï¼Œè¿™å°±æ˜¯å“ˆå¸Œå†²çªã€‚ æ­¤å¤–ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ã€‚è‹¥è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œé™¤äº†è¦è¦†ç›–equals()ä¹‹å¤–ï¼Œä¹Ÿè¦è¦†ç›–hashCode()å‡½æ•°ã€‚å¦åˆ™ï¼Œequals()æ— æ•ˆã€‚ ä¾‹å¦‚ï¼Œåˆ›å»ºPersonç±»çš„HashSeté›†åˆï¼Œå¿…é¡»åŒæ—¶è¦†ç›–Personç±»çš„equals() å’Œ hashCode()æ–¹æ³•ã€‚ å¦‚æœå•å•åªæ˜¯è¦†ç›–equals()æ–¹æ³•ã€‚æˆ‘ä»¬ä¼šå‘ç°ï¼Œequals()æ–¹æ³•æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚\nä»£ç  (ConflictHashCodeTest1.java)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 import java.util.*; import java.lang.Comparable; public class ConflictHashCodeTest1{ public static void main(String[] args) { // æ–°å»ºPersonå¯¹è±¡ï¼Œ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); Person p3 = new Person(\"aaa\", 200); // æ–°å»ºHashSetå¯¹è±¡ HashSet set = new HashSet(); set.add(p1); set.add(p2); set.add(p3); // æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode() System.out.printf(\"p1.equals(p2) : %s; p1(%d) p2(%d)\\n\", p1.equals(p2), p1.hashCode(), p2.hashCode()); // æ‰“å°set System.out.printf(\"set:%s\\n\", set); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return \"(\"+name + \", \" +age+\")\"; } /** * @desc è¦†ç›–equalsæ–¹æ³• */ @Override public boolean equals(Object obj){ if(obj == null){ return false; } //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false if(this == obj){ return true; } //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ if(this.getClass() != obj.getClass()){ return false; } Person person = (Person)obj; return name.equals(person.name) \u0026\u0026 age==person.age; } } } è¿è¡Œç»“æœï¼š\n1 2 p1.equals(p2) : true; p1(1169863946) p2(1690552137) set:[(eee, 100), (eee, 100), (aaa, 200)] ç»“æœåˆ†æï¼š æˆ‘ä»¬é‡å†™äº†Personçš„equals()ã€‚ä½†æ˜¯ï¼Œå¾ˆå¥‡æ€ªçš„å‘ç°ï¼šHashSetä¸­ä»ç„¶æœ‰é‡å¤å…ƒç´ ï¼šp1 å’Œ p2ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè™½ç„¶p1 å’Œ p2çš„å†…å®¹ç›¸ç­‰ï¼Œä½†æ˜¯å®ƒä»¬çš„hashCode()ä¸ç­‰ï¼›æ‰€ä»¥ï¼ŒHashSetåœ¨æ·»åŠ p1å’Œp2çš„æ—¶å€™ï¼Œè®¤ä¸ºå®ƒä»¬ä¸ç›¸ç­‰ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬åŒæ—¶è¦†ç›–equals() å’Œ hashCode()æ–¹æ³•ã€‚ ä»£ç  (ConflictHashCodeTest2.java)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 import java.util.*; import java.lang.Comparable; public class ConflictHashCodeTest2{ public static void main(String[] args) { // æ–°å»ºPersonå¯¹è±¡ï¼Œ Person p1 = new Person(\"eee\", 100); Person p2 = new Person(\"eee\", 100); Person p3 = new Person(\"aaa\", 200); Person p4 = new Person(\"EEE\", 100); // æ–°å»ºHashSetå¯¹è±¡ HashSet set = new HashSet(); set.add(p1); set.add(p2); set.add(p3); // æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode() System.out.printf(\"p1.equals(p2) : %s; p1(%d) p2(%d)\\n\", p1.equals(p2), p1.hashCode(), p2.hashCode()); // æ¯”è¾ƒp1 å’Œ p4ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode() System.out.printf(\"p1.equals(p4) : %s; p1(%d) p4(%d)\\n\", p1.equals(p4), p1.hashCode(), p4.hashCode()); // æ‰“å°set System.out.printf(\"set:%s\\n\", set); } /** * @desc Personç±»ã€‚ */ private static class Person { int age; String name; public Person(String name, int age) { this.name = name; this.age = age; } public String toString() { return name + \" - \" +age; } /** * @descé‡å†™hashCode */ @Override public int hashCode(){ int nameHash = name.toUpperCase().hashCode(); return nameHash ^ age; } /** * @desc è¦†ç›–equalsæ–¹æ³• */ @Override public boolean equals(Object obj){ if(obj == null){ return false; } //å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false if(this == obj){ return true; } //åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ if(this.getClass() != obj.getClass()){ return false; } Person person = (Person)obj; return name.equals(person.name) \u0026\u0026 age==person.age; } } } è¿è¡Œç»“æœï¼š\n1 2 3 p1.equals(p2) : true; p1(68545) p2(68545) p1.equals(p4) : false; p1(68545) p4(68545) set:[aaa - 200, eee - 100] ç»“æœåˆ†æï¼š è¿™ä¸‹ï¼Œequals()ç”Ÿæ•ˆäº†ï¼ŒHashSetä¸­æ²¡æœ‰é‡å¤å…ƒç´ ã€‚ æ¯”è¾ƒp1å’Œp2ï¼Œæˆ‘ä»¬å‘ç°ï¼šå®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬ä¹Ÿè¿”å›trueã€‚æ‰€ä»¥ï¼Œp1å’Œp2è¢«è§†ä¸ºç›¸ç­‰ã€‚ æ¯”è¾ƒp1å’Œp4ï¼Œæˆ‘ä»¬å‘ç°ï¼šè™½ç„¶å®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼›ä½†æ˜¯ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬è¿”å›falseã€‚æ‰€ä»¥ï¼Œp1å’Œp4è¢«è§†ä¸ºä¸ç›¸ç­‰ã€‚\nå‚è€ƒ\nequals equalsæ–¹æ³•å®šä¹‰äºObjectç±»ä¸­ã€‚\n1 2 3 public boolean equals(Object obj) { return (this == obj); } ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ å¦‚ï¼šx.equals(y)ï¼Œå½“xå’Œyæ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œè¿”å›trueï¼Œå¦åˆ™falseã€‚\né€šè¿‡ä¾‹å­æŒæ¡equalsçš„ç”¨æ³•\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 public class TestEquals { public static void main(String[] args) { /** * è¿™é‡Œä½¿ç”¨æ„é€ æ–¹æ³•Cat()åœ¨å †å†…å­˜é‡Œé¢newå‡ºäº†ä¸¤åªçŒ«ï¼Œ * è¿™ä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ * ä½†c1å’Œc2å´æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œè¿™æ˜¯å› ä¸ºc1å’Œc2åˆ†åˆ«ä¸ºå †å†…å­˜é‡Œé¢ä¸¤åªçŒ«çš„å¼•ç”¨å¯¹è±¡ï¼Œ * é‡Œé¢è£…ç€å¯ä»¥æ‰¾åˆ°è¿™ä¸¤åªçŒ«çš„åœ°å€ï¼Œä½†ç”±äºä¸¤åªçŒ«åœ¨å †å†…å­˜é‡Œé¢å­˜å‚¨åœ¨ä¸¤ä¸ªä¸åŒçš„ç©ºé—´é‡Œé¢ï¼Œ * æ‰€ä»¥c1å’Œc2åˆ†åˆ«è£…ç€ä¸åŒçš„åœ°å€ï¼Œå› æ­¤c1å’Œc2æ°¸è¿œä¸ä¼šç›¸ç­‰ã€‚ */ Cat c1 = new Cat(1, 1, 1); Cat c2 = new Cat(1, 1, 1); System.out.println(\"c1 == c2çš„ç»“æœæ˜¯ï¼š\" + (c1 == c2)); //false System.out.println(\"c1.equals(c2)çš„ç»“æœæ˜¯ï¼š\"+c1.equals(c2)); //false } } class Cat { int color, weight, height; public Cat(int color, int weight, int height) { this.color = color; this.weight = weight; this.height = height; } } é€šè¿‡å†…å­˜åˆ†æå›¾ï¼Œåˆ†æc1å’Œc2æ¯”è¾ƒçš„ç»“æœã€‚ ç¨‹åºï¼š\n1 2 Cat c1 = new Cat(1,1,1); Cat c2 = new Cat(1,1,1); æ‰§è¡Œå®Œä¹‹åå†…å­˜ä¹‹ä¸­çš„å¸ƒå±€å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š c1æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œc2ä¹ŸæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œc1å’Œc2é‡Œé¢è£…çš„æ˜¯è¿™ä¸¤åªCatå¯¹è±¡åœ¨å †å†…å­˜é‡Œå­˜å‚¨çš„åœ°å€ã€‚ ç”±äºä¸¤åªcatå¯¹è±¡åˆ†åˆ«ä½äºä¸åŒçš„å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤c1å’Œc2é‡Œé¢è£…ç€çš„åœ°å€è‚¯å®šä¸ç›¸ç­‰ï¼Œæ‰€ä»¥c1å’Œc2çš„å¼•ç”¨å¯¹è±¡ä¹Ÿä¸ç›¸ç­‰ã€‚ æ‰€ä»¥System.out.println(c1 == c2);æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯falseã€‚ c1æ˜¯ä¸æ˜¯ç­‰äºc2ï¼Œæ¯”è¾ƒçš„æ˜¯c1å’Œc2è¿™ä¸¤ä¸ªå¼•ç”¨é‡Œé¢è£…ç€çš„å†…å®¹ï¼Œå› ä¸ºc1å’Œc2æ˜¯åˆ†åˆ«newå‡ºæ¥çš„ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥c1å’Œc2è¿™ä¸¤ä¸ªå¼•ç”¨çš„å†…å®¹ä¹Ÿä¸ä¸€æ ·ã€‚\nè¦æƒ³åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œä¸èƒ½é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸ç­‰ï¼Œå› ä¸ºä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸ç­‰ã€‚æ‰€ä»¥æ­£ç¡®çš„çš„æ¯”è¾ƒæ–¹æ³•æ˜¯ï¼Œé€šè¿‡æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼æ˜¯å¦ç›¸åŒè€Œå†³å®šè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚\nObject ç±»æä¾›äº†ä¸€ä¸ªequals()æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¿™ä¸ªæ–¹æ³•å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦åœ¨é€»è¾‘ä¸Šâ€œç›¸ç­‰â€ã€‚å¦‚ï¼šc1.equals(c2);\nè¿™é‡Œæ˜¯è°ƒç”¨ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ï¼Œé€šè¿‡æŸ¥é˜…APIæ–‡æ¡£å¾—åˆ°Objectç±»é‡Œçš„equalsæ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š\n1 2 3 public boolean equals(Object obj) { return (this == obj); } åœ¨Objectè¿™ä¸ªç±»é‡Œé¢æä¾›çš„Equals()æ–¹æ³•ï¼Œé»˜è®¤çš„å®ç°æ˜¯æ¯”è¾ƒå½“å‰å¯¹è±¡çš„å¼•ç”¨å’Œä½ è¦æ¯”è¾ƒçš„é‚£ä¸ªå¼•ç”¨ï¼Œå®ƒä»¬æŒ‡å‘çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå³å’Œc1 == c2è¿™ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼Œc1.equals(c2) ä¸ c1 == c2æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚\nå› æ­¤ç›´æ¥ä½¿ç”¨ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•æ˜¯æ— æ³•ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒçš„ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å¾—é‡å†™equals()æ–¹æ³•ï¼Œæ”¹å˜è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ã€‚\nä¸‹é¢åœ¨Catç±»é‡Œé¢é‡å†™è¿™ä¸ªç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 class Cat { int color, weight, height; public Cat(int color, int weight, int height) { this.color = color; this.weight = weight; this.height = height; } /** * è¿™é‡Œæ˜¯é‡å†™ç›¸ç­‰ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ï¼Œæ”¹å˜è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ï¼Œ * é€šè¿‡æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å®ç°æ¥åˆ¤æ–­å†³å®šä¸¤ä¸ªå¯¹è±¡åœ¨é€»è¾‘ä¸Šæ˜¯å¦ç›¸ç­‰ã€‚ * è¿™é‡Œæˆ‘ä»¬å®šä¹‰å¦‚æœä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½ç›¸åŒï¼Œ * é‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸¤åªçŒ«åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå³è¿™ä¸¤åªçŒ«æ˜¯â€œç›¸ç­‰â€çš„ã€‚ */ public boolean equals(Object obj){ if (obj == null){ return false; } /** * instanceofæ˜¯å¯¹è±¡è¿ç®—ç¬¦ã€‚ * å¯¹è±¡è¿ç®—ç¬¦ç”¨æ¥æµ‹å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªæŒ‡å®šç±»æˆ–æŒ‡å®šçš„å­ç±»çš„å®ä¾‹ã€‚ * å¯¹è±¡è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªç»„åˆå•è¯instanceofã€‚ * è¯¥è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªåŒç›®è¿ç®—ç¬¦ï¼Œå…¶å·¦è¾¹çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³è¾¹çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç±»ï¼Œ * å¦‚æœå·¦è¾¹çš„å¯¹è±¡æ˜¯å³è¾¹çš„ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œåˆ™è¿ç®—ç»“æœä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseã€‚ */ if (obj instanceof Cat){ Cat c = (Cat)obj; if (c.color==this.color \u0026\u0026 c.weight==this.weight \u0026\u0026 c.height==this.height){ return true; } } return false; } } ç°åœ¨éªŒè¯æˆ‘ä»¬çš„æ”¹åŠ¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public static void main(String[] args) { /** * è¿™é‡Œä½¿ç”¨æ„é€ æ–¹æ³•Cat()åœ¨å †å†…å­˜é‡Œé¢newå‡ºäº†ä¸¤åªçŒ«ï¼Œ * è¿™ä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ * ä½†c1å’Œc2å´æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œè¿™æ˜¯å› ä¸ºc1å’Œc2åˆ†åˆ«ä¸ºå †å†…å­˜é‡Œé¢ä¸¤åªçŒ«çš„å¼•ç”¨å¯¹è±¡ï¼Œ * é‡Œé¢è£…ç€å¯ä»¥æ‰¾åˆ°è¿™ä¸¤åªçŒ«çš„åœ°å€ï¼Œä½†ç”±äºä¸¤åªçŒ«åœ¨å †å†…å­˜é‡Œé¢å­˜å‚¨åœ¨ä¸¤ä¸ªä¸åŒçš„ç©ºé—´é‡Œé¢ï¼Œ * æ‰€ä»¥c1å’Œc2åˆ†åˆ«è£…ç€ä¸åŒçš„åœ°å€ï¼Œå› æ­¤c1å’Œc2æ°¸è¿œä¸ä¼šç›¸ç­‰ã€‚ */ Cat c1 = new Cat(1, 1, 1); Cat c2 = new Cat(1, 1, 1); System.out.println(\"c1 == c2çš„ç»“æœæ˜¯ï¼š\"+(c1 == c2));//false System.out.println(\"c1.equals(c2)çš„ç»“æœæ˜¯ï¼š\"+c1.equals(c2));//true } è¿™ä¸€æ¬¡å¾—åˆ°çš„ç»“æœå°±ä¸ä¸Šæ¬¡æ²¡æœ‰é‡å†™equals()æ–¹æ³•æ—¶å¾—åˆ°çš„ç»“æœå°±ä¸ä¸€æ ·äº†ï¼š\n1 System.out.println(c1 == c2); æ‰“å°å‡ºæ¥çš„ç»“æœä¾ç„¶æ˜¯falseï¼Œå› ä¸ºè¿™é‡Œæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨é‡Œé¢çš„å†…å®¹ï¼Œè¿™ä¸¤ä¸ªå¼•ç”¨é‡Œé¢çš„å†…å®¹å½“ç„¶ä¸ç›¸ç­‰ï¼Œè€Œä¸”æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœè‚¯å®šæ˜¯falseã€‚\n1 System.out.println(c1.equals(c2)); æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºtrueï¼Œå› ä¸ºæˆ‘ä»¬åœ¨Catç±»é‡Œé¢é‡å†™äº†equals()æ–¹æ³•ï¼Œæ”¹å˜äº†è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ï¼Œæˆ‘ä»¬æŠŠæ–¹æ³•çš„å®ç°æ”¹ä¸ºåªè¦è¿™ä¸ªä¸¤ä¸ªå¯¹è±¡æ˜¯çœŸçš„å­˜åœ¨ï¼Œå¹¶ä¸”éƒ½æ˜¯çŒ«ï¼Œå¹¶ä¸”å®ƒä»¬çš„é¢œè‰²(color)ï¼Œèº«é«˜(height)å’Œä½“é‡(weight)éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤åªçŒ«åœ¨é€»è¾‘ä¸Šå°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ˜¯å®Œå…¨ç›¸åŒçš„ä¸¤åªçŒ«ï¼Œå³è¿™ä¸¤åªçŒ«æ˜¯â€œç›¸ç­‰â€çš„ã€‚æ‰€ä»¥è¿™é‡Œæ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯trueã€‚\nå¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰ 1 2 3 4 5 6 7 8 9 public class TestEquals { public static void main(String args[]){ String s1 = new String(\"hello\"); String s2 = new String(\"hello\"); System.out.println(\"s1 == s2çš„ç»“æœæ˜¯ï¼š\"+(s1 == s2));//false System.out.println(\"s1.equals(s2)çš„ç»“æœæ˜¯ï¼š\"+s1.equals(s2));//true } } è¿™ä¸€æ¬¡æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼š\n1 System.out.println(s1 == s2); æ‰“å°å‡ºæ¥çš„ç»“æœä¾ç„¶æ˜¯falseï¼Œå› ä¸ºè¿™é‡Œæ¯”è¾ƒçš„æ˜¯s1å’Œs2ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºfalseã€‚\n1 System.out.println(s1.equals(s2)); æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºtrueï¼Œå› ä¸ºåœ¨Stringç±»é‡å†™äº†ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ã€‚\næ³¨ï¼šæ‰€æœ‰çš„ç±»éƒ½æ˜¯ä»Objectç±»ç»§æ‰¿ä¸‹æ¥ï¼ŒStringç±»å½“ç„¶ä¹Ÿä¸ä¾‹å¤–ï¼Œä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥å°±æ‹¥æœ‰äº†çˆ¶ç±»çš„ä¸€åˆ‡å±æ€§ä¸æ–¹æ³•ï¼Œæ‰€ä»¥Stringç±»é‡Œé¢ä¹Ÿæœ‰equals()æ–¹æ³•ï¼Œå¹¶ä¸”è¿˜æŠŠè¿™ä¸ªç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•é‡å†™äº†ï¼Œæ”¹å˜äº†è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ã€‚\nåœ¨Stringç±»é‡Œé¢æ˜¯è¿™æ ·é‡å†™equals()æ–¹æ³•çš„å®ç°çš„ï¼šç”¨å½“å‰çš„è¿™ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å’ŒæŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹è±¡æ¯”è¾ƒï¼ŒæŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹è±¡ä¸èƒ½ä¸ºç©ºå¹¶ä¸”è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦åºåˆ—å’Œå½“å‰è¿™ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å­—ç¬¦ä¸²åºåˆ—ä¸€æ ·ï¼Œå¦‚æœè¿™äº›æ¡ä»¶éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å°±æ˜¯ç›¸ç­‰çš„ã€‚å› æ­¤è¿™é‡Œçš„s2å·²ç»æ»¡è¶³äº†æ¡ä»¶ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯trueã€‚\nä»¥ååœ¨æŸä¸€ä¸ªç±»é‡Œé¢æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œé¦–å…ˆå»APIæ–‡æ¡£é‡Œé¢æŸ¥æ‰¾è¿™ä¸ªç±»æ˜¯å¦é‡å†™äº†ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ã€‚å¦‚æœé‡å†™äº†equals()æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰æ—¶è°ƒç”¨çš„å°±æ˜¯é‡å†™ä»¥åçš„equals()æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰é‡å†™ï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶å°±æ˜¯ç›´æ¥è°ƒç”¨ä»Objectç±»é‡Œé¢çš„ç»§æ‰¿ä¸‹æ¥çš„é‚£ä¸ªequals()æ–¹æ³•ï¼Œå¹¶ä¸”é‡‡ç”¨equals()æ–¹æ³•é»˜è®¤çš„å®ç°å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚å› æ­¤æ¯ä¸€ä¸ªç±»éƒ½å¯ä»¥æ ¹æ®éœ€è¦å¯¹ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•è¿›è¡Œé‡å†™ã€‚\næ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œæˆ‘ä»¬é‡‡ç”¨equals()æ–¹æ³•ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ¡ä»¶æ˜¯ç”±æˆ‘ä»¬é‡å†™equals()æ–¹æ³•çš„å®ç°åå®šä¹‰çš„ï¼Œè¿™æ ·å°±å¯ä»¥æ¯”è¾ƒçµæ´»åœ°ä½¿ç”¨equals()æ–¹æ³•åœ¨ä¸åŒçš„ç±»é‡Œé¢æ¯”è¾ƒä½äºåŒä¸€ç±»ä¸‹çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰äº†ã€‚\n",
  "wordCount" : "8788",
  "inLanguage": "en",
  "datePublished": "2019-04-30T11:36:50Z",
  "dateModified": "2019-04-30T11:36:50Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/java/equals/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/links" title="ğŸ¤å‹é“¾">
                    <span>ğŸ¤å‹é“¾</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;Â»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title">
      equals
    </h1>
    <div class="post-meta"><span title='2019-04-30 11:36:50 +0000 UTC'>2019-04-30</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#equals-%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="equals() çš„ä½œç”¨">equals() çš„ä½œç”¨</a><ul>
                        
                <li>
                    <a href="#%e6%b2%a1%e6%9c%89%e8%a6%86%e7%9b%96equals%e6%96%b9%e6%b3%95%e7%9a%84%e6%83%85%e5%86%b5" aria-label="æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•çš„æƒ…å†µ"><code>æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•</code>çš„æƒ…å†µ</a></li>
                <li>
                    <a href="#%e8%a6%86%e7%9b%96equals%e6%96%b9%e6%b3%95%e7%9a%84%e6%83%85%e5%86%b5" aria-label="è¦†ç›–equals()æ–¹æ³•çš„æƒ…å†µ"><code>è¦†ç›–equals()æ–¹æ³•</code>çš„æƒ…å†µ</a></li></ul>
                </li>
                <li>
                    <a href="#equals-%e4%b8%8e--%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="equals() ä¸ == çš„åŒºåˆ«">equals() ä¸ == çš„åŒºåˆ«</a></li>
                <li>
                    <a href="#hashcode%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="hashCode()çš„ä½œç”¨">hashCode()çš„ä½œç”¨</a></li>
                <li>
                    <a href="#hashcode-%e5%92%8c-equals-%e7%9a%84%e5%85%b3%e7%b3%bb" aria-label="hashCode() å’Œ equals() çš„å…³ç³»">hashCode() å’Œ equals() çš„å…³ç³»</a><ul>
                        
                <li>
                    <a href="#%e4%b8%8d%e4%bc%9a%e5%88%9b%e5%bb%ba%e7%b1%bb%e5%af%b9%e5%ba%94%e7%9a%84%e6%95%a3%e5%88%97%e8%a1%a8" aria-label="ä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">ä¸ä¼šåˆ›å»º<code>ç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code></a></li>
                <li>
                    <a href="#%e4%bc%9a%e5%88%9b%e5%bb%ba%e7%b1%bb%e5%af%b9%e5%ba%94%e7%9a%84%e6%95%a3%e5%88%97%e8%a1%a8" aria-label="ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">ä¼šåˆ›å»º<code>ç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code></a></li></ul>
                </li>
                <li>
                    <a href="#equals" aria-label="equals">equals</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e6%af%94%e8%be%83%e4%b8%a4%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%af%b9%e8%b1%a1%e6%98%af%e5%90%a6%e7%9b%b8%e7%ad%89" aria-label="å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰">å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="equals-çš„ä½œç”¨">equals() çš„ä½œç”¨<a hidden class="anchor" aria-hidden="true" href="#equals-çš„ä½œç”¨">#</a></h1>
<p>equals() çš„ä½œç”¨æ˜¯<code>ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</code>ã€‚
equals() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ã€‚é€šè¿‡åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰(å³ï¼Œæ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡)æ¥åŒºåˆ†å®ƒä»¬æ˜¯å¦ç›¸ç­‰ã€‚æºç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> (<span style="color:#fff;font-weight:bold">this</span> == obj);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¢ç„¶<code>Object.java</code>ä¸­å®šä¹‰äº†equals()æ–¹æ³•ï¼Œè¿™å°±æ„å‘³ç€æ‰€æœ‰çš„Javaç±»éƒ½å®ç°äº†equals()æ–¹æ³•ï¼Œæ‰€æœ‰çš„ç±»éƒ½å¯ä»¥é€šè¿‡equals()å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»è¯´è¿‡ï¼Œä½¿ç”¨é»˜è®¤çš„<code>equals()</code>æ–¹æ³•ï¼Œç­‰ä»·äº<code>==</code>æ–¹æ³•ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé‡å†™equals()æ–¹æ³•ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚</p>
<p>ä¸‹é¢æ ¹æ®<code>ç±»æ˜¯å¦è¦†ç›–equals()æ–¹æ³•</code>ï¼Œå°†å®ƒåˆ†ä¸º2ç±»ã€‚</p>
<ul>
<li>è‹¥æŸä¸ªç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ï¼Œå½“å®ƒçš„é€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ—¶ï¼Œç­‰ä»·äºé€šè¿‡<code>==</code>å»æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚</li>
<li>æˆ‘ä»¬å¯ä»¥è¦†ç›–ç±»çš„equals()æ–¹æ³•ï¼Œæ¥è®©equals()é€šè¿‡å…¶å®ƒæ–¹å¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼šè‹¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™equals()æ–¹æ³•è¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›fasleã€‚</li>
</ul>
<p>ä¸‹é¢ï¼Œä¸¾ä¾‹å¯¹ä¸Šé¢çš„2ç§æƒ…å†µè¿›è¡Œè¯´æ˜ã€‚</p>
<h2 id="æ²¡æœ‰è¦†ç›–equalsæ–¹æ³•çš„æƒ…å†µ"><code>æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•</code>çš„æƒ…å†µ<a hidden class="anchor" aria-hidden="true" href="#æ²¡æœ‰è¦†ç›–equalsæ–¹æ³•çš„æƒ…å†µ">#</a></h2>
<p>ä»£ç å¦‚ä¸‹ (EqualsTest1.java)ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> EqualsTest1{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name + <span style="color:#0ff;font-weight:bold">&#34; - &#34;</span> +age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼šfalse
ç»“æœåˆ†æï¼š
æˆ‘ä»¬é€šè¿‡ p1.equals(p2) æ¥<code>æ¯”è¾ƒp1å’Œp2æ˜¯å¦ç›¸ç­‰</code>ã€‚å®é™…ä¸Šï¼Œè°ƒç”¨çš„Object.javaçš„equals()æ–¹æ³•ï¼Œå³è°ƒç”¨çš„ (p1==p2) ã€‚å®ƒæ˜¯æ¯”è¾ƒ<code>p1å’Œp2æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡</code>ã€‚
è€Œç”± p1 å’Œ p2 çš„å®šä¹‰å¯çŸ¥ï¼Œå®ƒä»¬è™½ç„¶å†…å®¹ç›¸åŒï¼›ä½†å®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼å› æ­¤ï¼Œè¿”å›ç»“æœæ˜¯falseã€‚</p>
<h2 id="è¦†ç›–equalsæ–¹æ³•çš„æƒ…å†µ"><code>è¦†ç›–equals()æ–¹æ³•</code>çš„æƒ…å†µ<a hidden class="anchor" aria-hidden="true" href="#è¦†ç›–equalsæ–¹æ³•çš„æƒ…å†µ">#</a></h2>
<p>æˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„EqualsTest1.javaï¼šè¦†ç›–equals()æ–¹æ³•ã€‚
ä»£ç å¦‚ä¸‹ (EqualsTest2.java)ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> EqualsTest2{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;%s\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name + <span style="color:#0ff;font-weight:bold">&#34; - &#34;</span> +age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @desc è¦†ç›–equalsæ–¹æ³• 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(obj == <span style="color:#fff;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span> == obj){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getClass</span>() != obj.<span style="color:#007f7f">getClass</span>()){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            Person person = (Person)obj;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name.<span style="color:#007f7f">equals</span>(person.<span style="color:#007f7f">name</span>) &amp;&amp; age == person.<span style="color:#007f7f">age</span>;
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼štrue
ç»“æœåˆ†æï¼š
æˆ‘ä»¬åœ¨EqualsTest2.java ä¸­é‡å†™äº†Personçš„equals()å‡½æ•°ï¼šå½“ä¸¤ä¸ªPersonå¯¹è±¡çš„ name å’Œ age éƒ½ç›¸ç­‰ï¼Œåˆ™è¿”å›trueã€‚å› æ­¤ï¼Œè¿è¡Œç»“æœè¿”å›trueã€‚</p>
<p>è®²åˆ°è¿™é‡Œï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹javaå¯¹equals()çš„è¦æ±‚ã€‚æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å¯¹ç§°æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯&quot;true&quot;ï¼Œé‚£ä¹ˆy.equals(x)ä¹Ÿåº”è¯¥è¿”å›æ˜¯&quot;true&quot;ã€‚</li>
<li>åå°„æ€§ï¼šx.equals(x)å¿…é¡»è¿”å›æ˜¯&quot;true&quot;ã€‚</li>
<li>ç±»æ¨æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯&quot;true&quot;ï¼Œè€Œä¸”y.equals(z)è¿”å›æ˜¯&quot;true&quot;ï¼Œé‚£ä¹ˆz.equals(x)ä¹Ÿåº”è¯¥è¿”å›æ˜¯&quot;true&quot;ã€‚</li>
<li>ä¸€è‡´æ€§ï¼šå¦‚æœx.equals(y)è¿”å›æ˜¯&quot;true&quot;ï¼Œåªè¦xå’Œyå†…å®¹ä¸€ç›´ä¸å˜ï¼Œä¸ç®¡ä½ é‡å¤x.equals(y)å¤šå°‘æ¬¡ï¼Œè¿”å›éƒ½æ˜¯&quot;true&quot;ã€‚</li>
<li>éç©ºæ€§ï¼Œx.equals(null)ï¼Œæ°¸è¿œè¿”å›æ˜¯&quot;false&quot;ï¼›x.equals(å’Œxä¸åŒç±»å‹çš„å¯¹è±¡)æ°¸è¿œè¿”å›æ˜¯&quot;false&quot;ã€‚</li>
</ol>
<p>ç°åœ¨ï¼Œå†å›é¡¾ä¸€ä¸‹equals()çš„ä½œç”¨ï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚å½“æˆ‘ä»¬é‡å†™equals()çš„æ—¶å€™ï¼Œå¯åƒä¸‡ä¸è¦å°†å®ƒçš„ä½œç”¨ç»™æ”¹å˜äº†ã€‚</p>
<h1 id="equals-ä¸--çš„åŒºåˆ«">equals() ä¸ == çš„åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#equals-ä¸--çš„åŒºåˆ«">#</a></h1>
<p><code>==</code>ï¼šå®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€å¯¹è±¡ã€‚
<code>equals()</code>ï¼šå®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µ(å‰é¢ç¬¬1éƒ¨åˆ†å·²è¯¦ç»†ä»‹ç»è¿‡)ï¼š
æƒ…å†µ1ï¼Œç±»æ²¡æœ‰è¦†ç›–equals()æ–¹æ³•ã€‚åˆ™é€šè¿‡equals()æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡<code>==</code>æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚
æƒ…å†µ2ï¼Œç±»è¦†ç›–äº†equals()æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›–equals()æ–¹æ³•æ¥ç¡®ä¿ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å›true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚</p>
<p>ä¸‹é¢ï¼Œé€šè¿‡ç¤ºä¾‹æ¯”è¾ƒå®ƒä»¬çš„åŒºåˆ«ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> EqualsTest3{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p2) : %s\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1==p2 : %s\n&#34;</span>, p1==p2);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name + <span style="color:#0ff;font-weight:bold">&#34; - &#34;</span> +age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @desc è¦†ç›–equalsæ–¹æ³• 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(obj == <span style="color:#fff;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span> == obj){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getClass</span>() != obj.<span style="color:#007f7f">getClass</span>()){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            Person person = (Person)obj;  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name.<span style="color:#007f7f">equals</span>(person.<span style="color:#007f7f">name</span>) &amp;&amp; age==person.<span style="color:#007f7f">age</span>;  
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>p1.equals(p2) : true
</span></span><span style="display:flex;"><span>p1==p2 : false
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»“æœåˆ†æï¼š</p>
<ul>
<li>p1.equals(p2)
è¿™æ˜¯åˆ¤æ–­p1å’Œp2çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚å› ä¸ºPersonè¦†ç›–equals()æ–¹æ³•ï¼Œè€Œè¿™ä¸ªequals()æ˜¯ç”¨æ¥åˆ¤æ–­p1å’Œp2çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œæ°æ°p1å’Œp2çš„å†…å®¹åˆç›¸ç­‰ï¼›å› æ­¤ï¼Œè¿”å›trueã€‚</li>
<li>p1==p2
è¿™æ˜¯åˆ¤æ–­p1å’Œp2æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚ç”±äºå®ƒä»¬æ˜¯å„è‡ªæ–°å»ºçš„ä¸¤ä¸ªPersonå¯¹è±¡ï¼›å› æ­¤ï¼Œè¿”å›falseã€‚</li>
</ul>
<h1 id="hashcodeçš„ä½œç”¨">hashCode()çš„ä½œç”¨<a hidden class="anchor" aria-hidden="true" href="#hashcodeçš„ä½œç”¨">#</a></h1>
<p>hashCode() æ–¹æ³•çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚
hashCode() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ï¼Œè¿™å°±æ„å‘³ç€Javaä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰hashCode() å‡½æ•°ã€‚
è™½ç„¶ï¼Œæ¯ä¸ªJavaç±»éƒ½åŒ…å«hashCode() å‡½æ•°ã€‚ä½†æ˜¯ï¼Œä»…ä»…å½“åˆ›å»ºæŸä¸ª<code>ç±»çš„æ•£åˆ—è¡¨</code>æ—¶ï¼Œè¯¥ç±»çš„hashCode() æ‰æœ‰ç”¨ï¼Œä½œç”¨æ˜¯ï¼šç¡®å®šè¯¥ç±»çš„æ¯ä¸€ä¸ªå¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œå…¶å®ƒæƒ…å†µä¸‹ï¼Œä¾‹å¦‚ï¼Œåˆ›å»ºç±»çš„å•ä¸ªå¯¹è±¡ï¼Œæˆ–è€…åˆ›å»ºç±»çš„å¯¹è±¡æ•°ç»„ç­‰ç­‰ï¼Œç±»çš„hashCode() æ²¡æœ‰ä½œç”¨ã€‚
ä¸Šé¢çš„æ•£åˆ—è¡¨ï¼ŒæŒ‡çš„æ˜¯ï¼šJavaé›†åˆä¸­æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„ç±»ï¼Œå¦‚HashMapï¼ŒHashtableï¼ŒHashSetã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼šhashCode() åœ¨æ•£åˆ—è¡¨ä¸­æ‰æœ‰ç”¨ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹æ²¡ç”¨ã€‚åœ¨æ•£åˆ—è¡¨ä¸­hashCode() çš„ä½œç”¨æ˜¯è·å–å¯¹è±¡çš„æ•£åˆ—ç ï¼Œè¿›è€Œç¡®å®šè¯¥å¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ã€‚</p>
<p>OKï¼è‡³æ­¤ï¼Œæˆ‘ä»¬ææ¸…æ¥šäº†ï¼šhashCode()çš„ä½œç”¨æ˜¯è·å–æ•£åˆ—ç ã€‚ä½†æ˜¯ï¼Œæ•£åˆ—ç æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿä¸ºä»€ä¹ˆæ•£åˆ—è¡¨éœ€è¦æ•£åˆ—ç å‘¢ï¼Ÿè¦è§£å†³è¿™äº›é—®é¢˜ï¼Œå°±éœ€è¦ç†è§£æ•£åˆ—è¡¨ï¼å…³äºæ•£åˆ—è¡¨çš„å†…å®¹ï¼Œéä¸‰è¨€ä¸¤è¯­é“çš„æ˜ç™½ï¼›å¤§å®¶å¯ä»¥é€šè¿‡ä¸‹é¢å‡ ç¯‡æ–‡ç« æ¥å­¦ä¹ ï¼š
<a href="http://www.cnblogs.com/skywang12345/p/3311899.html">æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸Šï¼‰</a>
<a href="http://www.cnblogs.com/skywang12345/p/3311909.html">æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸­ï¼‰</a>
<a href="http://www.cnblogs.com/skywang12345/p/3311915.html">æ•£åˆ—è¡¨(Hash Table)ä»ç†è®ºåˆ°å®ç”¨ï¼ˆä¸‹ï¼‰ </a></p>
<p>ä¸ºäº†èƒ½ç†è§£åé¢çš„å†…å®¹ï¼Œè¿™é‡Œç®€å•çš„ä»‹ç»ä¸€ä¸‹æ•£åˆ—ç çš„ä½œç”¨ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®é”®å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„å€¼ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ã€‚æ•£åˆ—è¡¨çš„æœ¬è´¨æ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ã€‚å½“æˆ‘ä»¬è¦è·å–æ•£åˆ—è¡¨ä¸­çš„æŸä¸ª<code>å€¼</code>æ—¶ï¼Œå®é™…ä¸Šæ˜¯è¦è·å–æ•°ç»„ä¸­çš„æŸä¸ªä½ç½®çš„å…ƒç´ ã€‚è€Œæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œå°±æ˜¯é€šè¿‡<code>é”®</code>æ¥è·å–çš„ï¼›æ›´è¿›ä¸€æ­¥è¯´ï¼Œæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ˜¯é€šè¿‡<code>é”®</code>å¯¹åº”çš„æ•£åˆ—ç è®¡ç®—å¾—åˆ°çš„ã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬ä»¥HashSetä¸ºä¾‹ï¼Œæ¥æ·±å…¥è¯´æ˜hashCode()çš„ä½œç”¨ã€‚
å‡è®¾ï¼ŒHashSetä¸­å·²ç»æœ‰1000ä¸ªå…ƒç´ ã€‚å½“æ’å…¥ç¬¬1001ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦æ€ä¹ˆå¤„ç†ï¼Ÿå› ä¸ºHashSetæ˜¯Seté›†åˆï¼Œå®ƒä¸å…è®¸æœ‰é‡å¤å…ƒç´ ã€‚
å°†ç¬¬1001ä¸ªå…ƒç´ é€ä¸ªçš„å’Œå‰é¢1000ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Ÿæ˜¾ç„¶ï¼Œè¿™ä¸ªæ•ˆç‡æ˜¯ç›¸ç­‰ä½ä¸‹çš„ã€‚æ•£åˆ—è¡¨å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæ ¹æ®å…ƒç´ çš„æ•£åˆ—ç è®¡ç®—å‡ºå…ƒç´ åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ï¼Œç„¶åå°†å…ƒç´ æ’å…¥è¯¥ä½ç½®å³å¯ã€‚å¯¹äºç›¸åŒçš„å…ƒç´ ï¼Œè‡ªç„¶æ˜¯åªä¿å­˜äº†ä¸€ä¸ªã€‚</p>
<p>ç”±æ­¤å¯çŸ¥ï¼Œè‹¥ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼Œå®ƒä»¬çš„æ•£åˆ—ç ä¸€å®šç›¸ç­‰ï¼›ä½†åè¿‡æ¥å´ä¸ä¸€å®šã€‚åœ¨æ•£åˆ—è¡¨ä¸­ï¼Œ</p>
<ul>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„hashCode()å€¼ä¸€å®šè¦ç›¸åŒï¼›</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCode()ç›¸ç­‰ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚
æ³¨æ„ï¼šè¿™æ˜¯åœ¨æ•£åˆ—è¡¨ä¸­çš„æƒ…å†µã€‚åœ¨éæ•£åˆ—è¡¨ä¸­ä¸ä¸€å®šå¦‚æ­¤ã€‚</li>
</ul>
<h1 id="hashcode-å’Œ-equals-çš„å…³ç³»">hashCode() å’Œ equals() çš„å…³ç³»<a hidden class="anchor" aria-hidden="true" href="#hashcode-å’Œ-equals-çš„å…³ç³»">#</a></h1>
<p>æˆ‘ä»¬ä»¥<code>ç±»çš„ç”¨é€”</code>æ¥å°†hashCode() å’Œ equals()çš„å…³ç³»åˆ†2ç§æƒ…å†µæ¥è¯´æ˜ã€‚</p>
<h2 id="ä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">ä¸ä¼šåˆ›å»º<code>ç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code><a hidden class="anchor" aria-hidden="true" href="#ä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">#</a></h2>
<p>è¿™é‡Œæ‰€è¯´çš„<code>ä¸ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code>æ˜¯è¯´ï¼šæˆ‘ä»¬ä¸ä¼šåœ¨HashSetï¼ŒHashtableï¼ŒHashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¸ä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„<code>hashCode()å’Œequals()</code>æ²¡æœ‰åŠç‚¹å…³ç³»ã€‚
è¿™ç§æƒ…å†µä¸‹ï¼Œequals() ç”¨æ¥æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚è€ŒhashCode() åˆ™æ ¹æœ¬æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œæ‰€ä»¥ä¸ç”¨ç†ä¼šhashCode()ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ç¤ºä¾‹æŸ¥çœ‹ç±»çš„ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ä»¥åŠä¸ç­‰æ—¶hashCode()çš„å–å€¼ã€‚</p>
<p>æºç å¦‚ä¸‹ (NormalHashCodeTest.java)ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> NormalHashCodeTest{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»º2ä¸ªç›¸åŒå†…å®¹çš„Personå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// å†ç”¨equalsæ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p3 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;aaa&#34;</span>, <span style="color:#ff0;font-weight:bold">200</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p2) : %s; p1(%d) p2(%d)\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2), p1.<span style="color:#007f7f">hashCode</span>(), p2.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p3) : %s; p1(%d) p3(%d)\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p3), p1.<span style="color:#007f7f">hashCode</span>(), p3.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name + <span style="color:#0ff;font-weight:bold">&#34; - &#34;</span> +age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @desc è¦†ç›–equalsæ–¹æ³• 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(obj == <span style="color:#fff;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span> == obj){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getClass</span>() != obj.<span style="color:#007f7f">getClass</span>()){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            Person person = (Person)obj;  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name.<span style="color:#007f7f">equals</span>(person.<span style="color:#007f7f">name</span>) &amp;&amp; age==person.<span style="color:#007f7f">age</span>;  
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>p1.equals(p2) : true; p1(1169863946) p2(1901116749)
</span></span><span style="display:flex;"><span>p1.equals(p3) : false; p1(1169863946) p3(2131949076)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼šp1å’Œp2ç›¸ç­‰çš„æƒ…å†µä¸‹ï¼ŒhashCode()ä¹Ÿä¸ä¸€å®šç›¸ç­‰ã€‚</p>
<h2 id="ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">ä¼šåˆ›å»º<code>ç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code><a hidden class="anchor" aria-hidden="true" href="#ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨">#</a></h2>
<p>è¿™é‡Œæ‰€è¯´çš„<code>ä¼šåˆ›å»ºç±»å¯¹åº”çš„æ•£åˆ—è¡¨</code>æ˜¯è¯´ï¼šæˆ‘ä»¬ä¼šåœ¨HashSetï¼ŒHashtableï¼ŒHashMapç­‰ç­‰è¿™äº›æœ¬è´¨æ˜¯æ•£åˆ—è¡¨çš„æ•°æ®ç»“æ„ä¸­ï¼Œç”¨åˆ°è¯¥ç±»ã€‚ä¾‹å¦‚ï¼Œä¼šåˆ›å»ºè¯¥ç±»çš„HashSeté›†åˆã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥ç±»çš„<code>hashCode() å’Œ equals() </code>æ˜¯æœ‰å…³ç³»çš„ï¼š</p>
<ul>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„hashCode()å€¼ä¸€å®šç›¸åŒã€‚è¿™é‡Œçš„ç›¸ç­‰æ˜¯æŒ‡ï¼Œé€šè¿‡equals()æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ—¶è¿”å›trueã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡hashCode()ç›¸ç­‰ï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸ç­‰ã€‚å› ä¸ºåœ¨æ•£åˆ—è¡¨ä¸­ï¼ŒhashCode()ç›¸ç­‰ï¼Œå³ä¸¤ä¸ªé”®å€¼å¯¹çš„å“ˆå¸Œå€¼ç›¸ç­‰ã€‚ç„¶è€Œå“ˆå¸Œå€¼ç›¸ç­‰ï¼Œå¹¶ä¸ä¸€å®šèƒ½å¾—å‡ºé”®å€¼å¯¹ç›¸ç­‰ã€‚è¡¥å……è¯´ä¸€å¥ï¼š<code>ä¸¤ä¸ªä¸åŒçš„é”®å€¼å¯¹ï¼Œå“ˆå¸Œå€¼ç›¸ç­‰</code>ï¼Œè¿™å°±æ˜¯å“ˆå¸Œå†²çªã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ã€‚è‹¥è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œé™¤äº†è¦è¦†ç›–equals()ä¹‹å¤–ï¼Œä¹Ÿè¦è¦†ç›–hashCode()å‡½æ•°ã€‚å¦åˆ™ï¼Œequals()æ— æ•ˆã€‚
ä¾‹å¦‚ï¼Œåˆ›å»ºPersonç±»çš„HashSeté›†åˆï¼Œå¿…é¡»åŒæ—¶è¦†ç›–Personç±»çš„equals() å’Œ hashCode()æ–¹æ³•ã€‚
å¦‚æœå•å•åªæ˜¯è¦†ç›–equals()æ–¹æ³•ã€‚æˆ‘ä»¬ä¼šå‘ç°ï¼Œequals()æ–¹æ³•æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>
<p>ä»£ç  (ConflictHashCodeTest1.java)ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ConflictHashCodeTest1{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»ºPersonå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p3 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;aaa&#34;</span>, <span style="color:#ff0;font-weight:bold">200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»ºHashSetå¯¹è±¡ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        HashSet set = <span style="color:#fff;font-weight:bold">new</span> HashSet();
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p1);
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p2);
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p2) : %s; p1(%d) p2(%d)\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2), p1.<span style="color:#007f7f">hashCode</span>(), p2.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‰“å°set
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;set:%s\n&#34;</span>, set);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;(&#34;</span>+name + <span style="color:#0ff;font-weight:bold">&#34;, &#34;</span> +age+<span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @desc è¦†ç›–equalsæ–¹æ³• 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(obj == <span style="color:#fff;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span> == obj){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getClass</span>() != obj.<span style="color:#007f7f">getClass</span>()){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            Person person = (Person)obj;  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name.<span style="color:#007f7f">equals</span>(person.<span style="color:#007f7f">name</span>) &amp;&amp; age==person.<span style="color:#007f7f">age</span>;  
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>p1.equals(p2) : true; p1(1169863946) p2(1690552137)
</span></span><span style="display:flex;"><span>set:[(eee, 100), (eee, 100), (aaa, 200)]
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»“æœåˆ†æï¼š
æˆ‘ä»¬é‡å†™äº†Personçš„equals()ã€‚ä½†æ˜¯ï¼Œå¾ˆå¥‡æ€ªçš„å‘ç°ï¼šHashSetä¸­ä»ç„¶æœ‰é‡å¤å…ƒç´ ï¼šp1 å’Œ p2ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè™½ç„¶p1 å’Œ p2çš„å†…å®¹ç›¸ç­‰ï¼Œä½†æ˜¯å®ƒä»¬çš„hashCode()ä¸ç­‰ï¼›æ‰€ä»¥ï¼ŒHashSetåœ¨æ·»åŠ p1å’Œp2çš„æ—¶å€™ï¼Œè®¤ä¸ºå®ƒä»¬ä¸ç›¸ç­‰ã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬åŒæ—¶è¦†ç›–equals() å’Œ hashCode()æ–¹æ³•ã€‚
ä»£ç  (ConflictHashCodeTest2.java)ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.lang.Comparable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ConflictHashCodeTest2{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»ºPersonå¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Person p1 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p2 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;eee&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>        Person p3 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;aaa&#34;</span>, <span style="color:#ff0;font-weight:bold">200</span>);
</span></span><span style="display:flex;"><span>        Person p4 = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;EEE&#34;</span>, <span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–°å»ºHashSetå¯¹è±¡ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        HashSet set = <span style="color:#fff;font-weight:bold">new</span> HashSet();
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p1);
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p2);
</span></span><span style="display:flex;"><span>        set.<span style="color:#007f7f">add</span>(p3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p2) : %s; p1(%d) p2(%d)\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p2), p1.<span style="color:#007f7f">hashCode</span>(), p2.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ¯”è¾ƒp1 å’Œ p4ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;p1.equals(p4) : %s; p1(%d) p4(%d)\n&#34;</span>, p1.<span style="color:#007f7f">equals</span>(p4), p1.<span style="color:#007f7f">hashCode</span>(), p4.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‰“å°set
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">printf</span>(<span style="color:#0ff;font-weight:bold">&#34;set:%s\n&#34;</span>, set);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @desc Personç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>        String name;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> Person(String name, <span style="color:#fff;font-weight:bold">int</span> age) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">age</span> = age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> String toString() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name + <span style="color:#0ff;font-weight:bold">&#34; - &#34;</span> +age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @descé‡å†™hashCode 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> hashCode(){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">int</span> nameHash =  name.<span style="color:#007f7f">toUpperCase</span>().<span style="color:#007f7f">hashCode</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> nameHash ^ age;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * @desc è¦†ç›–equalsæ–¹æ³• 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>  
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span>(obj == <span style="color:#fff;font-weight:bold">null</span>){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span> == obj){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ  
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">getClass</span>() != obj.<span style="color:#007f7f">getClass</span>()){  
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;  
</span></span><span style="display:flex;"><span>            }  
</span></span><span style="display:flex;"><span>              
</span></span><span style="display:flex;"><span>            Person person = (Person)obj;  
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> name.<span style="color:#007f7f">equals</span>(person.<span style="color:#007f7f">name</span>) &amp;&amp; age==person.<span style="color:#007f7f">age</span>;  
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>p1.equals(p2) : true; p1(68545) p2(68545)
</span></span><span style="display:flex;"><span>p1.equals(p4) : false; p1(68545) p4(68545)
</span></span><span style="display:flex;"><span>set:[aaa - 200, eee - 100]
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç»“æœåˆ†æï¼š
è¿™ä¸‹ï¼Œequals()ç”Ÿæ•ˆäº†ï¼ŒHashSetä¸­æ²¡æœ‰é‡å¤å…ƒç´ ã€‚
æ¯”è¾ƒp1å’Œp2ï¼Œæˆ‘ä»¬å‘ç°ï¼šå®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬ä¹Ÿè¿”å›trueã€‚æ‰€ä»¥ï¼Œp1å’Œp2è¢«è§†ä¸ºç›¸ç­‰ã€‚
æ¯”è¾ƒp1å’Œp4ï¼Œæˆ‘ä»¬å‘ç°ï¼šè™½ç„¶å®ƒä»¬çš„hashCode()ç›¸ç­‰ï¼›ä½†æ˜¯ï¼Œé€šè¿‡equals()æ¯”è¾ƒå®ƒä»¬è¿”å›falseã€‚æ‰€ä»¥ï¼Œp1å’Œp4è¢«è§†ä¸ºä¸ç›¸ç­‰ã€‚</p>
<p><a href="https://www.cnblogs.com/skywang12345/p/3324958.html">å‚è€ƒ</a></p>
<h1 id="equals">equals<a hidden class="anchor" aria-hidden="true" href="#equals">#</a></h1>
<p>equalsæ–¹æ³•å®šä¹‰äºObjectç±»ä¸­ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> (<span style="color:#fff;font-weight:bold">this</span> == obj);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦<code>ç›¸ç­‰</code>ã€‚
å¦‚ï¼š<code>x.equals(y)</code>ï¼Œå½“xå’Œyæ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œè¿”å›trueï¼Œå¦åˆ™falseã€‚</p>
<p>é€šè¿‡ä¾‹å­æŒæ¡equalsçš„ç”¨æ³•</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TestEquals {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * è¿™é‡Œä½¿ç”¨æ„é€ æ–¹æ³•Cat()åœ¨å †å†…å­˜é‡Œé¢newå‡ºäº†ä¸¤åªçŒ«ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * è¿™ä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * ä½†c1å’Œc2å´æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œè¿™æ˜¯å› ä¸ºc1å’Œc2åˆ†åˆ«ä¸ºå †å†…å­˜é‡Œé¢ä¸¤åªçŒ«çš„å¼•ç”¨å¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * é‡Œé¢è£…ç€å¯ä»¥æ‰¾åˆ°è¿™ä¸¤åªçŒ«çš„åœ°å€ï¼Œä½†ç”±äºä¸¤åªçŒ«åœ¨å †å†…å­˜é‡Œé¢å­˜å‚¨åœ¨ä¸¤ä¸ªä¸åŒçš„ç©ºé—´é‡Œé¢ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * æ‰€ä»¥c1å’Œc2åˆ†åˆ«è£…ç€ä¸åŒçš„åœ°å€ï¼Œå› æ­¤c1å’Œc2æ°¸è¿œä¸ä¼šç›¸ç­‰ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>
</span></span><span style="display:flex;"><span>        Cat c1 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>        Cat c2 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;c1 == c2çš„ç»“æœæ˜¯ï¼š&#34;</span> + (c1 == c2)); <span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;c1.equals(c2)çš„ç»“æœæ˜¯ï¼š&#34;</span>+c1.<span style="color:#007f7f">equals</span>(c2)); <span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Cat {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> color, weight, height;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Cat(<span style="color:#fff;font-weight:bold">int</span> color, <span style="color:#fff;font-weight:bold">int</span> weight, <span style="color:#fff;font-weight:bold">int</span> height) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">color</span> = color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">weight</span> = weight;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">height</span> = height;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡å†…å­˜åˆ†æå›¾ï¼Œåˆ†æc1å’Œc2æ¯”è¾ƒçš„ç»“æœã€‚
ç¨‹åºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Cat c1 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>Cat c2 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œå®Œä¹‹åå†…å­˜ä¹‹ä¸­çš„å¸ƒå±€å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img loading="lazy" src="1.jpg" alt=""  />
</p>
<p>c1æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œc2ä¹ŸæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œc1å’Œc2é‡Œé¢è£…çš„æ˜¯è¿™ä¸¤åªCatå¯¹è±¡åœ¨å †å†…å­˜é‡Œå­˜å‚¨çš„åœ°å€ã€‚
ç”±äºä¸¤åªcatå¯¹è±¡åˆ†åˆ«ä½äºä¸åŒçš„å­˜å‚¨ç©ºé—´ï¼Œå› æ­¤c1å’Œc2é‡Œé¢è£…ç€çš„åœ°å€è‚¯å®šä¸ç›¸ç­‰ï¼Œæ‰€ä»¥c1å’Œc2çš„å¼•ç”¨å¯¹è±¡ä¹Ÿä¸ç›¸ç­‰ã€‚
æ‰€ä»¥<code>System.out.println(c1 == c2);</code>æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯falseã€‚
c1æ˜¯ä¸æ˜¯ç­‰äºc2ï¼Œæ¯”è¾ƒçš„æ˜¯c1å’Œc2è¿™ä¸¤ä¸ªå¼•ç”¨é‡Œé¢è£…ç€çš„å†…å®¹ï¼Œå› ä¸ºc1å’Œc2æ˜¯åˆ†åˆ«newå‡ºæ¥çš„ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸ä¸€æ ·ï¼Œæ‰€ä»¥c1å’Œc2è¿™ä¸¤ä¸ªå¼•ç”¨çš„å†…å®¹ä¹Ÿä¸ä¸€æ ·ã€‚</p>
<p>è¦æƒ³åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œä¸èƒ½é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸ç­‰ï¼Œå› ä¸ºä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸ç­‰ã€‚æ‰€ä»¥æ­£ç¡®çš„çš„æ¯”è¾ƒæ–¹æ³•æ˜¯ï¼Œé€šè¿‡æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§å€¼æ˜¯å¦ç›¸åŒè€Œå†³å®šè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚</p>
<p>Object ç±»æä¾›äº†ä¸€ä¸ªequals()æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¿™ä¸ªæ–¹æ³•å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦åœ¨é€»è¾‘ä¸Šâ€œç›¸ç­‰â€ã€‚å¦‚ï¼š<code>c1.equals(c2);</code></p>
<p>è¿™é‡Œæ˜¯è°ƒç”¨ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ï¼Œé€šè¿‡æŸ¥é˜…APIæ–‡æ¡£å¾—åˆ°Objectç±»é‡Œçš„equalsæ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> (<span style="color:#fff;font-weight:bold">this</span> == obj);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨Objectè¿™ä¸ªç±»é‡Œé¢æä¾›çš„Equals()æ–¹æ³•ï¼Œé»˜è®¤çš„å®ç°æ˜¯æ¯”è¾ƒå½“å‰å¯¹è±¡çš„å¼•ç”¨å’Œä½ è¦æ¯”è¾ƒçš„é‚£ä¸ªå¼•ç”¨ï¼Œå®ƒä»¬æŒ‡å‘çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå³å’Œ<code>c1 == c2</code>è¿™ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼Œ<code>c1.equals(c2) ä¸ c1 == c2</code>æ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚</p>
<p>å› æ­¤ç›´æ¥ä½¿ç”¨ç»§æ‰¿ä¸‹æ¥çš„<code>equals()</code>æ–¹æ³•æ˜¯æ— æ³•ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸åŒçš„ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å¾—é‡å†™<code>equals()</code>æ–¹æ³•ï¼Œæ”¹å˜è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ã€‚</p>
<p>ä¸‹é¢åœ¨Catç±»é‡Œé¢é‡å†™è¿™ä¸ªç»§æ‰¿ä¸‹æ¥çš„<code>equals()</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Cat {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> color, weight, height;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Cat(<span style="color:#fff;font-weight:bold">int</span> color, <span style="color:#fff;font-weight:bold">int</span> weight, <span style="color:#fff;font-weight:bold">int</span> height) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">color</span> = color;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">weight</span> = weight;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">height</span> = height;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿™é‡Œæ˜¯é‡å†™ç›¸ç­‰ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ï¼Œæ”¹å˜è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * é€šè¿‡æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å®ç°æ¥åˆ¤æ–­å†³å®šä¸¤ä¸ªå¯¹è±¡åœ¨é€»è¾‘ä¸Šæ˜¯å¦ç›¸ç­‰ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿™é‡Œæˆ‘ä»¬å®šä¹‰å¦‚æœä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½ç›¸åŒï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * é‚£ä¹ˆæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸¤åªçŒ«åœ¨é€»è¾‘ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå³è¿™ä¸¤åªçŒ«æ˜¯â€œç›¸ç­‰â€çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> equals(Object obj){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (obj == <span style="color:#fff;font-weight:bold">null</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * instanceofæ˜¯å¯¹è±¡è¿ç®—ç¬¦ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * å¯¹è±¡è¿ç®—ç¬¦ç”¨æ¥æµ‹å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªæŒ‡å®šç±»æˆ–æŒ‡å®šçš„å­ç±»çš„å®ä¾‹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * å¯¹è±¡è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªç»„åˆå•è¯instanceofã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * è¯¥è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªåŒç›®è¿ç®—ç¬¦ï¼Œå…¶å·¦è¾¹çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå³è¾¹çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªç±»ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         * å¦‚æœå·¦è¾¹çš„å¯¹è±¡æ˜¯å³è¾¹çš„ç±»åˆ›å»ºçš„å¯¹è±¡ï¼Œåˆ™è¿ç®—ç»“æœä¸ºtrueï¼Œå¦åˆ™ä¸ºfalseã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">         */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (obj <span style="color:#fff;font-weight:bold">instanceof</span> Cat){
</span></span><span style="display:flex;"><span>            Cat c = (Cat)obj;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (c.<span style="color:#007f7f">color</span>==<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">color</span> &amp;&amp; c.<span style="color:#007f7f">weight</span>==<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">weight</span> &amp;&amp; c.<span style="color:#007f7f">height</span>==<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">height</span>){
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç°åœ¨éªŒè¯æˆ‘ä»¬çš„æ”¹åŠ¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * è¿™é‡Œä½¿ç”¨æ„é€ æ–¹æ³•Cat()åœ¨å †å†…å­˜é‡Œé¢newå‡ºäº†ä¸¤åªçŒ«ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * è¿™ä¸¤åªçŒ«çš„colorï¼Œweightï¼Œheightéƒ½æ˜¯ä¸€æ ·çš„ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * ä½†c1å’Œc2å´æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œè¿™æ˜¯å› ä¸ºc1å’Œc2åˆ†åˆ«ä¸ºå †å†…å­˜é‡Œé¢ä¸¤åªçŒ«çš„å¼•ç”¨å¯¹è±¡ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * é‡Œé¢è£…ç€å¯ä»¥æ‰¾åˆ°è¿™ä¸¤åªçŒ«çš„åœ°å€ï¼Œä½†ç”±äºä¸¤åªçŒ«åœ¨å †å†…å­˜é‡Œé¢å­˜å‚¨åœ¨ä¸¤ä¸ªä¸åŒçš„ç©ºé—´é‡Œé¢ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 * æ‰€ä»¥c1å’Œc2åˆ†åˆ«è£…ç€ä¸åŒçš„åœ°å€ï¼Œå› æ­¤c1å’Œc2æ°¸è¿œä¸ä¼šç›¸ç­‰ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">	 */</span>
</span></span><span style="display:flex;"><span>    Cat c1 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>    Cat c2 = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;c1 == c2çš„ç»“æœæ˜¯ï¼š&#34;</span>+(c1 == c2));<span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;c1.equals(c2)çš„ç»“æœæ˜¯ï¼š&#34;</span>+c1.<span style="color:#007f7f">equals</span>(c2));<span style="color:#007f7f">//true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸€æ¬¡å¾—åˆ°çš„ç»“æœå°±ä¸ä¸Šæ¬¡æ²¡æœ‰é‡å†™<code>equals()</code>æ–¹æ³•æ—¶å¾—åˆ°çš„ç»“æœå°±ä¸ä¸€æ ·äº†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(c1 == c2);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰“å°å‡ºæ¥çš„ç»“æœä¾ç„¶æ˜¯falseï¼Œå› ä¸ºè¿™é‡Œæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨é‡Œé¢çš„å†…å®¹ï¼Œè¿™ä¸¤ä¸ªå¼•ç”¨é‡Œé¢çš„å†…å®¹å½“ç„¶ä¸ç›¸ç­‰ï¼Œè€Œä¸”æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœè‚¯å®šæ˜¯falseã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(c1.<span style="color:#007f7f">equals</span>(c2));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºtrueï¼Œå› ä¸ºæˆ‘ä»¬åœ¨Catç±»é‡Œé¢é‡å†™äº†<code>equals()</code>æ–¹æ³•ï¼Œæ”¹å˜äº†è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ï¼Œæˆ‘ä»¬æŠŠæ–¹æ³•çš„å®ç°æ”¹ä¸ºåªè¦è¿™ä¸ªä¸¤ä¸ªå¯¹è±¡æ˜¯çœŸçš„å­˜åœ¨ï¼Œå¹¶ä¸”éƒ½æ˜¯çŒ«ï¼Œå¹¶ä¸”å®ƒä»¬çš„é¢œè‰²(color)ï¼Œèº«é«˜(height)å’Œä½“é‡(weight)éƒ½ç›¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤åªçŒ«åœ¨é€»è¾‘ä¸Šå°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ˜¯å®Œå…¨ç›¸åŒçš„ä¸¤åªçŒ«ï¼Œå³è¿™ä¸¤åªçŒ«æ˜¯â€œç›¸ç­‰â€çš„ã€‚æ‰€ä»¥è¿™é‡Œæ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯trueã€‚</p>
<h1 id="å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰">å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰<a hidden class="anchor" aria-hidden="true" href="#å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TestEquals {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String args[]){
</span></span><span style="display:flex;"><span>        String s1 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        String s2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1 == s2çš„ç»“æœæ˜¯ï¼š&#34;</span>+(s1 == s2));<span style="color:#007f7f">//false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;s1.equals(s2)çš„ç»“æœæ˜¯ï¼š&#34;</span>+s1.<span style="color:#007f7f">equals</span>(s2));<span style="color:#007f7f">//true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸€æ¬¡æ˜¯æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1 == s2);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰“å°å‡ºæ¥çš„ç»“æœä¾ç„¶æ˜¯falseï¼Œå› ä¸ºè¿™é‡Œæ¯”è¾ƒçš„æ˜¯s1å’Œs2ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ°¸è¿œä¸ä¼šç›¸ç­‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºfalseã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s1.<span style="color:#007f7f">equals</span>(s2));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰“å°å‡ºæ¥çš„ç»“æœä¸ºtrueï¼Œå› ä¸ºåœ¨Stringç±»é‡å†™äº†ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„<code>equals()</code>æ–¹æ³•ã€‚</p>
<p>æ³¨ï¼šæ‰€æœ‰çš„ç±»éƒ½æ˜¯ä»Objectç±»ç»§æ‰¿ä¸‹æ¥ï¼ŒStringç±»å½“ç„¶ä¹Ÿä¸ä¾‹å¤–ï¼Œä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥å°±æ‹¥æœ‰äº†çˆ¶ç±»çš„ä¸€åˆ‡å±æ€§ä¸æ–¹æ³•ï¼Œæ‰€ä»¥Stringç±»é‡Œé¢ä¹Ÿæœ‰<code>equals()</code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿˜æŠŠè¿™ä¸ªç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•é‡å†™äº†ï¼Œæ”¹å˜äº†è¿™ä¸ªæ–¹æ³•é»˜è®¤çš„å®ç°ã€‚</p>
<p>åœ¨Stringç±»é‡Œé¢æ˜¯è¿™æ ·é‡å†™equals()æ–¹æ³•çš„å®ç°çš„ï¼šç”¨å½“å‰çš„è¿™ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å’ŒæŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹è±¡æ¯”è¾ƒï¼ŒæŒ‡å®šçš„å­—ç¬¦ä¸²å¯¹è±¡ä¸èƒ½ä¸ºç©ºå¹¶ä¸”è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦åºåˆ—å’Œå½“å‰è¿™ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„å­—ç¬¦ä¸²åºåˆ—ä¸€æ ·ï¼Œå¦‚æœè¿™äº›æ¡ä»¶éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡å°±æ˜¯ç›¸ç­‰çš„ã€‚å› æ­¤è¿™é‡Œçš„s2å·²ç»æ»¡è¶³äº†æ¡ä»¶ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯trueã€‚</p>
<p>ä»¥ååœ¨æŸä¸€ä¸ªç±»é‡Œé¢æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œé¦–å…ˆå»APIæ–‡æ¡£é‡Œé¢æŸ¥æ‰¾è¿™ä¸ªç±»æ˜¯å¦é‡å†™äº†ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•ã€‚å¦‚æœé‡å†™äº†equals()æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰æ—¶è°ƒç”¨çš„å°±æ˜¯é‡å†™ä»¥åçš„equals()æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰é‡å†™ï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶å°±æ˜¯ç›´æ¥è°ƒç”¨ä»Objectç±»é‡Œé¢çš„ç»§æ‰¿ä¸‹æ¥çš„é‚£ä¸ªequals()æ–¹æ³•ï¼Œå¹¶ä¸”é‡‡ç”¨equals()æ–¹æ³•é»˜è®¤çš„å®ç°å»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚å› æ­¤æ¯ä¸€ä¸ªç±»éƒ½å¯ä»¥æ ¹æ®éœ€è¦å¯¹ä»Objectç±»ç»§æ‰¿ä¸‹æ¥çš„equals()æ–¹æ³•è¿›è¡Œé‡å†™ã€‚</p>
<p>æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œæˆ‘ä»¬é‡‡ç”¨equals()æ–¹æ³•ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ¡ä»¶æ˜¯ç”±æˆ‘ä»¬é‡å†™equals()æ–¹æ³•çš„å®ç°åå®šä¹‰çš„ï¼Œè¿™æ ·å°±å¯ä»¥æ¯”è¾ƒçµæ´»åœ°ä½¿ç”¨equals()æ–¹æ³•åœ¨ä¸åŒçš„ç±»é‡Œé¢æ¯”è¾ƒä½äºåŒä¸€ç±»ä¸‹çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰äº†ã€‚</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/java/">java</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="http://localhost:1313/">Wjy&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>