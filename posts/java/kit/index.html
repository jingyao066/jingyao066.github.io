<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;Â»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      kit
    </h1>
    <div class="post-meta"><span title='2020-01-11 10:27:48 +0000 UTC'>2020-01-11</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#ffmpeg%e4%bd%bf%e7%94%a8" aria-label="ffmpegä½¿ç”¨">ffmpegä½¿ç”¨</a><ul>
                        
                <li>
                    <a href="#%e9%9f%b3%e9%a2%91%e6%96%87%e4%bb%b6%e8%bd%acwav%e6%a0%bc%e5%bc%8f" aria-label="éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼">éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼</a></li>
                <li>
                    <a href="#%e9%9f%b3%e9%a2%91%e5%88%87%e5%89%b2" aria-label="éŸ³é¢‘åˆ‡å‰²">éŸ³é¢‘åˆ‡å‰²</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9c%a8%e5%9b%be%e7%89%87%e4%b8%8a%e5%86%99%e5%ad%97" aria-label="åœ¨å›¾ç‰‡ä¸Šå†™å­—">åœ¨å›¾ç‰‡ä¸Šå†™å­—</a><ul>
                        
                <li>
                    <a href="#%e6%8a%8a%e5%ad%97%e5%86%99%e5%88%b0%e5%b7%b2%e5%ad%98%e5%9c%a8%e7%9a%84%e5%9b%be%e7%89%87%e4%b8%8a" aria-label="æŠŠå­—å†™åˆ°å·²å­˜åœ¨çš„å›¾ç‰‡ä¸Š">æŠŠå­—å†™åˆ°å·²å­˜åœ¨çš„å›¾ç‰‡ä¸Š</a></li>
                <li>
                    <a href="#%e8%bf%9b%e9%98%b6%e6%96%87%e5%ad%97%e8%87%aa%e5%8a%a8%e6%8d%a2%e8%a1%8c" aria-label="è¿›é˜¶ï¼Œæ–‡å­—è‡ªåŠ¨æ¢è¡Œ">è¿›é˜¶ï¼Œæ–‡å­—è‡ªåŠ¨æ¢è¡Œ</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%a3%81%e5%89%aa%e5%9b%be%e7%89%87%e7%a9%ba%e7%99%bd%e5%8c%ba%e5%9f%9f" aria-label="è£å‰ªå›¾ç‰‡ç©ºç™½åŒºåŸŸ">è£å‰ªå›¾ç‰‡ç©ºç™½åŒºåŸŸ</a></li>
                <li>
                    <a href="#%e5%b7%a5%e5%85%b7%e7%b1%bb" aria-label="å·¥å…·ç±»">å·¥å…·ç±»</a><ul>
                        
                <li>
                    <a href="#%e6%97%b6%e9%97%b4" aria-label="æ—¶é—´">æ—¶é—´</a><ul>
                        
                <li>
                    <a href="#%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e6%97%b6%e9%97%b4%e6%88%b3%e6%98%af%e5%90%a6%e6%98%af%e5%90%8c%e4%b8%80%e5%a4%a9" aria-label="åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æˆ³æ˜¯å¦æ˜¯åŒä¸€å¤©">åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æˆ³æ˜¯å¦æ˜¯åŒä¸€å¤©</a></li>
                <li>
                    <a href="#%e8%ae%a1%e7%ae%97%e4%b8%a4%e4%b8%aa%e6%97%b6%e9%97%b4%e6%88%b3%e5%b7%ae%e5%80%bc%e7%a7%92%e7%ba%a7%e6%97%b6%e9%97%b4%e6%88%b3" aria-label="è®¡ç®—ä¸¤ä¸ªæ—¶é—´æˆ³å·®å€¼(ç§’çº§æ—¶é—´æˆ³)">è®¡ç®—ä¸¤ä¸ªæ—¶é—´æˆ³å·®å€¼(ç§’çº§æ—¶é—´æˆ³)</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2" aria-label="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</a><ul>
                        
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8e%92%e5%ba%8f" aria-label="å­—ç¬¦ä¸²æ’åº">å­—ç¬¦ä¸²æ’åº</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%88%a4%e6%96%ad%e7%89%88%e6%9c%ac%e5%8f%b7" aria-label="åˆ¤æ–­ç‰ˆæœ¬å·">åˆ¤æ–­ç‰ˆæœ¬å·</a></li>
                <li>
                    <a href="#base64%e7%bc%96%e7%a0%81%e5%92%8c%e8%a7%a3%e7%a0%81" aria-label="base64ç¼–ç å’Œè§£ç ">base64ç¼–ç å’Œè§£ç </a></li>
                <li>
                    <a href="#%e8%af%bb%e5%8f%96pdf%e5%86%85%e5%ae%b9" aria-label="è¯»å–pdfå†…å®¹">è¯»å–pdfå†…å®¹</a></li></ul>
                </li>
                <li>
                    <a href="#java%e5%ae%9e%e7%8e%b0office%e7%b3%bb%e5%88%97%e6%96%87%e4%bb%b6%e8%bd%acpdf%e6%96%87%e4%bb%b6" aria-label="Javaå®ç°Officeç³»åˆ—æ–‡ä»¶è½¬PDFæ–‡ä»¶">Javaå®ç°Officeç³»åˆ—æ–‡ä»¶è½¬PDFæ–‡ä»¶</a></li>
                <li>
                    <a href="#pdf%e8%bd%ac%e5%9b%be%e7%89%87" aria-label="PDFè½¬å›¾ç‰‡">PDFè½¬å›¾ç‰‡</a></li>
                <li>
                    <a href="#ppt%e8%bd%ac%e5%9b%be%e7%89%87" aria-label="pptè½¬å›¾ç‰‡">pptè½¬å›¾ç‰‡</a></li>
                <li>
                    <a href="#aspose-%e7%a0%b4%e8%a7%a3" aria-label="aspose ç ´è§£">aspose ç ´è§£</a><ul>
                        
                <li>
                    <a href="#asposepdf-for-java-2111-%e7%a0%b4%e8%a7%a3" aria-label="Aspose.PDF for Java 21.11 ç ´è§£">Aspose.PDF for Java 21.11 ç ´è§£</a><ul>
                        
                <li>
                    <a href="#%e5%88%86%e6%9e%90%e4%bb%a3%e7%a0%81" aria-label="åˆ†æä»£ç ">åˆ†æä»£ç </a></li>
                <li>
                    <a href="#%e5%bc%80%e5%a7%8b%e7%a0%b4%e8%a7%a3" aria-label="å¼€å§‹ç ´è§£">å¼€å§‹ç ´è§£</a></li>
                <li>
                    <a href="#asposeslides-for-java-2110-%e7%a0%b4%e8%a7%a3" aria-label="Aspose.Slides for Java 21.10 ç ´è§£">Aspose.Slides for Java 21.10 ç ´è§£</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8serverless%e5%b0%86oss%e6%96%87%e4%bb%b6%e6%89%93%e5%8c%85%e4%b8%8b%e8%bd%bd" aria-label="ä½¿ç”¨Serverlesså°†OSSæ–‡ä»¶æ‰“åŒ…ä¸‹è½½">ä½¿ç”¨Serverlesså°†OSSæ–‡ä»¶æ‰“åŒ…ä¸‹è½½</a><ul>
                        
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%87%bd%e6%95%b0%e8%ae%a1%e7%ae%97%e6%89%93%e5%8c%85%e4%b8%8b%e8%bd%bdoss%e6%96%87%e4%bb%b6" aria-label="ä½¿ç”¨å‡½æ•°è®¡ç®—æ‰“åŒ…ä¸‹è½½OSSæ–‡ä»¶">ä½¿ç”¨å‡½æ•°è®¡ç®—æ‰“åŒ…ä¸‹è½½OSSæ–‡ä»¶</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%bamaven%e9%a1%b9%e7%9b%ae%e6%b7%bb%e5%8a%a0%e9%98%bf%e9%87%8c%e4%ba%91%e5%87%bd%e6%95%b0%e8%ae%a1%e7%ae%97%e4%be%9d%e8%b5%96" aria-label="åˆ›å»ºMavené¡¹ç›®ï¼Œæ·»åŠ é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ä¾èµ–">åˆ›å»ºMavené¡¹ç›®ï¼Œæ·»åŠ é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ä¾èµ–</a></li>
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0http%e8%a7%a6%e5%8f%91%e6%8e%a5%e5%8f%a3" aria-label="å®ç°Httpè§¦å‘æ¥å£">å®ç°Httpè§¦å‘æ¥å£</a></li>
                <li>
                    <a href="#%e7%99%bb%e5%bd%95%e9%98%bf%e9%87%8c%e4%ba%91" aria-label="ç™»å½•é˜¿é‡Œäº‘">ç™»å½•é˜¿é‡Œäº‘</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e9%98%bf%e9%87%8c%e4%ba%91serverless%e5%9b%9e%e8%b0%83" aria-label="é˜¿é‡Œäº‘Serverlesså›è°ƒ">é˜¿é‡Œäº‘Serverlesså›è°ƒ</a></li>
                <li>
                    <a href="#%e5%ad%97%e8%8a%82%e5%b7%a5%e5%85%b7%e7%b1%bb" aria-label="å­—èŠ‚å·¥å…·ç±»">å­—èŠ‚å·¥å…·ç±»</a></li>
                <li>
                    <a href="#%e5%b7%a5%e5%85%b7%e7%b1%bb-1" aria-label="å·¥å…·ç±»">å·¥å…·ç±»</a><ul>
                        
                <li>
                    <a href="#collections" aria-label="Collections">Collections</a></li>
                <li>
                    <a href="#collectionutils" aria-label="CollectionUtils">CollectionUtils</a><ul>
                        
                <li>
                    <a href="#21-%e9%9b%86%e5%90%88%e5%88%a4%e7%a9%ba" aria-label="2.1 é›†åˆåˆ¤ç©º">2.1 é›†åˆåˆ¤ç©º</a></li>
                <li>
                    <a href="#22-%e5%af%b9%e4%b8%a4%e4%b8%aa%e9%9b%86%e5%90%88%e8%bf%9b%e8%a1%8c%e6%93%8d%e4%bd%9c" aria-label="2.2 å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œ">2.2 å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œ</a></li></ul>
                </li>
                <li>
                    <a href="#lists" aria-label="Lists">Lists</a><ul>
                        
                <li>
                    <a href="#31-%e5%88%9b%e5%bb%ba%e7%a9%ba%e9%9b%86%e5%90%88" aria-label="3.1 åˆ›å»ºç©ºé›†åˆ">3.1 åˆ›å»ºç©ºé›†åˆ</a></li>
                <li>
                    <a href="#32-%e5%bf%ab%e9%80%9f%e5%88%9d%e5%a7%8b%e5%8c%96%e9%9b%86%e5%90%88" aria-label="3.2 å¿«é€Ÿåˆå§‹åŒ–é›†åˆ">3.2 å¿«é€Ÿåˆå§‹åŒ–é›†åˆ</a></li>
                <li>
                    <a href="#33-%e7%ac%9b%e5%8d%a1%e5%b0%94%e7%a7%af" aria-label="3.3 ç¬›å¡å°”ç§¯">3.3 ç¬›å¡å°”ç§¯</a></li>
                <li>
                    <a href="#34-%e5%88%86%e9%a1%b5" aria-label="3.4 åˆ†é¡µ">3.4 åˆ†é¡µ</a></li>
                <li>
                    <a href="#35-%e6%b5%81%e5%a4%84%e7%90%86" aria-label="3.5 æµå¤„ç†">3.5 æµå¤„ç†</a></li>
                <li>
                    <a href="#36-%e9%a2%a0%e5%80%92%e9%a1%ba%e5%ba%8f" aria-label="3.6 é¢ å€’é¡ºåº">3.6 é¢ å€’é¡ºåº</a></li></ul>
                </li>
                <li>
                    <a href="#objects" aria-label="Objects">Objects</a><ul>
                        
                <li>
                    <a href="#41-%e5%af%b9%e8%b1%a1%e5%88%a4%e7%a9%ba" aria-label="4.1 å¯¹è±¡åˆ¤ç©º">4.1 å¯¹è±¡åˆ¤ç©º</a></li>
                <li>
                    <a href="#42-%e5%af%b9%e8%b1%a1%e4%b8%ba%e7%a9%ba%e6%8a%9b%e5%bc%82%e5%b8%b8" aria-label="4.2 å¯¹è±¡ä¸ºç©ºæŠ›å¼‚å¸¸">4.2 å¯¹è±¡ä¸ºç©ºæŠ›å¼‚å¸¸</a></li>
                <li>
                    <a href="#43-%e5%88%a4%e6%96%ad%e4%b8%a4%e4%b8%aa%e5%af%b9%e8%b1%a1%e6%98%af%e5%90%a6%e7%9b%b8%e7%ad%89" aria-label="4.3 åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰">4.3 åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</a></li>
                <li>
                    <a href="#44-%e8%8e%b7%e5%8f%96%e5%af%b9%e8%b1%a1%e7%9a%84hashcode" aria-label="4.4 è·å–å¯¹è±¡çš„hashCode">4.4 è·å–å¯¹è±¡çš„hashCode</a></li></ul>
                </li>
                <li>
                    <a href="#stringutils" aria-label="StringUtils">StringUtils</a><ul>
                        
                <li>
                    <a href="#62-%e5%88%86%e9%9a%94%e5%ad%97%e7%ac%a6%e4%b8%b2" aria-label="6.2 åˆ†éš”å­—ç¬¦ä¸²">6.2 åˆ†éš”å­—ç¬¦ä¸²</a></li>
                <li>
                    <a href="#63-%e5%88%a4%e6%96%ad%e6%98%af%e5%90%a6%e7%ba%af%e6%95%b0%e5%ad%97" aria-label="6.3 åˆ¤æ–­æ˜¯å¦çº¯æ•°å­—">6.3 åˆ¤æ–­æ˜¯å¦çº¯æ•°å­—</a></li></ul>
                </li>
                <li>
                    <a href="#assert" aria-label="Assert">Assert</a><ul>
                        
                <li>
                    <a href="#71-%e6%96%ad%e8%a8%80%e5%8f%82%e6%95%b0%e6%98%af%e5%90%a6%e4%b8%ba%e7%a9%ba" aria-label="7.1 æ–­è¨€å‚æ•°æ˜¯å¦ä¸ºç©º">7.1 æ–­è¨€å‚æ•°æ˜¯å¦ä¸ºç©º</a></li>
                <li>
                    <a href="#72-%e6%96%ad%e8%a8%80%e9%9b%86%e5%90%88%e6%98%af%e5%90%a6%e4%b8%ba%e7%a9%ba" aria-label="7.2 æ–­è¨€é›†åˆæ˜¯å¦ä¸ºç©º">7.2 æ–­è¨€é›†åˆæ˜¯å¦ä¸ºç©º</a></li>
                <li>
                    <a href="#73-%e6%96%ad%e8%a8%80%e6%9d%a1%e4%bb%b6%e6%98%af%e5%90%a6%e4%b8%ba%e7%a9%ba" aria-label="7.3 æ–­è¨€æ¡ä»¶æ˜¯å¦ä¸ºç©º">7.3 æ–­è¨€æ¡ä»¶æ˜¯å¦ä¸ºç©º</a></li></ul>
                </li>
                <li>
                    <a href="#mdc" aria-label="MDC">MDC</a></li>
                <li>
                    <a href="#classutils" aria-label="ClassUtils">ClassUtils</a><ul>
                        
                <li>
                    <a href="#101-%e8%8e%b7%e5%8f%96%e5%af%b9%e8%b1%a1%e7%9a%84%e6%89%80%e6%9c%89%e6%8e%a5%e5%8f%a3" aria-label="10.1 è·å–å¯¹è±¡çš„æ‰€æœ‰æ¥å£">10.1 è·å–å¯¹è±¡çš„æ‰€æœ‰æ¥å£</a></li>
                <li>
                    <a href="#102-%e8%8e%b7%e5%8f%96%e6%9f%90%e4%b8%aa%e7%b1%bb%e7%9a%84%e5%8c%85%e5%90%8d" aria-label="10.2 è·å–æŸä¸ªç±»çš„åŒ…å">10.2 è·å–æŸä¸ªç±»çš„åŒ…å</a></li>
                <li>
                    <a href="#103-%e5%88%a4%e6%96%ad%e6%9f%90%e4%b8%aa%e7%b1%bb%e6%98%af%e5%90%a6%e5%86%85%e9%83%a8%e7%b1%bb" aria-label="10.3 åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»">10.3 åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»</a></li>
                <li>
                    <a href="#104-%e5%88%a4%e6%96%ad%e5%af%b9%e8%b1%a1%e6%98%af%e5%90%a6%e4%bb%a3%e7%90%86%e5%af%b9%e8%b1%a1" aria-label="10.4 åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡">10.4 åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡</a></li></ul>
                </li>
                <li>
                    <a href="#beanutils" aria-label="BeanUtils">BeanUtils</a><ul>
                        
                <li>
                    <a href="#111-%e6%8b%b7%e8%b4%9d%e5%af%b9%e8%b1%a1%e7%9a%84%e5%b1%9e%e6%80%a7" aria-label="11.1 æ‹·è´å¯¹è±¡çš„å±æ€§">11.1 æ‹·è´å¯¹è±¡çš„å±æ€§</a></li>
                <li>
                    <a href="#112-%e5%ae%9e%e4%be%8b%e5%8c%96%e6%9f%90%e4%b8%aa%e7%b1%bb" aria-label="11.2 å®ä¾‹åŒ–æŸä¸ªç±»">11.2 å®ä¾‹åŒ–æŸä¸ªç±»</a></li>
                <li>
                    <a href="#113-%e8%8e%b7%e5%8f%96%e6%8c%87%e5%ae%9a%e7%b1%bb%e7%9a%84%e6%8c%87%e5%ae%9a%e6%96%b9%e6%b3%95" aria-label="11.3 è·å–æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•">11.3 è·å–æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•</a></li>
                <li>
                    <a href="#114-%e8%8e%b7%e5%8f%96%e6%8c%87%e5%ae%9a%e6%96%b9%e6%b3%95%e7%9a%84%e5%8f%82%e6%95%b0" aria-label="11.4 è·å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°">11.4 è·å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°</a></li></ul>
                </li>
                <li>
                    <a href="#reflectionutils" aria-label="ReflectionUtils">ReflectionUtils</a><ul>
                        
                <li>
                    <a href="#121-%e8%8e%b7%e5%8f%96%e6%96%b9%e6%b3%95" aria-label="12.1 è·å–æ–¹æ³•">12.1 è·å–æ–¹æ³•</a></li>
                <li>
                    <a href="#122-%e8%8e%b7%e5%8f%96%e5%ad%97%e6%ae%b5" aria-label="12.2 è·å–å­—æ®µ">12.2 è·å–å­—æ®µ</a></li>
                <li>
                    <a href="#123-%e6%89%a7%e8%a1%8c%e6%96%b9%e6%b3%95" aria-label="12.3 æ‰§è¡Œæ–¹æ³•">12.3 æ‰§è¡Œæ–¹æ³•</a></li>
                <li>
                    <a href="#124-%e5%88%a4%e6%96%ad%e5%ad%97%e6%ae%b5%e6%98%af%e5%90%a6%e5%b8%b8%e9%87%8f" aria-label="12.4 åˆ¤æ–­å­—æ®µæ˜¯å¦å¸¸é‡">12.4 åˆ¤æ–­å­—æ®µæ˜¯å¦å¸¸é‡</a></li>
                <li>
                    <a href="#125-%e5%88%a4%e6%96%ad%e6%98%af%e5%90%a6equals%e6%96%b9%e6%b3%95" aria-label="12.5 åˆ¤æ–­æ˜¯å¦equalsæ–¹æ³•">12.5 åˆ¤æ–­æ˜¯å¦equalsæ–¹æ³•</a></li></ul>
                </li>
                <li>
                    <a href="#base64utils" aria-label="Base64Utils">Base64Utils</a></li>
                <li>
                    <a href="#14-standardcharsets" aria-label="14. StandardCharsets">14. StandardCharsets</a></li>
                <li>
                    <a href="#15-digestutils" aria-label="15. DigestUtils">15. DigestUtils</a><ul>
                        
                <li>
                    <a href="#151-md5%e5%8a%a0%e5%af%86" aria-label="15.1 md5åŠ å¯†">15.1 md5åŠ å¯†</a></li>
                <li>
                    <a href="#152-sha256%e5%8a%a0%e5%af%86" aria-label="15.2 sha256åŠ å¯†">15.2 sha256åŠ å¯†</a></li></ul>
                </li>
                <li>
                    <a href="#serializationutils" aria-label="SerializationUtils">SerializationUtils</a></li>
                <li>
                    <a href="#httpstatus" aria-label="HttpStatus">HttpStatus</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%98%bf%e9%87%8c%e4%ba%91%e8%a7%86%e9%a2%91%e7%82%b9%e6%92%ad" aria-label="é˜¿é‡Œäº‘è§†é¢‘ç‚¹æ’­">é˜¿é‡Œäº‘è§†é¢‘ç‚¹æ’­</a><ul>
                        
                <li>
                    <a href="#hls%e6%a0%87%e5%87%86%e5%8a%a0%e5%af%86" aria-label="HLSæ ‡å‡†åŠ å¯†">HLSæ ‡å‡†åŠ å¯†</a><ul>
                        
                <li>
                    <a href="#%e5%8a%a0%e5%af%86%e5%8f%8a%e8%a7%a3%e5%af%86%e6%b5%81%e7%a8%8b" aria-label="åŠ å¯†åŠè§£å¯†æµç¨‹">åŠ å¯†åŠè§£å¯†æµç¨‹</a></li>
                <li>
                    <a href="#%e5%89%8d%e6%8f%90%e6%9d%a1%e4%bb%b6%e6%af%8f%e4%b8%80%e6%ad%a5%e9%83%bd%e8%a6%81%e6%89%a7%e8%a1%8c%e4%b8%8d%e7%84%b6%e5%90%8e%e8%be%b9%e8%b0%83%e6%8e%a5%e5%8f%a3%e4%bc%9a%e6%9c%89%e9%97%ae%e9%a2%98" aria-label="å‰ææ¡ä»¶ï¼ˆæ¯ä¸€æ­¥éƒ½è¦æ‰§è¡Œï¼Œä¸ç„¶åè¾¹è°ƒæ¥å£ä¼šæœ‰é—®é¢˜ï¼‰">å‰ææ¡ä»¶ï¼ˆæ¯ä¸€æ­¥éƒ½è¦æ‰§è¡Œï¼Œä¸ç„¶åè¾¹è°ƒæ¥å£ä¼šæœ‰é—®é¢˜ï¼‰</a></li>
                <li>
                    <a href="#%e5%8a%a0%e5%af%86%e8%a7%86%e9%a2%91" aria-label="åŠ å¯†è§†é¢‘">åŠ å¯†è§†é¢‘</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e7%94%a8%e4%ba%8ehls%e6%a0%87%e5%87%86%e5%8a%a0%e5%af%86%e7%9a%84%e8%bd%ac%e7%a0%81%e6%a8%a1%e6%9d%bf%e7%bb%84" aria-label="åˆ›å»ºç”¨äºHLSæ ‡å‡†åŠ å¯†çš„è½¬ç æ¨¡æ¿ç»„">åˆ›å»ºç”¨äºHLSæ ‡å‡†åŠ å¯†çš„è½¬ç æ¨¡æ¿ç»„</a></li>
                <li>
                    <a href="#%e6%90%ad%e5%bb%ba%e5%8a%a0%e5%af%86%e6%9c%8d%e5%8a%a1" aria-label="æ­å»ºåŠ å¯†æœåŠ¡ã€‚">æ­å»ºåŠ å¯†æœåŠ¡ã€‚</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e4%b8%8d%e8%bd%ac%e7%a0%81%e6%a8%a1%e6%9d%bf%e7%bb%84%e4%b8%8a%e4%bc%a0%e8%a7%86%e9%a2%91" aria-label="ä½¿ç”¨ä¸è½¬ç æ¨¡æ¿ç»„ä¸Šä¼ è§†é¢‘ã€‚">ä½¿ç”¨ä¸è½¬ç æ¨¡æ¿ç»„ä¸Šä¼ è§†é¢‘ã€‚</a></li>
                <li>
                    <a href="#%e5%8f%91%e8%b5%b7hls%e6%a0%87%e5%87%86%e5%8a%a0%e5%af%86%e8%bd%ac%e7%a0%81" aria-label="å‘èµ·HLSæ ‡å‡†åŠ å¯†è½¬ç ã€‚">å‘èµ·HLSæ ‡å‡†åŠ å¯†è½¬ç ã€‚</a></li>
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8bhls%e6%a0%87%e5%87%86%e5%8a%a0%e5%af%86%e7%bb%93%e6%9e%9c" aria-label="æŸ¥çœ‹HLSæ ‡å‡†åŠ å¯†ç»“æœã€‚">æŸ¥çœ‹HLSæ ‡å‡†åŠ å¯†ç»“æœã€‚</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%92%ad%e6%94%behls%e6%a0%87%e5%87%86%e5%8a%a0%e5%af%86%e8%a7%86%e9%a2%91" aria-label="æ’­æ”¾HLSæ ‡å‡†åŠ å¯†è§†é¢‘">æ’­æ”¾HLSæ ‡å‡†åŠ å¯†è§†é¢‘</a><ul>
                        
                <li>
                    <a href="#%e6%90%ad%e5%bb%ba%e8%a7%a3%e5%af%86%e6%9c%8d%e5%8a%a1" aria-label="æ­å»ºè§£å¯†æœåŠ¡">æ­å»ºè§£å¯†æœåŠ¡</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e8%a7%86%e9%a2%91%e6%92%ad%e6%94%be%e5%9c%b0%e5%9d%80%e5%92%8c%e5%87%ad%e8%af%81" aria-label="è·å–è§†é¢‘æ’­æ”¾åœ°å€å’Œå‡­è¯">è·å–è§†é¢‘æ’­æ”¾åœ°å€å’Œå‡­è¯</a></li>
                <li>
                    <a href="#%e6%92%ad%e6%94%be%e5%8a%a0%e5%af%86%e8%a7%86%e9%a2%91" aria-label="æ’­æ”¾åŠ å¯†è§†é¢‘">æ’­æ”¾åŠ å¯†è§†é¢‘</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%a4%9a%e5%9c%b0%e5%9d%80%e5%9b%9e%e8%b0%83" aria-label="å¤šåœ°å€å›è°ƒ">å¤šåœ°å€å›è°ƒ</a></li>
                <li>
                    <a href="#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" aria-label="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e9%81%87%e5%88%b0%e7%9a%84%e5%9d%91" aria-label="é‡åˆ°çš„å‘">é‡åˆ°çš„å‘</a></li>
                <li>
                    <a href="#webclient%e4%bd%bf%e7%94%a8" aria-label="webClientä½¿ç”¨">webClientä½¿ç”¨</a><ul>
                        
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88-resttemplate-%e8%a2%ab%e5%bc%83%e7%94%a8" aria-label="ä¸ºä»€ä¹ˆ RestTemplate è¢«å¼ƒç”¨">ä¸ºä»€ä¹ˆ RestTemplate è¢«å¼ƒç”¨</a></li>
                <li>
                    <a href="#webclient-%e7%9a%84%e5%85%b4%e8%b5%b7" aria-label="WebClient çš„å…´èµ·">WebClient çš„å…´èµ·</a></li>
                <li>
                    <a href="#%e4%bb%8e-resttemplate-%e8%bf%87%e6%b8%a1%e5%88%b0-webclient" aria-label="ä» RestTemplate è¿‡æ¸¡åˆ° WebClientï¼š">ä» RestTemplate è¿‡æ¸¡åˆ° WebClientï¼š</a></li>
                <li>
                    <a href="#%e6%89%a7%e8%a1%8c-get-%e8%af%b7%e6%b1%82" aria-label="æ‰§è¡Œ GET è¯·æ±‚ï¼š">æ‰§è¡Œ GET è¯·æ±‚ï¼š</a></li>
                <li>
                    <a href="#%e5%a4%84%e7%90%86%e9%94%99%e8%af%af" aria-label="å¤„ç†é”™è¯¯ï¼š">å¤„ç†é”™è¯¯ï¼š</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-json-%e7%9a%84-post-%e8%af%b7%e6%b1%82" aria-label="ä½¿ç”¨ JSON çš„ POST è¯·æ±‚ï¼š">ä½¿ç”¨ JSON çš„ POST è¯·æ±‚ï¼š</a></li>
                <li>
                    <a href="#%e5%bc%82%e6%ad%a5%e5%a4%84%e7%90%86" aria-label="å¼‚æ­¥å¤„ç†ï¼š">å¼‚æ­¥å¤„ç†ï¼š</a></li>
                <li>
                    <a href="#%e6%b5%81%e6%95%b0%e6%8d%ae" aria-label="æµæ•°æ®ï¼š">æµæ•°æ®ï¼š</a></li>
                <li>
                    <a href="#%e9%87%8d%e8%af%95%e6%9c%ba%e5%88%b6" aria-label="é‡è¯•æœºåˆ¶ï¼š">é‡è¯•æœºåˆ¶ï¼š</a></li>
                <li>
                    <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89-web-%e5%ae%a2%e6%88%b7%e7%ab%af%e9%85%8d%e7%bd%ae" aria-label="è‡ªå®šä¹‰ Web å®¢æˆ·ç«¯é…ç½®ï¼š">è‡ªå®šä¹‰ Web å®¢æˆ·ç«¯é…ç½®ï¼š</a></li>
                <li>
                    <a href="#%e7%bd%91%e7%bb%9c%e5%ae%a2%e6%88%b7%e7%ab%af%e8%bf%87%e6%bb%a4%e5%99%a8" aria-label="ç½‘ç»œå®¢æˆ·ç«¯è¿‡æ»¤å™¨ï¼š">ç½‘ç»œå®¢æˆ·ç«¯è¿‡æ»¤å™¨ï¼š</a></li>
                <li>
                    <a href="#%e7%9b%b8%e4%ba%92-tls-%e8%ba%ab%e4%bb%bd%e9%aa%8c%e8%af%81" aria-label="ç›¸äº’ TLS èº«ä»½éªŒè¯ï¼š">ç›¸äº’ TLS èº«ä»½éªŒè¯ï¼š</a></li>
                <li>
                    <a href="#webclient-%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5" aria-label="WebClient æœ€ä½³å®è·µ">WebClient æœ€ä½³å®è·µ</a></li>
                <li>
                    <a href="#%e5%8d%95%e4%be%8b%e6%a8%a1%e5%bc%8f" aria-label="å•ä¾‹æ¨¡å¼ï¼š">å•ä¾‹æ¨¡å¼ï¼š</a></li>
                <li>
                    <a href="#%e9%94%99%e8%af%af%e5%a4%84%e7%90%86" aria-label="é”™è¯¯å¤„ç†ï¼š">é”™è¯¯å¤„ç†ï¼š</a></li>
                <li>
                    <a href="#%e8%b6%85%e6%97%b6%e9%85%8d%e7%bd%ae" aria-label="è¶…æ—¶é…ç½®ï¼š">è¶…æ—¶é…ç½®ï¼š</a></li>
                <li>
                    <a href="#%e8%83%8c%e5%8e%8b" aria-label="èƒŒå‹ï¼š">èƒŒå‹ï¼š</a></li>
                <li>
                    <a href="#%e6%97%a5%e5%bf%97%e8%ae%b0%e5%bd%95" aria-label="æ—¥å¿—è®°å½•ï¼š">æ—¥å¿—è®°å½•ï¼š</a></li>
                <li>
                    <a href="#%e7%ba%bf%e7%a8%8b%e4%b8%8a%e4%b8%8b%e6%96%87" aria-label="çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼š">çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼š</a></li>
                <li>
                    <a href="#%e9%81%bf%e5%85%8d%e9%98%bb%e5%a1%9e%e5%91%bc%e5%8f%ab" aria-label="é¿å…é˜»å¡å‘¼å«ï¼š">é¿å…é˜»å¡å‘¼å«ï¼š</a></li>
                <li>
                    <a href="#spring-boot-%e4%b8%ad%e4%bd%bf%e7%94%a8webclient" aria-label="spring boot ä¸­ä½¿ç”¨webClient">spring boot ä¸­ä½¿ç”¨webClient</a></li></ul>
                </li>
                <li>
                    <a href="#excel%e5%af%bc%e5%85%a5%e5%af%bc%e5%87%ba" aria-label="excelå¯¼å…¥å¯¼å‡º">excelå¯¼å…¥å¯¼å‡º</a><ul>
                        
                <li>
                    <a href="#%e5%b7%a5%e5%85%b7%e7%b1%bb-2" aria-label="å·¥å…·ç±»">å·¥å…·ç±»</a></li>
                <li>
                    <a href="#%e5%af%bc%e5%87%ba" aria-label="å¯¼å‡º">å¯¼å‡º</a></li>
                <li>
                    <a href="#%e5%af%bc%e5%85%a5" aria-label="å¯¼å…¥">å¯¼å…¥</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="ffmpegä½¿ç”¨">ffmpegä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#ffmpegä½¿ç”¨">#</a></h1>
<p><a href="https://baike.baidu.com/item/ffmpeg">ffmpegäº†è§£</a>
<a href="http://ffmpeg.org/">ffmpegå®˜ç½‘</a>
åœ¨ä½¿ç”¨Javaè°ƒç”¨FFmpegå¤„ç†éŸ³è§†é¢‘ä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£…FFmpegï¼Œå®‰è£…æ–¹æ³•åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li>å¼•å…¥å°è£…äº†FFmpegçš„å¼€æºæ¡†æ¶ï¼ˆä¸æ¨èï¼‰
JAVE.jar æ˜¯ä¸€ä¸ªå°è£…äº†FFmpegçš„Javaæ¡†æ¶ï¼Œåœ¨é¡¹ç›®ä¸­èƒ½ç›´æ¥è°ƒç”¨å®ƒçš„APIæ¥å¤„ç†éŸ³è§†é¢‘æ–‡ä»¶ï¼›
<a href="http://www.sauronsoftware.it/projects/jave/index.php">å®˜ç½‘</a>
ä¼˜ç‚¹ï¼šä½¿ç”¨æ–¹ä¾¿ï¼Œç›´æ¥åœ¨é¡¹ç›®ä¸­å¼•å…¥JAVE.jarå³å¯å¤„ç†åª’ä½“æ–‡ä»¶ï¼Œä¸”å¼€å‘å®Œæˆåå¯ä»¥éšå·¥ç¨‹ä¸€èµ·æ‰“åŒ…å‘å¸ƒï¼Œä¸éœ€è¦åœ¨ç›®æ ‡è¿è¡Œç¯å¢ƒå†…æ‰‹åŠ¨å®‰è£…FFmpegç›¸å…³çš„ç±»åº“
ç¼ºç‚¹ï¼šJAVE.jaræœ€åä¸€æ¬¡æ›´æ–°æ˜¯2009å¹´ï¼Œå…¶å°è£…çš„FFmpegç‰ˆæœ¬æ˜¯09å¹´æˆ–æ›´æ—©å‰çš„ç‰ˆæœ¬ï¼Œæ¯”è¾ƒè€æ—§ï¼Œæ— æ³•ä½¿ç”¨ä¸€äº›æ–°ç‰¹æ€§</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>org.ffmpeg<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>sdk<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;version&gt;</span>1.0.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>åœ¨ç³»ç»Ÿä¸­æ‰‹åŠ¨å®‰è£…FFmpeg(æ¨è)
åœ¨è¿è¡Œç¯å¢ƒä¸­æ‰‹åŠ¨å®‰è£…FFmpegç¨å¾®æœ‰ä¸€äº›éº»çƒ¦ï¼Œå¯ä»¥ç™¾åº¦ windows/macå®‰è£…FFmpeg è¿™æ ·çš„å…³é”®å­—ï¼Œæ ¹æ®ç½‘ä¸Šçš„å®‰è£…æ•™ç¨‹å°†FFmpegå®‰è£…åˆ°ç³»ç»Ÿä¸­ã€‚
ä¼˜ç‚¹ï¼šå¯ä»¥ç›´æ¥è°ƒç”¨FFmpegçš„ç›¸å…³APIå¤„ç†éŸ³è§†é¢‘ï¼ŒFFmpegç‰ˆæœ¬å¯æ§
ç¼ºç‚¹ï¼šæ‰‹åŠ¨å®‰è£…è¾ƒä¸ºéº»çƒ¦ï¼Œå¼€å‘ç¯å¢ƒä¸ç›®æ ‡è¿è¡Œç¯å¢ƒéƒ½éœ€è¦å…ˆå®‰è£…å¥½FFmpeg
å¦å¤–ï¼Œå¦‚æœé¡¹ç›®æ˜¯é€šè¿‡dockerå’Œk8sæ„å»ºéƒ¨ç½²çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ffmpegï¼Œéœ€è¦å°†ffmpegæ‰“åˆ°å¯¹åº”çš„é•œåƒä¸­ã€‚</li>
</ul>
<p>ä½¿ç”¨FFmpegå¤„ç†éŸ³è§†é¢‘
<a href="https://www.cnblogs.com/Dreamer-1/p/10394011.html">åç»­ï¼Œæˆ‘æ‡’å¾—å†™äº†</a></p>
<p>ä¸ºä»€ä¹ˆæˆ‘è¦ç”¨åˆ°ffmpegã€‚
å› ä¸ºæˆ‘é¡¹ç›®ä¸­æœ‰ä¸€äº›éŸ³é¢‘æ•°æ®æ˜¯æ•´æ®µçš„ï¼Œå› ä¸ºä¸šåŠ¡å˜åŠ¨ï¼Œéœ€è¦æ ¹æ®æ—¶é—´ç‚¹åˆ‡åˆ†æˆå¾ˆå¤šå°æ®µã€‚
ä¹‹å‰æ˜¯è¿”å›ç»™appï¼Œappå…ˆæŠŠéŸ³é¢‘ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åæ ¹æ®æ—¶é—´ç‚¹åˆ‡åˆ†ï¼Œå·¨æ…¢ã€‚æ‰€ä»¥ç°åœ¨æŠŠæ•°æ®åº“é‡Œçš„æ•°æ®ç›´æ¥åˆ‡å‰²å¥½ï¼Œè¿”å›ç»™å‰ç«¯ã€‚
æœ€å¼€å§‹è§‰å¾—ç”¨ffmpegéº»çƒ¦ï¼Œæƒ³ç”¨ä¸€äº›ioçš„æ–¹æ³•ï¼ŒæŠŠæ–‡ä»¶åˆ‡å‰²ï¼Œç„¶åå„ç§å®éªŒåï¼Œä¸æ˜¯å¯¹æ–‡ä»¶ç±»å‹æœ‰è¦æ±‚ï¼Œå°±æ˜¯åˆ‡å‰²ä¹‹åæ–‡ä»¶å¤±çœŸç­‰ç­‰é—®é¢˜ã€‚æ‰€ä»¥ç”¨ffmpegã€‚</p>
<h2 id="éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼">éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼<a hidden class="anchor" aria-hidden="true" href="#éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * éŸ³é¢‘æ–‡ä»¶è½¬wavæ ¼å¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param ffmpegPath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param sourcePath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param targetPath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @throws Exception
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> File changeFileToWav(String ffmpegPath, String sourcePath, String targetPath) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>    String webroot = ffmpegPath;
</span></span><span style="display:flex;"><span>    Runtime run = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        run = Runtime.<span style="color:#007f7f">getRuntime</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> start = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#fff;font-weight:bold">new</span> File(webroot)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">getAbsolutePath</span>()); <span style="color:#007f7f">//æ‰§è¡Œffmpeg.exe,å‰é¢æ˜¯ffmpeg.exeçš„åœ°å€ï¼Œä¸­é—´æ˜¯éœ€è¦è½¬æ¢çš„æ–‡ä»¶åœ°å€ï¼Œåé¢æ˜¯è½¬æ¢åçš„æ–‡ä»¶åœ°å€ã€‚-iæ˜¯è½¬æ¢æ–¹å¼ï¼Œæ„æ€æ˜¯å¯ç¼–ç è§£ç ï¼Œmp3ç¼–ç æ–¹å¼é‡‡ç”¨çš„æ˜¯libmp3lame</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//wavè½¬pcm</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//Process p=run.exec(new File(webroot).getAbsolutePath()+&#34;/ffmpeg -y -i &#34;+sourcePath+&#34; -acodec pcm_s16le -f s16le -ac 1 -ar 16000 &#34;+targetPath);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//mp3è½¬pcm</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Process p = run.exec(new File(webroot).getAbsolutePath() + &#34;/ffmpeg -y -i &#34; + sourcePath + &#34; -acodec pcm_s16le -f s16le -ac 1 -ar 16000 &#34; + targetPath);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//16bit å•å£°é“ 48khz</span>
</span></span><span style="display:flex;"><span>        Process p = run.<span style="color:#007f7f">exec</span>(<span style="color:#fff;font-weight:bold">new</span> File(webroot)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">getAbsolutePath</span>() + <span style="color:#0ff;font-weight:bold">&#34;/ffmpeg -y -i &#34;</span> + sourcePath + <span style="color:#0ff;font-weight:bold">&#34; -ar 48000 -ac 1 -acodec pcm_s16le &#34;</span> + targetPath);
</span></span><span style="display:flex;"><span>        InputStream stderr = p.<span style="color:#007f7f">getErrorStream</span>();
</span></span><span style="display:flex;"><span>        InputStreamReader isr = <span style="color:#fff;font-weight:bold">new</span> InputStreamReader(stderr);
</span></span><span style="display:flex;"><span>        BufferedReader br = <span style="color:#fff;font-weight:bold">new</span> BufferedReader(isr);
</span></span><span style="display:flex;"><span>        String line = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span> ((line = br.<span style="color:#007f7f">readLine</span>()) != <span style="color:#fff;font-weight:bold">null</span>) System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(line);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> exitVal = p.<span style="color:#007f7f">waitFor</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Process exitValue: &#34;</span> + exitVal); <span style="color:#007f7f">//é‡Šæ”¾è¿›ç¨‹</span>
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">getOutputStream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">getInputStream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">getErrorStream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        p.<span style="color:#007f7f">waitFor</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> end = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(sourcePath + <span style="color:#0ff;font-weight:bold">&#34; convert success, costs:&#34;</span> + (end - start) + <span style="color:#0ff;font-weight:bold">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>        File targetFile = <span style="color:#fff;font-weight:bold">new</span> File(targetPath);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> targetFile;
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>        e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//runè°ƒç”¨lameè§£ç å™¨æœ€åé‡Šæ”¾å†…å­˜</span>
</span></span><span style="display:flex;"><span>        run.<span style="color:#007f7f">freeMemory</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="éŸ³é¢‘åˆ‡å‰²">éŸ³é¢‘åˆ‡å‰²<a hidden class="anchor" aria-hidden="true" href="#éŸ³é¢‘åˆ‡å‰²">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * éŸ³é¢‘åˆ‡å‰²
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param ffmpegPath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param sourcePath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param targetPath
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param startTime
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param endTime
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @throws Exception
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> File wavToCutting(String ffmpegPath, String sourcePath, String targetPath, String startTime, String endTime) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>	String webroot = ffmpegPath;
</span></span><span style="display:flex;"><span>	Runtime run = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>		run = Runtime.<span style="color:#007f7f">getRuntime</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">long</span> start = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#fff;font-weight:bold">new</span> File(webroot)
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">getAbsolutePath</span>()); <span style="color:#007f7f">//æ‰§è¡Œffmpeg.exe,å‰é¢æ˜¯ffmpeg.exeçš„åœ°å€ï¼Œä¸­é—´æ˜¯éœ€è¦è½¬æ¢çš„æ–‡ä»¶åœ°å€ï¼Œåé¢æ˜¯è½¬æ¢åçš„æ–‡ä»¶åœ°å€ã€‚-iæ˜¯è½¬æ¢æ–¹å¼ï¼Œæ„æ€æ˜¯å¯ç¼–ç è§£ç ï¼Œmp3ç¼–ç æ–¹å¼é‡‡ç”¨çš„æ˜¯libmp3lame</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//wavè½¬pcm</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//Process p=run.exec(new File(webroot).getAbsolutePath()+&#34;/ffmpeg -y -i &#34;+sourcePath+&#34; -acodec pcm_s16le -f s16le -ac 1 -ar 16000 &#34;+targetPath);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//mp3è½¬pcm</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">// Process p = run.exec(new File(webroot).getAbsolutePath() + &#34;/ffmpeg -y -i &#34; + sourcePath + &#34; -acodec pcm_s16le -f s16le -ac 1 -ar 16000 &#34; + targetPath);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//16bit å•å£°é“ 48khz</span>
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">err</span>.<span style="color:#007f7f">print</span>(<span style="color:#fff;font-weight:bold">new</span> File(webroot)
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">getAbsolutePath</span>() + <span style="color:#0ff;font-weight:bold">&#34;/ffmpeg -i &#34;</span> + sourcePath + <span style="color:#0ff;font-weight:bold">&#34; -ss &#34;</span> + startTime + <span style="color:#0ff;font-weight:bold">&#34; -to &#34;</span> + endTime + <span style="color:#0ff;font-weight:bold">&#34; -y &#34;</span> + targetPath);
</span></span><span style="display:flex;"><span>		Process p = run.<span style="color:#007f7f">exec</span>(<span style="color:#fff;font-weight:bold">new</span> File(webroot)
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">getAbsolutePath</span>() + <span style="color:#0ff;font-weight:bold">&#34;/ffmpeg -i &#34;</span> + sourcePath + <span style="color:#0ff;font-weight:bold">&#34; -ss &#34;</span> + startTime + <span style="color:#0ff;font-weight:bold">&#34; -to &#34;</span> + endTime + <span style="color:#0ff;font-weight:bold">&#34; -y &#34;</span> + targetPath);
</span></span><span style="display:flex;"><span>		InputStream stderr = p.<span style="color:#007f7f">getErrorStream</span>();
</span></span><span style="display:flex;"><span>		InputStreamReader isr = <span style="color:#fff;font-weight:bold">new</span> InputStreamReader(stderr);
</span></span><span style="display:flex;"><span>		BufferedReader br = <span style="color:#fff;font-weight:bold">new</span> BufferedReader(isr);
</span></span><span style="display:flex;"><span>		String line = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">while</span> ((line = br.<span style="color:#007f7f">readLine</span>()) != <span style="color:#fff;font-weight:bold">null</span>) System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(line);
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">int</span> exitVal = p.<span style="color:#007f7f">waitFor</span>();
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Process exitValue: &#34;</span> + exitVal); <span style="color:#007f7f">//é‡Šæ”¾è¿›ç¨‹</span>
</span></span><span style="display:flex;"><span>		p.<span style="color:#007f7f">getOutputStream</span>()
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>		p.<span style="color:#007f7f">getInputStream</span>()
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>		p.<span style="color:#007f7f">getErrorStream</span>()
</span></span><span style="display:flex;"><span>				.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>		p.<span style="color:#007f7f">waitFor</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">long</span> end = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(sourcePath + <span style="color:#0ff;font-weight:bold">&#34; convert success, costs:&#34;</span> + (end - start) + <span style="color:#0ff;font-weight:bold">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>		File targetFile = <span style="color:#fff;font-weight:bold">new</span> File(targetPath);
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> targetFile;
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>		e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//runè°ƒç”¨lameè§£ç å™¨æœ€åé‡Šæ”¾å†…å­˜</span>
</span></span><span style="display:flex;"><span>		run.<span style="color:#007f7f">freeMemory</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="åœ¨å›¾ç‰‡ä¸Šå†™å­—">åœ¨å›¾ç‰‡ä¸Šå†™å­—<a hidden class="anchor" aria-hidden="true" href="#åœ¨å›¾ç‰‡ä¸Šå†™å­—">#</a></h1>
<p><a href="https://www.jianshu.com/p/26344c221eab">å‚è€ƒ</a></p>
<h2 id="æŠŠå­—å†™åˆ°å·²å­˜åœ¨çš„å›¾ç‰‡ä¸Š">æŠŠå­—å†™åˆ°å·²å­˜åœ¨çš„å›¾ç‰‡ä¸Š<a hidden class="anchor" aria-hidden="true" href="#æŠŠå­—å†™åˆ°å·²å­˜åœ¨çš„å›¾ç‰‡ä¸Š">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> generatePic(String str) {
</span></span><span style="display:flex;"><span>        File file = <span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\123.png&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//Image src = ImageIO.read(file);</span>
</span></span><span style="display:flex;"><span>        Image src = Toolkit.<span style="color:#007f7f">getDefaultToolkit</span>().<span style="color:#007f7f">createImage</span>(file.<span style="color:#007f7f">getAbsolutePath</span>());
</span></span><span style="display:flex;"><span>        BufferedImage bi = toBufferedImage(src);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (bi == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        g = bi.<span style="color:#007f7f">createGraphics</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//#853C24</span>
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">setColor</span>(<span style="color:#fff;font-weight:bold">new</span> Color(133, 60, 36));
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">setFont</span>(<span style="color:#fff;font-weight:bold">new</span> Font(<span style="color:#0ff;font-weight:bold">&#34;å¾®è½¯é›…é»‘&#34;</span>, Font.<span style="color:#007f7f">BOLD</span>, 80));
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">drawString</span>(str, 130, 250);
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">dispose</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream outputStream = <span style="color:#fff;font-weight:bold">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            ImageIO.<span style="color:#007f7f">write</span>(bi, <span style="color:#0ff;font-weight:bold">&#34;png&#34;</span>, outputStream);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">byte</span>[] bytes = outputStream.<span style="color:#007f7f">toByteArray</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¯¥bytesæ•°ç»„å°±å¯ä»¥è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œæˆ–è€…äº‘æœåŠ¡å™¨</span>
</span></span><span style="display:flex;"><span>            File newFile = <span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\ç”Ÿæˆ.png&#34;</span>);
</span></span><span style="display:flex;"><span>            FileOutputStream fos = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(newFile);
</span></span><span style="display:flex;"><span>            fos.<span style="color:#007f7f">write</span>(bytes);
</span></span><span style="display:flex;"><span>            fos.<span style="color:#007f7f">flush</span>();
</span></span><span style="display:flex;"><span>            fos.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//ä¹Ÿå¯ä»¥ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//TencentFileUploadUtils.uploafFileByBytes(bytes);</span>
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BufferedImage toBufferedImage(Image image) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (image <span style="color:#fff;font-weight:bold">instanceof</span> BufferedImage) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> (BufferedImage) image;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// This code ensures that all the pixels in the image are loaded</span>
</span></span><span style="display:flex;"><span>        image = <span style="color:#fff;font-weight:bold">new</span> ImageIcon(image).<span style="color:#007f7f">getImage</span>();
</span></span><span style="display:flex;"><span>        BufferedImage bimage = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        GraphicsEnvironment ge = GraphicsEnvironment
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">getLocalGraphicsEnvironment</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">int</span> transparency = Transparency.<span style="color:#007f7f">OPAQUE</span>;
</span></span><span style="display:flex;"><span>            GraphicsDevice gs = ge.<span style="color:#007f7f">getDefaultScreenDevice</span>();
</span></span><span style="display:flex;"><span>            GraphicsConfiguration gc = gs.<span style="color:#007f7f">getDefaultConfiguration</span>();
</span></span><span style="display:flex;"><span>            bimage = gc.<span style="color:#007f7f">createCompatibleImage</span>(image.<span style="color:#007f7f">getWidth</span>(<span style="color:#fff;font-weight:bold">null</span>),
</span></span><span style="display:flex;"><span>                    image.<span style="color:#007f7f">getHeight</span>(<span style="color:#fff;font-weight:bold">null</span>), transparency);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (HeadlessException e) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// The system does not have a screen</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (bimage == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// Create a buffered image using the default color model</span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">int</span> type = BufferedImage.<span style="color:#007f7f">TYPE_INT_RGB</span>;
</span></span><span style="display:flex;"><span>            bimage = <span style="color:#fff;font-weight:bold">new</span> BufferedImage(image.<span style="color:#007f7f">getWidth</span>(<span style="color:#fff;font-weight:bold">null</span>),
</span></span><span style="display:flex;"><span>                    image.<span style="color:#007f7f">getHeight</span>(<span style="color:#fff;font-weight:bold">null</span>), type);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Copy image to buffered image</span>
</span></span><span style="display:flex;"><span>        Graphics g = bimage.<span style="color:#007f7f">createGraphics</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Paint the image onto the buffered image</span>
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">drawImage</span>(image, 0, 0, <span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>        g.<span style="color:#007f7f">dispose</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> bimage;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>	generatePic(<span style="color:#0ff;font-weight:bold">&#34;æµ‹è¯•æ–‡å­—&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœè®¾ç½®çš„å­—ä½“ä¸ç”Ÿæ•ˆï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç æŸ¥çœ‹ç³»ç»Ÿæœ‰å“ªäº›å­—ä½“ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Font[] fonts = GraphicsEnvironment.getLocalGraphicsEnvironment().getAllFonts();
</span></span><span style="display:flex;"><span>for (Font f : fonts) {
</span></span><span style="display:flex;"><span>	System.out.println(&#34;Name:&#34; + f.getFontName());
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ§åˆ¶å°å¯»æ‰¾è‡ªå·±æƒ³è¦çš„å­—ä½“çš„è‹±æ–‡åç§°ï¼Œå†æ›¿æ¢åˆ°new Font()çš„æŒ‡å®šä½ç½®å°±å¯ä»¥äº†ã€‚</p>
<h2 id="è¿›é˜¶æ–‡å­—è‡ªåŠ¨æ¢è¡Œ">è¿›é˜¶ï¼Œæ–‡å­—è‡ªåŠ¨æ¢è¡Œ<a hidden class="anchor" aria-hidden="true" href="#è¿›é˜¶æ–‡å­—è‡ªåŠ¨æ¢è¡Œ">#</a></h2>
<p>å¦‚æœæœ‰å¾ˆå¤šæ–‡å­—ï¼Œæƒ³æ ¹æ®æ–‡å­—ç”Ÿæˆå›¾ç‰‡ï¼Œæ¶‰åŠåˆ°è‡ªåŠ¨æ¢è¡Œé—®é¢˜ã€‚å…·ä½“ä»£ç åœ¨ç äº‘ã€‚</p>
<h1 id="è£å‰ªå›¾ç‰‡ç©ºç™½åŒºåŸŸ">è£å‰ªå›¾ç‰‡ç©ºç™½åŒºåŸŸ<a hidden class="anchor" aria-hidden="true" href="#è£å‰ªå›¾ç‰‡ç©ºç™½åŒºåŸŸ">#</a></h1>
<p><a href="https://www.jianshu.com/p/8b3542e6a571">å‚è€ƒ</a>
ç™½åº•é»‘å­—çš„å›¾ç‰‡ï¼Œè£å‡æ‰ç©ºç™½åŒºåŸŸï¼Œç”Ÿæˆæ–°çš„å›¾ç‰‡ã€‚å› ä¸ºå›¾ç‰‡åˆå¤ªå¤šçš„ç©ºç™½ï¼Œä¸ç¾è§‚ã€‚</p>
<p>æ€è·¯ï¼š</p>
<ol>
<li>è°ƒç”¨ImageIO.readè·å–å›¾ç‰‡ä»¥åŠåŸå›¾çš„å®½åº¦ã€é«˜åº¦</li>
<li>é€šè¿‡åŒå±‚forå¾ªç¯ï¼Œéå†å›¾ç‰‡çš„æ¯ä¸ªåƒç´ ç‚¹ï¼Œè·å–å›¾ç‰‡ä¸Šä¸‹å·¦å³å››ä¸ªæå€¼</li>
<li>è°ƒç”¨BufferedImage çš„getSubimageæ–¹æ³•è£å‰ªå›¾ç‰‡</li>
<li>è°ƒç”¨ImageIO.writeæ–¹æ³•ç”Ÿæˆè£å‰ªåçš„å›¾ç‰‡</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> BufferedImage getSubimage (<span style="color:#fff;font-weight:bold">int</span> x, <span style="color:#fff;font-weight:bold">int</span> y, <span style="color:#fff;font-weight:bold">int</span> w, <span style="color:#fff;font-weight:bold">int</span> h) {}
</span></span><span style="display:flex;"><span>x å·¦ä¸Šè§’xåæ ‡
</span></span><span style="display:flex;"><span>y å·¦ä¸Šè§’yåæ ‡
</span></span><span style="display:flex;"><span>w æ–°å›¾ç‰‡å®½åº¦
</span></span><span style="display:flex;"><span>y æ–°å›¾ç‰‡é«˜åº¦
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">89
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BufferedImage cutImage(BufferedImage bufferedImage) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> WHITE = <span style="color:#fff;font-weight:bold">new</span> Color(255, 255, 255).<span style="color:#007f7f">getRGB</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> BLACK = <span style="color:#fff;font-weight:bold">new</span> Color(0, 0, 0).<span style="color:#007f7f">getRGB</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åŸå›¾ç‰‡å®½åº¦</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> width = bufferedImage.<span style="color:#007f7f">getWidth</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åŸå›¾ç‰‡é«˜åº¦</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> height = bufferedImage.<span style="color:#007f7f">getHeight</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	    <span style="color:#007f7f">// rgb</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> colorNum = 200;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> rgb = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> left = width;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> top = height;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> right = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> buttom = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// éå†å›¾ç‰‡æ¯ä¸ªåƒç´ ç‚¹</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &lt; width; i++) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> j = 0; j &lt; height; j++) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//è·å–æ¯ä¸ªåƒç´ ç‚¹çš„RGB</span>
</span></span><span style="display:flex;"><span>                rgb = bufferedImage.<span style="color:#007f7f">getRGB</span>(i, j);
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//è½¬æˆå¯è¯»çš„RGBå€¼</span>
</span></span><span style="display:flex;"><span>                Color color = <span style="color:#fff;font-weight:bold">new</span> Color(rgb);
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// è·³è¿‡èŒƒå›´ï¼ˆåç™½è‰²-&gt;ç™½è‰²ï¼‰</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (color.<span style="color:#007f7f">getRed</span>() &gt; colorNum &amp;&amp; color.<span style="color:#007f7f">getBlue</span>() &gt; colorNum &amp;&amp; color.<span style="color:#007f7f">getGreen</span>() &gt; colorNum) {
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// è®¡ç®—æœ€å·¦ä¾§</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (left &gt;= i) {
</span></span><span style="display:flex;"><span>                    left = i;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// è®¡ç®—æœ€å³ä¾§</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (right &lt;= i) {
</span></span><span style="display:flex;"><span>                    right = i;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// è®¡ç®—æœ€ä¸Šæ–¹</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (top &gt;= j) {
</span></span><span style="display:flex;"><span>                    top = j;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// è®¡ç®—æœ€ä¸‹æ–¹</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (buttom &lt;= j) {
</span></span><span style="display:flex;"><span>                    buttom = j;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å¦‚æœè®¡ç®—å‡ºçš„æœ€å³ï¼Œå’Œå›¾ç‰‡å®½åº¦ç›¸å·®ä¸åˆ°50ï¼Œé‚£ä¹ˆä¸è£å‰ªå³ä¾§ï¼Œä½¿ç”¨åŸå›¾å®½åº¦</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(width - right &lt;= 50){
</span></span><span style="display:flex;"><span>            right = width - left;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å¦‚æœè®¡ç®—å‡ºçš„æœ€ä¸‹ï¼Œå’Œå›¾ç‰‡é«˜åº¦ç›¸å·®ä¸åˆ°50ï¼Œé‚£ä¹ˆä¸è£å‰ªåº•éƒ¨ï¼Œä½¿ç”¨åŸå›¾é«˜åº¦</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(height - buttom &lt;= 50){
</span></span><span style="display:flex;"><span>            buttom = height - top;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    	<span style="color:#007f7f">// -------------&gt;å¼€å§‹</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ä¸ºäº†ç¾è§‚ï¼Œå››è¾¹ç•™20çš„è¾¹ç•Œï¼ˆçœ‹æƒ…å†µï¼Œå¯ä¸ç•™è¾¹ç•Œï¼‰</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> blank = 20;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è®¡ç®—å·¦å€¼</span>
</span></span><span style="display:flex;"><span>        left = 0 &lt;= left - blank ? left - blank : left;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è®¡ç®—é¡¶éƒ¨å€¼</span>
</span></span><span style="display:flex;"><span>        top = 0 &lt;= top - blank ? top - blank : top;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è®¡ç®—å³å€¼</span>
</span></span><span style="display:flex;"><span>        right = right - left + blank &gt;= width ? right : right - left + blank;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è®¡ç®—åº•éƒ¨å€¼</span>
</span></span><span style="display:flex;"><span>        buttom = buttom - top + blank &gt;= height ? buttom : buttom - top + blank;
</span></span><span style="display:flex;"><span>    	<span style="color:#007f7f">// ----------------&gt;ç»“æŸï¼Œè¿™éƒ¨åˆ†ä»£ç çœ‹æƒ…å†µï¼Œæ˜¯å¦éœ€è¦ç•™20çš„ç©ºç™½</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	    <span style="color:#007f7f">// å¯èƒ½ä¼šå‡ºç°å³æˆ–ä¸‹ä¸º0çš„æƒ…å†µ</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(right == 0 || buttom == 0){
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è£å‰ªåŸå›¾ï¼Œæ³¨æ„ï¼šright + left &lt;= widthï¼ˆå¿…é¡»ï¼‰ï¼Œbuttom + top &lt;= heightï¼ˆå¿…é¡»ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> bufferedImage.<span style="color:#007f7f">getSubimage</span>(left, top, right, buttom);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åŸå›¾</span>
</span></span><span style="display:flex;"><span>        BufferedImage bufferedImage = ImageIO.<span style="color:#007f7f">read</span>(<span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\1.jpg&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è£å‰ª</span>
</span></span><span style="display:flex;"><span>	    BufferedImage newBufferedImage = cutImage(bufferedImage);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å›¾ç‰‡å¯èƒ½æœ‰é—®é¢˜ï¼Œå³æ²¡æœ‰k</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(newBufferedImage == <span style="color:#fff;font-weight:bold">null</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç”Ÿæˆæ–°å›¾</span>
</span></span><span style="display:flex;"><span>        ImageIO.<span style="color:#007f7f">write</span>(newBufferedImage, <span style="color:#0ff;font-weight:bold">&#34;png&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\new.png&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å·¥å…·ç±»">å·¥å…·ç±»<a hidden class="anchor" aria-hidden="true" href="#å·¥å…·ç±»">#</a></h1>
<h2 id="æ—¶é—´">æ—¶é—´<a hidden class="anchor" aria-hidden="true" href="#æ—¶é—´">#</a></h2>
<h3 id="åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æˆ³æ˜¯å¦æ˜¯åŒä¸€å¤©">åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æˆ³æ˜¯å¦æ˜¯åŒä¸€å¤©<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­ä¸¤ä¸ªæ—¶é—´æˆ³æ˜¯å¦æ˜¯åŒä¸€å¤©">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">boolean</span> isSameDay(<span style="color:#fff;font-weight:bold">int</span> beginTimestamp,<span style="color:#fff;font-weight:bold">int</span> endTimestamp) {
</span></span><span style="display:flex;"><span>	SimpleDateFormat sdf = <span style="color:#fff;font-weight:bold">new</span> SimpleDateFormat(<span style="color:#0ff;font-weight:bold">&#34;yyyy-MM-dd&#34;</span>);
</span></span><span style="display:flex;"><span>	String ds1 = sdf.<span style="color:#007f7f">format</span>(beginTimestamp * 1000l);
</span></span><span style="display:flex;"><span>	String ds2 = sdf.<span style="color:#007f7f">format</span>(endTimestamp * 1000l);
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">if</span> (ds1.<span style="color:#007f7f">equals</span>(ds2)) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è®¡ç®—ä¸¤ä¸ªæ—¶é—´æˆ³å·®å€¼ç§’çº§æ—¶é—´æˆ³">è®¡ç®—ä¸¤ä¸ªæ—¶é—´æˆ³å·®å€¼(ç§’çº§æ—¶é—´æˆ³)<a hidden class="anchor" aria-hidden="true" href="#è®¡ç®—ä¸¤ä¸ªæ—¶é—´æˆ³å·®å€¼ç§’çº§æ—¶é—´æˆ³">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> getTimeDifference(<span style="color:#fff;font-weight:bold">int</span> beginTimestamp, <span style="color:#fff;font-weight:bold">int</span> endTimestamp, <span style="color:#fff;font-weight:bold">int</span> type) {
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">int</span> result = 0;
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">if</span> (beginTimestamp == 0 || endTimestamp == 0) {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">return</span> 0;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">int</span> millisecond = endTimestamp - beginTimestamp;
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * Math.abs((int)(millisecond/1000)); ç»å¯¹å€¼ 1ç§’ = 1000æ¯«ç§’
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * millisecond/1000 --&gt; ç§’
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * millisecond/1000*60 - &gt; åˆ†é’Ÿ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * millisecond/(1000*60*60) -- &gt; å°æ—¶
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * millisecond/(1000*60*60*24) --&gt; å¤©
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">		 * */</span>
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">switch</span> (type) {
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">case</span> 0: <span style="color:#007f7f">// second</span>
</span></span><span style="display:flex;"><span>				<span style="color:#fff;font-weight:bold">return</span>  millisecond;
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">case</span> 1: <span style="color:#007f7f">// minute</span>
</span></span><span style="display:flex;"><span>				<span style="color:#fff;font-weight:bold">return</span> (millisecond / 60);
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">case</span> 2: <span style="color:#007f7f">// hour</span>
</span></span><span style="display:flex;"><span>				<span style="color:#fff;font-weight:bold">return</span>  (millisecond / (60 * 60));
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">case</span> 3: <span style="color:#007f7f">// day</span>
</span></span><span style="display:flex;"><span>				<span style="color:#fff;font-weight:bold">return</span> (millisecond / (60 * 60 * 24));
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>		e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> result;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å­—ç¬¦ä¸²">å­—ç¬¦ä¸²<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²">#</a></h2>
<h3 id="å­—ç¬¦ä¸²æ’åº">å­—ç¬¦ä¸²æ’åº<a hidden class="anchor" aria-hidden="true" href="#å­—ç¬¦ä¸²æ’åº">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * @author: wjy
</span></span><span style="display:flex;"><span> * @description: å­—ç¬¦ä¸²æ ¹æ®ASCIIç è¡¨è¿›è¡Œå‡åºæ’åˆ—
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>public static String ASCIISort(String str) {
</span></span><span style="display:flex;"><span>	char[] test = new char[str.length()];
</span></span><span style="display:flex;"><span>	StringBuilder sb = new StringBuilder();
</span></span><span style="display:flex;"><span>	while (true) {
</span></span><span style="display:flex;"><span>		String a = str;//ç›´æ¥è¯»å–è¿™è¡Œå½“ä¸­çš„å­—ç¬¦ä¸²ã€‚
</span></span><span style="display:flex;"><span>		for (int i = 0; i &lt; str.length(); i++) {
</span></span><span style="display:flex;"><span>			test[i] = a.charAt(i);//å­—ç¬¦ä¸²å¤„ç†æ¯æ¬¡è¯»å–ä¸€ä½ã€‚
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		Arrays.sort(test);
</span></span><span style="display:flex;"><span>		for (int i = 0; i &lt; test.length; i++) {
</span></span><span style="display:flex;"><span>			sb.append(test[i]);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		String trim = sb.toString().trim();
</span></span><span style="display:flex;"><span>		return trim;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ¤æ–­ç‰ˆæœ¬å·">åˆ¤æ–­ç‰ˆæœ¬å·<a hidden class="anchor" aria-hidden="true" href="#åˆ¤æ–­ç‰ˆæœ¬å·">#</a></h2>
<p>appä¸Šçº¿åï¼Œéœ€æ±‚çš„å˜åŠ¨éœ€è¦å…¼å®¹æ—§ç‰ˆæœ¬çš„appï¼Œä¸èƒ½ç„¶æ—§ç‰ˆçš„appä¸èƒ½è®¿é—®ã€‚
æ‰€ä»¥æˆ‘ä»¬åœ¨æ¯ä¸ªæ¥å£ä¸­éƒ½ä¼ å…¥<code>appVersion</code>ï¼Œå³appçš„ç‰ˆæœ¬å·ï¼Œå±Šæ—¶å¯ä»¥é€šè¿‡appçš„ç‰ˆæœ¬å·æ¥åˆ¤æ–­æ¥å£æ•°æ®çš„å˜åŠ¨ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span> /**
</span></span><span style="display:flex;"><span>     * ç‰ˆæœ¬å·æ¯”è¾ƒ
</span></span><span style="display:flex;"><span>     *
</span></span><span style="display:flex;"><span>     * @param v1
</span></span><span style="display:flex;"><span>     * @param v2
</span></span><span style="display:flex;"><span>     * @return 0ä»£è¡¨ç›¸ç­‰ï¼Œ1ä»£è¡¨å·¦è¾¹å¤§ï¼Œ-1ä»£è¡¨å³è¾¹å¤§
</span></span><span style="display:flex;"><span>     * Utils.compareVersion(&#34;1.0.358_20180820090554&#34;,&#34;1.0.358_20180820090553&#34;)=1
</span></span><span style="display:flex;"><span>     */
</span></span><span style="display:flex;"><span>    public static int compareVersion(String v1, String v2) {
</span></span><span style="display:flex;"><span>        if (v1.equals(v2)) {
</span></span><span style="display:flex;"><span>            return 0;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        String[] version1Array = v1.split(&#34;[._]&#34;);
</span></span><span style="display:flex;"><span>        String[] version2Array = v2.split(&#34;[._]&#34;);
</span></span><span style="display:flex;"><span>        int index = 0;
</span></span><span style="display:flex;"><span>        int minLen = Math.min(version1Array.length, version2Array.length);
</span></span><span style="display:flex;"><span>        long diff = 0;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        while (index &lt; minLen
</span></span><span style="display:flex;"><span>                &amp;&amp; (diff = Long.parseLong(version1Array[index])
</span></span><span style="display:flex;"><span>                - Long.parseLong(version2Array[index])) == 0) {
</span></span><span style="display:flex;"><span>            index++;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        if (diff == 0) {
</span></span><span style="display:flex;"><span>            for (int i = index; i &lt; version1Array.length; i++) {
</span></span><span style="display:flex;"><span>                if (Long.parseLong(version1Array[i]) &gt; 0) {
</span></span><span style="display:flex;"><span>                    return 1;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            for (int i = index; i &lt; version2Array.length; i++) {
</span></span><span style="display:flex;"><span>                if (Long.parseLong(version2Array[i]) &gt; 0) {
</span></span><span style="display:flex;"><span>                    return -1;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            return 0;
</span></span><span style="display:flex;"><span>        } else {
</span></span><span style="display:flex;"><span>            return diff &gt; 0 ? 1 : -1;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="base64ç¼–ç å’Œè§£ç ">base64ç¼–ç å’Œè§£ç <a hidden class="anchor" aria-hidden="true" href="#base64ç¼–ç å’Œè§£ç ">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>final Base64.Decoder decoder = Base64.getDecoder();
</span></span><span style="display:flex;"><span>final Base64.Encoder encoder = Base64.getEncoder();
</span></span><span style="display:flex;"><span>final String text = &#34;å­—ä¸²æ–‡å­—&#34;;
</span></span><span style="display:flex;"><span>final byte[] textByte = text.getBytes(&#34;UTF-8&#34;);
</span></span><span style="display:flex;"><span>//ç¼–ç 
</span></span><span style="display:flex;"><span>final String encodedText = encoder.encodeToString(textByte);
</span></span><span style="display:flex;"><span>System.out.println(encodedText);
</span></span><span style="display:flex;"><span>//è§£ç 
</span></span><span style="display:flex;"><span>System.out.println(new String(decoder.decode(encodedText), &#34;UTF-8&#34;));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è¯»å–pdfå†…å®¹">è¯»å–pdfå†…å®¹<a hidden class="anchor" aria-hidden="true" href="#è¯»å–pdfå†…å®¹">#</a></h2>
<p>æ–‡æœ¬å†…å®¹æå–:
pomå¼•å…¥</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;2.0.15&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;fontbox&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;2.0.15&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>	&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>	&lt;artifactId&gt;jempbox&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>	&lt;version&gt;1.8.16&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * è¯»PDFæ–‡ä»¶
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @param fileName
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> readPDF(String fileName) {
</span></span><span style="display:flex;"><span>	File file = <span style="color:#fff;font-weight:bold">new</span> File(fileName);
</span></span><span style="display:flex;"><span>	FileInputStream in = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>		PDDocument document=PDDocument.<span style="color:#007f7f">load</span>(file);
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">// è·å–é¡µç </span>
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">int</span> pages = document.<span style="color:#007f7f">getNumberOfPages</span>();
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">// è¯»æ–‡æœ¬å†…å®¹</span>
</span></span><span style="display:flex;"><span>		PDFTextStripper stripper=<span style="color:#fff;font-weight:bold">new</span> PDFTextStripper();
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">// è®¾ç½®æŒ‰é¡ºåºè¾“å‡º</span>
</span></span><span style="display:flex;"><span>		stripper.<span style="color:#007f7f">setSortByPosition</span>(<span style="color:#fff;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>		stripper.<span style="color:#007f7f">setStartPage</span>(1);
</span></span><span style="display:flex;"><span>		stripper.<span style="color:#007f7f">setEndPage</span>(pages);
</span></span><span style="display:flex;"><span>		String content = stripper.<span style="color:#007f7f">getText</span>(document);
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(content);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">//å¯é€‰ï¼Œå°†pdfå†…å®¹å†™å…¥åˆ°txtæ–‡æœ¬æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            FileWriter fileWriter = new FileWriter(new File(&#34;pdf.txt&#34;));</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            fileWriter.write(content);</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            fileWriter.flush();</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            fileWriter.close();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>		System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è¯»å–PDFæ–‡ä»¶&#34;</span> + file.<span style="color:#007f7f">getAbsolutePath</span>() + <span style="color:#0ff;font-weight:bold">&#34;å¤±è´¥ï¼&#34;</span> + e);
</span></span><span style="display:flex;"><span>		e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>	} <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#fff;font-weight:bold">if</span> (in != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>				in.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>			} <span style="color:#fff;font-weight:bold">catch</span> (IOException e1) {
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="javaå®ç°officeç³»åˆ—æ–‡ä»¶è½¬pdfæ–‡ä»¶">Javaå®ç°Officeç³»åˆ—æ–‡ä»¶è½¬PDFæ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#javaå®ç°officeç³»åˆ—æ–‡ä»¶è½¬pdfæ–‡ä»¶">#</a></h1>
<p><a href="https://downloads.aspose.com/">å®˜ç½‘ä¸‹è½½jaråŒ…</a>
<a href="https://pan.baidu.com/s/1vzYobuqDZYe6-VPRp06l3w">ç™¾åº¦ç½‘ç›˜ä¸‹è½½ç ´è§£åŒ…</a>
å®˜ç½‘ä¸‹è½½çš„æœ‰æ°´å°ï¼Œä¸è¿‡æ˜¯æœ€æ–°ç‰ˆï¼Œç ´è§£çš„æ˜¯æ¯”è¾ƒæ—§çš„ç‰ˆæœ¬ï¼Œä¸è¿‡éƒ½èƒ½ç”¨ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.archive.util.AsposeUtil;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aspose.cells.Workbook;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aspose.slides.Presentation;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aspose.words.Document;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aspose.words.SaveFormat;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aspose.words.License;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author: wjy
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @Date: Create in 14:28 2019/10/31
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @description : Officeç³»åˆ—æ–‡ä»¶è½¬PDFæ–‡ä»¶å·¥å…·ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> AsposeUtil {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//ç›´æ¥æŠŠå‡­è¯å†…å®¹å†™è¿›æ¥ï¼Œçœçš„è¯»å–æœ¬åœ°æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String licenseStr =
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;&lt;License&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;  &lt;Data&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;Products&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;      &lt;Product&gt;Aspose.Total for Java&lt;/Product&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;/Products&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;EditionType&gt;Enterprise&lt;/EditionType&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;SubscriptionExpiry&gt;20991231&lt;/SubscriptionExpiry&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;LicenseExpiry&gt;20991231&lt;/LicenseExpiry&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;    &lt;SerialNumber&gt;8bfe198c-7f0c-4ef8-8ff0-acc3237bf0d7&lt;/SerialNumber&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;  &lt;/Data&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;  &lt;Signature&gt;sNLLKGMUdF0r8O1kKilWAGdgfs2BvJb/2Xp8p5iuDVfZXmhppo+d0Ran1P9TKdjV4ABwAgKXxJ3jcQTqE/2IRfqwnPf8itN8aFZlV3TJPYeD3yWE7IT55Gz6EijUpC7aKeoohTb4w2fpox58wWoF3SNp6sK6jDfiAUGEHYJ9pjU=&lt;/Signature&gt;&#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;&lt;/License&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è·å–wordã€excelã€pptçš„license
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">boolean</span> getLicense(<span style="color:#fff;font-weight:bold">int</span> type) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">boolean</span> result = <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            InputStream license = <span style="color:#fff;font-weight:bold">new</span> ByteArrayInputStream(licenseStr.<span style="color:#007f7f">getBytes</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>));
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//ä¹Ÿå¯ä»¥è¯»å–æœ¬åœ°æ–‡ä»¶license.xml</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//InputStream license = new FileInputStream(new File(&#34;E:\\IDEA2017\\something2pdf-demo\\src\\main\\resources\\license.xml&#34;));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">switch</span>(type){
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">case</span> 1:<span style="color:#007f7f">//word</span>
</span></span><span style="display:flex;"><span>                    License wordLicense = <span style="color:#fff;font-weight:bold">new</span> License();
</span></span><span style="display:flex;"><span>                    wordLicense.<span style="color:#007f7f">setLicense</span>(license);
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">case</span> 2:<span style="color:#007f7f">//excel</span>
</span></span><span style="display:flex;"><span>                    com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">cells</span>.<span style="color:#007f7f">License</span> excelLicense = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">cells</span>.<span style="color:#007f7f">License</span>();
</span></span><span style="display:flex;"><span>                    excelLicense.<span style="color:#007f7f">setLicense</span>(license);
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">case</span> 3:<span style="color:#007f7f">//ppt</span>
</span></span><span style="display:flex;"><span>                    com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span> pptLicense = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span>();
</span></span><span style="display:flex;"><span>                    pptLicense.<span style="color:#007f7f">setLicense</span>(license);
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">default</span>:
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            result = <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * wordè½¬pdf
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> doc2pdf(String outputPath,String inputPath) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//éªŒè¯License è‹¥ä¸éªŒè¯åˆ™è½¬åŒ–å‡ºçš„pdfæ–‡æ¡£ä¼šæœ‰æ°´å°äº§ç”Ÿ</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!getLicense(1)) <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//pdfè¾“å‡ºè·¯å¾„</span>
</span></span><span style="display:flex;"><span>            FileOutputStream os = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(<span style="color:#fff;font-weight:bold">new</span> File(outputPath));
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//wordæ–‡ä»¶è·¯å¾„ï¼Œå³æœ¬åœ°wordæ–‡ä»¶è·¯å¾„</span>
</span></span><span style="display:flex;"><span>            Document doc = <span style="color:#fff;font-weight:bold">new</span> Document(inputPath);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¿™é‡Œä¹Ÿå¯ä»¥è·å–ä¸Šä¼ çš„æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//Document doc = new Document(multipartFile.getInputStream());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//ä¿å­˜è½¬æ¢çš„pdfæ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>            doc.<span style="color:#007f7f">save</span>(os, SaveFormat.<span style="color:#007f7f">PDF</span>);
</span></span><span style="display:flex;"><span>            os.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * excelè½¬pdf
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> excel2pdf(String outputPath,String inputPath) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// éªŒè¯License è‹¥ä¸éªŒè¯åˆ™è½¬åŒ–å‡ºçš„pdfæ–‡æ¡£ä¼šæœ‰æ°´å°äº§ç”Ÿ</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!getLicense(2)) <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//pdfè¾“å‡ºè·¯å¾„</span>
</span></span><span style="display:flex;"><span>            File file = <span style="color:#fff;font-weight:bold">new</span> File(outputPath);
</span></span><span style="display:flex;"><span>            FileOutputStream os = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(file);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//excelè¾“å…¥è·¯å¾„ï¼Œå³æœ¬åœ°excelæ–‡ä»¶è·¯å¾„</span>
</span></span><span style="display:flex;"><span>            Workbook wb = <span style="color:#fff;font-weight:bold">new</span> Workbook(inputPath);
</span></span><span style="display:flex;"><span>            wb.<span style="color:#007f7f">save</span>(os, com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">cells</span>.<span style="color:#007f7f">SaveFormat</span>.<span style="color:#007f7f">PDF</span>);
</span></span><span style="display:flex;"><span>            os.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * pptè½¬pdf
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> ppt2pdf(String outputPath,String inputPath) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// éªŒè¯License</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (!getLicense(3)) <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//pdfè¾“å‡ºè·¯å¾„</span>
</span></span><span style="display:flex;"><span>            File file = <span style="color:#fff;font-weight:bold">new</span> File(outputPath);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//pptè¾“å…¥è·¯å¾„ï¼Œå³æœ¬åœ°pptæ–‡ä»¶è·¯å¾„</span>
</span></span><span style="display:flex;"><span>            Presentation pres = <span style="color:#fff;font-weight:bold">new</span> Presentation(inputPath);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            FileOutputStream fileOS = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(file);
</span></span><span style="display:flex;"><span>            pres.<span style="color:#007f7f">save</span>(fileOS, com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">SaveFormat</span>.<span style="color:#007f7f">Pdf</span>);
</span></span><span style="display:flex;"><span>            fileOS.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        AsposeUtil.<span style="color:#007f7f">doc2pdf</span>(<span style="color:#0ff;font-weight:bold">&#34;D:\\doc2pdf.pdf&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\wjy\\Desktop\\æµ‹è¯•word.docx&#34;</span>);
</span></span><span style="display:flex;"><span>        AsposeUtil.<span style="color:#007f7f">excel2pdf</span>(<span style="color:#0ff;font-weight:bold">&#34;D:\\excel2pdf.pdf&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\wjy\\Desktop\\æµ‹è¯•excel.xlsx&#34;</span>);
</span></span><span style="display:flex;"><span>        AsposeUtil.<span style="color:#007f7f">ppt2pdf</span>(<span style="color:#0ff;font-weight:bold">&#34;D:\\ppt2pdf.pdf&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\wjy\\Desktop\\æµ‹è¯•ppt.pptx&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>mavenä»“åº“é‡Œæ²¡æœ‰è¿™ä¸‰ä¸ªåŒ…ã€‚éœ€è¦è‡ªå·±ä¸‹è½½ï¼Œç„¶åæ”¾åˆ°é¡¹ç›®é‡Œï¼Œæˆ–æ”¾åˆ°è‡ªå·±çš„mavenä»“åº“é‡Œã€‚
è€Œä¸”<code>new License()</code>å’Œ<code>SaveFormat</code>ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸‰ä¸ªåŒ…çš„åå­—æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥åªèƒ½å€’ä¸€ä¸ªåŒ…ï¼Œå‰©ä¸‹ä¸¤ä¸ªå†™å…¨è·¯å¾„ã€‚</p>
<p>ä¸‰ä¸ªåŒ…åï¼š
<code>aspose-cells-18.9.jar</code>excelè½¬pdf
<code>aspose-slides-19.6.jar</code>pptè½¬pdf
<code>aspose-words-16.8.0-jdk16.jar</code>wordè½¬pdf</p>
<p><a href="https://www.jianshu.com/p/86716c7122ef">wordsè½¬pdfå‚è€ƒ</a>
<a href="https://blog.csdn.net/qq_34190023/article/details/82999054">å‚è€ƒåœ°å€</a>
<a href="https://blog.csdn.net/qq_42834405/article/details/98635337">å¦‚ä½•ç ´è§£</a></p>
<h1 id="pdfè½¬å›¾ç‰‡">PDFè½¬å›¾ç‰‡<a hidden class="anchor" aria-hidden="true" href="#pdfè½¬å›¾ç‰‡">#</a></h1>
<p>Apache PDFBoxÂ®åº“æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†PDFæ–‡æ¡£çš„å¼€æºJavaå·¥å…·ã€‚
å®˜ç½‘ï¼šhttps://pdfbox.apache.org/</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.apache.pdfbox<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>pdfbox<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;version&gt;</span>2.0.22<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>	<span style="color:#007f7f">// dpiï¼Œå’Œå›¾ç‰‡çš„åˆ†è¾¨ç‡å’Œæ¸…æ™°åº¦æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> WORD_DPI = 700;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å’Œå›¾ç‰‡æ¸…æ™°åº¦æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> PDF_DPI = 100;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å›¾ç‰‡çš„æ ¼å¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String IMG_TYPE = <span style="color:#0ff;font-weight:bold">&#34;png&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// pptè½¬å›¾ç‰‡ï¼Œæ”¾å¤§çš„å€æ•°ï¼Œå’Œè¶Šæ¸…æ™°æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> MAGNIFICATION = 5;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * pdf è½¬ OutputStream
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> List&lt;ByteArrayOutputStream&gt; pdfToOutputStream(MultipartFile multipartFile) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        List&lt;ByteArrayOutputStream&gt; byteArrayOutputStreams = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream byteArrayOutputStream = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> (InputStream inputStream = multipartFile.<span style="color:#007f7f">getInputStream</span>();
</span></span><span style="display:flex;"><span>             PDDocument document = PDDocument.<span style="color:#007f7f">load</span>(inputStream)){
</span></span><span style="display:flex;"><span>            PDFRenderer pdfRenderer = <span style="color:#fff;font-weight:bold">new</span> PDFRenderer(document);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &lt; document.<span style="color:#007f7f">getPages</span>().<span style="color:#007f7f">getCount</span>(); i++) {
</span></span><span style="display:flex;"><span>                byteArrayOutputStream = <span style="color:#fff;font-weight:bold">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>                ImageIO.<span style="color:#007f7f">write</span>(pdfRenderer.<span style="color:#007f7f">renderImageWithDPI</span>(i, PDF_DPI), IMG_TYPE, byteArrayOutputStream);
</span></span><span style="display:flex;"><span>                byteArrayOutputStreams.<span style="color:#007f7f">add</span>(byteArrayOutputStream);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            byteArrayOutputStream.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> byteArrayOutputStreams;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="pptè½¬å›¾ç‰‡">pptè½¬å›¾ç‰‡<a hidden class="anchor" aria-hidden="true" href="#pptè½¬å›¾ç‰‡">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>	<span style="color:#007f7f">// dpiï¼Œå’Œå›¾ç‰‡çš„åˆ†è¾¨ç‡å’Œæ¸…æ™°åº¦æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> WORD_DPI = 700;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å’Œå›¾ç‰‡æ¸…æ™°åº¦æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> PDF_DPI = 100;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å›¾ç‰‡çš„æ ¼å¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String IMG_TYPE = <span style="color:#0ff;font-weight:bold">&#34;png&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// pptè½¬å›¾ç‰‡ï¼Œæ”¾å¤§çš„å€æ•°ï¼Œå’Œæ¸…æ™°åº¦æˆæ­£æ¯”</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> MAGNIFICATION = 5;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ppt è½¬ OutputStream
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> List&lt;ByteArrayOutputStream&gt; pptToOutputStream(MultipartFile multipartFile) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        List&lt;ByteArrayOutputStream&gt; byteArrayOutputStreams = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        XMLSlideShow xmlSlideShow = <span style="color:#fff;font-weight:bold">new</span> XMLSlideShow(multipartFile.<span style="color:#007f7f">getInputStream</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–é¡µé¢å¤§å°</span>
</span></span><span style="display:flex;"><span>        Dimension size = xmlSlideShow.<span style="color:#007f7f">getPageSize</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–å¹»ç¯ç‰‡</span>
</span></span><span style="display:flex;"><span>        List&lt;XSLFSlide&gt; slides = xmlSlideShow.<span style="color:#007f7f">getSlides</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream byteArrayOutputStream = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (XSLFSlide slide : slides) {
</span></span><span style="display:flex;"><span>                List&lt;XSLFShape&gt; shapes = slide.<span style="color:#007f7f">getShapes</span>();
</span></span><span style="display:flex;"><span>                handleMessyCode(shapes);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                BufferedImage bufferedImage = <span style="color:#fff;font-weight:bold">new</span> BufferedImage(size.<span style="color:#007f7f">width</span> * MAGNIFICATION, size.<span style="color:#007f7f">height</span> * MAGNIFICATION, BufferedImage.<span style="color:#007f7f">TYPE_INT_RGB</span>);
</span></span><span style="display:flex;"><span>                Graphics2D graphics = bufferedImage.<span style="color:#007f7f">createGraphics</span>();
</span></span><span style="display:flex;"><span>                graphics.<span style="color:#007f7f">setPaint</span>(Color.<span style="color:#007f7f">white</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// å°†å›¾ç‰‡æ”¾å¤§</span>
</span></span><span style="display:flex;"><span>                graphics.<span style="color:#007f7f">scale</span>(MAGNIFICATION, MAGNIFICATION);
</span></span><span style="display:flex;"><span>                graphics.<span style="color:#007f7f">fill</span>(<span style="color:#fff;font-weight:bold">new</span> Rectangle2D.<span style="color:#007f7f">Float</span>(0, 0, size.<span style="color:#007f7f">width</span>, size.<span style="color:#007f7f">height</span>));
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// ç”»</span>
</span></span><span style="display:flex;"><span>                slide.<span style="color:#007f7f">draw</span>(graphics);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                byteArrayOutputStream = <span style="color:#fff;font-weight:bold">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>                ImageIO.<span style="color:#007f7f">write</span>(bufferedImage, IMG_TYPE, byteArrayOutputStream);
</span></span><span style="display:flex;"><span>                byteArrayOutputStreams.<span style="color:#007f7f">add</span>(byteArrayOutputStream);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            byteArrayOutputStream.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> byteArrayOutputStreams;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è§£å†³ä¹±ç é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> handleMessyCode(List&lt;XSLFShape&gt; shapes) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (XSLFShape shape : shapes) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (shape <span style="color:#fff;font-weight:bold">instanceof</span> XSLFTextShape) {
</span></span><span style="display:flex;"><span>                XSLFTextShape sh = (XSLFTextShape) shape;
</span></span><span style="display:flex;"><span>                List&lt;XSLFTextParagraph&gt; textParagraphs = sh.<span style="color:#007f7f">getTextParagraphs</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">for</span> (XSLFTextParagraph xslfTextParagraph : textParagraphs) {
</span></span><span style="display:flex;"><span>                    List&lt;XSLFTextRun&gt; textRuns = xslfTextParagraph.<span style="color:#007f7f">getTextRuns</span>();
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">for</span> (XSLFTextRun xslfTextRun : textRuns) {
</span></span><span style="display:flex;"><span>                        xslfTextRun.<span style="color:#007f7f">setFontFamily</span>(<span style="color:#0ff;font-weight:bold">&#34;å®‹ä½“&#34;</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="aspose-ç ´è§£">aspose ç ´è§£<a hidden class="anchor" aria-hidden="true" href="#aspose-ç ´è§£">#</a></h1>
<p>å®˜ç½‘ï¼šhttps://www.aspose.com/
ç ´è§£ä¹‹å‰ï¼Œå…ˆä»å®˜ç½‘æŠŠjaråŒ…ä¸‹è½½åˆ°æœ¬åœ°ã€‚ä¸Šä¼ åˆ°é˜¿é‡Œäº‘æ•ˆmavenä»“åº“ï¼Œæˆ–è€…æŠŠjaråŒ…ç›´æ¥å¯¼å…¥åˆ°ideaä¸­ã€‚</p>
<p>å‚è€ƒ ï¼šhttps://juejin.cn/post/7034415238602555405</p>
<p>aspose çš„æ‰€æœ‰å·¥å…·ç ´è§£çš„æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯åˆ†æåŠ è½½è¯ä¹¦çš„ä»£ç ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>License license = <span style="color:#fff;font-weight:bold">new</span> License();
</span></span><span style="display:flex;"><span>license.<span style="color:#007f7f">setLicense</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="asposepdf-for-java-2111-ç ´è§£">Aspose.PDF for Java 21.11 ç ´è§£<a hidden class="anchor" aria-hidden="true" href="#asposepdf-for-java-2111-ç ´è§£">#</a></h2>
<h3 id="åˆ†æä»£ç ">åˆ†æä»£ç <a hidden class="anchor" aria-hidden="true" href="#åˆ†æä»£ç ">#</a></h3>
<p>ç›´æ¥è°ƒç”¨æˆæƒæ–¹æ³•ï¼Œæ³¨æ„æ¯ç§ aspose å·¥å…·çš„ License ç±»çš„åŒ…è·¯å¾„æ˜¯ä¸åŒçš„ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>License license = <span style="color:#fff;font-weight:bold">new</span> License();
</span></span><span style="display:flex;"><span>license.<span style="color:#007f7f">setLicense</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>åˆ†æ<code>License</code>ç±»çš„<code>setLicense()</code>æ–¹æ³•ï¼Œå‘ç°<code>setLicense()</code>çš„ä¸¤ä¸ªé‡è½½æ–¹æ³•éƒ½æ‰§è¡Œäº†å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>l9f var10 = <span style="color:#fff;font-weight:bold">new</span> l9f();
</span></span><span style="display:flex;"><span>var10.<span style="color:#007f7f">lI</span>(var9);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿›å…¥l9fç±»çš„lTæ–¹æ³•ï¼Œä»”ç»†è§‚å¯Ÿå‘ç°è¿™ä¸ªæ–¹æ³•å°±æ˜¯éªŒè¯çš„ï¼Œä¸»è¦æ˜¯åšéªŒè¯å¤±è´¥æŠ›å¼‚å¸¸å’Œæ·»åŠ ä¸€äº›æ ‡è¯†ï¼Œå¥½åƒåªæœ‰æœ€åä¸€æ®µä»£ç æ˜¯é€šè¿‡éªŒè¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">l0if</span> = l10if.<span style="color:#007f7f">lf</span>;
</span></span><span style="display:flex;"><span>Helper.<span style="color:#007f7f">help1</span>();
</span></span><span style="display:flex;"><span>lI(<span style="color:#fff;font-weight:bold">this</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥éœ€è¦æŠŠè¿™ä¸ªæ–¹æ³•å…¶ä»–ä»£ç éƒ½åˆ é™¤ï¼Œåªç•™æœ€åè¿™ä¸‰è¡Œã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">void</span> lI(InputStream var1) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">l0if</span> = l10if.<span style="color:#007f7f">lf</span>;
</span></span><span style="display:flex;"><span>    Helper.<span style="color:#007f7f">help1</span>();
</span></span><span style="display:flex;"><span>    lI(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å¼€å§‹ç ´è§£">å¼€å§‹ç ´è§£<a hidden class="anchor" aria-hidden="true" href="#å¼€å§‹ç ´è§£">#</a></h3>
<p>ä½¿ç”¨<code>Javassist</code>å·¥å…·ä¿®æ”¹classå­—èŠ‚ç æ–‡ä»¶ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;dependency&gt;
</span></span><span style="display:flex;"><span>    &lt;groupId&gt;org.javassist&lt;/groupId&gt;
</span></span><span style="display:flex;"><span>    &lt;artifactId&gt;javassist&lt;/artifactId&gt;
</span></span><span style="display:flex;"><span>    &lt;version&gt;3.28.0-GA&lt;/version&gt;
</span></span><span style="display:flex;"><span>&lt;/dependency&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¿®æ”¹</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç ´è§£æ–¹å¼ä¸€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> modifyPDFJar() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¿™ä¸€æ­¥æ˜¯å®Œæ•´çš„jaråŒ…è·¯å¾„,é€‰æ‹©è‡ªå·±è§£å‹çš„jarç›®å½•</span>
</span></span><span style="display:flex;"><span>            ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">insertClassPath</span>(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\aspose\\aspose-slides-22.5-java\\lib\\aspose-slides-22.5-jdk16.jar&#34;</span>);
</span></span><span style="display:flex;"><span>            CtClass zzZJJClass = ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">getCtClass</span>(<span style="color:#0ff;font-weight:bold">&#34;com.aspose.pdf.ADocument&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//ä»classå¯¹è±¡ä¸­è§£æè·å–æ‰€æœ‰æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>            CtMethod[] methodA = zzZJJClass.<span style="color:#007f7f">getDeclaredMethods</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (CtMethod ctMethod : methodA) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//è·å–æ–¹æ³•è·å–å‚æ•°ç±»å‹</span>
</span></span><span style="display:flex;"><span>                CtClass[] ps = ctMethod.<span style="color:#007f7f">getParameterTypes</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//ç­›é€‰åŒåæ–¹æ³•ï¼Œå…¥å‚æ˜¯Document</span>
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (ps.<span style="color:#007f7f">length</span> == 0 &amp;&amp; (ctMethod.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;lj&#34;</span>) || ctMethod.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;lt&#34;</span>)) ) {
</span></span><span style="display:flex;"><span>                    ctMethod.<span style="color:#007f7f">setBody</span>(<span style="color:#0ff;font-weight:bold">&#34;{return true;}&#34;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">if</span> (ps.<span style="color:#007f7f">length</span> == 1 &amp;&amp; (ctMethod.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;lI&#34;</span>)) &amp;&amp; ps[0].<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;com.aspose.pdf.internal.l10k.ly&#34;</span>)) {
</span></span><span style="display:flex;"><span>                    ctMethod.<span style="color:#007f7f">setBody</span>(<span style="color:#0ff;font-weight:bold">&#34;{return true;}&#34;</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è¿™ä¸€æ­¥å°±æ˜¯å°†ç ´è¯‘å®Œçš„ä»£ç æ”¾åœ¨æ¡Œé¢ä¸Š</span>
</span></span><span style="display:flex;"><span>            zzZJJClass.<span style="color:#007f7f">writeFile</span>(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\testAspose&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;é”™è¯¯==&#34;</span> + e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * ç ´è§£æ–¹å¼äºŒ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> modifyPDFJar() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è¿™ä¸€æ­¥æ˜¯å®Œæ•´çš„jaråŒ…è·¯å¾„,é€‰æ‹©è‡ªå·±è§£å‹çš„jarç›®å½•</span>
</span></span><span style="display:flex;"><span>        ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">insertClassPath</span>(<span style="color:#0ff;font-weight:bold">&#34;D:\\aspose.pdf-21.11-java\\lib\aspose.pdf-21.11.jar&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è·å–æŒ‡å®šçš„classæ–‡ä»¶å¯¹è±¡</span>
</span></span><span style="display:flex;"><span>        CtClass zzZJJClass = ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">getCtClass</span>(<span style="color:#0ff;font-weight:bold">&#34;com.aspose.pdf.l9f&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//ä»classå¯¹è±¡ä¸­è§£æè·å–æ‰€æœ‰æ–¹æ³•</span>
</span></span><span style="display:flex;"><span>        CtMethod[] methodA = zzZJJClass.<span style="color:#007f7f">getDeclaredMethods</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (CtMethod ctMethod : methodA) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è·å–æ–¹æ³•è·å–å‚æ•°ç±»å‹</span>
</span></span><span style="display:flex;"><span>            CtClass[] ps = ctMethod.<span style="color:#007f7f">getParameterTypes</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//ç­›é€‰åŒåæ–¹æ³•ï¼Œå…¥å‚æ˜¯Document</span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (ps.<span style="color:#007f7f">length</span> == 1 &amp;&amp; ctMethod.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;lI&#34;</span>) &amp;&amp; ps[0].<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;java.io.InputStream&#34;</span>)) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;ps[0].getName==&#34;</span> + ps[0].<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">//æ›¿æ¢æŒ‡å®šæ–¹æ³•çš„æ–¹æ³•ä½“</span>
</span></span><span style="display:flex;"><span>                ctMethod.<span style="color:#007f7f">setBody</span>(<span style="color:#0ff;font-weight:bold">&#34;{this.l0if = com.aspose.pdf.l10if.lf;com.aspose.pdf.internal.imaging.internal.p71.Helper.help1();lI(this);}&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è¿™ä¸€æ­¥å°±æ˜¯å°†ç ´è¯‘å®Œçš„ä»£ç æ”¾åœ¨æ¡Œé¢ä¸Š</span>
</span></span><span style="display:flex;"><span>        zzZJJClass.<span style="color:#007f7f">writeFile</span>(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\wjy\\Desktop\\&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;é”™è¯¯==&#34;</span> + e);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œä¿®æ”¹æ–¹æ³•åä¼šåœ¨æ¡Œé¢ç”Ÿæˆ com ä¿®æ”¹åçš„æ–‡ä»¶å¤¹ã€‚</p>
<p>ä¿®æ”¹jaråŒ…é‡Œçš„classã€‚
ç”¨è§£å‹å·¥å…·<code>é¢„è§ˆ</code>jaråŒ…ï¼ˆä¸æ˜¯è§£å‹ï¼Œæ˜¯é¢„è§ˆï¼‰ï¼Œå°†æˆ‘ä»¬åˆšæ‰ä¿®æ”¹å¥½çš„classæ–‡ä»¶ï¼Œç›´æ¥æ›¿æ¢åˆ°jaråŒ…ä¸­ã€‚æ³¨æ„è·¯å¾„è¦æ­£ç¡®ï¼Œæ¯”å¦‚åˆšæ‰ä¿®æ”¹çš„ç±»<code>l9f</code>çš„è·¯å¾„æ˜¯<code>com.aspose.pdf.l9f</code>ã€‚æˆ‘ä»¬æŠŠclassæ–‡ä»¶æ”¾åˆ°å¯¹åº”è·¯å¾„ï¼Œä¼šæç¤ºï¼šæ˜¯å¦æ›¿æ¢ã€‚ç‚¹æ˜¯ï¼Œç›´æ¥æ›¿æ¢ã€‚</p>
<p>ç„¶ååˆ é™¤ jaråŒ…é‡Œé¢çš„<code>.RSA</code>å’Œ<code>.SF</code>æ–‡ä»¶ã€‚ç ´è§£å®Œæ¯•ã€‚
é‡æ–°å¯¼å…¥jaråŒ…åˆ°é¡¹ç›®é‡Œï¼Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦æˆåŠŸã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> pdfToSvg() {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è¿™ä¸€è¡Œæ˜¯åŠ è½½è®¸å¯è¯ï¼Œçœ‹æƒ…å†µåŠ æˆ–ä¸åŠ ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//        try {</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            getLicense();</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//        } catch (IOException e) {</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//            e.printStackTrace();</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//        }</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#007f7f">// pdf </span>
</span></span><span style="display:flex;"><span>        String pdfFileName = <span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\æ–°å‘˜å·¥å…¥èŒåŸ¹è®­9.26.pdf&#34;</span>;
</span></span><span style="display:flex;"><span>        String svgFileName = <span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\pdf_output\\pdf_to_svg_out.svg&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Load PDF document</span>
</span></span><span style="display:flex;"><span>        Document doc = <span style="color:#fff;font-weight:bold">new</span> Document(pdfFileName);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Instantiate an object of SvgSaveOptions</span>
</span></span><span style="display:flex;"><span>        SvgSaveOptions saveOptions = <span style="color:#fff;font-weight:bold">new</span> SvgSaveOptions();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Do not compress SVG image to Zip archive</span>
</span></span><span style="display:flex;"><span>        saveOptions.<span style="color:#007f7f">setCompressOutputToZipArchive</span>(<span style="color:#fff;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Save the output in SVG files</span>
</span></span><span style="display:flex;"><span>        doc.<span style="color:#007f7f">save</span>(svgFileName, saveOptions);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="asposeslides-for-java-2110-ç ´è§£">Aspose.Slides for Java 21.10 ç ´è§£<a hidden class="anchor" aria-hidden="true" href="#asposeslides-for-java-2110-ç ´è§£">#</a></h3>
<p>è¿˜æ˜¯åˆ†æåŠ è½½è¯ä¹¦çš„æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span> license = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span>();
</span></span><span style="display:flex;"><span>license.<span style="color:#007f7f">setLicense</span>(byteArrayInputStream);
</span></span></code></pre></td></tr></table>
</div>
</div><p>çœ‹ä¸‹æ¥å‘ç°<code>setLicense</code>çš„ä¸¤ä¸ªé‡è½½æ–¹æ³•æœ€ç»ˆéƒ½è°ƒç”¨äº†43è¡Œ<code>var7.do(var2);</code> ä¹Ÿå°±æ˜¯publicç±»é‡Œçš„ <code>do</code>æ–¹æ³•ï¼Œç”±äº<code>public</code>å’Œ<code>do</code>æ˜¯ä¿®é¥°ç¬¦ï¼Œæ‰€ä»¥å…ˆæ‰¾åˆ°ä¸Šæ–¹å¯¼å…¥çš„publicç±»è·¯å¾„
<code>import com.aspose.slides.internal.of.public;ï¼Œ</code>ç„¶åè¿›å…¥åˆ°ä¾èµ–å¼•ç”¨çš„ofç›®å½•å»æœç´¢æ‰¾åˆ°<code>public</code>ç±»ï¼Œç„¶åè¿›å…¥publicç±»çœ‹åˆ°doæ–¹æ³•ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">void</span> do(InputStream var1) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (var1 != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">if</span>(var1);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">for</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">for</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">do</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">do</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">int</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">new</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> = <span style="color:#fff;font-weight:bold">this</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">native</span>.<span style="color:#007f7f">do</span>(<span style="color:#fff;font-weight:bold">try</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">native</span>.<span style="color:#007f7f">do</span>(<span style="color:#fff;font-weight:bold">try</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ­¤æ—¶ä¸è¦æ…Œï¼Œæ…¢æ…¢åˆ†æå‘ç°<code>native.do(try);</code>åº”è¯¥æ˜¯å…³é”®ä»£ç ï¼Œç»§ç»­æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> do(Node var0, Node var1, String[] var2) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>    ......
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ–¹æ³•é‡Œé¢å¸¦æœ‰RSAè¿™ç§åŠ å¯†çš„å…³é”®è¯ï¼Œæ‰€ä»¥æ¨æµ‹è¿™é‡Œå°±æ˜¯éªŒè¯ç”¨çš„æ–¹æ³•ã€‚ä¹Ÿä¸çŸ¥é“è¿™ä¸ªæ–¹æ³•å’‹æ‰§è¡Œçš„ï¼Œè€æ–¹æ³•ï¼Œç›´æ¥æŠŠè¿™ä¸ªæ–¹æ³•çš„å†…å®¹æ¸…ç©ºã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>private <span style="color:#fff;font-weight:bold">static</span> void <span style="color:#fff;font-weight:bold">do</span>(Node var0, Node var1, String[] var2) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨ Javassistä¿®æ”¹classå­—èŠ‚ç æ–‡ä»¶ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * ä¿®æ”¹slides.jaråŒ…é‡Œé¢çš„æ ¡éªŒ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> modifyPptJar() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è¿™ä¸€æ­¥æ˜¯å®Œæ•´çš„jaråŒ…è·¯å¾„,é€‰æ‹©è‡ªå·±è§£å‹çš„jarç›®å½•</span>
</span></span><span style="display:flex;"><span>        ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">insertClassPath</span>(<span style="color:#0ff;font-weight:bold">&#34;D:\\aspose-slides-21.10-java\\lib\\aspose-slides-21.10-jdk16.jar&#34;</span>);
</span></span><span style="display:flex;"><span>        CtClass zzZJJClass = ClassPool.<span style="color:#007f7f">getDefault</span>().<span style="color:#007f7f">getCtClass</span>(<span style="color:#0ff;font-weight:bold">&#34;com.aspose.slides.internal.of.public&#34;</span>);
</span></span><span style="display:flex;"><span>        CtMethod[] methodA = zzZJJClass.<span style="color:#007f7f">getDeclaredMethods</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (CtMethod ctMethod : methodA) {
</span></span><span style="display:flex;"><span>            CtClass[] ps = ctMethod.<span style="color:#007f7f">getParameterTypes</span>();
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (ps.<span style="color:#007f7f">length</span> == 3 &amp;&amp; ctMethod.<span style="color:#007f7f">getName</span>().<span style="color:#007f7f">equals</span>(<span style="color:#0ff;font-weight:bold">&#34;do&#34;</span>)) {
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;ps[0].getName==&#34;</span> + ps[0].<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>                ctMethod.<span style="color:#007f7f">setBody</span>(<span style="color:#0ff;font-weight:bold">&#34;{}&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è¿™ä¸€æ­¥å°±æ˜¯å°†ç ´è¯‘å®Œçš„ä»£ç æ”¾åœ¨æ¡Œé¢ä¸Š</span>
</span></span><span style="display:flex;"><span>        zzZJJClass.<span style="color:#007f7f">writeFile</span>(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\roc\\Desktop\\&#34;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;é”™è¯¯==&#34;</span> + e);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åæŒ‰ç…§è·¯å¾„å°†æˆ‘ä»¬ç”Ÿæˆçš„ class æ–‡ä»¶æ›¿æ¢åˆ° jaråŒ…çš„å¯¹åº”è·¯å¾„ï¼Œå¹¶ä¸”åˆ é™¤jaråŒ…é‡Œé¢çš„.RSAå’Œ.SFæ–‡ä»¶ã€‚ç„¶åé‡æ–°å¯¼å…¥jaråŒ…æµ‹è¯•ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> pptToSvg() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// instantiate a Presentation object that represents a PPTX file</span>
</span></span><span style="display:flex;"><span>        Presentation pres = <span style="color:#fff;font-weight:bold">new</span> Presentation(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\ç¬¬å››å•å…ƒ ç»¼åˆæ€§å­¦ä¹  èµ°è¿›å°è¯´å¤©åœ°(å…±14å¼ PPT).ppt&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            ByteArrayInputStream byteArrayInputStream = <span style="color:#fff;font-weight:bold">new</span> ByteArrayInputStream(licenseStr.<span style="color:#007f7f">getBytes</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>));
</span></span><span style="display:flex;"><span>            com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span> license = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aspose</span>.<span style="color:#007f7f">slides</span>.<span style="color:#007f7f">License</span>();
</span></span><span style="display:flex;"><span>            license.<span style="color:#007f7f">setLicense</span>(byteArrayInputStream);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            SVGOptions svgOptions = <span style="color:#fff;font-weight:bold">new</span> SVGOptions();
</span></span><span style="display:flex;"><span>            svgOptions.<span style="color:#007f7f">setPicturesCompression</span>(0);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">int</span> a = 0;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (ISlide i : pres.<span style="color:#007f7f">getSlides</span>()) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// Access the first slide</span>
</span></span><span style="display:flex;"><span>                ISlide sld = i;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// Create a memory stream object</span>
</span></span><span style="display:flex;"><span>                FileOutputStream svgStream = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(<span style="color:#0ff;font-weight:bold">&#34;C:\\Users\\123\\Desktop\\ppt_output\\output&#34;</span>+ a +<span style="color:#0ff;font-weight:bold">&#34; .svg&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// Create SVG image of slide and save in memory stream</span>
</span></span><span style="display:flex;"><span>                sld.<span style="color:#007f7f">writeAsSvg</span>(svgStream,svgOptions);
</span></span><span style="display:flex;"><span>                svgStream.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                a++;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            pres.<span style="color:#007f7f">dispose</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆåŠŸï¼</p>
<h1 id="ä½¿ç”¨serverlesså°†ossæ–‡ä»¶æ‰“åŒ…ä¸‹è½½">ä½¿ç”¨Serverlesså°†OSSæ–‡ä»¶æ‰“åŒ…ä¸‹è½½<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨serverlesså°†ossæ–‡ä»¶æ‰“åŒ…ä¸‹è½½">#</a></h1>
<p>å¦‚æœä¸ä½¿ç”¨serverlessï¼Œæƒ³è¦æ‰“åŒ…ä¸‹è½½é˜¿é‡Œäº‘OSSçš„æ–‡ä»¶ï¼Œæ€è·¯æ˜¯ï¼š</p>
<ul>
<li>é¦–å…ˆæ‹¿åˆ°æƒ³è¦ä¸‹è½½çš„æ–‡ä»¶çš„oss urlåˆ—è¡¨ã€‚</li>
<li>ç„¶åé€šè¿‡æµè¯»å–ossæ–‡ä»¶åˆ°å†…å­˜</li>
<li>å°†æ–‡ä»¶åœ¨å†…å­˜ä¸­æ‰“åŒ…æˆZIP</li>
<li>é€šè¿‡<code>HttpServletResponse</code> å“åº”ç»™å‰ç«¯</li>
</ul>
<p>è¿™æ ·çš„ç¼ºç‚¹æ˜¯ï¼š</p>
<ul>
<li>é€šè¿‡url ä» oss è¯»å–æ–‡ä»¶å¾ˆè€—æ—¶ï¼Œoss å†…ç½‘åœ°å€è¿˜å¥½ï¼Œå¦‚æœæ˜¯ oss å…¬ç½‘åœ°å€ï¼Œè¿˜ä¼šæ¶ˆè€—æœåŠ¡å™¨çš„å…¥å£å¸¦å®½ã€‚</li>
<li>é€šè¿‡<code>HttpServletResponse</code> å“åº”ç»™å‰ç«¯ï¼Œéå¸¸æ¶ˆè€—æœåŠ¡å™¨çš„å‡ºå£å¸¦å®½ã€‚</li>
</ul>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> downZip(List&lt;String&gt; urlList,List&lt;String&gt; fileNameList,HttpServletRequest request, HttpServletResponse response) {        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>    String fileName = <span style="color:#0ff;font-weight:bold">&#34;stzy.zip&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// åˆ›å»ºä¸´æ—¶æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>    File zipFile = File.<span style="color:#007f7f">createTempFile</span>(<span style="color:#0ff;font-weight:bold">&#34;stzy&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;.zip&#34;</span>);
</span></span><span style="display:flex;"><span>    FileOutputStream f = <span style="color:#fff;font-weight:bold">new</span> FileOutputStream(zipFile);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//ä½œç”¨æ˜¯ä¸ºä»»ä½•OutputStreamäº§ç”Ÿæ ¡éªŒ</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ¶å®šäº§ç”Ÿæ ¡éªŒå’Œçš„è¾“å‡ºæµï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æŒ‡å®šChecksumçš„ç±»å‹ ï¼ˆAdler32ï¼ˆè¾ƒå¿«ï¼‰å’ŒCRC32ä¸¤ç§ï¼‰</span>
</span></span><span style="display:flex;"><span>    CheckedOutputStream csum = <span style="color:#fff;font-weight:bold">new</span> CheckedOutputStream(f, <span style="color:#fff;font-weight:bold">new</span> Adler32());
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//ç”¨äºå°†æ•°æ®å‹ç¼©æˆZipæ–‡ä»¶æ ¼å¼</span>
</span></span><span style="display:flex;"><span>    ZipOutputStream zos = <span style="color:#fff;font-weight:bold">new</span> ZipOutputStream(csum);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &lt; urlList.<span style="color:#007f7f">size</span>(); i++) {
</span></span><span style="display:flex;"><span>        InputStream inputStream = loadFileFromUrl(urlList.<span style="color:#007f7f">get</span>(i));
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//zipè®¾ç½®æ–‡ä»¶å</span>
</span></span><span style="display:flex;"><span>        zos.<span style="color:#007f7f">putNextEntry</span>(<span style="color:#fff;font-weight:bold">new</span> ZipEntry(fileNameList.<span style="color:#007f7f">get</span>(i) + <span style="color:#0ff;font-weight:bold">&#34;.&#34;</span> + FileTypeUtil.<span style="color:#007f7f">getFileExtName</span>(urlList.<span style="color:#007f7f">get</span>(i))));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> bytesRead = 0;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å‘å‹ç¼©æ–‡ä»¶ä¸­è¾“å‡ºæ•°æ®</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span> ((bytesRead = inputStream.<span style="color:#007f7f">read</span>()) != -1) {
</span></span><span style="display:flex;"><span>            zos.<span style="color:#007f7f">write</span>(bytesRead);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        inputStream.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å½“å‰æ–‡ä»¶å†™å®Œï¼Œå®šä½ä¸ºå†™å…¥ä¸‹ä¸€æ¡é¡¹ç›®</span>
</span></span><span style="display:flex;"><span>        zos.<span style="color:#007f7f">closeEntry</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    zos.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>    String header = request.<span style="color:#007f7f">getHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;User-Agent&#34;</span>).<span style="color:#007f7f">toUpperCase</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (header.<span style="color:#007f7f">contains</span>(<span style="color:#0ff;font-weight:bold">&#34;MSIE&#34;</span>) || header.<span style="color:#007f7f">contains</span>(<span style="color:#0ff;font-weight:bold">&#34;TRIDENT&#34;</span>) || header.<span style="color:#007f7f">contains</span>(<span style="color:#0ff;font-weight:bold">&#34;EDGE&#34;</span>)) {
</span></span><span style="display:flex;"><span>        fileName = URLEncoder.<span style="color:#007f7f">encode</span>(fileName, <span style="color:#0ff;font-weight:bold">&#34;utf-8&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//IEä¸‹è½½æ–‡ä»¶åç©ºæ ¼å˜+å·é—®é¢˜</span>
</span></span><span style="display:flex;"><span>        fileName = fileName.<span style="color:#007f7f">replace</span>(<span style="color:#0ff;font-weight:bold">&#34;+&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;%20&#34;</span>);
</span></span><span style="display:flex;"><span>    } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        fileName = <span style="color:#fff;font-weight:bold">new</span> String(fileName.<span style="color:#007f7f">getBytes</span>(), <span style="color:#0ff;font-weight:bold">&#34;ISO8859-1&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">reset</span>();
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;text/plain&#34;</span>);
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;application/octet-stream; charset=utf-8&#34;</span>);
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Location&#34;</span>, fileName);
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Cache-Control&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;max-age=0&#34;</span>);
</span></span><span style="display:flex;"><span>    response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Content-Disposition&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;attachment; filename=&#34;</span> + fileName);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    FileInputStream fis = <span style="color:#fff;font-weight:bold">new</span> FileInputStream(zipFile);
</span></span><span style="display:flex;"><span>    BufferedInputStream buff = <span style="color:#fff;font-weight:bold">new</span> BufferedInputStream(fis);
</span></span><span style="display:flex;"><span>    BufferedOutputStream out = <span style="color:#fff;font-weight:bold">new</span> BufferedOutputStream(response.<span style="color:#007f7f">getOutputStream</span>());
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">byte</span>[] car = <span style="color:#fff;font-weight:bold">new</span> <span style="color:#fff;font-weight:bold">byte</span>[1024];
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> l = 0;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">while</span> (l &lt; zipFile.<span style="color:#007f7f">length</span>()) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> j = buff.<span style="color:#007f7f">read</span>(car, 0, 1024);
</span></span><span style="display:flex;"><span>        l += j;
</span></span><span style="display:flex;"><span>        out.<span style="color:#007f7f">write</span>(car, 0, j);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å…³é—­æµ</span>
</span></span><span style="display:flex;"><span>    fis.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>    buff.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>    out.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// åˆ é™¤ä¸´æ—¶æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>    zipFile.<span style="color:#007f7f">delete</span>();
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>    e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>                                                                                                                                    }
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä½¿ç”¨å‡½æ•°è®¡ç®—æ‰“åŒ…ä¸‹è½½ossæ–‡ä»¶">ä½¿ç”¨å‡½æ•°è®¡ç®—æ‰“åŒ…ä¸‹è½½OSSæ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨å‡½æ•°è®¡ç®—æ‰“åŒ…ä¸‹è½½ossæ–‡ä»¶">#</a></h2>
<p>éœ€è¦æ³¨æ„ï¼šé˜¿é‡Œäº‘å‡½æ•°è®¡ç®—æ˜¯æ”¶è´¹çš„ï¼Œä¸è¿‡æœ‰æ¯æœˆå…è´¹æ¬¡æ•°å’Œæµé‡ã€‚</p>
<p>å®˜ç½‘çš„æ–¹æ³•
<a href="https://www.alibabacloud.com/help/zh/object-storage-service/latest/use-function-compute-to-download-multiple-objects-as-a-package">https://www.alibabacloud.com/help/zh/object-storage-service/latest/use-function-compute-to-download-multiple-objects-as-a-package</a>
ç„¶è€Œå®˜æ–¹ç»™çš„æ–¹æ³•åªèƒ½æ‰“åŒ…ä¸‹è½½æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶ã€‚æˆ‘æœŸæœ›çš„æ˜¯ï¼ŒæŒ‡å®šå‡ ä¸ªossæ–‡ä»¶çš„urlï¼Œå°±å¯ä»¥ç›´æ¥ä¸‹è½½ã€‚</p>
<p>å‚è€ƒï¼šhttps://blog.csdn.net/whzhaochao/article/details/119823374</p>
<h3 id="åˆ›å»ºmavené¡¹ç›®æ·»åŠ é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ä¾èµ–">åˆ›å»ºMavené¡¹ç›®ï¼Œæ·»åŠ é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ä¾èµ–<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºmavené¡¹ç›®æ·»åŠ é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ä¾èµ–">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;groupId&gt;</span>com.aliyun.fc.runtime<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;artifactId&gt;</span>fc-java-core<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;version&gt;</span>1.4.0<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;groupId&gt;</span>com.aliyun.fc.runtime<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;artifactId&gt;</span>fc-java-common<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;version&gt;</span>2.2.2<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;groupId&gt;</span>commons-io<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;artifactId&gt;</span>commons-io<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;version&gt;</span>2.11.0<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;finalName&gt;</span>zip-oss<span style="font-weight:bold">&lt;/finalName&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;artifactId&gt;</span>maven-dependency-plugin<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;executions&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;id&gt;</span>copy-dependencies<span style="font-weight:bold">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;phase&gt;</span>prepare-package<span style="font-weight:bold">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>                        <span style="font-weight:bold">&lt;goal&gt;</span>copy-dependencies<span style="font-weight:bold">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>                        <span style="font-weight:bold">&lt;outputDirectory&gt;</span>${project.build.directory}/classes/lib<span style="font-weight:bold">&lt;/outputDirectory&gt;</span>
</span></span><span style="display:flex;"><span>                        <span style="font-weight:bold">&lt;includeScope&gt;</span>runtime<span style="font-weight:bold">&lt;/includeScope&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="font-weight:bold">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="font-weight:bold">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;/executions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/build&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å®ç°httpè§¦å‘æ¥å£">å®ç°Httpè§¦å‘æ¥å£<a hidden class="anchor" aria-hidden="true" href="#å®ç°httpè§¦å‘æ¥å£">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">184
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.wjy.makezip;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.fc.runtime.Context;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.fc.runtime.Credentials;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.fc.runtime.HttpRequestHandler;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.oss.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.oss.internal.OSSHeaders;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.aliyun.oss.model.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.apache.commons.io.IOUtils;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.apache.commons.lang.StringUtils;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> javax.servlet.http.HttpServletRequest;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> javax.servlet.http.HttpServletResponse;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.ByteArrayInputStream;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.ByteArrayOutputStream;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.OutputStream;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.time.LocalDate;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.UUID;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.zip.ZipEntry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.zip.ZipOutputStream;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author: wjy
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @Date: Create in 14:48 2022/5/31
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @description :
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> App <span style="color:#fff;font-weight:bold">implements</span> HttpRequestHandler {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String endpoint = <span style="color:#0ff;font-weight:bold">&#34;oss-cn-beijing-internal.aliyuncs.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String bucket = <span style="color:#0ff;font-weight:bold">&#34;zw-zhizhi&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// bucket åçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶å¤¹å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String filePath = <span style="color:#0ff;font-weight:bold">&#34;zipFile&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ–‡ä»¶æ‰©å±•å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String extName = <span style="color:#0ff;font-weight:bold">&#34;zip&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String filePrefix = <span style="color:#0ff;font-weight:bold">&#34;https://zw-zhizhi.oss-cn-beijing.aliyuncs.com&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è¿”å› æ–‡ä»¶url
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¿…é¡»é‡å†™ handleRequest æ–¹æ³•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> handleRequest(HttpServletRequest request, HttpServletResponse response, Context context) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        String objectKey = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;q&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (StringUtils.<span style="color:#007f7f">isBlank</span>(objectKey)) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> ;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        OSS oss = getOssClient(context);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream byteArrayOutputStream = <span style="color:#fff;font-weight:bold">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>        ZipOutputStream zipOutputStream = <span style="color:#fff;font-weight:bold">new</span> ZipOutputStream(byteArrayOutputStream);
</span></span><span style="display:flex;"><span>        String[] objectKeys = objectKey.<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (String key : objectKeys) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// stzy/163/2022-06-15/0bddb05d-bb0d-4821-a4e0-4ad36ca04d32/abc.pptx</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å› ä¸º key æ˜¯æœ‰å±‚çº§çš„ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä¸æƒ³è¦å±‚çº§ï¼Œæ‰€ä»¥ç›´æ¥å¯¹ossçš„objectKeyè¿›è¡Œå¤„ç†</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å¦‚æœZIPåŒ…éœ€è¦å±‚çº§ï¼Œåˆ™ä¸å¤„ç†objectKey</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            OSSObject ossObject = oss.<span style="color:#007f7f">getObject</span>(bucket, key);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (ossObject == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ZipEntry zipEntry = <span style="color:#fff;font-weight:bold">new</span> ZipEntry(getFileName(key));
</span></span><span style="display:flex;"><span>            zipOutputStream.<span style="color:#007f7f">putNextEntry</span>(zipEntry);
</span></span><span style="display:flex;"><span>            IOUtils.<span style="color:#007f7f">copy</span>(ossObject.<span style="color:#007f7f">getObjectContent</span>(), zipOutputStream);
</span></span><span style="display:flex;"><span>            ossObject.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        zipOutputStream.<span style="color:#007f7f">closeEntry</span>();
</span></span><span style="display:flex;"><span>        zipOutputStream.<span style="color:#007f7f">finish</span>();
</span></span><span style="display:flex;"><span>        byteArrayOutputStream.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String fileUrl = uploadToOss(oss, byteArrayOutputStream.<span style="color:#007f7f">toByteArray</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setCharacterEncoding</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Content-Type&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;application/json&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Access-Control-Allow-Credentials&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;true&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Access-Control-Allow-Methods&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;GET, POST&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Access-Control-Allow-Origin&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;*&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Access-Control-Max-Age&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;3600&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setStatus</span>(HttpServletResponse.<span style="color:#007f7f">SC_OK</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;application/json;charset=UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        OutputStream out = response.<span style="color:#007f7f">getOutputStream</span>();
</span></span><span style="display:flex;"><span>        out.<span style="color:#007f7f">write</span>((fileUrl).<span style="color:#007f7f">getBytes</span>());
</span></span><span style="display:flex;"><span>        out.<span style="color:#007f7f">flush</span>();
</span></span><span style="display:flex;"><span>        out.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> OSS getOssClient(Context context) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–osså‡­æ®</span>
</span></span><span style="display:flex;"><span>        Credentials creds = context.<span style="color:#007f7f">getExecutionCredentials</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> OSSClientBuilder().<span style="color:#007f7f">build</span>(endpoint, <span style="color:#0ff;font-weight:bold">&#34;ä½ çš„accessKey&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ä½ çš„secretAccess&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ç›´æ¥è¿”å›æµï¼Œä¸æ¨è
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * ä¼šèµ°å…¬ç½‘å¸¦å®½ï¼Œå¾ˆè´µ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> getZipOutPutStream(HttpServletRequest request, HttpServletResponse response, Context context) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        String objectKey = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;q&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (StringUtils.<span style="color:#007f7f">isBlank</span>(objectKey)) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è·å–osså‡­æ®</span>
</span></span><span style="display:flex;"><span>        Credentials creds = context.<span style="color:#007f7f">getExecutionCredentials</span>();
</span></span><span style="display:flex;"><span>        OSS oss = <span style="color:#fff;font-weight:bold">new</span> OSSClientBuilder().<span style="color:#007f7f">build</span>(endpoint, creds.<span style="color:#007f7f">getAccessKeyId</span>(), creds.<span style="color:#007f7f">getAccessKeySecret</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setContentType</span>(<span style="color:#0ff;font-weight:bold">&#34;application/x-zip-compressed&#34;</span>);
</span></span><span style="display:flex;"><span>        ZipOutputStream zipOutputStream = <span style="color:#fff;font-weight:bold">new</span> ZipOutputStream(response.<span style="color:#007f7f">getOutputStream</span>());
</span></span><span style="display:flex;"><span>        String[] objectKeys = objectKey.<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (String key : objectKeys) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// stzy/163/2022-06-15/0bddb05d-bb0d-4821-a4e0-4ad36ca04d32/abc.pptx</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å› ä¸º key æ˜¯æœ‰å±‚çº§çš„ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä¸æƒ³è¦å±‚çº§ï¼Œæ‰€ä»¥ç›´æ¥å¯¹ossçš„objectKeyè¿›è¡Œå¤„ç†</span>
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å¦‚æœZIPåŒ…éœ€è¦å±‚çº§ï¼Œåˆ™ä¸å¤„ç†objectKey</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            OSSObject ossObject = oss.<span style="color:#007f7f">getObject</span>(bucket, key);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (ossObject == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ZipEntry zipEntry = <span style="color:#fff;font-weight:bold">new</span> ZipEntry(getFileName(key));
</span></span><span style="display:flex;"><span>            zipOutputStream.<span style="color:#007f7f">putNextEntry</span>(zipEntry);
</span></span><span style="display:flex;"><span>            IOUtils.<span style="color:#007f7f">copy</span>(ossObject.<span style="color:#007f7f">getObjectContent</span>(), zipOutputStream);
</span></span><span style="display:flex;"><span>            ossObject.<span style="color:#007f7f">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        zipOutputStream.<span style="color:#007f7f">closeEntry</span>();
</span></span><span style="display:flex;"><span>        zipOutputStream.<span style="color:#007f7f">finish</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ ¹æ®æ–‡ä»¶è·¯å¾„ï¼Œè·å–æ–‡ä»¶å
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * stzy/163/2022-06-15/0bddb05d-bb0d-4821-a4e0-4ad36ca04d32/abc.pptx
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * abc.pptx
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String getFileName(String filePath) {
</span></span><span style="display:flex;"><span>        String[] split = filePath.<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;/&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> split[split.<span style="color:#007f7f">length</span> - 1];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * byteæ•°ç»„ä¸Šä¼ åˆ°oss
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String uploadToOss(OSS oss, <span style="color:#fff;font-weight:bold">byte</span>[] bytes) {
</span></span><span style="display:flex;"><span>        String objectName = getObjectName(extName, oss);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            ObjectMetadata metadata = <span style="color:#fff;font-weight:bold">new</span> ObjectMetadata();
</span></span><span style="display:flex;"><span>            metadata.<span style="color:#007f7f">setHeader</span>(OSSHeaders.<span style="color:#007f7f">OSS_STORAGE_CLASS</span>, StorageClass.<span style="color:#007f7f">Standard</span>.<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//è®¾ç½®å¯è¯»</span>
</span></span><span style="display:flex;"><span>            metadata.<span style="color:#007f7f">setObjectAcl</span>(CannedAccessControlList.<span style="color:#007f7f">PublicRead</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// åˆ›å»ºPutObjectRequestå¯¹è±¡ã€‚</span>
</span></span><span style="display:flex;"><span>            PutObjectRequest putObjectRequest = <span style="color:#fff;font-weight:bold">new</span> PutObjectRequest(bucket, objectName , <span style="color:#fff;font-weight:bold">new</span> ByteArrayInputStream(bytes), metadata);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// ä¸Šä¼ æ–‡ä»¶ã€‚</span>
</span></span><span style="display:flex;"><span>            oss.<span style="color:#007f7f">putObject</span>(putObjectRequest);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// è¿”å›å¯è®¿é—®çš„url</span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> filePrefix + <span style="color:#0ff;font-weight:bold">&#34;/&#34;</span> + objectName;
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (OSSException oe) {
</span></span><span style="display:flex;"><span>            oe.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (ClientException ce) {
</span></span><span style="display:flex;"><span>            ce.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (oss != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                oss.<span style="color:#007f7f">shutdown</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è·å–oss æ–‡ä»¶å
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String getObjectName(String fileExtName, OSS oss) {
</span></span><span style="display:flex;"><span>        String uuid = UUID.<span style="color:#007f7f">randomUUID</span>().<span style="color:#007f7f">toString</span>().<span style="color:#007f7f">replace</span>(<span style="color:#0ff;font-weight:bold">&#34;-&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç”Ÿæˆæ–°çš„éšæœºæ–‡ä»¶å</span>
</span></span><span style="display:flex;"><span>        String newFileName = uuid + <span style="color:#0ff;font-weight:bold">&#34;.&#34;</span> + fileExtName;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‹¼æ¥æ–‡ä»¶å¤¹è·¯å¾„ zhizhitest/2022-02-09</span>
</span></span><span style="display:flex;"><span>        String dirPath = filePath + <span style="color:#0ff;font-weight:bold">&#34;/&#34;</span> + LocalDate.<span style="color:#007f7f">now</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ–‡ä»¶å®Œæ•´è·¯å¾„ zhizhitest/2022-02-09/1.png</span>
</span></span><span style="display:flex;"><span>        String objectName = dirPath + <span style="color:#0ff;font-weight:bold">&#34;/&#34;</span> + newFileName;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> objectName;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(getFileName(<span style="color:#0ff;font-weight:bold">&#34;stzy/163/2022-06-15/0bddb05d-bb0d-4821-a4e0-4ad36ca04d32/abc.pptx&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰“åŒ…
<code>mvn clean package</code></p>
<h3 id="ç™»å½•é˜¿é‡Œäº‘">ç™»å½•é˜¿é‡Œäº‘<a hidden class="anchor" aria-hidden="true" href="#ç™»å½•é˜¿é‡Œäº‘">#</a></h3>
<p>æœç´¢<code>å‡½æ•°è®¡ç®—FC</code>ã€‚å¼€é€šè¿‡ç¨‹æ­¤å¤„çœç•¥ã€‚</p>
<ol>
<li>
<p>å·¦ä¾§<code>æœåŠ¡åŠå‡½æ•°</code></p>
</li>
<li>
<p>åˆ›å»ºæœåŠ¡</p>
</li>
<li>
<p>åˆ›å»ºå¥½ä¹‹åç‚¹æœåŠ¡å</p>
</li>
<li>
<p>åˆ›å»ºå‡½æ•°ï¼Œé€‰<code>ä»é›¶å¼€å§‹åˆ›å»ºå‡½æ•°</code>ï¼Œç„¶åæŒ‰ç…§æç¤ºï¼Œä¸€æ­¥ä¸€æ­¥é€‰æ‹©
å‡½æ•°åï¼šæŒ‰éœ€å¡«å†™ï¼Œè§åçŸ¥æ„
è¿è¡Œç¯å¢ƒï¼šJAVA8
ä»£ç ä¸Šä¼ æ–¹å¼ï¼šé€šè¿‡JARåŒ…ä¸Šä¼ ï¼Œç„¶åä¸Šä¼ åˆšæ‰æ‰“å¥½çš„JARåŒ…
è¯·æ±‚å¤„ç†ç¨‹åºç±»å‹ï¼šå¤„ç† HTTP è¯·æ±‚
è¯·æ±‚å¤„ç†ç¨‹åºï¼š<code>com.wjy.makezip.App::handleRequest</code>
é…ç½®è§¦å‘å™¨ï¼šåå­—ã€ä¸è®¤è¯ã€è¯·æ±‚æ–¹æ³•getã€postã€‚</p>
</li>
<li>
<p>ç„¶åç‚¹åˆšæ‰åˆ›å»ºçš„å‡½æ•°ï¼Œç‚¹<code>è§¦å‘å™¨ç®¡ç†</code>ï¼Œå¯ä»¥çœ‹åˆ°åˆšæ‰åˆ›å»ºçš„HTTPè§¦å‘å™¨ï¼Œè¿˜æœ‰å…¬ç½‘åœ°å€ï¼š
<code>https://makezip-oss-service-apnellxecm.cn-beijing.fcapp.run</code></p>
</li>
<li>
<p><a href="https://help.aliyun.com/document_detail/90763.html?spm=5176.fcnext.0.0.150478c8vZYaAm">é…ç½®è‡ªå®šä¹‰åŸŸå (aliyun.com)</a>
å¿…é¡»é…ç½®ï¼Œä¸ç„¶æ— æ³•é€šè¿‡httpè¯·æ±‚ç›´æ¥å“åº”jsonã€‚å®˜æ–¹è§£é‡Šï¼š
å¦‚æœæ‚¨åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€è¯·æ±‚åœ°å€ï¼Œå°†ä¼šä»¥é™„ä»¶çš„æ–¹å¼ä¸‹è½½å“åº”ã€‚è¿™æ˜¯å› ä¸º Http è§¦å‘å™¨ä¼šè‡ªåŠ¨åœ¨å“åº”å¤´ä¸­æ·»åŠ  Content-Disposition: attachment å­—æ®µã€‚æ‚¨å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰åŸŸåé¿å…è¯¥é—®é¢˜ã€‚</p>
</li>
<li>
<p>è‡ªå®šä¹‰åŸŸåå¤åˆ¶åˆ°æµè§ˆå™¨ï¼Œç„¶ååœ¨é“¾æ¥ååŠ ä¸Šæˆ‘ä»¬ç¨‹åºéœ€è¦çš„å‚æ•°ï¼š
<code>https://fc.stzy.com/?q=xxx.docx,123.svg,999.png</code>
ç›´æ¥è¿”å›äº†ossåœ°å€ï¼ŒæˆåŠŸï¼</p>
</li>
</ol>
<h1 id="é˜¿é‡Œäº‘serverlesså›è°ƒ">é˜¿é‡Œäº‘Serverlesså›è°ƒ<a hidden class="anchor" aria-hidden="true" href="#é˜¿é‡Œäº‘serverlesså›è°ƒ">#</a></h1>
<p>ä½¿ç”¨å‡½æ•°è®¡ç®—è¿›è¡Œossæ–‡ä»¶æ‰“åŒ…æ—¶ï¼Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœéœ€è¦å°†å¾ˆå¤šçš„æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œé‚£ä¹ˆå•æ¬¡è¯·æ±‚çš„ç›¸åº”æ—¶é—´æ˜¯å¾ˆé•¿çš„ï¼Œå¯èƒ½é•¿è¾¾æ•°åˆ†é’Ÿã€‚è¿™å¯¹äºç”¨æˆ·ç«¯æ¥è¯´æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œå‰ç«¯è¯·æ±‚çš„æ¥å£ä¼šä¸€ç›´pendingï¼Œç”šè‡³æœ‰å¯èƒ½è¶…æ—¶ã€‚</p>
<p>è§£å†³æ€è·¯è‡ªç„¶æ˜¯ï¼Œæˆ‘ä¸ç­‰å¾…å‡½æ•°è®¡ç®—çš„åŒæ­¥ç»“æœï¼ŒæœŸæœ›å‡½æ•°è®¡ç®—æ‰“åŒ…å®Œæˆåï¼Œèƒ½å¤Ÿé€šè¿‡å›è°ƒçš„æ–¹å¼ï¼Œé€šçŸ¥åˆ°æˆ‘è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå°†æ‰“åŒ…çš„åœ°å€å‘Šè¯‰æˆ‘ï¼Œæˆ‘å†å°†åœ°å€æ›´æ–°åˆ°æ•°æ®åº“ä¸­ã€‚</p>
<p>é˜¿é‡Œäº‘çš„å‡½æ•°è®¡ç®—è¿˜çœŸæä¾›äº†è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<p><a href="https://help.aliyun.com/zh/fc/user-guide/result-callback">https://help.aliyun.com/zh/fc/user-guide/result-callback</a></p>
<p>æ”¯æŒçš„å¼‚æ­¥è°ƒç”¨ç›®æ ‡æœåŠ¡ï¼š</p>
<ul>
<li>æ¶ˆæ¯æœåŠ¡MNS</li>
<li>å‡½æ•°è®¡ç®—</li>
<li>äº‹ä»¶æ€»çº¿EventBridge</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—RocketMQç‰ˆ</li>
</ul>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯å›è°ƒåˆ°å‡½æ•°è®¡ç®—ã€‚å³å‡½æ•°è®¡ç®—AæˆåŠŸåï¼Œå›è°ƒå‡½æ•°è®¡ç®—Bã€‚å‡½æ•°è®¡ç®—Bæ˜¯æˆ‘è‡ªå·±åœ¨æœ¬åœ°ç”¨spring boot æ­å»ºçš„ä¸€ä¸ªå•ä½“åº”ç”¨ï¼Œéœ€è¦å…·å¤‡è®¿é—®æ•°æ®åº“ï¼ˆæ›´æ–°æ•°æ®çŠ¶æ€ï¼‰ã€nacosï¼ˆè·å–é…ç½®ï¼‰ã€ossï¼ˆè·å–ossæ–‡ä»¶çš„å¤§å°ï¼‰çš„åŠŸèƒ½ã€‚</p>
<p>ç‰¹åˆ«æ³¨æ„ï¼šè§¦å‘å‡½æ•°Aæ—¶ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯httpè§¦å‘å™¨ï¼Œè¦æƒ³è®©å‡½æ•°AæˆåŠŸåå›è°ƒå‡½æ•°Bï¼Œåœ¨è¯·æ±‚å‡½æ•°Aæ—¶ï¼Œå°±éœ€è¦httpè§¦å‘å™¨çš„å¼‚æ­¥è°ƒç”¨æ–¹å¼ã€‚</p>
<p>å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://help.aliyun.com/zh/fc/overview-36</p>
<p>å³å¢åŠ è¯·æ±‚å¤´ï¼š<code>&quot;X-Fc-Invocation-Type&quot;:&quot;Async&quot;</code></p>
<p>æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆå†™æ–‡æ¡£çš„äººä¸æŠŠè¿™ä¸ªéœ€æ±‚å†™åœ¨ç»“æœå›è°ƒçš„æ–‡æ¡£é¡µé¢ã€‚</p>
<p>å…¶ä»–æ­¥éª¤å¦‚ä½•å®æ–½ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p>
<h1 id="å­—èŠ‚å·¥å…·ç±»">å­—èŠ‚å·¥å…·ç±»<a hidden class="anchor" aria-hidden="true" href="#å­—èŠ‚å·¥å…·ç±»">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> ByteUtil {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(bytesToMb(20916274L));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> Integer KB_SIZE = 2 &lt;&lt; 9;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> Integer MB_SIZE = 2 &lt;&lt; 19;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> Integer GB_SIZE = 2 &lt;&lt; 29;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å­—èŠ‚æ•°è½¬kb
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BigDecimal bytesToKb(<span style="color:#fff;font-weight:bold">long</span> bytes) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> bytesToUnit(bytes, KB_SIZE);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å­—èŠ‚æ•°è½¬mb
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BigDecimal bytesToMb(<span style="color:#fff;font-weight:bold">long</span> bytes) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> bytesToUnit(bytes, MB_SIZE);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å­—èŠ‚æ•°è½¬gb
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BigDecimal bytesToGb(<span style="color:#fff;font-weight:bold">long</span> bytes) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> bytesToUnit(bytes, GB_SIZE);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> BigDecimal bytesToUnit(<span style="color:#fff;font-weight:bold">long</span> bytes, Integer unit) {
</span></span><span style="display:flex;"><span>        BigDecimal size = <span style="color:#fff;font-weight:bold">new</span> BigDecimal(bytes);
</span></span><span style="display:flex;"><span>        BigDecimal u = <span style="color:#fff;font-weight:bold">new</span> BigDecimal(unit);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> size.<span style="color:#007f7f">divide</span>(u, 2, BigDecimal.<span style="color:#007f7f">ROUND_DOWN</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Long unitToByte(BigDecimal decimal, Integer unit) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> decimal.<span style="color:#007f7f">multiply</span>(BigDecimal.<span style="color:#007f7f">valueOf</span>(unit)).<span style="color:#007f7f">longValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Long kbToByte(BigDecimal decimal) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> decimal.<span style="color:#007f7f">multiply</span>(BigDecimal.<span style="color:#007f7f">valueOf</span>(KB_SIZE)).<span style="color:#007f7f">longValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Long mbToByte(BigDecimal decimal) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> decimal.<span style="color:#007f7f">multiply</span>(BigDecimal.<span style="color:#007f7f">valueOf</span>(MB_SIZE)).<span style="color:#007f7f">longValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> Long gbToByte(BigDecimal decimal) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> decimal.<span style="color:#007f7f">multiply</span>(BigDecimal.<span style="color:#007f7f">valueOf</span>(GB_SIZE)).<span style="color:#007f7f">longValue</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å·¥å…·ç±»-1">å·¥å…·ç±»<a hidden class="anchor" aria-hidden="true" href="#å·¥å…·ç±»-1">#</a></h1>
<h2 id="collections">Collections<a hidden class="anchor" aria-hidden="true" href="#collections">#</a></h2>
<p>Collectionsä¸­çš„æ–¹æ³•å¤§éƒ¨åˆ†ä¸å»ºè®®ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Collections.<span style="color:#007f7f">sort</span>(list);<span style="color:#007f7f">//å‡åº</span>
</span></span><span style="display:flex;"><span>Collections.<span style="color:#007f7f">reverse</span>(list);<span style="color:#007f7f">//é™åº</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Integer max = Collections.<span style="color:#007f7f">max</span>(list);<span style="color:#007f7f">//è·å–æœ€å¤§å€¼</span>
</span></span><span style="display:flex;"><span>Integer min = Collections.<span style="color:#007f7f">min</span>(list);<span style="color:#007f7f">//è·å–æœ€å°å€¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; integers = Collections.<span style="color:#007f7f">synchronizedList</span>(list);<span style="color:#007f7f">//å°†ArrayListè½¬æ¢æˆçº¿ç¨‹å®‰å…¨é›†åˆ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Collections.<span style="color:#007f7f">emptyList</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Collections.<span style="color:#007f7f">binarySearch</span>(list, 3);<span style="color:#007f7f">//äºŒåˆ†æŸ¥æ‰¾</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è½¬æ¢æˆä¸å¯ä¿®æ”¹é›†åˆ</span>
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; integers = Collections.<span style="color:#007f7f">unmodifiableList</span>(list);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="collectionutils">CollectionUtils<a hidden class="anchor" aria-hidden="true" href="#collectionutils">#</a></h2>
<p>springçš„org.springframework.utilåŒ…ä¸‹çš„CollectionUtilså·¥å…·ç±»å’Œapacheçš„org.apache.commons.collectionsåŒ…ä¸‹çš„CollectionUtilså·¥å…·ç±»ã€‚æ›´æ¨èä½¿ç”¨apacheçš„åŒ…ä¸‹çš„CollectionUtilså·¥å…·ç±»ï¼Œå› ä¸ºå®ƒçš„å·¥å…·æ›´å¤šæ›´å…¨é¢ã€‚</p>
<h3 id="21-é›†åˆåˆ¤ç©º">2.1 é›†åˆåˆ¤ç©º<a hidden class="anchor" aria-hidden="true" href="#21-é›†åˆåˆ¤ç©º">#</a></h3>
<p>é€šè¿‡CollectionUtilså·¥å…·ç±»çš„<code>isEmpty</code>æ–¹æ³•å¯ä»¥è½»æ¾åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œ<code>isNotEmpty</code>æ–¹æ³•åˆ¤æ–­é›†åˆä¸ä¸ºç©ºã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(2);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(1);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (CollectionUtils.<span style="color:#007f7f">isEmpty</span>(list)) {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;é›†åˆä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (CollectionUtils.<span style="color:#007f7f">isNotEmpty</span>(list)) {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;é›†åˆä¸ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="22-å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œ">2.2 å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œ<a hidden class="anchor" aria-hidden="true" href="#22-å¯¹ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œ">#</a></h3>
<p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹å·²æœ‰çš„ä¸¤ä¸ªé›†åˆè¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚å–äº¤é›†æˆ–è€…å¹¶é›†ç­‰ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(2);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(1);
</span></span><span style="display:flex;"><span>list.<span style="color:#007f7f">add</span>(3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; list2 = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>list2.<span style="color:#007f7f">add</span>(2);
</span></span><span style="display:flex;"><span>list2.<span style="color:#007f7f">add</span>(4);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//è·å–å¹¶é›†</span>
</span></span><span style="display:flex;"><span>Collection&lt;Integer&gt; unionList = CollectionUtils.<span style="color:#007f7f">union</span>(list, list2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(unionList);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//è·å–äº¤é›†</span>
</span></span><span style="display:flex;"><span>Collection&lt;Integer&gt; intersectionList = CollectionUtils.<span style="color:#007f7f">intersection</span>(list, list2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(intersectionList);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//è·å–äº¤é›†çš„è¡¥é›†</span>
</span></span><span style="display:flex;"><span>Collection&lt;Integer&gt; disjunctionList = CollectionUtils.<span style="color:#007f7f">disjunction</span>(list, list2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(disjunctionList);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//è·å–å·®é›†</span>
</span></span><span style="display:flex;"><span>Collection&lt;Integer&gt; subtractList = CollectionUtils.<span style="color:#007f7f">subtract</span>(list, list2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(subtractList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>[1, 2, 3, 4]
</span></span><span style="display:flex;"><span>[2]
</span></span><span style="display:flex;"><span>[1, 3, 4]
</span></span><span style="display:flex;"><span>[1, 3]
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´å¥å®è¯ï¼Œå¯¹ä¸¤ä¸ªé›†åˆçš„æ“ä½œï¼Œåœ¨å®é™…å·¥ä½œä¸­ç”¨å¾—æŒºå¤šçš„ï¼Œç‰¹åˆ«æ˜¯å¾ˆå¤šæ‰¹é‡çš„åœºæ™¯ä¸­ã€‚ä»¥å‰æˆ‘ä»¬éœ€è¦å†™ä¸€å †ä»£ç ï¼Œä½†æ²¡æƒ³åˆ°æœ‰ç°æˆçš„è½®å­ã€‚</p>
<h2 id="lists">Lists<a hidden class="anchor" aria-hidden="true" href="#lists">#</a></h2>
<h3 id="31-åˆ›å»ºç©ºé›†åˆ">3.1 åˆ›å»ºç©ºé›†åˆ<a hidden class="anchor" aria-hidden="true" href="#31-åˆ›å»ºç©ºé›†åˆ">#</a></h3>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªç©ºé›†åˆã€‚è¿™æ—¶å¯ä»¥ç”¨Listsçš„<code>newArrayList</code>æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = Lists.<span style="color:#007f7f">newArrayList</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="32-å¿«é€Ÿåˆå§‹åŒ–é›†åˆ">3.2 å¿«é€Ÿåˆå§‹åŒ–é›†åˆ<a hidden class="anchor" aria-hidden="true" href="#32-å¿«é€Ÿåˆå§‹åŒ–é›†åˆ">#</a></h3>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³ç»™ä¸€ä¸ªé›†åˆä¸­åˆå§‹åŒ–ä¸€äº›å…ƒç´ ã€‚è¿™æ—¶å¯ä»¥ç”¨Listsçš„newArrayListæ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = Lists.<span style="color:#007f7f">newArrayList</span>(1, 2, 3);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>[1, 2, 3]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="33-ç¬›å¡å°”ç§¯">3.3 ç¬›å¡å°”ç§¯<a hidden class="anchor" aria-hidden="true" href="#33-ç¬›å¡å°”ç§¯">#</a></h3>
<p>å¦‚æœä½ æƒ³å°†ä¸¤ä¸ªé›†åˆåš<code>ç¬›å¡å°”ç§¯</code>ï¼ŒListsçš„<code>cartesianProduct</code>æ–¹æ³•å¯ä»¥å¸®ä½ å®ç°ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list1 = Lists.<span style="color:#007f7f">newArrayList</span>(1, 2, 3);
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; list2 = Lists.<span style="color:#007f7f">newArrayList</span>(4,5);
</span></span><span style="display:flex;"><span>List&lt;List&lt;Integer&gt;&gt; productList = Lists.<span style="color:#007f7f">cartesianProduct</span>(list1,list2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(productList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>[[1, 4], [1, 5], [2, 4], [2, 5], [3, 4], [3, 5]]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="34-åˆ†é¡µ">3.4 åˆ†é¡µ<a hidden class="anchor" aria-hidden="true" href="#34-åˆ†é¡µ">#</a></h3>
<p>å¦‚æœä½ æƒ³å°†ä¸€ä¸ª<code>å¤§é›†åˆ</code>åˆ†æˆè‹¥å¹²ä¸ª<code>å°é›†åˆ</code>ï¼Œå¯ä»¥ä½¿ç”¨Listsçš„<code>partition</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = Lists.<span style="color:#007f7f">newArrayList</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>List&lt;List&lt;Integer&gt;&gt; partitionList = Lists.<span style="color:#007f7f">partition</span>(list, 2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(partitionList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>[[1, 2], [3, 4], [5]]
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œlistæœ‰5æ¡æ•°æ®ï¼Œæˆ‘å°†listé›†åˆæŒ‰å¤§å°ä¸º2ï¼Œåˆ†æˆäº†3é¡µï¼Œå³å˜æˆ3ä¸ªå°é›†åˆã€‚</p>
<p>è¿™ä¸ªæ˜¯æˆ‘æœ€å–œæ¬¢çš„æ–¹æ³•ä¹‹ä¸€ï¼Œç»å¸¸åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>
<p>æ¯”å¦‚æœ‰ä¸ªéœ€æ±‚ï¼šç°åœ¨æœ‰5000ä¸ªidï¼Œéœ€è¦è°ƒç”¨æ‰¹é‡ç”¨æˆ·æŸ¥è¯¢æ¥å£ï¼ŒæŸ¥å‡ºç”¨æˆ·æ•°æ®ã€‚ä½†å¦‚æœä½ ç›´æ¥æŸ¥5000ä¸ªç”¨æˆ·ï¼Œå•æ¬¡æ¥å£å“åº”æ—¶é—´å¯èƒ½ä¼šéå¸¸æ…¢ã€‚å¦‚æœæ”¹æˆåˆ†é¡µå¤„ç†ï¼Œæ¯æ¬¡åªæŸ¥500ä¸ªç”¨æˆ·ï¼Œå¼‚æ­¥è°ƒç”¨10æ¬¡æ¥å£ï¼Œå°±ä¸ä¼šæœ‰å•æ¬¡æ¥å£å“åº”æ…¢çš„é—®é¢˜ã€‚</p>
<h3 id="35-æµå¤„ç†">3.5 æµå¤„ç†<a hidden class="anchor" aria-hidden="true" href="#35-æµå¤„ç†">#</a></h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³æŠŠæŸä¸ªé›†åˆè½¬æ¢æˆå¦å¤–ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥ä½¿ç”¨Listsçš„
<code>transform</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list = Lists.<span style="color:#007f7f">newArrayList</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>);
</span></span><span style="display:flex;"><span>List&lt;String&gt; transformList = Lists.<span style="color:#007f7f">transform</span>(list, x -&gt; x.<span style="color:#007f7f">toUpperCase</span>());
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(transformList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å°†å°å†™å­—æ¯è½¬æ¢æˆäº†å¤§å†™å­—æ¯ã€‚</p>
<h3 id="36-é¢ å€’é¡ºåº">3.6 é¢ å€’é¡ºåº<a hidden class="anchor" aria-hidden="true" href="#36-é¢ å€’é¡ºåº">#</a></h3>
<p>Listsçš„æœ‰é¢ å€’é¡ºåºçš„æ–¹æ³•<code>reverse</code>ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; list = Lists.<span style="color:#007f7f">newArrayList</span>(3, 1, 2);
</span></span><span style="display:flex;"><span>List&lt;Integer&gt; reverseList = Lists.<span style="color:#007f7f">reverse</span>(list);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(reverseList);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>[2, 1, 3]
</span></span></code></pre></td></tr></table>
</div>
</div><p>listçš„åŸå§‹é¡ºåºæ˜¯312ï¼Œä½¿ç”¨<code>reverse</code>æ–¹æ³•é¢ å€’é¡ºåºä¹‹åï¼Œå˜æˆäº†213ã€‚</p>
<h2 id="objects">Objects<a hidden class="anchor" aria-hidden="true" href="#objects">#</a></h2>
<p>åœ¨<code>jdk7</code>ä¹‹åï¼Œæä¾›äº†<code>Objects</code>å·¥å…·ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ“ä½œå¯¹è±¡ã€‚</p>
<h3 id="41-å¯¹è±¡åˆ¤ç©º">4.1 å¯¹è±¡åˆ¤ç©º<a hidden class="anchor" aria-hidden="true" href="#41-å¯¹è±¡åˆ¤ç©º">#</a></h3>
<p>åœ¨javaä¸­ä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡ï¼Œå¯¹è±¡çš„åˆ¤ç©ºå¯ä»¥è¯´æ— å¤„ä¸åœ¨ã€‚Objectsçš„<code>isNull</code>æ–¹æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Œè€Œ<code>nonNull</code>æ–¹æ³•åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ä¸ºç©ºã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer integer = <span style="color:#fff;font-weight:bold">new</span> Integer(1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (Objects.<span style="color:#007f7f">isNull</span>(integer)) {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;å¯¹è±¡ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> (Objects.<span style="color:#007f7f">nonNull</span>(integer)) {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;å¯¹è±¡ä¸ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="42-å¯¹è±¡ä¸ºç©ºæŠ›å¼‚å¸¸">4.2 å¯¹è±¡ä¸ºç©ºæŠ›å¼‚å¸¸<a hidden class="anchor" aria-hidden="true" href="#42-å¯¹è±¡ä¸ºç©ºæŠ›å¼‚å¸¸">#</a></h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨å¯¹è±¡ä¸ºç©ºæ—¶ï¼ŒæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨Objectsçš„<code>requireNonNull</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer integer1 = <span style="color:#fff;font-weight:bold">new</span> Integer(128);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Objects.<span style="color:#007f7f">requireNonNull</span>(integer1);
</span></span><span style="display:flex;"><span>Objects.<span style="color:#007f7f">requireNonNull</span>(integer1, <span style="color:#0ff;font-weight:bold">&#34;å‚æ•°ä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Objects.<span style="color:#007f7f">requireNonNull</span>(integer1, () -&gt; <span style="color:#0ff;font-weight:bold">&#34;å‚æ•°ä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="43-åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰">4.3 åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰<a hidden class="anchor" aria-hidden="true" href="#43-åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰">#</a></h3>
<p>æˆ‘ä»¬ç»å¸¸éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼ŒObjectsç»™æˆ‘ä»¬æä¾›äº†<code>equals</code>æ–¹æ³•ï¼Œèƒ½éå¸¸æ–¹ä¾¿çš„å®ç°ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer integer1 = <span style="color:#fff;font-weight:bold">new</span> Integer(1);
</span></span><span style="display:flex;"><span>Integer integer2 = <span style="color:#fff;font-weight:bold">new</span> Integer(1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Objects.<span style="color:#007f7f">equals</span>(integer1, integer2));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æœ‰å‘ï¼Œæ¯”å¦‚ä¾‹å­æ”¹æˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer integer1 = <span style="color:#fff;font-weight:bold">new</span> Integer(1);
</span></span><span style="display:flex;"><span>Long integer2 = <span style="color:#fff;font-weight:bold">new</span> Long(1);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Objects.<span style="color:#007f7f">equals</span>(integer1, integer2));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="44-è·å–å¯¹è±¡çš„hashcode">4.4 è·å–å¯¹è±¡çš„hashCode<a hidden class="anchor" aria-hidden="true" href="#44-è·å–å¯¹è±¡çš„hashcode">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªå¯¹è±¡çš„hashCodeï¼Œå¯ä»¥ä½¿ç”¨Objectsçš„<code>hashCode</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(Objects.<span style="color:#007f7f">hashCode</span>(str));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>96354
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="stringutils">StringUtils<a hidden class="anchor" aria-hidden="true" href="#stringutils">#</a></h2>
<p><code>org.apache.commons.lang3</code>åŒ…ä¸‹çš„<code>StringUtils</code>å·¥å…·ç±»ï¼Œç»™æˆ‘ä»¬æä¾›äº†éå¸¸ä¸°å¯Œçš„é€‰æ‹©ã€‚</p>
<p>å…¶å®ç©ºå­—ç¬¦ä¸²ï¼Œä¸åªæ˜¯nullä¸€ç§ï¼Œè¿˜æœ‰&quot;&quot;ï¼Œ&quot; &ldquo;ï¼Œ&ldquo;null&quot;ç­‰ç­‰ï¼Œå¤šç§æƒ…å†µã€‚</p>
<p>StringUtilsç»™æˆ‘ä»¬æä¾›äº†å¤šä¸ªåˆ¤ç©ºçš„é™æ€æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>String str3 = <span style="color:#0ff;font-weight:bold">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>String str4 = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isEmpty</span>(str1));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isEmpty</span>(str2));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isEmpty</span>(str3));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isEmpty</span>(str4));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;=====&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotEmpty</span>(str1));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotEmpty</span>(str2));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotEmpty</span>(str3));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotEmpty</span>(str4));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;=====&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isBlank</span>(str1));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isBlank</span>(str2));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isBlank</span>(str3));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isBlank</span>(str4));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;=====&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotBlank</span>(str1));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotBlank</span>(str2));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotBlank</span>(str3));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNotBlank</span>(str4));<span style="color:#007f7f">//true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¤ºä¾‹ä¸­çš„ï¼š<code>isEmpty</code>ã€<code>isNotEmpty</code>ã€<code>isBlank</code>å’Œ<code>isNotBlank</code>ï¼Œè¿™4ä¸ªåˆ¤ç©ºæ–¹æ³•ä½ ä»¬å¯ä»¥æ ¹æ®å®é™…æƒ…å†µä½¿ç”¨ã€‚</p>
<blockquote>
<p>ä¼˜å…ˆæ¨èä½¿ç”¨<code>isBlank</code>å’Œ<code>isNotBlank</code>æ–¹æ³•ï¼Œå› ä¸ºå®ƒä¼šæŠŠ<code>&quot; &quot;</code>ä¹Ÿè€ƒè™‘è¿›å»ã€‚</p>
</blockquote>
<h3 id="62-åˆ†éš”å­—ç¬¦ä¸²">6.2 åˆ†éš”å­—ç¬¦ä¸²<a hidden class="anchor" aria-hidden="true" href="#62-åˆ†éš”å­—ç¬¦ä¸²">#</a></h3>
<p>åˆ†éš”å­—ç¬¦ä¸²æ˜¯å¸¸è§éœ€æ±‚ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨Stringç±»çš„splitæ–¹æ³•ï¼Œå°±å¯èƒ½ä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">split</span>(str1,<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>));
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(str1.<span style="color:#007f7f">split</span>(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span>Exception in thread <span style="color:#0ff;font-weight:bold">&#34;main&#34;</span> java.<span style="color:#007f7f">lang</span>.<span style="color:#007f7f">NullPointerException</span>
</span></span><span style="display:flex;"><span>	at com.<span style="color:#007f7f">sue</span>.<span style="color:#007f7f">jump</span>.<span style="color:#007f7f">service</span>.<span style="color:#007f7f">test1</span>.<span style="color:#007f7f">UtilTest</span>.<span style="color:#007f7f">main</span>(UtilTest.<span style="color:#007f7f">java</span>:21)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨StringUtilsçš„splitæ–¹æ³•ä¼šè¿”å›nullï¼Œè€Œä½¿ç”¨Stringçš„splitæ–¹æ³•ä¼šæŠ¥æŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<h3 id="63-åˆ¤æ–­æ˜¯å¦çº¯æ•°å­—">6.3 åˆ¤æ–­æ˜¯å¦çº¯æ•°å­—<a hidden class="anchor" aria-hidden="true" href="#63-åˆ¤æ–­æ˜¯å¦çº¯æ•°å­—">#</a></h3>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦ä¸ºçº¯æ•°å­—ï¼Œå¯ä»¥ä½¿ç”¨<code>isNumeric</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 = <span style="color:#0ff;font-weight:bold">&#34;123&#34;</span>;
</span></span><span style="display:flex;"><span>String str2 = <span style="color:#0ff;font-weight:bold">&#34;123q&#34;</span>;
</span></span><span style="display:flex;"><span>String str3 = <span style="color:#0ff;font-weight:bold">&#34;0.33&#34;</span>;
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNumeric</span>(str1));<span style="color:#007f7f">//true</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNumeric</span>(str2));<span style="color:#007f7f">//false</span>
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(StringUtils.<span style="color:#007f7f">isNumeric</span>(str3));<span style="color:#007f7f">//false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="assert">Assert<a hidden class="anchor" aria-hidden="true" href="#assert">#</a></h2>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä»£ç ä¸­åšåˆ¤æ–­ï¼šå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æŠ›å¼‚å¸¸ã€‚æœ‰æ²¡æœ‰ç»Ÿä¸€çš„å°è£…å‘¢?</p>
<p>å…¶å®<code>spring</code>ç»™æˆ‘ä»¬æä¾›äº†<code>Assert</code>ç±»ï¼Œå®ƒè¡¨ç¤º<code>æ–­è¨€</code>ã€‚</p>
<h3 id="71-æ–­è¨€å‚æ•°æ˜¯å¦ä¸ºç©º">7.1 æ–­è¨€å‚æ•°æ˜¯å¦ä¸ºç©º<a hidden class="anchor" aria-hidden="true" href="#71-æ–­è¨€å‚æ•°æ˜¯å¦ä¸ºç©º">#</a></h3>
<p>æ–­è¨€<code>å‚æ•°</code>æ˜¯å¦ç©ºï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ç›´æ¥æŠ›å¼‚å¸¸ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">isNull</span>(str, <span style="color:#0ff;font-weight:bold">&#34;strå¿…é¡»ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">isNull</span>(str, () -&gt; <span style="color:#0ff;font-weight:bold">&#34;strå¿…é¡»ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">notNull</span>(str, <span style="color:#0ff;font-weight:bold">&#34;strä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœä¸æ»¡è¶³æ¡ä»¶å°±ä¼šæŠ›å‡º<code>IllegalArgumentException</code>å¼‚å¸¸ã€‚</p>
<h3 id="72-æ–­è¨€é›†åˆæ˜¯å¦ä¸ºç©º">7.2 æ–­è¨€é›†åˆæ˜¯å¦ä¸ºç©º<a hidden class="anchor" aria-hidden="true" href="#72-æ–­è¨€é›†åˆæ˜¯å¦ä¸ºç©º">#</a></h3>
<p>æ–­è¨€<code>é›†åˆ</code>æ˜¯å¦ç©ºï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ç›´æ¥æŠ›å¼‚å¸¸ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>Map&lt;String, String&gt; map = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">notEmpty</span>(list, <span style="color:#0ff;font-weight:bold">&#34;listä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">notEmpty</span>(list, () -&gt; <span style="color:#0ff;font-weight:bold">&#34;listä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">notEmpty</span>(map, <span style="color:#0ff;font-weight:bold">&#34;mapä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœä¸æ»¡è¶³æ¡ä»¶å°±ä¼šæŠ›å‡º<code>IllegalArgumentException</code>å¼‚å¸¸ã€‚</p>
<h3 id="73-æ–­è¨€æ¡ä»¶æ˜¯å¦ä¸ºç©º">7.3 æ–­è¨€æ¡ä»¶æ˜¯å¦ä¸ºç©º<a hidden class="anchor" aria-hidden="true" href="#73-æ–­è¨€æ¡ä»¶æ˜¯å¦ä¸ºç©º">#</a></h3>
<p>æ–­è¨€æ˜¯å¦æ»¡è¶³æŸä¸ª<code>æ¡ä»¶</code>ï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ç›´æ¥æŠ›å¼‚å¸¸ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">isTrue</span>(CollectionUtils.<span style="color:#007f7f">isNotEmpty</span>(list), <span style="color:#0ff;font-weight:bold">&#34;listä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span><span style="display:flex;"><span>Assert.<span style="color:#007f7f">isTrue</span>(CollectionUtils.<span style="color:#007f7f">isNotEmpty</span>(list), () -&gt; <span style="color:#0ff;font-weight:bold">&#34;listä¸èƒ½ä¸ºç©º&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="mdc">MDC<a hidden class="anchor" aria-hidden="true" href="#mdc">#</a></h2>
<p><code>MDC</code>æ˜¯<code>org.slf4j</code>åŒ…ä¸‹çš„ä¸€ä¸ªç±»ï¼Œå®ƒçš„å…¨ç§°æ˜¯Mapped Diagnostic Contextï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å­˜æ”¾è¯Šæ–­æ—¥å¿—çš„å®¹å™¨ã€‚</p>
<p>MDCçš„åº•å±‚æ˜¯ç”¨äº†<code>ThreadLocal</code>æ¥ä¿å­˜æ•°æ®çš„ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä¼ é€’å‚æ•°ã€‚</p>
<p>ä¾‹å¦‚ç°åœ¨æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼šæˆ‘ä»¬ä½¿ç”¨<code>RestTemplate</code>è°ƒç”¨è¿œç¨‹æ¥å£æ—¶ï¼Œæœ‰æ—¶éœ€è¦åœ¨<code>header</code>ä¸­ä¼ é€’ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼štraceIdï¼Œsourceç­‰ï¼Œä¾¿äºåœ¨æŸ¥è¯¢æ—¥å¿—æ—¶èƒ½å¤Ÿä¸²è”ä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚é“¾è·¯ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
<p>è¿™ç§ä¸šåŠ¡åœºæ™¯å°±èƒ½é€šè¿‡<code>ClientHttpRequestInterceptor</code>æ¥å£å®ç°ï¼Œå…·ä½“åšæ³•å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼Œå®šä¹‰ä¸€ä¸ªLogFilteræ‹¦æˆªæ‰€æœ‰æ¥å£è¯·æ±‚ï¼Œåœ¨MDCä¸­è®¾ç½®traceIdï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> LogFilter <span style="color:#fff;font-weight:bold">implements</span> Filter {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> init(FilterConfig filterConfig) <span style="color:#fff;font-weight:bold">throws</span> ServletException {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> doFilter(ServletRequest request, ServletResponse response, FilterChain chain) <span style="color:#fff;font-weight:bold">throws</span> IOException, ServletException {
</span></span><span style="display:flex;"><span>        MdcUtil.<span style="color:#007f7f">add</span>(UUID.<span style="color:#007f7f">randomUUID</span>().<span style="color:#007f7f">toString</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è®°å½•è¯·æ±‚æ—¥å¿—&#34;</span>);
</span></span><span style="display:flex;"><span>        chain.<span style="color:#007f7f">doFilter</span>(request, response);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è®°å½•å“åº”æ—¥å¿—&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> destroy() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬äºŒæ­¥ï¼Œå®ç°<code>ClientHttpRequestInterceptor</code>æ¥å£ï¼ŒMDCä¸­è·å–å½“å‰è¯·æ±‚çš„traceIdï¼Œç„¶åè®¾ç½®åˆ°headerä¸­ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> RestTemplateInterceptor <span style="color:#fff;font-weight:bold">implements</span> ClientHttpRequestInterceptor {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> ClientHttpResponse intercept(HttpRequest request, <span style="color:#fff;font-weight:bold">byte</span>[] body, ClientHttpRequestExecution execution) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        request.<span style="color:#007f7f">getHeaders</span>().<span style="color:#007f7f">set</span>(<span style="color:#0ff;font-weight:bold">&#34;traceId&#34;</span>, MdcUtil.<span style="color:#007f7f">get</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> execution.<span style="color:#007f7f">execute</span>(request, body);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬ä¸‰æ­¥ï¼Œå®šä¹‰é…ç½®ç±»ï¼Œé…ç½®ä¸Šé¢å®šä¹‰çš„<code>RestTemplateInterceptor</code>ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> RestTemplateConfiguration {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> RestTemplate restTemplate() {
</span></span><span style="display:flex;"><span>        RestTemplate restTemplate = <span style="color:#fff;font-weight:bold">new</span> RestTemplate();
</span></span><span style="display:flex;"><span>        restTemplate.<span style="color:#007f7f">setInterceptors</span>(Collections.<span style="color:#007f7f">singletonList</span>(restTemplateInterceptor()));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> restTemplate;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> RestTemplateInterceptor restTemplateInterceptor() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> RestTemplateInterceptor();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­MdcUtilå…¶å®æ˜¯åˆ©ç”¨MDCå·¥å…·åœ¨ThreadLocalä¸­å­˜å‚¨å’Œè·å–traceId</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MdcUtil {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String TRACE_ID = <span style="color:#0ff;font-weight:bold">&#34;TRACE_ID&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> String get() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> MDC.<span style="color:#007f7f">get</span>(TRACE_ID);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> add(String value) {
</span></span><span style="display:flex;"><span>        MDC.<span style="color:#007f7f">put</span>(TRACE_ID, value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­ä¸­æ²¡æœ‰æ¼”ç¤ºMdcUtilç±»çš„addæ–¹æ³•å…·ä½“è°ƒçš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨filterä¸­æ‰§è¡Œæ¥å£æ–¹æ³•ä¹‹å‰ï¼Œç”ŸæˆtraceIdï¼Œè°ƒç”¨MdcUtilç±»çš„addæ–¹æ³•æ·»åŠ åˆ°MDCä¸­ï¼Œç„¶ååœ¨åŒä¸€ä¸ªè¯·æ±‚çš„å…¶ä»–åœ°æ–¹å°±èƒ½é€šè¿‡MdcUtilç±»çš„getæ–¹æ³•è·å–åˆ°è¯¥traceIdã€‚</p>
<p>èƒ½ä½¿ç”¨MDCä¿å­˜traceIdç­‰å‚æ•°çš„æ ¹æœ¬åŸå› æ˜¯ï¼Œç”¨æˆ·è¯·æ±‚åˆ°åº”ç”¨æœåŠ¡å™¨ï¼ŒTomcatä¼šä»çº¿ç¨‹æ± ä¸­åˆ†é…ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†è¯¥è¯·æ±‚ã€‚</p>
<p>é‚£ä¹ˆè¯¥è¯·æ±‚çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¿å­˜åˆ°MDCçš„ThreadLocalä¸­çš„å‚æ•°ï¼Œä¹Ÿæ˜¯è¯¥çº¿ç¨‹ç‹¬äº«çš„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<h2 id="classutils">ClassUtils<a hidden class="anchor" aria-hidden="true" href="#classutils">#</a></h2>
<p>springçš„<code>org.springframework.util</code>åŒ…ä¸‹çš„<code>ClassUtils</code>ç±»ï¼Œå®ƒé‡Œé¢æœ‰å¾ˆå¤šè®©æˆ‘ä»¬æƒŠå–œçš„åŠŸèƒ½ã€‚</p>
<p>å®ƒé‡Œé¢åŒ…å«äº†ç±»å’Œå¯¹è±¡ç›¸å…³çš„å¾ˆå¤šéå¸¸å®ç”¨çš„æ–¹æ³•ã€‚</p>
<h3 id="101-è·å–å¯¹è±¡çš„æ‰€æœ‰æ¥å£">10.1 è·å–å¯¹è±¡çš„æ‰€æœ‰æ¥å£<a hidden class="anchor" aria-hidden="true" href="#101-è·å–å¯¹è±¡çš„æ‰€æœ‰æ¥å£">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨ClassUtilsçš„<code>getAllInterfaces</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class&lt;?&gt;[] allInterfaces = ClassUtils.<span style="color:#007f7f">getAllInterfaces</span>(<span style="color:#fff;font-weight:bold">new</span> User());
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="102-è·å–æŸä¸ªç±»çš„åŒ…å">10.2 è·å–æŸä¸ªç±»çš„åŒ…å<a hidden class="anchor" aria-hidden="true" href="#102-è·å–æŸä¸ªç±»çš„åŒ…å">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªç±»çš„åŒ…åï¼Œå¯ä»¥ä½¿ç”¨ClassUtilsçš„<code>getPackageName</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String packageName = ClassUtils.<span style="color:#007f7f">getPackageName</span>(User.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(packageName);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="103-åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»">10.3 åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»<a hidden class="anchor" aria-hidden="true" href="#103-åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»">#</a></h3>
<p>å¦‚æœä½ æƒ³åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å†…éƒ¨ç±»ï¼Œå¯ä»¥ä½¿ç”¨ClassUtilsçš„<code>isInnerClass</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(ClassUtils.<span style="color:#007f7f">isInnerClass</span>(User.<span style="color:#007f7f">class</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="104-åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡">10.4 åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡<a hidden class="anchor" aria-hidden="true" href="#104-åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡">#</a></h3>
<p>å¦‚æœä½ æƒ³åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä»£ç†å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ClassUtilsçš„<code>isCglibProxy</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(ClassUtils.<span style="color:#007f7f">isCglibProxy</span>(<span style="color:#fff;font-weight:bold">new</span> User()));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="beanutils">BeanUtils<a hidden class="anchor" aria-hidden="true" href="#beanutils">#</a></h2>
<p>springç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>JavaBean</code>çš„å·¥å…·ç±»ï¼Œå®ƒåœ¨<code>org.springframework.beans</code>åŒ…ä¸‹é¢ï¼Œå®ƒçš„åå­—å«åšï¼š<code>BeanUtils</code>ã€‚</p>
<p>è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹è¿™ä¸ªå·¥å…·å¯ä»¥å¸¦ç»™æˆ‘ä»¬å“ªäº›æƒŠå–œã€‚</p>
<h3 id="111-æ‹·è´å¯¹è±¡çš„å±æ€§">11.1 æ‹·è´å¯¹è±¡çš„å±æ€§<a hidden class="anchor" aria-hidden="true" href="#111-æ‹·è´å¯¹è±¡çš„å±æ€§">#</a></h3>
<p>æ›¾å‡ ä½•æ—¶ï¼Œä½ æœ‰æ²¡æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šæŠŠæŸä¸ªå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œéƒ½æ‹·è´åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚è¿™æ—¶å°±èƒ½ä½¿ç”¨BeanUtilsçš„<code>copyProperties</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>User user1 = <span style="color:#fff;font-weight:bold">new</span> User();
</span></span><span style="display:flex;"><span>user1.<span style="color:#007f7f">setId</span>(1L);
</span></span><span style="display:flex;"><span>user1.<span style="color:#007f7f">setName</span>(<span style="color:#0ff;font-weight:bold">&#34;wjy&#34;</span>);
</span></span><span style="display:flex;"><span>user1.<span style="color:#007f7f">setAddress</span>(<span style="color:#0ff;font-weight:bold">&#34;åŒ—äº¬&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>User user2 = <span style="color:#fff;font-weight:bold">new</span> User();
</span></span><span style="display:flex;"><span>BeanUtils.<span style="color:#007f7f">copyProperties</span>(user1, user2);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(user2);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="112-å®ä¾‹åŒ–æŸä¸ªç±»">11.2 å®ä¾‹åŒ–æŸä¸ªç±»<a hidden class="anchor" aria-hidden="true" href="#112-å®ä¾‹åŒ–æŸä¸ªç±»">#</a></h3>
<p>å¦‚æœä½ æƒ³é€šè¿‡åå°„å®ä¾‹åŒ–ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨BeanUtilsçš„<code>instantiateClass</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>User user = BeanUtils.<span style="color:#007f7f">instantiateClass</span>(User.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(user);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="113-è·å–æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•">11.3 è·å–æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#113-è·å–æŒ‡å®šç±»çš„æŒ‡å®šæ–¹æ³•">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªç±»çš„æŒ‡å®šæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨BeanUtilsçš„<code>findDeclaredMethod</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Method declaredMethod = BeanUtils.<span style="color:#007f7f">findDeclaredMethod</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;getId&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(declaredMethod.<span style="color:#007f7f">getName</span>());
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="114-è·å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°">11.4 è·å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°<a hidden class="anchor" aria-hidden="true" href="#114-è·å–æŒ‡å®šæ–¹æ³•çš„å‚æ•°">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªæ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨BeanUtilsçš„<code>findPropertyForMethod</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Method declaredMethod = BeanUtils.<span style="color:#007f7f">findDeclaredMethod</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;getId&#34;</span>);
</span></span><span style="display:flex;"><span>PropertyDescriptor propertyForMethod = BeanUtils.<span style="color:#007f7f">findPropertyForMethod</span>(declaredMethod);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(propertyForMethod.<span style="color:#007f7f">getName</span>());
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="reflectionutils">ReflectionUtils<a hidden class="anchor" aria-hidden="true" href="#reflectionutils">#</a></h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨<code>åå°„</code>åŠŸèƒ½ï¼Œå¦‚æœä½¿ç”¨æœ€åŸå§‹çš„æ–¹æ³•æ¥å¼€å‘ï¼Œä»£ç é‡ä¼šéå¸¸å¤šï¼Œè€Œä¸”å¾ˆéº»çƒ¦ï¼Œå®ƒéœ€è¦å¤„ç†ä¸€å¤§å †å¼‚å¸¸ä»¥åŠè®¿é—®æƒé™ç­‰é—®é¢˜ã€‚</p>
<p>å¥½æ¶ˆæ¯æ˜¯springç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>ReflectionUtils</code>å·¥å…·ï¼Œå®ƒåœ¨<code>org.springframework.util</code>åŒ…ä¸‹é¢ã€‚</p>
<h3 id="121-è·å–æ–¹æ³•">12.1 è·å–æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#121-è·å–æ–¹æ³•">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªç±»çš„æŸä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ReflectionUtilsç±»çš„<code>findMethod</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Method method = ReflectionUtils.<span style="color:#007f7f">findMethod</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;getId&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="122-è·å–å­—æ®µ">12.2 è·å–å­—æ®µ<a hidden class="anchor" aria-hidden="true" href="#122-è·å–å­—æ®µ">#</a></h3>
<p>å¦‚æœä½ æƒ³è·å–æŸä¸ªç±»çš„æŸä¸ªå­—æ®µï¼Œå¯ä»¥ä½¿ç”¨ReflectionUtilsç±»çš„<code>findField</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Field field = ReflectionUtils.<span style="color:#007f7f">findField</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="123-æ‰§è¡Œæ–¹æ³•">12.3 æ‰§è¡Œæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#123-æ‰§è¡Œæ–¹æ³•">#</a></h3>
<p>å¦‚æœä½ æƒ³é€šè¿‡åå°„è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œä¼ é€’å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ReflectionUtilsç±»çš„<code>invokeMethod</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> ReflectionUtils.<span style="color:#007f7f">invokeMethod</span>(method, springContextsUtil.<span style="color:#007f7f">getBean</span>(beanName), param);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="124-åˆ¤æ–­å­—æ®µæ˜¯å¦å¸¸é‡">12.4 åˆ¤æ–­å­—æ®µæ˜¯å¦å¸¸é‡<a hidden class="anchor" aria-hidden="true" href="#124-åˆ¤æ–­å­—æ®µæ˜¯å¦å¸¸é‡">#</a></h3>
<p>å¦‚æœä½ æƒ³åˆ¤æ–­æŸä¸ªå­—æ®µæ˜¯å¦å¸¸é‡ï¼Œå¯ä»¥ä½¿ç”¨ReflectionUtilsç±»çš„<code>isPublicStaticFinal</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Field field = ReflectionUtils.<span style="color:#007f7f">findField</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(ReflectionUtils.<span style="color:#007f7f">isPublicStaticFinal</span>(field));
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="125-åˆ¤æ–­æ˜¯å¦equalsæ–¹æ³•">12.5 åˆ¤æ–­æ˜¯å¦equalsæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#125-åˆ¤æ–­æ˜¯å¦equalsæ–¹æ³•">#</a></h3>
<p>å¦‚æœä½ æƒ³åˆ¤æ–­æŸä¸ªæ–¹æ³•æ˜¯å¦equalsæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ReflectionUtilsç±»çš„<code>isEqualsMethod</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Method method = ReflectionUtils.<span style="color:#007f7f">findMethod</span>(User.<span style="color:#007f7f">class</span>, <span style="color:#0ff;font-weight:bold">&#34;getId&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(ReflectionUtils.<span style="color:#007f7f">isEqualsMethod</span>(method));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="base64utils">Base64Utils<a hidden class="anchor" aria-hidden="true" href="#base64utils">#</a></h2>
<p>æœ‰æ—¶å€™ï¼Œä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œéœ€è¦å°†å‚æ•°åªç”¨<code>base64</code>ç¼–ç ã€‚</p>
<p>è¿™æ—¶å°±èƒ½ç›´æ¥ä½¿ç”¨<code>org.springframework.util</code>åŒ…ä¸‹çš„<code>Base64Utils</code>å·¥å…·ç±»ã€‚</p>
<p>å®ƒé‡Œé¢åŒ…å«ï¼š<code>encode</code>å’Œ<code>decode</code>æ–¹æ³•ï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span>String encode = <span style="color:#fff;font-weight:bold">new</span> String(Base64Utils.<span style="color:#007f7f">encode</span>(str.<span style="color:#007f7f">getBytes</span>()));
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;åŠ å¯†åï¼š&#34;</span> + encode);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>    String decode = <span style="color:#fff;font-weight:bold">new</span> String(Base64Utils.<span style="color:#007f7f">decode</span>(encode.<span style="color:#007f7f">getBytes</span>()), <span style="color:#0ff;font-weight:bold">&#34;utf8&#34;</span>);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è§£å¯†åï¼š&#34;</span> + decode);
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">catch</span> (UnsupportedEncodingException e) {
</span></span><span style="display:flex;"><span>    e.<span style="color:#007f7f">printStackTrace</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>åŠ å¯†å<span style="color:#f00">ï¼š</span>YWJj
</span></span><span style="display:flex;"><span>è§£å¯†å<span style="color:#f00">ï¼š</span>abc
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="14-standardcharsets">14. StandardCharsets<a hidden class="anchor" aria-hidden="true" href="#14-standardcharsets">#</a></h2>
<p>æˆ‘ä»¬åœ¨åšå­—ç¬¦è½¬æ¢çš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦æŒ‡å®šå­—ç¬¦ç¼–ç ï¼Œæ¯”å¦‚ï¼šUTF-8ã€ISO-8859-1ç­‰ç­‰ã€‚</p>
<p>è¿™æ—¶å°±å¯ä»¥ç›´æ¥ä½¿ç”¨<code>java.nio.charset</code>åŒ…ä¸‹çš„<code>StandardCharsets</code>ç±»ä¸­é™æ€å˜é‡ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str = <span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span>String encode = <span style="color:#fff;font-weight:bold">new</span> String(Base64Utils.<span style="color:#007f7f">encode</span>(str.<span style="color:#007f7f">getBytes</span>()));
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;åŠ å¯†åï¼š&#34;</span> + encode);
</span></span><span style="display:flex;"><span>String decode = <span style="color:#fff;font-weight:bold">new</span> String(Base64Utils.<span style="color:#007f7f">decode</span>(encode.<span style="color:#007f7f">getBytes</span>())
</span></span><span style="display:flex;"><span>, StandardCharsets.<span style="color:#007f7f">UTF_8</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;è§£å¯†åï¼š&#34;</span> + decode);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="15-digestutils">15. DigestUtils<a hidden class="anchor" aria-hidden="true" href="#15-digestutils">#</a></h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œæ¯”å¦‚ï¼šmd5æˆ–sha256ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨apacheçš„<code>org.apache.commons.codec.digest</code>åŒ…ä¸‹çš„<code>DigestUtils</code>ç±»ã€‚</p>
<h3 id="151-md5åŠ å¯†">15.1 md5åŠ å¯†<a hidden class="anchor" aria-hidden="true" href="#151-md5åŠ å¯†">#</a></h3>
<p>å¦‚æœä½ æƒ³å¯¹æ•°æ®è¿›è¡Œmd5åŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨DigestUtilsçš„<code>md5Hex</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String md5Hex = DigestUtils.<span style="color:#007f7f">md5Hex</span>(<span style="color:#0ff;font-weight:bold">&#34;wjy&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(md5Hex);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="152-sha256åŠ å¯†">15.2 sha256åŠ å¯†<a hidden class="anchor" aria-hidden="true" href="#152-sha256åŠ å¯†">#</a></h3>
<p>å¦‚æœä½ æƒ³å¯¹æ•°æ®è¿›è¡Œsha256åŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨DigestUtilsçš„<code>sha256Hex</code>æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String md5Hex = DigestUtils.<span style="color:#007f7f">sha256Hex</span>(<span style="color:#0ff;font-weight:bold">&#34;wjy&#34;</span>);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(md5Hex);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="serializationutils">SerializationUtils<a hidden class="anchor" aria-hidden="true" href="#serializationutils">#</a></h2>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ•°æ®è¿›è¡Œ<code>åºåˆ—åŒ–</code>å’Œ<code>ååºåˆ—åŒ–</code>å¤„ç†ã€‚</p>
<p>ä¼ ç»Ÿçš„åšæ³•æ˜¯æŸä¸ªç±»å®ç°<code>Serializable</code>æ¥å£ï¼Œç„¶åé‡æ–°å®ƒçš„<code>writeObject</code>å’Œ<code>readObject</code>æ–¹æ³•ã€‚</p>
<p>ä½†å¦‚æœä½¿ç”¨<code>org.springframework.util</code>åŒ…ä¸‹çš„<code>SerializationUtils</code>å·¥å…·ç±»ï¼Œèƒ½æ›´è½»æ¾å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String, String&gt; map = Maps.<span style="color:#007f7f">newHashMap</span>();
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>);
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>);
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">byte</span>[] serialize = SerializationUtils.<span style="color:#007f7f">serialize</span>(map);
</span></span><span style="display:flex;"><span>Object deserialize = SerializationUtils.<span style="color:#007f7f">deserialize</span>(serialize);
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(deserialize);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="httpstatus">HttpStatus<a hidden class="anchor" aria-hidden="true" href="#httpstatus">#</a></h2>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»£ç ä¸­å®šä¹‰httpçš„è¿”å›ç ï¼Œæ¯”å¦‚ï¼šæ¥å£æ­£å¸¸è¿”å›200ï¼Œå¼‚å¸¸è¿”å›500ï¼Œæ¥å£æ‰¾ä¸åˆ°è¿”å›404ï¼Œæ¥å£ä¸å¯ç”¨è¿”å›502ç­‰ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> SUCCESS_CODE = 200;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> ERROR_CODE = 500;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> NOT_FOUND_CODE = 404;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶å®<code>org.springframework.http</code>åŒ…ä¸‹çš„HttpStatusæšä¸¾ï¼Œæˆ–è€…<code>org.apache.http</code>åŒ…ä¸‹çš„<code>HttpStatus</code>æ¥å£ï¼Œå·²ç»æŠŠå¸¸ç”¨çš„httpè¿”å›ç ç»™æˆ‘ä»¬å®šä¹‰å¥½äº†ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±å¯ä»¥äº†ï¼ŒçœŸçš„ä¸ç”¨å†é‡å¤å®šä¹‰äº†ã€‚</p>
<h1 id="é˜¿é‡Œäº‘è§†é¢‘ç‚¹æ’­">é˜¿é‡Œäº‘è§†é¢‘ç‚¹æ’­<a hidden class="anchor" aria-hidden="true" href="#é˜¿é‡Œäº‘è§†é¢‘ç‚¹æ’­">#</a></h1>
<p>å®˜æ–¹æ–‡æ¡£ï¼šä¸»è¦å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œåªæ˜¯å¤åˆ¶å®˜ç½‘æ–‡æ¡£çš„éƒ¨åˆ†å†…å®¹</p>
<p><a href="https://help.aliyun.com/product/29932.html">https://help.aliyun.com/product/29932.html</a></p>
<p>å…¶ä»–å‚è€ƒï¼šhttps://blog.csdn.net/rigou11/article/details/120492478</p>
<h2 id="hlsæ ‡å‡†åŠ å¯†">HLSæ ‡å‡†åŠ å¯†<a hidden class="anchor" aria-hidden="true" href="#hlsæ ‡å‡†åŠ å¯†">#</a></h2>
<p>ä»¥ä¸‹å†…å®¹å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a href="https://help.aliyun.com/document_detail/611819.html">https://help.aliyun.com/document_detail/611819.html</a></p>
<h3 id="åŠ å¯†åŠè§£å¯†æµç¨‹">åŠ å¯†åŠè§£å¯†æµç¨‹<a hidden class="anchor" aria-hidden="true" href="#åŠ å¯†åŠè§£å¯†æµç¨‹">#</a></h3>
<p><img loading="lazy" src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6612199761/p608220.png"></p>
<p><img loading="lazy" src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/2661659761/p608221.png"></p>
<h3 id="å‰ææ¡ä»¶æ¯ä¸€æ­¥éƒ½è¦æ‰§è¡Œä¸ç„¶åè¾¹è°ƒæ¥å£ä¼šæœ‰é—®é¢˜">å‰ææ¡ä»¶ï¼ˆæ¯ä¸€æ­¥éƒ½è¦æ‰§è¡Œï¼Œä¸ç„¶åè¾¹è°ƒæ¥å£ä¼šæœ‰é—®é¢˜ï¼‰<a hidden class="anchor" aria-hidden="true" href="#å‰ææ¡ä»¶æ¯ä¸€æ­¥éƒ½è¦æ‰§è¡Œä¸ç„¶åè¾¹è°ƒæ¥å£ä¼šæœ‰é—®é¢˜">#</a></h3>
<ul>
<li>å·²ç»å¼€é€šäº†è§†é¢‘ç‚¹æ’­æœåŠ¡ã€‚å¼€é€šæ­¥éª¤è¯·å‚è§<a href="https://help.aliyun.com/document_detail/51512.htm">å¼€é€šè§†é¢‘ç‚¹æ’­</a>ã€‚</li>
<li>å·²ç»å¼€é€šäº†å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆä»…éœ€å¼€é€šæœåŠ¡ï¼Œæ— éœ€è´­ä¹°å¯†é’¥ï¼‰ã€‚å¼€é€šåï¼Œéœ€è¦é€šè¿‡<a href="https://yida.alibaba-inc.com/o/ticketapply?spm=a2c4g.11186623.0.0.6b156297X6dFDt#/">å¡«å†™è¡¨å•</a>æ–¹å¼ç”³è¯·åˆ›å»ºService Keyã€‚</li>
<li>å·²ç»æˆæƒè§†é¢‘ç‚¹æ’­è®¿é—®æ‚¨å¯†é’¥ç®¡ç†æœåŠ¡çš„æƒé™ï¼Œå¯ä»¥é€šè¿‡<a href="https://ram.console.aliyun.com/role/authorization?request={\"Services\"%3A[{\"Service\"%3A\"VOD\"%2C\"Roles\"%3A[{\"RoleName\"%3A\"AliyunVODDefaultRole\"%2C\"TemplateId\"%3A\"DefaultRole\"}]}]%2C\"ReturnUrl\"%3A\"https%3A%2F%2Fvod.console.aliyun.com%2F\"}">äº‘èµ„æºè®¿é—®æˆæƒé¡µé¢</a>è¿›è¡Œæˆæƒã€‚</li>
<li>å·²åœ¨è§†é¢‘ç‚¹æ’­ä¸­é…ç½®åŠ é€ŸåŸŸåï¼Œå…·ä½“æ­¥éª¤è¯·å‚è§<a href="https://help.aliyun.com/document_detail/86074.htm">æ·»åŠ åŠ é€ŸåŸŸå</a>ã€‚</li>
<li>å·²å®‰è£…è§†é¢‘ç‚¹æ’­æœåŠ¡ç«¯SDKï¼Œå…·ä½“æ­¥éª¤è¯·å‚è§<a href="https://help.aliyun.com/document_detail/101789.htm">æœåŠ¡ç«¯SDK</a>ã€‚æœ¬æ–‡ä»¥Javaè¯­è¨€ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</li>
</ul>
<h3 id="åŠ å¯†è§†é¢‘">åŠ å¯†è§†é¢‘<a hidden class="anchor" aria-hidden="true" href="#åŠ å¯†è§†é¢‘">#</a></h3>
<h4 id="åˆ›å»ºç”¨äºhlsæ ‡å‡†åŠ å¯†çš„è½¬ç æ¨¡æ¿ç»„">åˆ›å»ºç”¨äºHLSæ ‡å‡†åŠ å¯†çš„è½¬ç æ¨¡æ¿ç»„<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºç”¨äºhlsæ ‡å‡†åŠ å¯†çš„è½¬ç æ¨¡æ¿ç»„">#</a></h4>
<p>HLSæ ‡å‡†åŠ å¯†è¿‡ç¨‹ä¸­éœ€è¦ç”¨åˆ°ä¸¤ä¸ªè½¬ç æ¨¡æ¿ç»„ï¼š<strong>ä¸è½¬ç </strong>æ¨¡æ¿ç»„å’Œç”¨äºHLSæ ‡å‡†åŠ å¯†çš„æ¨¡æ¿ç»„ã€‚å…¶ä¸­ï¼Œ<strong>ä¸è½¬ç </strong>æ¨¡æ¿ç»„ä¸ºç³»ç»Ÿå†…ç½®çš„æ¨¡æ¿ç»„ï¼Œæ‚¨æ— éœ€åˆ›å»ºå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼›ç”¨äºHLSæ ‡å‡†åŠ å¯†çš„æ¨¡æ¿ç»„éœ€è¦æ‚¨è‡ªè¡Œåˆ›å»ºã€‚åˆ›å»ºæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>ç™»å½•<a href="https://vod.console.aliyun.com/">è§†é¢‘ç‚¹æ’­æ§åˆ¶å°</a>ï¼Œé€‰æ‹©<strong>é…ç½®ç®¡ç† &gt; åª’ä½“å¤„ç†é…ç½® &gt; è½¬ç æ¨¡æ¿ç»„</strong>ã€‚</p>
</li>
<li>
<p>åœ¨è½¬ç æ¨¡æ¿ç»„é¡µé¢åˆ›å»ºç”¨äºHLSæ ‡å‡†åŠ å¯†çš„æ¨¡æ¿ç»„ã€‚å…¶ä¸­ï¼Œ<strong>å°è£…æ ¼å¼</strong>éœ€è®¾ç½®ä¸º<strong>hls</strong>ï¼›åœ¨<strong>é«˜çº§å‚æ•°</strong>åŒºåŸŸï¼Œå¿…é¡»å¼€å¯<strong>è§†é¢‘åŠ å¯†</strong>ï¼Œä¸”åŠ å¯†æ–¹å¼å‹¾é€‰<strong>ç§æœ‰åŠ å¯†</strong>é€‰é¡¹ï¼›å…¶ä½™å‚æ•°æ‚¨å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œé…ç½®ï¼Œè¯¦ç»†çš„å‚æ•°è§£é‡Šï¼Œè¯·å‚è§<a href="https://help.aliyun.com/document_detail/86068.htm">æ™®é€šè½¬ç æ¨¡æ¿è®¾ç½®</a>ã€‚æ³¨æ„è¿™é‡Œä¸è¦å°†è¯¥æ¨¡æ¿è®¾ç½®ä¸ºé»˜è®¤ã€‚
<img loading="lazy" src="https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/1737559761/p608949.png"></p>
</li>
<li>
<p>æ¨¡æ¿åˆ›å»ºå®Œæˆåï¼Œæ‚¨å¯ä»¥åœ¨è½¬ç æ¨¡æ¿ç»„åˆ—è¡¨é¡µæŸ¥çœ‹è½¬ç æ¨¡æ¿ç»„çš„IDï¼Œè¯·ä¿å­˜è¯¥IDç”¨äºåç»­å‘èµ·HLSæ ‡å‡†åŠ å¯†è½¬ç æ—¶ä½¿ç”¨ã€‚</p>
</li>
</ol>
<h4 id="æ­å»ºåŠ å¯†æœåŠ¡">æ­å»ºåŠ å¯†æœåŠ¡ã€‚<a hidden class="anchor" aria-hidden="true" href="#æ­å»ºåŠ å¯†æœåŠ¡">#</a></h4>
<p>å°±æ˜¯è¯·æ±‚é˜¿é‡Œäº‘ä¸€ä¸ªæ¥å£ï¼Œè¿”å›ä¸€äº›æ•°æ®ã€‚</p>
<p>è°ƒç”¨<a href="https://help.aliyun.com/document_detail/455051.htm?spm=a2c4g.611819.0.0.4ee27e11r0SpBy">GenerateKMSDataKey - åˆ›å»ºKMSæ•°æ®å¯†é’¥</a>æ¥å£ç”Ÿæˆæ•°æ®å¯†é’¥ï¼ˆDKï¼‰å’Œä¿¡å°æ•°æ®å¯†é’¥ï¼ˆEDKï¼‰ã€‚</p>
<p>è°ƒç”¨è¯¥æ¥å£æ— éœ€ä¼ ä»»ä½•å‚æ•°ï¼Œæ¥å£è°ƒç”¨æˆåŠŸåï¼Œè¿”å›å‚æ•°<code>CiphertextBlob</code>å³ä¸ºä¿¡å°æ•°æ®å¯†é’¥ï¼ˆEDKï¼‰ï¼Œè¿”å›å‚æ•°<code>Plaintext</code>å³ä¸ºæ•°æ®å¯†é’¥ï¼ˆDKï¼‰ï¼›å…¶ä¸­ï¼Œ<code>CiphertextBlob</code>æ˜¯ä¸€ä¸ªAES_128çš„å¯†é’¥ï¼Œè¯·ä¿å­˜è¯¥å‚æ•°å€¼ç”¨äºåç»­å‘èµ·æ ‡å‡†åŠ å¯†è½¬ç æ—¶ä¼ å…¥ã€‚</p>
<p>æ–‡æ¡£ï¼šhttps://help.aliyun.com/document_detail/455051.htm</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>com.aliyun<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>vod20170321<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;version&gt;</span>2.16.14<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">Client</span> createClient(String accessKeyId, String accessKeySecret) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>        com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teaopenapi</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">Config</span> config = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teaopenapi</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">Config</span>()
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// å¿…å¡«ï¼Œæ‚¨çš„ AccessKey ID</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">setAccessKeyId</span>(accessKeyId)
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// å¿…å¡«ï¼Œæ‚¨çš„ AccessKey Secret</span>
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">setAccessKeySecret</span>(accessKeySecret);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è®¿é—®çš„åŸŸå</span>
</span></span><span style="display:flex;"><span>        config.<span style="color:#007f7f">endpoint</span> = <span style="color:#0ff;font-weight:bold">&#34;vod.cn-shenzhen.aliyuncs.com&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">Client</span>(config);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * æ­å»ºåŠ å¯†æœåŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> GenerateKMSDataKey(){
</span></span><span style="display:flex;"><span>        com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">Client</span> client = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">GenerateKMSDataKeyRequest</span> generateKMSDataKeyRequest = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teautil</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">RuntimeOptions</span> runtime = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å·¥ç¨‹ä»£ç æ³„éœ²å¯èƒ½ä¼šå¯¼è‡´AccessKeyæ³„éœ²ï¼Œå¹¶å¨èƒè´¦å·ä¸‹æ‰€æœ‰èµ„æºçš„å®‰å…¨æ€§ã€‚ä»¥ä¸‹ä»£ç ç¤ºä¾‹ä»…ä¾›å‚è€ƒï¼Œå»ºè®®ä½¿ç”¨æ›´å®‰å…¨çš„ STS æ–¹å¼ï¼Œæ›´å¤šé‰´æƒè®¿é—®æ–¹å¼è¯·å‚è§ï¼šhttps://help.aliyun.com/document_detail/378657.html</span>
</span></span><span style="display:flex;"><span>            client = createClient(<span style="color:#0ff;font-weight:bold">&#34;ä½ çš„key&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ä½ çš„secret&#34;</span>);
</span></span><span style="display:flex;"><span>            generateKMSDataKeyRequest = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">GenerateKMSDataKeyRequest</span>();
</span></span><span style="display:flex;"><span>            runtime = <span style="color:#fff;font-weight:bold">new</span> com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teautil</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">RuntimeOptions</span>();
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å¤åˆ¶ä»£ç è¿è¡Œè¯·è‡ªè¡Œæ‰“å° API çš„è¿”å›å€¼</span>
</span></span><span style="display:flex;"><span>            com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">vod20170321</span>.<span style="color:#007f7f">models</span>.<span style="color:#007f7f">GenerateKMSDataKeyResponse</span> generateKMSDataKeyResponse = client.<span style="color:#007f7f">generateKMSDataKeyWithOptions</span>(generateKMSDataKeyRequest, runtime);
</span></span><span style="display:flex;"><span>            GenerateKMSDataKeyResponseBody responseBody = generateKMSDataKeyResponse.<span style="color:#007f7f">getBody</span>();
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// æ‰“å°è¿”å›å€¼</span>
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(responseBody.<span style="color:#007f7f">getCiphertextBlob</span>());
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(responseBody.<span style="color:#007f7f">getKeyId</span>());
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(responseBody.<span style="color:#007f7f">getPlaintext</span>());
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(responseBody.<span style="color:#007f7f">getRequestId</span>());
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (TeaException error) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å¦‚æœ‰éœ€è¦ï¼Œè¯·æ‰“å° error</span>
</span></span><span style="display:flex;"><span>            com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teautil</span>.<span style="color:#007f7f">Common</span>.<span style="color:#007f7f">assertAsString</span>(error.<span style="color:#007f7f">message</span>);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (Exception _error) {
</span></span><span style="display:flex;"><span>            TeaException error = <span style="color:#fff;font-weight:bold">new</span> TeaException(_error.<span style="color:#007f7f">getMessage</span>(), _error);
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å¦‚æœ‰éœ€è¦ï¼Œè¯·æ‰“å° error</span>
</span></span><span style="display:flex;"><span>            com.<span style="color:#007f7f">aliyun</span>.<span style="color:#007f7f">teautil</span>.<span style="color:#007f7f">Common</span>.<span style="color:#007f7f">assertAsString</span>(error.<span style="color:#007f7f">message</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ä½¿ç”¨ä¸è½¬ç æ¨¡æ¿ç»„ä¸Šä¼ è§†é¢‘">ä½¿ç”¨<strong>ä¸è½¬ç </strong>æ¨¡æ¿ç»„ä¸Šä¼ è§†é¢‘ã€‚<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨ä¸è½¬ç æ¨¡æ¿ç»„ä¸Šä¼ è§†é¢‘">#</a></h4>
<p>å› åœ¨è§†é¢‘ç‚¹æ’­ä¸­ä¸Šä¼ è§†é¢‘æ—¶ä¼šè§¦å‘è‡ªåŠ¨è½¬ç ï¼Œè€Œè‡ªåŠ¨è§¦å‘çš„è½¬ç æš‚ä¸æ”¯æŒHLSæ ‡å‡†åŠ å¯†ï¼Œå› æ­¤éœ€è¦HLSæ ‡å‡†åŠ å¯†çš„è§†é¢‘ï¼Œåœ¨ä¸Šä¼ æ—¶éœ€è¦ä½¿ç”¨ç³»ç»Ÿå†…ç½®çš„<strong>ä¸è½¬ç </strong>æ¨¡æ¿ç»„è¿›è¡Œä¸Šä¼ ï¼Œä»¥é˜²æ­¢ä¸Šä¼ æ—¶è‡ªåŠ¨è§¦å‘è½¬ç ã€‚</p>
<ol>
<li>é€šè¿‡è§†é¢‘ç‚¹æ’­æ§åˆ¶å°ä¸Šä¼ ï¼Œè¯·å‚è§<a href="https://help.aliyun.com/document_detail/86058.htm">æ§åˆ¶å°ä¸Šä¼ </a>ï¼›é€šè¿‡æœåŠ¡ç«¯æ¥å£ä¸Šä¼ ï¼Œè¯·å‚è§<a href="https://help.aliyun.com/document_detail/61063.htm">åª’ä½“ä¸Šä¼ </a>ã€‚</li>
<li>é…ç½®è§†é¢‘ç‚¹æ’­çš„äº‹ä»¶é€šçŸ¥ï¼Œå½“æ¥æ”¶åˆ°<a href="https://help.aliyun.com/document_detail/55630.htm">è§†é¢‘ä¸Šä¼ å®Œæˆ</a>çš„å›è°ƒæ¶ˆæ¯æ—¶ï¼Œåˆ™è¡¨æ˜è§†é¢‘å·²ç»ä¸Šä¼ åˆ°è§†é¢‘ç‚¹æ’­ä¸­ã€‚äº‹ä»¶é€šçŸ¥çš„é…ç½®æ–¹æ³•ï¼Œè¯·å‚è§<a href="https://help.aliyun.com/document_detail/55627.htm">äº‹ä»¶é€šçŸ¥</a>ã€‚</li>
</ol>
<p>éŸ³è§†é¢‘éƒ½æ˜¯å‰ç«¯ä¸Šä¼ ï¼Œä¸€èˆ¬ä¸ä¼šç”¨åˆ°åå°ä¸Šä¼ ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ¥å£å¯èƒ½ä¼šç”¨åˆ°ï¼Œå°±æ˜¯<code>URLæ‰¹é‡æ‹‰å–ä¸Šä¼ </code>ï¼Œè°ƒç”¨<a href="https://help.aliyun.com/document_detail/86311.htm#doc-api-vod-UploadMediaByURL">URLæ‰¹é‡æ‹‰å–ä¸Šä¼ </a>æ¥å£å®ç°ç¦»çº¿æ‹‰å–ä¸Šä¼ ã€‚è¿™ç§æ–¹å¼å¯ä»¥å…å»å…ˆå°†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°æœåŠ¡å™¨æˆ–ç»ˆç«¯å†ä½¿ç”¨ä¸Šä¼ SDKä¸Šä¼ åˆ°ç‚¹æ’­çš„è¿‡ç¨‹ã€‚</p>
<h4 id="å‘èµ·hlsæ ‡å‡†åŠ å¯†è½¬ç ">å‘èµ·HLSæ ‡å‡†åŠ å¯†è½¬ç ã€‚<a hidden class="anchor" aria-hidden="true" href="#å‘èµ·hlsæ ‡å‡†åŠ å¯†è½¬ç ">#</a></h4>
<p>æ„æ€å°±æ˜¯æ ¹æ®ä¸åŠ å¯†çš„è§†é¢‘ç”Ÿæˆä¸€ä¸ªåŠ å¯†çš„è§†é¢‘ã€‚</p>
<p>æ–‡æ¡£ï¼šhttps://help.aliyun.com/document_detail/454920.htm</p>
<h4 id="æŸ¥çœ‹hlsæ ‡å‡†åŠ å¯†ç»“æœ">æŸ¥çœ‹HLSæ ‡å‡†åŠ å¯†ç»“æœã€‚<a hidden class="anchor" aria-hidden="true" href="#æŸ¥çœ‹hlsæ ‡å‡†åŠ å¯†ç»“æœ">#</a></h4>
<p>ç™»å½•<a href="https://vod.console.aliyun.com/">è§†é¢‘ç‚¹æ’­æ§åˆ¶å°</a>ï¼Œé€‰æ‹©<strong>åª’èµ„åº“ &gt; éŸ³/è§†é¢‘ &gt; ç®¡ç† &gt; è§†é¢‘åœ°å€</strong>ï¼Œåœ¨è§†é¢‘åœ°å€é¡µé¢ï¼Œå¦‚æœè§†é¢‘æœ‰å¤šç§æ ¼å¼çš„è¾“å‡ºï¼ˆä¾‹å¦‚è¿˜å­˜åœ¨æ ¼å¼ä¸ºmp4çš„åŸå§‹æ–‡ä»¶ï¼‰ï¼Œåªéœ€è¦æŸ¥çœ‹m3u8æ ¼å¼çš„è§†é¢‘æµæ˜¯å¦å¸¦æœ‰<strong>æ ‡å‡†åŠ å¯†</strong>å­—æ ·ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¡¨æ˜æ ‡å‡†åŠ å¯†æˆåŠŸã€‚</p>
<h3 id="æ’­æ”¾hlsæ ‡å‡†åŠ å¯†è§†é¢‘">æ’­æ”¾HLSæ ‡å‡†åŠ å¯†è§†é¢‘<a hidden class="anchor" aria-hidden="true" href="#æ’­æ”¾hlsæ ‡å‡†åŠ å¯†è§†é¢‘">#</a></h3>
<h4 id="æ­å»ºè§£å¯†æœåŠ¡">æ­å»ºè§£å¯†æœåŠ¡<a hidden class="anchor" aria-hidden="true" href="#æ­å»ºè§£å¯†æœåŠ¡">#</a></h4>
<p>å°±æ˜¯è°ƒé˜¿é‡Œäº‘ä¸€ä¸ªæ¥å£ï¼Œè°ƒç”¨<a href="https://help.aliyun.com/document_detail/455053.htm">DecryptKMSDataKey - è§£å¯†KMSæ•°æ®å¯†é’¥å¯†æ–‡</a>æ¥å£è¿›è¡Œè§£å¯†ï¼Œè¯¥æ¥å£è¿”å›çš„æ•°æ®å¯†é’¥ï¼ˆDKï¼‰å³<code>PlainText</code>æ˜¯<a href="https://help.aliyun.com/document_detail/455051.htm">GenerateKMSDataKey - åˆ›å»ºKMSæ•°æ®å¯†é’¥</a>æ¥å£è¿”å›çš„<code>PlainText</code>ç»è¿‡base64_decodeä¹‹åçš„æ•°æ®ã€‚</p>
<h4 id="è·å–è§†é¢‘æ’­æ”¾åœ°å€å’Œå‡­è¯">è·å–è§†é¢‘æ’­æ”¾åœ°å€å’Œå‡­è¯<a hidden class="anchor" aria-hidden="true" href="#è·å–è§†é¢‘æ’­æ”¾åœ°å€å’Œå‡­è¯">#</a></h4>
<p>ç»§ç»­è°ƒé˜¿é‡Œäº‘æ¥å£ï¼Œæ¨èè°ƒç”¨<a href="https://help.aliyun.com/document_detail/436556.htm?spm=a2c4g.611819.0.0.53475646QmyoDQ">GetVideoPlayAuth - è·å–éŸ³è§†é¢‘æ’­æ”¾å‡­è¯</a>æ¥å£è·å–æ’­æ”¾å‡­è¯ã€‚</p>
<p>æˆ–è°ƒç”¨<a href="https://help.aliyun.com/document_detail/436555.htm">GetPlayInfo - è·å–éŸ³è§†é¢‘æ’­æ”¾åœ°å€</a>æ¥å£è·å–æ’­æ”¾åœ°å€ã€‚</p>
<h4 id="æ’­æ”¾åŠ å¯†è§†é¢‘">æ’­æ”¾åŠ å¯†è§†é¢‘<a hidden class="anchor" aria-hidden="true" href="#æ’­æ”¾åŠ å¯†è§†é¢‘">#</a></h4>
<p>HLSæ ‡å‡†åŠ å¯†æ”¯æŒæ‰€æœ‰çš„HLSæ’­æ”¾å™¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨è‡ªç ”çš„æ’­æ”¾å™¨æˆ–é˜¿é‡Œäº‘æ’­æ”¾å™¨è¿›è¡Œæ’­æ”¾åŠ å¯†è§†é¢‘ã€‚</p>
<p><a href="https://help.aliyun.com/document_detail/600949.htm?spm=a2c4g.611819.0.0.53475646QmyoDQ#565d5d30a6was">æ’­æ”¾HLSæ ‡å‡†åŠ å¯†è§†é¢‘</a></p>
<p>è¿™ä¸€æ­¥éƒ½æ˜¯å‰ç«¯çš„å·¥ä½œäº†ï¼Œå› ä¸ºä½¿ç”¨playAuthæ’­æ”¾åŠ å¯†è§†é¢‘ï¼Œæ‰€ä»¥åç«¯åªéœ€è¦æä¾›ä¸¤ä¸ªå‚æ•°ï¼švideoIdå’ŒplayAuthã€‚</p>
<p><a href="https://player.alicdn.com/aliplayer/setting/setting.html">é˜¿é‡Œäº‘Aliplayeræ’­æ”¾å™¨ (alicdn.com)</a></p>
<p>å¯ä»¥é€šè¿‡è¿™é‡ŒéªŒè¯<code>videoIdå’ŒplayAuth</code>çš„æ­£ç¡®æ€§ï¼Œå¦‚æœè¿™é‡Œèƒ½æ’­ï¼Œé‚£ä¹ˆå°±æ˜¯å‰ç«¯çš„é—®é¢˜ï¼Œè®©å‰ç«¯è‡ªå·±è§£å†³ã€‚</p>
<h3 id="å¤šåœ°å€å›è°ƒ">å¤šåœ°å€å›è°ƒ<a hidden class="anchor" aria-hidden="true" href="#å¤šåœ°å€å›è°ƒ">#</a></h3>
<p>å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://help.aliyun.com/document_detail/473081.htm">è®¾ç½®å¤šåœ°å€å›è°ƒ (aliyun.com)</a></p>
<h3 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜<a hidden class="anchor" aria-hidden="true" href="#é‡åˆ°çš„é—®é¢˜">#</a></h3>
<p>æ’­æ”¾å™¨æç¤º https è¯ä¹¦è¿‡æœŸã€‚è§£å†³åŠæ³•ï¼š</p>
<p>ç™»å½•è§†é¢‘ç‚¹æ’­æ§åˆ¶å°-&gt;å·¦ä¾§é…ç½®ç®¡ç†-&gt;åœ¨å³ä¾§é€‰ä¸­ä½ çš„åŸŸåç‚¹é…ç½®-&gt;httpsé…ç½®-&gt;æ›´æ–°æˆ–ä¿®æ”¹è¯ä¹¦å³å¯ã€‚</p>
<h1 id="é‡åˆ°çš„å‘">é‡åˆ°çš„å‘<a hidden class="anchor" aria-hidden="true" href="#é‡åˆ°çš„å‘">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>LocalDateTime now = LocalDateTime.<span style="color:#007f7f">now</span>();
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(now);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ‰“å°ç»“æœ</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 2024-01-17T17:53:37.384</span>
</span></span><span style="display:flex;"><span>æ³¨æ„<span style="color:#f00">ï¼Œ</span>ç§’åæ˜¯å¸¦å°æ•°ç‚¹çš„<span style="color:#f00">ã€‚</span>çº³ç§’
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™æ—¶å¦‚æœæŠŠè¿™ä¸ªæ—¶é—´å­˜å…¥mysqlçš„create_timeå­—æ®µï¼ˆdatetimeç±»å‹ï¼‰ï¼Œmysqlä¼šæ ¹æ®å°æ•°ç‚¹åçš„æ•°å­—ï¼Œå››èˆäº”å…¥ã€‚
ä¾‹å¦‚ï¼š</p>
<p><code>2024-01-17T17:53:37.384</code></p>
<p>mysqlä¼šå­˜ä¸ºï¼š<code>2024-01-17T17:53:37</code>ï¼Œå°æ•°ç‚¹åçš„384è¢«èˆå¼ƒäº†ã€‚</p>
<p><code>2024-01-17T17:53:37.584</code></p>
<p>mysqlä¼šå­˜ä¸ºï¼š`2024-01-17T17:53:378ï¼Œå°æ•°ç‚¹åçš„584è¿›äº†ä¸€ä½ï¼Œç§’æ•°å¤šäº†1ã€‚</p>
<p>æ­¤æ—¶å¦‚æœä½ è¿™ä¹ˆæ“ä½œï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// åŠ å…¥æ—¶é—´æ˜¯2024-01-17T17:53:37.584</span>
</span></span><span style="display:flex;"><span>LocalDateTime now = LocalDateTime.<span style="color:#007f7f">now</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>model.<span style="color:#007f7f">setStartTime</span>(now);
</span></span><span style="display:flex;"><span>save(model);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>searchData(now);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// å¦‚æœnowçš„ç»“æœçš„å°æ•°ç‚¹æ˜¯5xxï¼Œå› ä¸ºï¼Œå°æ•°ä¼šè¿›ä¸€ä½ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è€Œæ­¤æ—¶ç¨‹åºä¸­è¿˜æ˜¯å¸¦å°æ•°ç‚¹çš„æ—¶é—´ï¼Œé‚£ä¹ˆä½ ç”¨nowå»æ•°æ®åº“é‡ŒæŸ¥è¯¢ï¼Œå°±ä¼šå·®1ç§’ã€‚ä¼šå¯¼è‡´ä½ æŸ¥ä¸åˆ°æƒ³è¦çš„æ•°æ®ã€‚</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>è§£å†³åŠæ³•<span style="color:#f00">ï¼š</span>ä¸è¦çº³ç§’<span style="color:#f00">ã€‚</span>
</span></span><span style="display:flex;"><span>LocalDateTime.<span style="color:#007f7f">now</span>().<span style="color:#007f7f">withNano</span>(0);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è¾“å‡ºï¼š2024-01-25T14:50:39</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="webclientä½¿ç”¨">webClientä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#webclientä½¿ç”¨">#</a></h1>
<p>å®˜ç½‘ä»‹ç»ï¼šhttps://docs.spring.io/spring-framework/reference/web/webflux-webclient.html</p>
<p>æœ¬éƒ¨åˆ†åŸæ–‡åœ°å€ï¼šhttps://medium.com/hprog99/transitioning-from-resttemplate-to-webclient-in-spring-boot-a-detailed-guide-4febd21063ba</p>
<p>å¤šå¹´æ¥ï¼ŒSpring æ¡†æ¶çš„ RestTemplate ä¸€ç›´æ˜¯å®¢æˆ·ç«¯ HTTP è®¿é—®çš„é¦–é€‰è§£å†³æ–¹æ¡ˆï¼Œå®ƒæä¾›åŒæ­¥ã€é˜»å¡ API æ¥ä»¥ç®€å•çš„æ–¹å¼å¤„ç† HTTP è¯·æ±‚ã€‚</p>
<p>ç„¶è€Œï¼Œéšç€å¯¹éé˜»å¡ã€ååº”å¼ç¼–ç¨‹ä»¥æ›´å°‘çš„èµ„æºå¤„ç†å¹¶å‘çš„éœ€æ±‚ä¸æ–­å¢åŠ ï¼Œç‰¹åˆ«æ˜¯åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒRestTemplate å·²ç»æ˜¾ç¤ºå‡ºå…¶å±€é™æ€§ã€‚ä» Spring Framework 5 å¼€å§‹ï¼ŒRestTemplate å·²è¢«æ ‡è®°ä¸ºå·²å¼ƒç”¨ï¼ŒSpring å›¢é˜Ÿæ¨è WebClient ä½œä¸ºå…¶ç»§ä»»è€…ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆ-resttemplate-è¢«å¼ƒç”¨">ä¸ºä»€ä¹ˆ RestTemplate è¢«å¼ƒç”¨<a hidden class="anchor" aria-hidden="true" href="#ä¸ºä»€ä¹ˆ-resttemplate-è¢«å¼ƒç”¨">#</a></h2>
<ol>
<li>
<p>é˜»å¡æ€§è´¨ï¼š</p>
<p>RestTemplate æ˜¯ä¸€ä¸ªé˜»å¡ã€åŒæ­¥å®¢æˆ·ç«¯ã€‚è¿™æ„å‘³ç€æ‰§è¡Œè¯·æ±‚çš„çº¿ç¨‹ä¼šé˜»å¡ï¼Œç›´åˆ°æ“ä½œå®Œæˆï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´çº¿ç¨‹æ± è€—å°½ï¼Œå¹¶åœ¨é‡è´Ÿè½½ä¸‹å¯¼è‡´æ›´é«˜çš„å»¶è¿Ÿã€‚æ­¤æ¨¡å‹ä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•ï¼Œç‰¹åˆ«æ˜¯åœ¨åº”ç”¨ç¨‹åºå¿…é¡»æœ‰æ•ˆå¤„ç†æ•°åƒä¸ªå¹¶å‘è¯·æ±‚çš„å¾®æœåŠ¡ç¯å¢ƒä¸­ã€‚</p>
</li>
<li>
<p>å¯æ‰©å±•æ€§æœ‰é™ï¼š</p>
<p>RestTemplate çš„åŒæ­¥ç‰¹æ€§é™åˆ¶äº†å¯æ‰©å±•æ€§ã€‚ éœ€è¦é«˜ååé‡ã€ä½å»¶è¿Ÿèƒ½åŠ›çš„ç°ä»£ç³»ç»Ÿå‘ç°è¿™ç§æ–¹æ³•ä¸å¤Ÿã€‚äº‹ä»¶é©±åŠ¨ã€ååº”å¼ç¼–ç¨‹èŒƒå¼çš„å…´èµ·æ˜¯å¯¹è¿™äº›éœ€æ±‚çš„å›åº”ï¼Œå¯¼è‡´äº† WebClient ç­‰éé˜»å¡ API çš„é‡‡ç”¨ã€‚</p>
</li>
<li>
<p>ç¼ºä¹ååº”å¼ç¼–ç¨‹æ”¯æŒï¼š</p>
<p>RestTemplate ä¸æ”¯æŒååº”å¼ç¼–ç¨‹ï¼Œè€Œååº”å¼ç¼–ç¨‹åœ¨åŸºäºäº‘çš„ç”Ÿæ€ç³»ç»Ÿä¸­æ—¥ç›Šå¢é•¿ã€‚å“åº”å¼ç¼–ç¨‹ä½¿ç³»ç»Ÿæ›´å…·å“åº”æ€§ã€å¼¹æ€§å’Œå¼¹æ€§ï¼Œä½†è¿™æ˜¯ RestTemplate çš„é˜»å¡æ€§è´¨æ— æ³•å®ç°çš„ã€‚</p>
</li>
</ol>
<h2 id="webclient-çš„å…´èµ·">WebClient çš„å…´èµ·<a hidden class="anchor" aria-hidden="true" href="#webclient-çš„å…´èµ·">#</a></h2>
<p>WebClient æ˜¯ Spring WebFlux åº“çš„ä¸€éƒ¨åˆ†ï¼Œéš Spring 5 å¼•å…¥ã€‚ä¸ RestTemplate ç›¸æ¯”ï¼Œå®ƒå…·æœ‰è®¸å¤šä¼˜åŠ¿ï¼š</p>
<ol>
<li>
<p>éé˜»å¡æ“ä½œï¼š</p>
<p>WebClient ä½¿ç”¨ Project Reactor åœ¨éé˜»å¡ã€ååº”å¼èŒƒä¾‹ä¸Šè¿è¡Œï¼Œä½¿å…¶èƒ½å¤Ÿä»¥æ›´å°‘çš„çº¿ç¨‹å’Œæ›´å°‘çš„å¼€é”€å¤„ç†å¹¶å‘ï¼Œä»è€Œæ˜¾ç€æé«˜å¯æ‰©å±•æ€§å’Œèµ„æºåˆ©ç”¨ç‡ã€‚</p>
</li>
<li>
<p>ååº”å¼å †æ ˆï¼š</p>
<p>WebClient æ”¯æŒååº”å¼å †æ ˆï¼Œä½¿å…¶é€‚åˆåŸºäºäº‹ä»¶å¾ªç¯çš„è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒå¯ä»¥åœ¨å¾®æœåŠ¡æ¶æ„ä¸­å…¸å‹çš„é«˜å¹¶å‘åœºæ™¯ä¸‹é«˜æ•ˆå·¥ä½œã€‚</p>
</li>
<li>
<p>JSON å¤„ç†åŠæ›´å¤šï¼š</p>
<p>WebClient é€šè¿‡ Jackson åº“æä¾›ä¸ JSON çš„æ— ç¼é›†æˆï¼Œç±»ä¼¼äº RestTemplateï¼Œä½†å…·æœ‰å¢å¼ºçš„å¤„ç†èƒ½åŠ›ã€‚å®ƒè¿˜æ”¯æŒæœåŠ¡å™¨å‘é€äº‹ä»¶ (SSE)ã€æµåœºæ™¯å’Œå…¶ä»–é«˜çº§ç”¨ä¾‹ã€‚</p>
</li>
</ol>
<h2 id="ä»-resttemplate-è¿‡æ¸¡åˆ°-webclient">ä» RestTemplate è¿‡æ¸¡åˆ° WebClientï¼š<a hidden class="anchor" aria-hidden="true" href="#ä»-resttemplate-è¿‡æ¸¡åˆ°-webclient">#</a></h2>
<p>æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•ç”¨ WebClient æ›¿æ¢ RestTemplateã€‚æˆ‘ä»¬å°†ä»ä¸€ä¸ªç®€å•çš„ GET è¯·æ±‚å¼€å§‹ã€‚</p>
<h2 id="æ‰§è¡Œ-get-è¯·æ±‚">æ‰§è¡Œ GET è¯·æ±‚ï¼š<a hidden class="anchor" aria-hidden="true" href="#æ‰§è¡Œ-get-è¯·æ±‚">#</a></h2>
<p><strong>RestTemplate:</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>RestTemplate restTemplate = <span style="color:#fff;font-weight:bold">new</span> RestTemplate();
</span></span><span style="display:flex;"><span>ResponseEntity&lt;String&gt; response = restTemplate.<span style="color:#007f7f">getForEntity</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>, String.<span style="color:#007f7f">class</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>WebClient:</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient webClient = WebClient.<span style="color:#007f7f">create</span>();
</span></span><span style="display:flex;"><span>Mono&lt;String&gt; response = webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>response.<span style="color:#007f7f">subscribe</span>(result -&gt; System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(result));
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨ WebClient ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯éé˜»å¡çš„ã€‚è¯¥retrieve()æ–¹æ³•å‘èµ·è¯·æ±‚ï¼Œå¹¶å°†bodyToMonoå“åº”ä¸»ä½“è½¬æ¢ä¸º Reactor Monoã€‚è¯¥subscribe()æ–¹æ³•ç”¨äºè®¢é˜…ç»“æœï¼Œä¸€æ—¦å¯ç”¨å°±ä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p>
<h2 id="å¤„ç†é”™è¯¯">å¤„ç†é”™è¯¯ï¼š<a hidden class="anchor" aria-hidden="true" href="#å¤„ç†é”™è¯¯">#</a></h2>
<p>RestTemplate çš„é”™è¯¯å¤„ç†é€šè¿‡ ErrorHandler æ¥å£è¿›è¡Œï¼Œè¿™éœ€è¦å•ç‹¬çš„ä»£ç å—ã€‚WebClient é€šè¿‡æ›´æµç•…çš„å¤„ç†ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p><strong>WebClient:</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient webClient = WebClient.<span style="color:#007f7f">create</span>();
</span></span><span style="display:flex;"><span>webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com/some-error-endpoint&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">onStatus</span>(HttpStatus::isError, response -&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Handle error status codes</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> Mono.<span style="color:#007f7f">error</span>(<span style="color:#fff;font-weight:bold">new</span> CustomException(<span style="color:#0ff;font-weight:bold">&#34;Custom error occurred.&#34;</span>));
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯¥ onStatus() æ–¹æ³•å…è®¸ç›´æ¥åœ¨æ“ä½œé“¾ä¸­å¤„ç†ç‰¹å®šçš„ HTTP çŠ¶æ€ï¼Œä»è€Œæä¾›æ›´å…·å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§çš„æ–¹æ³•ã€‚</p>
<h2 id="ä½¿ç”¨-json-çš„-post-è¯·æ±‚">ä½¿ç”¨ JSON çš„ POST è¯·æ±‚ï¼š<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨-json-çš„-post-è¯·æ±‚">#</a></h2>
<p>å½“å‘å‡º POST è¯·æ±‚å¹¶æäº¤ JSON æ—¶ï¼ŒWebClient ä»¥å…¶æµç•…çš„ API æä¾›äº†æ›´ç›´æ¥çš„æ–¹æ³•ã€‚</p>
<p><strong>RestTemplate:</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>RestTemplate restTemplate = <span style="color:#fff;font-weight:bold">new</span> RestTemplate();
</span></span><span style="display:flex;"><span>HttpHeaders headers = <span style="color:#fff;font-weight:bold">new</span> HttpHeaders();
</span></span><span style="display:flex;"><span>headers.<span style="color:#007f7f">setContentType</span>(MediaType.<span style="color:#007f7f">APPLICATION_JSON</span>);
</span></span><span style="display:flex;"><span>HttpEntity&lt;String&gt; request = <span style="color:#fff;font-weight:bold">new</span> HttpEntity&lt;&gt;(<span style="color:#0ff;font-weight:bold">&#34;{\&#34;key\&#34;:\&#34;value\&#34;}&#34;</span>, headers);
</span></span><span style="display:flex;"><span>ResponseEntity&lt;String&gt; response = restTemplate.<span style="color:#007f7f">postForEntity</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>, request, String.<span style="color:#007f7f">class</span>);j
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>WebClient:</strong></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient webClient = WebClient.<span style="color:#007f7f">create</span>();
</span></span><span style="display:flex;"><span>Mono&lt;String&gt; response = webClient.<span style="color:#007f7f">post</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">contentType</span>(MediaType.<span style="color:#007f7f">APPLICATION_JSON</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyValue</span>(<span style="color:#0ff;font-weight:bold">&#34;{\&#34;key\&#34;:\&#34;value\&#34;}&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨ WebClientï¼Œè®¾ç½®æ ‡å¤´å’Œæ­£æ–‡å†…å®¹æ›´åŠ ç›´è§‚ï¼Œå¹¶ä¸”éœ€è¦æ›´å°‘çš„æ ·æ¿ä»£ç ã€‚å’Œ contentType() æ–¹æ³• bodyValue() å…è®¸ç›´æ¥è®¾ç½®å†…å®¹ç±»å‹å’Œæ­£æ–‡ã€‚</p>
<h2 id="å¼‚æ­¥å¤„ç†">å¼‚æ­¥å¤„ç†ï¼š<a hidden class="anchor" aria-hidden="true" href="#å¼‚æ­¥å¤„ç†">#</a></h2>
<p>ä½¿ç”¨ WebClient æœ€æ˜¾ç€çš„ä¼˜ç‚¹ä¹‹ä¸€æ˜¯å®ƒæ”¯æŒå¼‚æ­¥å¤„ç†ã€‚å½“æ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦è¿›è¡Œå¤šä¸ªç‹¬ç«‹çš„ API è°ƒç”¨æ—¶ï¼Œè¿™å°¤å…¶æœ‰ç”¨ï¼›è¿™äº›å¯ä»¥åŒæ—¶æ‰§è¡Œï¼Œä»è€Œå¤§å¤§å‡å°‘è¿™äº›æ“ä½œæ‰€éœ€çš„æ€»æ—¶é—´ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient webClient = WebClient.<span style="color:#007f7f">create</span>();
</span></span><span style="display:flex;"><span>Mono&lt;String&gt; responseOne = webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com/endpointOne&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Mono&lt;String&gt; responseTwo = webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com/endpointTwo&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä½¿ç”¨ Mono.zip å¹¶å‘æ‰§è¡Œè¯·æ±‚</span>
</span></span><span style="display:flex;"><span>Mono.<span style="color:#007f7f">zip</span>(responseOne, responseTwo).<span style="color:#007f7f">subscribe</span>(results -&gt; {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Result 1: &#34;</span> + results.<span style="color:#007f7f">getT1</span>());
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Result 2: &#34;</span> + results.<span style="color:#007f7f">getT2</span>());
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒMono.zipç”¨äºç»„åˆå¤šä¸ªè¯·æ±‚çš„ç»“æœã€‚è¿™äº›è¯·æ±‚æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œä¸€æ—¦æ‰€æœ‰è¯·æ±‚å®Œæˆï¼Œå°±ä¼šå¤„ç†ç»“æœã€‚è¿™ç§æ–¹æ³•æ¯” RestTemplate åŒæ­¥æ“ä½œä¸­å›ºæœ‰çš„é¡ºåºæ‰§è¡Œæ•ˆç‡è¦é«˜å¾—å¤šã€‚</p>
<h2 id="æµæ•°æ®">æµæ•°æ®ï¼š<a hidden class="anchor" aria-hidden="true" href="#æµæ•°æ®">#</a></h2>
<p>WebClient è¿˜æ”¯æŒä»¥æ•°æ®æµçš„å½¢å¼æ£€ç´¢å“åº”ä¸»ä½“ï¼Œè¿™åœ¨å¤„ç†æ‚¨ä¸æƒ³ä¸€æ¬¡å°†å…¶å…¨éƒ¨ä¿å­˜åœ¨å†…å­˜ä¸­çš„å¤§é‡æ•°æ®æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient  webClient  = WebClient.<span style="color:#007f7f">create</span>(); 
</span></span><span style="display:flex;"><span>webClient.<span style="color:#007f7f">get</span>() 
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>( <span style="color:#0ff;font-weight:bold">&#34;http://example.com/stream&#34;</span> ) 
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">accept</span>(MediaType.<span style="color:#007f7f">TEXT_EVENT_STREAM</span>) <span style="color:#007f7f">// ç”¨äºæœåŠ¡å™¨å‘é€äº‹ä»¶ (SSE)</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>() 
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToFlux</span>(String.<span style="color:#007f7f">class</span>) <span style="color:#007f7f">//å°†å“åº”æ­£æ–‡è½¬æ¢ä¸º Flux</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">subscribe</span>(data -&gt; System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>( <span style="color:#0ff;font-weight:bold">&#34;Received: &#34;</span> + data));
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ­¤åœºæ™¯ä¸­ï¼ŒbodyToFluxç”¨äºå°†å“åº”æ­£æ–‡è½¬æ¢ä¸ºFluxï¼Œè¡¨ç¤ºæ•°æ®æµã€‚ç„¶åï¼Œè¯¥subscribeæ–¹æ³•ç”¨äºåœ¨æ¯æ¡æ•°æ®åˆ°è¾¾æ—¶å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚è¿™ä¸ RestTemplate å½¢æˆé²œæ˜å¯¹æ¯”ï¼Œåè€…è¦æ±‚åœ¨å¤„ç†ä¹‹å‰å°†æ•´ä¸ªå“åº”ä¸»ä½“åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ— è®ºå¤§å°å¦‚ä½•ã€‚</p>
<h2 id="é‡è¯•æœºåˆ¶">é‡è¯•æœºåˆ¶ï¼š<a hidden class="anchor" aria-hidden="true" href="#é‡è¯•æœºåˆ¶">#</a></h2>
<p>WebClient åˆ©ç”¨ååº”å¼ç¼–ç¨‹æ¨¡å‹æä¾›äº†ä¸€ç§æ›´å¤æ‚çš„æ–¹æ³•æ¥é‡è¯•å¤±è´¥çš„è¯·æ±‚ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>WebClient webClient = WebClient.<span style="color:#007f7f">builder</span>().<span style="color:#007f7f">baseUrl</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>).<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>Mono&lt;String&gt; response = webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;/retry-endpoint&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retryWhen</span>(Retry.<span style="color:#007f7f">backoff</span>(3, Duration.<span style="color:#007f7f">ofSeconds</span>(1)) <span style="color:#007f7f">// number of retries and backoff configuration</span>
</span></span><span style="display:flex;"><span>               .<span style="color:#007f7f">maxBackoff</span>(Duration.<span style="color:#007f7f">ofSeconds</span>(10))) <span style="color:#007f7f">// maximum backoff time</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">onErrorResume</span>(e -&gt; Mono.<span style="color:#007f7f">just</span>(<span style="color:#0ff;font-weight:bold">&#34;Fallback response&#34;</span>)); <span style="color:#007f7f">// fallback if retries all fail</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>response.<span style="color:#007f7f">subscribe</span>(result -&gt; System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(result));
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè¯¥retryWhenæ–¹æ³•ç”¨äºå®šä¹‰é‡è¯•ç­–ç•¥ï¼ŒæŒ‡å®šé‡è¯•æ¬¡æ•°å’Œé€€é¿é…ç½®ã€‚å¦‚æœæ‰€æœ‰é‡è¯•éƒ½å¤±è´¥ï¼ŒonErrorResume åˆ™æä¾›åå¤‡æœºåˆ¶ã€‚</p>
<h2 id="è‡ªå®šä¹‰-web-å®¢æˆ·ç«¯é…ç½®">è‡ªå®šä¹‰ Web å®¢æˆ·ç«¯é…ç½®ï¼š<a hidden class="anchor" aria-hidden="true" href="#è‡ªå®šä¹‰-web-å®¢æˆ·ç«¯é…ç½®">#</a></h2>
<p>WebClient å…·æœ‰é«˜åº¦å¯é…ç½®æ€§ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°é»˜è®¤è®¾ç½®æ— æ³•æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æƒ³è¦è°ƒæ•´è¿æ¥è¶…æ—¶ï¼Œæˆ–è€…å¯èƒ½éœ€è¦æ·»åŠ åº”éšæ¯ä¸ªè¯·æ±‚å‘é€çš„é»˜è®¤æ ‡å¤´ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// æ„å»ºä¸€ä¸ªå…·æœ‰æŒ‡å®šè¶…æ—¶å’Œé»˜è®¤æ ‡å¤´çš„è‡ªå®šä¹‰ WebClient </span>
</span></span><span style="display:flex;"><span>WebClient customWebClient = WebClient.<span style="color:#007f7f">builder</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">baseUrl</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">clientConnector</span>(<span style="color:#fff;font-weight:bold">new</span> ReactorClientHttpConnector(
</span></span><span style="display:flex;"><span>        HttpClient.<span style="color:#007f7f">create</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#007f7f">option</span>(ChannelOption.<span style="color:#007f7f">CONNECT_TIMEOUT_MILLIS</span>, 2000) <span style="color:#007f7f">// 2 seconds timeout</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#007f7f">responseTimeout</span>(Duration.<span style="color:#007f7f">ofSeconds</span>(2)) <span style="color:#007f7f">// Set response timeout</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#007f7f">doOnConnected</span>(conn -&gt; 
</span></span><span style="display:flex;"><span>                       conn.<span style="color:#007f7f">addHandlerLast</span>(<span style="color:#fff;font-weight:bold">new</span> ReadTimeoutHandler(2)) <span style="color:#007f7f">// 2 seconds read timeout</span>
</span></span><span style="display:flex;"><span>                       .<span style="color:#007f7f">addHandlerLast</span>(<span style="color:#fff;font-weight:bold">new</span> WriteTimeoutHandler(2))))) <span style="color:#007f7f">// 2 seconds write timeout</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">defaultHeader</span>(HttpHeaders.<span style="color:#007f7f">CONTENT_TYPE</span>, MediaType.<span style="color:#007f7f">APPLICATION_JSON_VALUE</span>) <span style="color:#007f7f">// Default header</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">defaultHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Another-Header&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Another-Value&#34;</span>) <span style="color:#007f7f">// Another default header</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">build</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ WebClient ä»¥å…·æœ‰ç‰¹å®šçš„è¶…æ—¶é…ç½®å’Œé»˜è®¤æ ‡å¤´ã€‚WebClient çš„æ­¤å®ä¾‹ä¼šå°†è¿™äº›è®¾ç½®åº”ç”¨äºå®ƒæ‰§è¡Œçš„æ‰€æœ‰è¯·æ±‚ï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨ç¨‹åºçš„è¡Œä¸ºä¸€è‡´ã€‚</p>
<h2 id="ç½‘ç»œå®¢æˆ·ç«¯è¿‡æ»¤å™¨">ç½‘ç»œå®¢æˆ·ç«¯è¿‡æ»¤å™¨ï¼š<a hidden class="anchor" aria-hidden="true" href="#ç½‘ç»œå®¢æˆ·ç«¯è¿‡æ»¤å™¨">#</a></h2>
<p>WebClient æ”¯æŒä½¿ç”¨è¿‡æ»¤å™¨æ¥å¤„ç†æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚è¿™äº›è¿‡æ»¤å™¨å¯ç”¨äºæ“çºµè¯·æ±‚æˆ–å“åº”ï¼Œç”šè‡³å¯ä»¥å¤„ç†æ—¥å¿—è®°å½•ã€æŒ‡æ ‡æˆ–æˆæƒç­‰é—®é¢˜ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// å¸¦è¿‡æ»¤å™¨çš„è‡ªå®šä¹‰ WebClient </span>
</span></span><span style="display:flex;"><span>WebClient filteredWebClient = WebClient.<span style="color:#007f7f">builder</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">baseUrl</span>(<span style="color:#0ff;font-weight:bold">&#34;http://example.com&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">filter</span>((request, next) -&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ‰“å°è¯·æ±‚æ•°æ®</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Request: &#34;</span> + request.<span style="color:#007f7f">method</span>() + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + request.<span style="color:#007f7f">url</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> next.<span style="color:#007f7f">exchange</span>(request).<span style="color:#007f7f">doOnSuccessOrError</span>((response, error) -&gt; {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (response != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// æ‰“å°å“åº”æ•°æ®</span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Response Status: &#34;</span> + response.<span style="color:#007f7f">statusCode</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (error != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// æ‰“å°é”™è¯¯</span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Error: &#34;</span> + error.<span style="color:#007f7f">getMessage</span>());
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">build</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ­¤è¿‡æ»¤å™¨è®°å½•é€šè¿‡æ­¤ WebClient å®ä¾‹å‘å‡ºçš„æ¯ä¸ªè¯·æ±‚çš„ HTTP æ–¹æ³•å’Œ URLï¼Œä»¥åŠæ”¶åˆ°çš„æ¯ä¸ªå“åº”çš„çŠ¶æ€ä»£ç ã€‚å®ƒè¿˜è®°å½•äº¤æ¢æœŸé—´å¯èƒ½å‘ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚</p>
<h2 id="ç›¸äº’-tls-èº«ä»½éªŒè¯">ç›¸äº’ TLS èº«ä»½éªŒè¯ï¼š<a hidden class="anchor" aria-hidden="true" href="#ç›¸äº’-tls-èº«ä»½éªŒè¯">#</a></h2>
<p>åœ¨éœ€è¦å¢å¼ºå®‰å…¨æ€§çš„åœºæ™¯ä¸­ï¼ˆä¾‹å¦‚å†…éƒ¨å¾®æœåŠ¡é€šä¿¡ï¼‰ï¼Œæ‚¨å¯èƒ½éœ€è¦ç›¸äº’ TLS (mTLS) èº«ä»½éªŒè¯ã€‚å¯ä»¥é’ˆå¯¹æ­¤ç±»åœºæ™¯é…ç½® WebClientã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// ä½¿ç”¨ä¿¡ä»»å­˜å‚¨å’Œå¯†é’¥å­˜å‚¨å‡†å¤‡ SSL ä¸Šä¸‹æ–‡</span>
</span></span><span style="display:flex;"><span>SslContext sslContext = SslContextBuilder
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">forClient</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">trustManager</span>(InsecureTrustManagerFactory.<span style="color:#007f7f">INSTANCE</span>) <span style="color:#007f7f">// for demo purposes only!</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">keyManager</span>(<span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;path/to/client.crt&#34;</span>), <span style="color:#fff;font-weight:bold">new</span> File(<span style="color:#0ff;font-weight:bold">&#34;path/to/client.key&#34;</span>)) <span style="color:#007f7f">// client certificate and private key</span>
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä½¿ç”¨ SSL ä¸Šä¸‹æ–‡é…ç½® WebClient WebClient </span>
</span></span><span style="display:flex;"><span>WebClient secureWebClient = WebClient.<span style="color:#007f7f">builder</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">clientConnector</span>(<span style="color:#fff;font-weight:bold">new</span> ReactorClientHttpConnector(HttpClient.<span style="color:#007f7f">create</span>().<span style="color:#007f7f">secure</span>(sslContextSpec -&gt; sslContextSpec.<span style="color:#007f7f">sslContext</span>(sslContext))))
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">build</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨åŒ…å«å®¢æˆ·ç«¯è¯ä¹¦å’Œç§é’¥çš„ SSL ä¸Šä¸‹æ–‡é…ç½® WebClient æ¥è®¾ç½® mTLSã€‚æ­¤è®¾ç½®å¯ç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨ SSL æ¡æ‰‹æœŸé—´ç›¸äº’éªŒè¯ã€‚</p>
<h2 id="webclient-æœ€ä½³å®è·µ">WebClient æœ€ä½³å®è·µ<a hidden class="anchor" aria-hidden="true" href="#webclient-æœ€ä½³å®è·µ">#</a></h2>
<p>ä»¥ä¸‹æ˜¯ä¸€äº›ç¡®ä¿æ‚¨é«˜æ•ˆä¸”æœ‰æ•ˆåœ°ä½¿ç”¨ WebClient çš„æŒ‡å—ï¼š</p>
<h2 id="å•ä¾‹æ¨¡å¼">å•ä¾‹æ¨¡å¼ï¼š<a hidden class="anchor" aria-hidden="true" href="#å•ä¾‹æ¨¡å¼">#</a></h2>
<p>ä¸é€šå¸¸æ ¹æ®è¯·æ±‚æˆ–æœåŠ¡å®ä¾‹åŒ–çš„ RestTemplate ä¸åŒï¼ŒWebClient è¢«è®¾è®¡ä¸ºç”¨ä½œå•ä¾‹ã€‚è¿™æ„å‘³ç€æ‚¨åº”è¯¥åˆ›å»º WebClient çš„å•ä¸ªå®ä¾‹å¹¶åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­é‡ç”¨å®ƒã€‚è¿™ç§æ–¹å¼ä¿è¯äº†èµ„æºçš„é«˜æ•ˆåˆ©ç”¨ï¼Œé¿å…äº†é‡å¤åˆ›å»ºå’Œé”€æ¯WebClientå®ä¾‹çš„å¼€é”€ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Bean
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> WebClient webClient(){
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> WebClient.<span style="color:#007f7f">builder</span>().<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡åœ¨é…ç½®ä¸­å®šä¹‰ WebClient.Builder beanï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹è‡ªåŠ¨è£…é…å®ƒï¼Œå¹¶é’ˆå¯¹ç‰¹å®šç”¨ä¾‹å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰ï¼Œè€Œæ— éœ€æ¯æ¬¡éƒ½åˆ›å»ºæ–°çš„ WebClient å®ä¾‹ã€‚</p>
<h2 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†ï¼š<a hidden class="anchor" aria-hidden="true" href="#é”™è¯¯å¤„ç†">#</a></h2>
<p>ååº”æ€§æµå‘ä¸‹æ¸¸ä¼ æ’­é”™è¯¯ï¼Œç›´åˆ°é”™è¯¯è¢«å¤„ç†æˆ–åˆ°è¾¾æµçš„æœ«å°¾ã€‚å§‹ç»ˆå¤„ç†ååº”é“¾ä¸­çš„é”™è¯¯ï¼Œä»¥é¿å…æ„å¤–è¡Œä¸ºã€‚onErrorResumeã€onErrorReturn å’Œ doOnError è¿ç®—ç¬¦ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;/endpoint&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">doOnError</span>(e -&gt; log.<span style="color:#007f7f">error</span>(<span style="color:#0ff;font-weight:bold">&#34;Error occurred&#34;</span>, e))
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">onErrorResume</span>(e -&gt; Mono.<span style="color:#007f7f">just</span>(<span style="color:#0ff;font-weight:bold">&#34;Fallback value&#34;</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="è¶…æ—¶é…ç½®">è¶…æ—¶é…ç½®ï¼š<a hidden class="anchor" aria-hidden="true" href="#è¶…æ—¶é…ç½®">#</a></h2>
<p>å§‹ç»ˆé…ç½®è¶…æ—¶ã€‚å¦‚æœæ²¡æœ‰è¶…æ—¶ï¼Œå¦‚æœæœåŠ¡å™¨æ²¡æœ‰å“åº”ï¼ŒWebClient è¯·æ±‚å¯èƒ½ä¼šæ— é™æœŸæŒ‚èµ·ã€‚ä½¿ç”¨timeoutè¿ç®—ç¬¦è®¾ç½®ç‰¹å®šçš„æŒç»­æ—¶é—´ï¼Œåœ¨æ­¤ä¹‹åè¯·æ±‚å°†è¢«ç»ˆæ­¢ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>webClient.<span style="color:#007f7f">get</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;/endpoint&#34;</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">retrieve</span>()
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">timeout</span>(Duration.<span style="color:#007f7f">ofSeconds</span>(10));
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="èƒŒå‹">èƒŒå‹ï¼š<a hidden class="anchor" aria-hidden="true" href="#èƒŒå‹">#</a></h2>
<p>ååº”å¼ç¼–ç¨‹çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯èƒŒå‹ï¼Œå®ƒå…è®¸æ¶ˆè´¹è€…å‘ç”Ÿäº§è€…å‘å‡ºä»–ä»¬å¯ä»¥å¤„ç†å¤šå°‘æ•°æ®çš„ä¿¡å·ã€‚å¤„ç†Fluxï¼ˆ0 åˆ° N ä¸ªé¡¹ç›®çš„æµï¼‰æ—¶ï¼Œè¯·æ³¨æ„èƒŒå‹å¹¶ç¡®ä¿ä¸ä¼šè®©æ¶ˆè´¹è€…æ„Ÿåˆ°ä¸çŸ¥æ‰€æªã€‚ä½¿ç”¨è¿ç®—ç¬¦æ¥limitRateæ§åˆ¶æ•°æ®æµçš„é€Ÿç‡ã€‚</p>
<h2 id="æ—¥å¿—è®°å½•">æ—¥å¿—è®°å½•ï¼š<a hidden class="anchor" aria-hidden="true" href="#æ—¥å¿—è®°å½•">#</a></h2>
<p>æ—¥å¿—è®°å½•å¯¹äºè°ƒè¯•å’Œç›‘æ§è‡³å…³é‡è¦ã€‚WebClient æä¾›å†…ç½®æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚é€šè¿‡å°†è®°å½•å™¨è®¾ç½®reactor.netty.http.client.HttpClient ä¸º DEBUGï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹è¯·æ±‚å’Œå“åº”çš„è¯¦ç»†æ—¥å¿—ã€‚</p>
<h2 id="çº¿ç¨‹ä¸Šä¸‹æ–‡">çº¿ç¨‹ä¸Šä¸‹æ–‡ï¼š<a hidden class="anchor" aria-hidden="true" href="#çº¿ç¨‹ä¸Šä¸‹æ–‡">#</a></h2>
<p>åœ¨ååº”å¼ç¼–ç¨‹ä¸­ï¼Œæ“ä½œå¯èƒ½ä¼šå¤šæ¬¡åˆ‡æ¢çº¿ç¨‹ã€‚å¦‚æœæ‚¨ä¾èµ–çº¿ç¨‹å±€éƒ¨å˜é‡ï¼ˆå¦‚æ—¥å¿—è®°å½•æˆ–å®‰å…¨ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„å˜é‡ï¼‰ï¼Œè¯·æ³¨æ„è¿™äº›å˜é‡å¯èƒ½ä¸ä¼šè‡ªåŠ¨è·¨çº¿ç¨‹ä¼ æ’­ã€‚åƒè¿™æ ·çš„åº“reactor-contextå¯ä»¥å¸®åŠ©åœ¨ååº”æµä¸­è·¨çº¿ç¨‹ä¼ æ’­ä¸Šä¸‹æ–‡ã€‚</p>
<h2 id="é¿å…é˜»å¡å‘¼å«">é¿å…é˜»å¡å‘¼å«ï¼š<a hidden class="anchor" aria-hidden="true" href="#é¿å…é˜»å¡å‘¼å«">#</a></h2>
<p>WebClient å’Œååº”å¼ç¼–ç¨‹çš„ä¸»è¦å¥½å¤„ä¹‹ä¸€æ˜¯æ“ä½œçš„éé˜»å¡æ€§è´¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨åœ¨ååº”å¼é“¾ä¸­å¼•å…¥é˜»å¡è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ç§å¥½å¤„å°±ä¼šè¢«æŠµæ¶ˆã€‚å§‹ç»ˆé¿å…åœ¨ååº”æµä¸­é˜»å¡æ“ä½œã€‚å¦‚æœå¿…é¡»ä½¿ç”¨é˜»å¡è°ƒç”¨ï¼Œè¯·è€ƒè™‘ä½¿ç”¨å°†å…¶å¸è½½åˆ°å•ç‹¬çš„çº¿ç¨‹æ± subscribeOnã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Mono.<span style="color:#007f7f">fromCallable</span>(() -&gt;blockingMethod()) 
</span></span><span style="display:flex;"><span>    .<span style="color:#007f7f">subscribeOn</span>(Schedulers.<span style="color:#007f7f">boundedElastic</span>());
</span></span></code></pre></td></tr></table>
</div>
</div><p>WebClient æä¾›äº†ä¸€ç§ç°ä»£çš„ã€éé˜»å¡çš„ã€ååº”å¼çš„æ–¹æ³•æ¥å‘å‡º HTTP è¯·æ±‚ï¼Œä½¿å…¶æˆä¸ºå¤§å¤šæ•°ç”¨ä¾‹ä¸­ä¼˜äºå·²å¼ƒç”¨çš„ RestTemplate çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œéšç€å®ƒçš„åŠ›é‡è€Œæ¥çš„æ˜¯æ­£ç¡®ä½¿ç”¨å®ƒçš„è´£ä»»ã€‚é€šè¿‡éµå¾ªæœ€ä½³å®è·µã€äº†è§£å“åº”å¼èŒƒä¾‹å¹¶æ„è¯†åˆ°æ½œåœ¨çš„é™·é˜±ï¼Œæ‚¨å¯ä»¥å……åˆ†åˆ©ç”¨ WebClient çš„æ½œåŠ›å¹¶æ„å»ºé«˜æ•ˆã€å¯æ‰©å±•ä¸”å“åº”è¿…é€Ÿçš„åº”ç”¨ç¨‹åºã€‚</p>
<h2 id="spring-boot-ä¸­ä½¿ç”¨webclient">spring boot ä¸­ä½¿ç”¨webClient<a hidden class="anchor" aria-hidden="true" href="#spring-boot-ä¸­ä½¿ç”¨webclient">#</a></h2>
<p>ç¼–è¾‘ pom.xml æ–‡ä»¶ï¼Œæ·»åŠ  Spring WebFlux ä¾èµ–ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨ WebClientã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-webflux<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Component
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebClientUtils {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å•ä¾‹</span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> WebClient webClient(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> WebClient.<span style="color:#007f7f">builder</span>().<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ³¨å…¥</span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> WebClient webClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æµ‹è¯•</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        String result = WebClient.<span style="color:#007f7f">create</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">get</span>().<span style="color:#007f7f">uri</span>(<span style="color:#0ff;font-weight:bold">&#34;http://localhost:6688/api/v1/heart/check&#34;</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">retrieve</span>().<span style="color:#007f7f">bodyToMono</span>(String.<span style="color:#007f7f">class</span>).<span style="color:#007f7f">block</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(result);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// postè¯·æ±‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> &lt;T&gt; T post(String apiName,Object object,Class&lt;T&gt; toClass){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> timestamp = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        String signature = DigestUtils.<span style="color:#007f7f">md5DigestAsHex</span>((apiKey + secretKey + timestamp).<span style="color:#007f7f">getBytes</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Mono&lt;T&gt; response = webClient.<span style="color:#007f7f">post</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">uri</span>(i-&gt; i.<span style="color:#007f7f">scheme</span>(protocols)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">host</span>(baseUrl)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">path</span>(prefix)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">queryParam</span>(<span style="color:#0ff;font-weight:bold">&#34;apiKey&#34;</span>, apiKey)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">queryParam</span>(<span style="color:#0ff;font-weight:bold">&#34;time&#34;</span>, String.<span style="color:#007f7f">valueOf</span>(timestamp))
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">queryParam</span>(<span style="color:#0ff;font-weight:bold">&#34;sign&#34;</span>, signature)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">queryParam</span>(<span style="color:#0ff;font-weight:bold">&#34;method&#34;</span>, apiName)
</span></span><span style="display:flex;"><span>                 .<span style="color:#007f7f">build</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">contentType</span>(MediaType.<span style="color:#007f7f">APPLICATION_JSON</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">body</span>(Mono.<span style="color:#007f7f">just</span>(object),Object.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">retrieve</span>().<span style="color:#007f7f">bodyToMono</span>(toClass)
</span></span><span style="display:flex;"><span>            .<span style="color:#007f7f">timeout</span>(Duration.<span style="color:#007f7f">ofMillis</span>(WebClientHelper.<span style="color:#007f7f">DEFAULT_REQUEST_TIMEOUT</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> response.<span style="color:#007f7f">block</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨serviceä¸­æ³¨å…¥ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Autowired
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> WebClientUtils webClientUtils;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// æŸ¥è¯¢ä¿¡æ¯</span>
</span></span><span style="display:flex;"><span>Map&lt;String, String&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;ids&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;ä½ çš„å‚æ•°&#34;</span>);
</span></span><span style="display:flex;"><span>String result = webClientUtils.<span style="color:#007f7f">post</span>(<span style="color:#0ff;font-weight:bold">&#34;http://api.test.com&#34;</span>, map, String.<span style="color:#007f7f">class</span>);<span style="color:#007f7f">// ä¼ å…¥mapå‚æ•°ï¼Œä¹Ÿæ”¯æŒä¼ å…¥å®ä½“ç±»</span>
</span></span><span style="display:flex;"><span>log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;è¿”å›ç»“æœï¼š{}&#34;</span>, result);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åºåˆ—åŒ–</span>
</span></span><span style="display:flex;"><span>ErpResponse erpResponse = JacksonUtils.<span style="color:#007f7f">jsonToPojo</span>(result, ErpResponse.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ”¯æŒåºåˆ—åŒ–æ³›å‹ç±»ï¼ˆJacksonçš„ç‰¹æ€§ï¼Œå’ŒwebClientæ— å…³ï¼‰</span>
</span></span><span style="display:flex;"><span>ErpResponse&lt;BookTracedInfo&gt; erpResponse = JacksonUtils.<span style="color:#007f7f">jsonToPojoGeneric</span>(result, <span style="color:#fff;font-weight:bold">new</span> TypeReference&lt;&gt;() {});
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="excelå¯¼å…¥å¯¼å‡º">excelå¯¼å…¥å¯¼å‡º<a hidden class="anchor" aria-hidden="true" href="#excelå¯¼å…¥å¯¼å‡º">#</a></h1>
<p>easyExcelå®˜æ–¹æ–‡æ¡£ï¼šhttps://easyexcel.opensource.alibaba.com/</p>
<p>githubï¼šhttps://github.com/alibaba/easyexcel</p>
<h2 id="å·¥å…·ç±»-2">å·¥å…·ç±»<a hidden class="anchor" aria-hidden="true" href="#å·¥å…·ç±»-2">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">125
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.zw.matrix.common.utils;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.EasyExcel;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.ExcelWriter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.converters.integer.IntegerStringConverter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.converters.longconverter.LongStringConverter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.support.ExcelTypeEnum;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.alibaba.excel.write.metadata.WriteSheet;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.zw.matrix.common.domain.SheetInfo;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.zw.matrix.common.service.impl.EasyExcelCellStyleStrategy;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.apache.commons.collections4.CollectionUtils;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> javax.servlet.http.HttpServletResponse;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.UnsupportedEncodingException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.net.URLEncoder;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.List;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> EasyExcelUtil {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> EasyExcelUtil() {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¯¼å‡ºexcelå•ä¸ªsheet
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param fileName
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param dataList
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param response
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @return void
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> exportExcel(String fileName, String sheetName, List&lt;?&gt; dataList, Class&lt;?&gt; clazz, HttpServletResponse response) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            setExcelResponseProp(response, fileName);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            EasyExcel.<span style="color:#007f7f">write</span>(response.<span style="color:#007f7f">getOutputStream</span>(), clazz)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> LongStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> IntegerStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerWriteHandler</span>(EasyExcelCellStyleStrategy.<span style="color:#007f7f">getHorizontalCellStyleStrategy</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">excelType</span>(ExcelTypeEnum.<span style="color:#007f7f">XLSX</span>)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">sheet</span>(sheetName)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">doWrite</span>(dataList);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">if</span> (!CollectionUtils.<span style="color:#007f7f">isEmpty</span>(dataList)) {
</span></span><span style="display:flex;"><span>                dataList.<span style="color:#007f7f">clear</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¯¼å‡ºexcelå¤šä¸ªsheet
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param fileName
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param sheetList
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param response
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @return void
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> exportExcelMultiSheet(String fileName, List&lt;SheetInfo&gt; sheetList, HttpServletResponse response) {
</span></span><span style="display:flex;"><span>        ExcelWriter excelWriter = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        WriteSheet writeSheet = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            setExcelResponseProp(response, fileName);
</span></span><span style="display:flex;"><span>            excelWriter = EasyExcel
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">write</span>(response.<span style="color:#007f7f">getOutputStream</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> LongStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> IntegerStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerWriteHandler</span>(EasyExcelCellStyleStrategy.<span style="color:#007f7f">getHorizontalCellStyleStrategy</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">for</span> (SheetInfo sheet : sheetList) {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// æ„å»ºsheetå¯¹è±¡</span>
</span></span><span style="display:flex;"><span>                writeSheet = EasyExcel.<span style="color:#007f7f">writerSheet</span>(sheet.<span style="color:#007f7f">getSheetName</span>()).<span style="color:#007f7f">head</span>(sheet.<span style="color:#007f7f">getHeadClass</span>()).<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// å†™sheetæ•°æ®</span>
</span></span><span style="display:flex;"><span>                excelWriter.<span style="color:#007f7f">write</span>(sheet.<span style="color:#007f7f">getDataList</span>(), writeSheet);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">finally</span> {
</span></span><span style="display:flex;"><span>            excelWriter.<span style="color:#007f7f">finish</span>();
</span></span><span style="display:flex;"><span>            sheetList.<span style="color:#007f7f">clear</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¯¼å‡ºexcelå¤šä¸ªsheet
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param fileName
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param response
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @return ExcelWriter
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> ExcelWriter builderExcelWriter(String fileName, Class&lt;?&gt; clazz, HttpServletResponse response) {
</span></span><span style="display:flex;"><span>        ExcelWriter excelWriter = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>            setExcelResponseProp(response, fileName);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> EasyExcel.<span style="color:#007f7f">write</span>(response.<span style="color:#007f7f">getOutputStream</span>(), clazz)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> LongStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerConverter</span>(<span style="color:#fff;font-weight:bold">new</span> IntegerStringConverter())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">registerWriteHandler</span>(EasyExcelCellStyleStrategy.<span style="color:#007f7f">getHorizontalCellStyleStrategy</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">build</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        } <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * è®¾ç½®å“åº”ç»“æœ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     *
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param response    å“åº”ç»“æœå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param fileName æ–‡ä»¶å
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @throws UnsupportedEncodingException ä¸æ”¯æŒç¼–ç å¼‚å¸¸
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> setExcelResponseProp(HttpServletResponse response, String fileName) <span style="color:#fff;font-weight:bold">throws</span> UnsupportedEncodingException {
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setCharacterEncoding</span>(<span style="color:#0ff;font-weight:bold">&#34;utf-8&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//response.setContentType(&#34;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&#34;);</span>
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;content-Type&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;application/vnd.ms-excel&#34;</span>);
</span></span><span style="display:flex;"><span>        fileName = URLEncoder.<span style="color:#007f7f">encode</span>(fileName, <span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>).<span style="color:#007f7f">replaceAll</span>(<span style="color:#0ff;font-weight:bold">&#34;\\+&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;%20&#34;</span>);
</span></span><span style="display:flex;"><span>        response.<span style="color:#007f7f">setHeader</span>(<span style="color:#0ff;font-weight:bold">&#34;Content-disposition&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;attachment;filename*=utf-8&#39;&#39;&#34;</span> + fileName + <span style="color:#0ff;font-weight:bold">&#34;.xlsx&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å¯¼å‡º">å¯¼å‡º<a hidden class="anchor" aria-hidden="true" href="#å¯¼å‡º">#</a></h2>
<p>controller</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@ApiOperation(<span style="color:#0ff;font-weight:bold">&#34;å¯¼å‡º-xxx&#34;</span>)
</span></span><span style="display:flex;"><span>@PostMapping(value = <span style="color:#0ff;font-weight:bold">&#34;exportXXXList&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> exportXXXList(@RequestBody XXdto dto, HttpServletResponse response){
</span></span><span style="display:flex;"><span>    xxService.<span style="color:#007f7f">exportXXXList</span>(dto,response);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>service</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * å¯¼å‡º-xxx
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @param pageParam
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * @return
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span> exportXXXList(XXdto dto, HttpServletResponse response);
</span></span></code></pre></td></tr></table>
</div>
</div><p>serviceimpl</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Override
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> exportXXXList(XXdto dto, HttpServletResponse response) {
</span></span><span style="display:flex;"><span>    List&lt;XXVO&gt; list = xxMapper.<span style="color:#007f7f">xxList</span>(dto.<span style="color:#007f7f">getxxId</span>());
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (XXVO item : list) {
</span></span><span style="display:flex;"><span>        item.<span style="color:#007f7f">setName</span>(XXEnum.<span style="color:#007f7f">getNameByCode</span>(item.<span style="color:#007f7f">getXXCode</span>()));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¯¼å‡º</span>
</span></span><span style="display:flex;"><span>    EasyExcelUtil.<span style="color:#007f7f">exportExcel</span>(<span style="color:#0ff;font-weight:bold">&#34;è¿™æ˜¯æ–‡ä»¶å&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;è¿™æ˜¯sheetåå­—&#34;</span>, list,XXVO.<span style="color:#007f7f">class</span>, response);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å¯¼å…¥">å¯¼å…¥<a hidden class="anchor" aria-hidden="true" href="#å¯¼å…¥">#</a></h2>
<p>controller</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@ApiOperation(<span style="color:#0ff;font-weight:bold">&#34;å¯¼å…¥xxæ–‡ä»¶&#34;</span>)
</span></span><span style="display:flex;"><span>@PostMapping(<span style="color:#0ff;font-weight:bold">&#34;importXX&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> CommonResult importXX(MultipartFile file){
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> CommonResult.<span style="color:#007f7f">success</span>(xxService.<span style="color:#007f7f">importFile</span>(file));
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>serviceImpl</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;ImportStudentData&gt; importDataList;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>    importDataList = EasyExcel.<span style="color:#007f7f">read</span>(dto.<span style="color:#007f7f">getFile</span>().<span style="color:#007f7f">getInputStream</span>()).<span style="color:#007f7f">head</span>(ImportStudentData.<span style="color:#007f7f">class</span>).<span style="color:#007f7f">sheet</span>().<span style="color:#007f7f">doReadSync</span>();
</span></span><span style="display:flex;"><span>} <span style="color:#fff;font-weight:bold">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> RuntimeException(e);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åç»­æ“ä½œ</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/java/">Java</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>