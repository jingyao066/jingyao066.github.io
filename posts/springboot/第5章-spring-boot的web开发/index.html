<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ç¬¬5ç«  Spring Bootçš„webå¼€å‘ | Wjy&#39;s Blog</title>
<meta name="keywords" content="springboot">
<meta name="description" content="SpringBootçš„webè‡ªåŠ¨é…ç½® æ–°å»ºé¡¹ç›®sb3-09-webï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚ webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„ é¦–">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://009965.xyz/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://009965.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://009965.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://009965.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://009965.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://009965.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://009965.xyz/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://009965.xyz/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="ç¬¬5ç«  Spring Bootçš„webå¼€å‘">
  <meta property="og:description" content="SpringBootçš„webè‡ªåŠ¨é…ç½® æ–°å»ºé¡¹ç›®sb3-09-webï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚ webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„ é¦–">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-05-06T15:50:01+00:00">
    <meta property="article:modified_time" content="2025-05-06T15:50:01+00:00">
    <meta property="article:tag" content="Springboot">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ç¬¬5ç«  Spring Bootçš„webå¼€å‘">
<meta name="twitter:description" content="SpringBootçš„webè‡ªåŠ¨é…ç½® æ–°å»ºé¡¹ç›®sb3-09-webï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚ webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„ é¦–">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://009965.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ç¬¬5ç«  Spring Bootçš„webå¼€å‘",
      "item": "https://009965.xyz/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç¬¬5ç«  Spring Bootçš„webå¼€å‘",
  "name": "ç¬¬5ç«  Spring Bootçš„webå¼€å‘",
  "description": "SpringBootçš„webè‡ªåŠ¨é…ç½® æ–°å»ºé¡¹ç›®sb3-09-webï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚ webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„ é¦–",
  "keywords": [
    "springboot"
  ],
  "articleBody": "SpringBootçš„webè‡ªåŠ¨é…ç½® æ–°å»ºé¡¹ç›®sb3-09-webï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚\nwebè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„ é¦–å…ˆå¼•å…¥äº†webå¯åŠ¨å™¨ï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 org.springframework.boot spring-boot-starter-web webå¯åŠ¨å™¨ä¼ é€’å¼•å…¥äº†spring-boot-starterï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 5 6 org.springframework.boot spring-boot-starter 3.3.5 compile spring-boot-starterä¼šä¼ é€’å¼•å…¥ä¸€ä¸ªspring-boot-autoconfigureåŒ…ï¼Œå¦‚ä¸‹ï¼š 1 2 3 4 5 6 org.springframework.boot spring-boot-autoconfigure 3.3.5 compile åœ¨spring-boot-autoconfigureåŒ…ä¸­çš„.importsæ–‡ä»¶ä¸­ç½—åˆ—çš„éœ€è¦å¯¼å…¥çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œå¦‚ä¸‹å›¾ï¼š webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç† ä»å…¥å£ç¨‹åºå¼€å§‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 package com.powernode.sb309web; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; @SpringBootApplication public class Sb309WebApplication { public static void main(String[] args) { SpringApplication.run(Sb309WebApplication.class, args); } } å…¥å£ç¨‹åºè¢«@SpringBootApplicationæ³¨è§£æ ‡æ³¨ã€‚\n@SpringBootApplicationæ³¨è§£è¢«@EnableAutoConfigurationæ³¨è§£æ ‡æ³¨ã€‚è¡¨ç¤ºå¯ç”¨è‡ªåŠ¨é…ç½®ã€‚ @EnableAutoConfigurationæ³¨è§£è¢«@Import({AutoConfigurationImportSelector.class})æ³¨è§£æ ‡æ³¨ã€‚ å› æ­¤AutoConfigurationImportSelectorå†³å®šå“ªäº›è‡ªåŠ¨é…ç½®ç±»æ˜¯éœ€è¦å¯¼å…¥çš„ã€‚ AutoConfigurationImportSelectoråº•å±‚å®ç°æ­¥éª¤å…·ä½“å¦‚ä¸‹ï¼š æœ€ç»ˆæ‰¾çš„æ–‡ä»¶æ˜¯ï¼šMETA-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports\næ³¨æ„ï¼šä»»ä½•jaråŒ…ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹çš„ä¾èµ–ï¼Œè‡ªåŠ¨é…ç½®ç±»æ‰€åœ¨çš„è·¯å¾„ä»¥åŠæ–‡ä»¶åéƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œéƒ½æ˜¯**META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports**\nä¾‹å¦‚mybatisçš„è‡ªåŠ¨é…ç½®ç±»çš„åˆ—è¡¨æ–‡ä»¶ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¦‚ä¸‹å›¾ï¼š\né€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix åœ¨è‡ªåŠ¨é…ç½®åˆ—è¡¨ä¸­æ‰¾åˆ°webè‡ªåŠ¨é…ç½®ç›¸å…³çš„ç±»ï¼š\nä»¥ä¸‹å°±æ˜¯webè‡ªåŠ¨é…ç½®ç±»åˆ—è¡¨ï¼š\n1 2 3 4 5 6 7 8 org.springframework.boot.autoconfigure.web.client.RestTemplateAutoConfiguration org.springframework.boot.autoconfigure.web.embedded.EmbeddedWebServerFactoryCustomizerAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.DispatcherServletAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.MultipartAutoConfiguration org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»çš„æºç å¯ä»¥é€†æ¨webé…ç½®çš„prefixï¼š\nWebMvcAutoConfiguration MultipartAutoConfiguration HttpEncodingAutoConfiguration ErrorMvcAutoConfiguration ServletWebServerFactoryAutoConfiguration DispatcherServletAutoConfiguration EmbeddedWebServerFactoryCustomizerAutoConfiguration RestTemplateAutoConfiguration é€šè¿‡æŸ¥çœ‹æºç ï¼Œå¾—çŸ¥ï¼Œwebå¼€å‘æ—¶ï¼Œåœ¨application.propertiesé…ç½®æ–‡ä»¶ä¸­å¯ä»¥é…ç½®çš„å‰ç¼€æ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 # SpringMVCç›¸å…³é…ç½® spring.mvc. # webå¼€å‘é€šç”¨é…ç½® spring.web. # æ–‡ä»¶ä¸Šä¼ é…ç½® spring.servlet.multipart. # æœåŠ¡å™¨é…ç½® server. Webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š\nç¿»è¯‘å¦‚ä¸‹ï¼š\nSpring Boot ä¸º Spring MVC æä¾›äº†è‡ªåŠ¨é…ç½®ï¼Œè¿™åœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚é™¤äº†å·²ç»å®ç°äº† Spring MVC çš„é»˜è®¤åŠŸèƒ½å¤–ï¼Œè‡ªåŠ¨é…ç½®è¿˜æä¾›äº†ä»¥ä¸‹ç‰¹æ€§ï¼š\nåŒ…æ‹¬ ContentNegotiatingViewResolver å’Œ BeanNameViewResolver çš„ Beanã€‚ ContentNegotiatingViewResolver è‡ªåŠ¨æ ¹æ®HTTPè¯·æ±‚å¤´ä¸­Acceptå­—æ®µæ¥é€‰æ‹©åˆé€‚çš„è§†å›¾æŠ€æœ¯æ¸²æŸ“å“åº”ã€‚ BeanNameViewResolver çš„ä½œç”¨æ˜¯æ ¹æ®è§†å›¾åç§°æ‰¾åˆ°è§†å›¾Viewå¯¹è±¡ã€‚ æ”¯æŒæä¾›é™æ€èµ„æºï¼ŒåŒ…æ‹¬å¯¹ WebJarsçš„æ”¯æŒã€‚ é™æ€èµ„æºè·¯å¾„é»˜è®¤å·²ç»é…ç½®å¥½äº†ã€‚é»˜è®¤ä¼šå»staticç›®å½•ä¸‹æ‰¾ã€‚ è‡ªåŠ¨æ³¨å†Œ Converterã€GenericConverter å’Œ Formatter çš„ Beanã€‚ Converterï¼šè½¬æ¢å™¨ï¼Œåšç±»å‹è½¬æ¢çš„ï¼Œä¾‹å¦‚è¡¨å•æäº¤äº†ç”¨æˆ·æ•°æ®ï¼Œå°†è¡¨å•æ•°æ®è½¬æ¢æˆUserå¯¹è±¡ã€‚ Formatterï¼šæ ¼å¼åŒ–å™¨ï¼Œåšæ•°æ®æ ¼å¼åŒ–çš„ï¼Œä¾‹å¦‚å°†Javaä¸­çš„æ—¥æœŸç±»å‹å¯¹è±¡æ ¼å¼åŒ–ä¸ºç‰¹å®šæ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²ã€‚æˆ–è€…å°†ç”¨æˆ·æäº¤çš„æ—¥æœŸå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºJavaä¸­çš„æ—¥æœŸå¯¹è±¡ã€‚ æ”¯æŒ HttpMessageConvertersã€‚ å†…ç½®äº†å¾ˆå¤šçš„HTTPæ¶ˆæ¯è½¬æ¢å™¨ã€‚ä¾‹å¦‚ï¼šMappingJackson2HttpMessageConverterå¯ä»¥å°†jsonè½¬æ¢æˆjavaå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å°†javaå¯¹è±¡è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²ã€‚ è‡ªåŠ¨æ³¨å†Œ MessageCodesResolverã€‚ SpringBootä¼šè‡ªåŠ¨æ³¨å†Œä¸€ä¸ªé»˜è®¤çš„æ¶ˆæ¯ä»£ç è§£æå™¨ å¸®åŠ©ä½ åœ¨è¡¨å•éªŒè¯å‡ºé”™æ—¶ç”Ÿæˆä¸€äº›ç‰¹æ®Šçš„ä»£ç ã€‚è¿™äº›ä»£ç è®©ä½ èƒ½å¤Ÿæ›´ç²¾ç¡®åœ°å®šä½é—®é¢˜ï¼Œå¹¶æä¾›æ›´å‹å¥½çš„é”™è¯¯æç¤ºã€‚ é™æ€ index.html æ–‡ä»¶æ”¯æŒã€‚ Spring Boot ä¼šè‡ªåŠ¨å¤„ç†ä½äºé¡¹ç›®é™æ€èµ„æºç›®å½•ä¸‹çš„ index.html æ–‡ä»¶ï¼Œä½¿å…¶æˆä¸ºåº”ç”¨ç¨‹åºçš„é»˜è®¤ä¸»é¡µ è‡ªåŠ¨ä½¿ç”¨ ConfigurableWebBindingInitializer Beanã€‚ ç”¨å®ƒæ¥æŒ‡å®šé»˜è®¤ä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨ï¼Œé»˜è®¤ä½¿ç”¨å“ªä¸ªæ ¼å¼åŒ–å™¨ã€‚åœ¨è¿™ä¸ªç±»å½“ä¸­éƒ½å·²ç»é…å¥½äº†ã€‚ å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨è‡ªåŠ¨é…ç½®å¹¶å¸Œæœ›å®Œå…¨æ§åˆ¶ Spring MVCï¼Œå¯ä»¥æ·»åŠ æ‚¨è‡ªå·±çš„å¸¦æœ‰ **@EnableWebMvc** æ³¨è§£çš„ @Configurationã€‚\nå¦‚æœæ‚¨å¸Œæœ›ä¿ç•™è¿™äº› Spring Boot MVC å®šåˆ¶åŒ–è®¾ç½®å¹¶è¿›è¡Œæ›´å¤šçš„ MVC å®šåˆ¶åŒ–ï¼ˆå¦‚æ‹¦æˆªå™¨ã€æ ¼å¼åŒ–ç¨‹åºã€è§†å›¾æ§åˆ¶å™¨ç­‰å…¶ä»–åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥æ·»åŠ æ‚¨è‡ªå·±çš„ç±»å‹ä¸º WebMvcConfigurer çš„ @Configuration ç±»ã€‚ä½†ä¸èƒ½ä½¿ç”¨**@EnableWebMvc**æ³¨è§£ã€‚\nWebMvcAutoConfigurationåŸç† é€šè¿‡æºç åˆ†æçš„æ–¹å¼ï¼Œå­¦ä¹ WebMvcçš„è‡ªåŠ¨é…ç½®åŸç†ã€‚\nWebMvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶ 1 2 3 4 5 6 7 8 @AutoConfiguration(after = { DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class }) @ConditionalOnWebApplication(type = Type.SERVLET) @ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class }) @ConditionalOnMissingBean(WebMvcConfigurationSupport.class) @AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10) @ImportRuntimeHints(WebResourcesRuntimeHints.class) public class WebMvcAutoConfiguration {} @AutoConfiguration(after = { DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class,ValidationAutoConfiguration.class }) WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»åŠ è½½é¡ºåºåœ¨ä»¥ä¸Šè‡ªåŠ¨é…ç½®ç±»åŠ è½½ååŠ è½½ã€‚ @ConditionalOnWebApplication(type = Type.SERVLET) WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»åªåœ¨servletç¯å¢ƒä¸­ç”Ÿæ•ˆã€‚ @ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class }) ç±»è·¯å¾„ä¸­å¿…é¡»å­˜åœ¨Servlet.class``DispatcherServlet.class``WebMvcConfigurer.classï¼ŒWebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»æ‰ä¼šç”Ÿæ•ˆã€‚ @ConditionalOnMissingBean(WebMvcConfigurationSupport.class) ç±»è·¯å¾„ä¸­ä¸å­˜åœ¨WebMvcConfigurationSupport.classæ—¶WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»æ‰ä¼šç”Ÿæ•ˆã€‚ æ³¨æ„ï¼šå½“ä½¿ç”¨@EnableWebMvcæ³¨è§£åï¼Œç±»è·¯å¾„ä¸­å°±ä¼šæ³¨å†Œä¸€ä¸ªWebMvcConfigurationSupportè¿™æ ·çš„beanã€‚ @AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10) ä¸é‡è¦ æŒ‡å®šWebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»çš„åŠ è½½é¡ºåº @ImportRuntimeHints(WebResourcesRuntimeHints.class) ä¸é‡è¦ è¿è¡Œæ—¶å¼•å…¥WebResourcesRuntimeHintsè¿™ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ä½œç”¨æ˜¯ç»™JVMæˆ–è€…å…¶ä»–ç»„ä»¶æç¤ºä¿¡æ¯çš„ï¼Œæç¤ºä¸€ä¸‹ç³»ç»Ÿåº”è¯¥å¦‚ä½•å¤„ç†ç±»å’Œèµ„æºã€‚ æ€»ç»“æ¥è¯´ï¼ŒWebMvcAutoConfigurationç±»å°†åœ¨ä»¥ä¸‹æ¡ä»¶ä¸‹ç”Ÿæ•ˆï¼š\nåº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªServletç±»å‹çš„Webåº”ç”¨ï¼› ç¯å¢ƒä¸­æœ‰Servletã€DispatcherServletå’ŒWebMvcConfigurerç±»ï¼› å®¹å™¨ä¸­æ²¡æœ‰WebMvcConfigurationSupportçš„beanã€‚ å¦‚æœè¿™äº›æ¡ä»¶éƒ½æ»¡è¶³çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»å°±ä¼šè¢«æ¿€æ´»ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„è‡ªåŠ¨é…ç½®å·¥ä½œã€‚\nWebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªFilter Bean å¼•å…¥äº†HiddenHttpMethodFilter Bean 1 2 3 4 5 6 @Bean @ConditionalOnMissingBean(HiddenHttpMethodFilter.class) @ConditionalOnProperty(prefix = \"spring.mvc.hiddenmethod.filter\", name = \"enabled\") public OrderedHiddenHttpMethodFilter hiddenHttpMethodFilter() { return new OrderedHiddenHttpMethodFilter(); } è¿™ä¸ªè¿‡æ»¤å™¨æ˜¯ä¸“é—¨å¤„ç†Restè¯·æ±‚çš„ã€‚GET POST PUT DELETEè¯·æ±‚ã€‚\nå¼•å…¥äº†FormContentFilter Bean 1 2 3 4 5 6 @Bean @ConditionalOnMissingBean(FormContentFilter.class) @ConditionalOnProperty(prefix = \"spring.mvc.formcontent.filter\", name = \"enabled\", matchIfMissing = true) public OrderedFormContentFilter formContentFilter() { return new OrderedFormContentFilter(); } OrderedFormContentFilter æ˜¯ Spring Boot ä¸­ç”¨äºå¤„ç† HTTP è¯·æ±‚çš„ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ PUT å’Œ DELETE è¯·æ±‚ã€‚è¿™ä¸ªè¿‡æ»¤å™¨çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨å¤„ç† PUT å’Œ DELETE è¯·æ±‚æ—¶ï¼Œç¡®ä¿å¦‚æœè¯·æ±‚ä½“ä¸­æœ‰è¡¨å•æ ¼å¼çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¼šè¢«æ­£ç¡®è§£æå¹¶å¯ç”¨ã€‚\nWebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†WebMvcConfigureræ¥å£çš„å®ç°ç±» åœ¨SpringBootæ¡†æ¶çš„WebMvcAutoConfigurationç±»ä¸­æä¾›äº†ä¸€ä¸ªå†…éƒ¨ç±»ï¼šWebMvcAutoConfigurationAdapter\nSpringBootåœ¨è¿™ä¸ªç±»WebMvcAutoConfigurationAdapterä¸­è¿›è¡Œäº†ä¸€ç³»åˆ—çš„Spring MVCç›¸å…³é…ç½®ã€‚\næˆ‘ä»¬å¼€å‘ä¸­è¦å¯¹Spring MVCçš„ç›¸å…³é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªç±»ç»§æ‰¿**WebMvcAutoConfigurationAdatper**ï¼Œç„¶åé‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯ã€‚\nå› æ­¤ï¼Œé€šè¿‡å¯¹**WebMvcAutoConfigurationAdapter**ç±»ä¸­çš„æ–¹æ³•è¿›è¡Œé‡å†™æ¥ä¿®æ”¹Web MVCçš„é»˜è®¤é…ç½®ã€‚\nå…³äºWebMvcConfigureræ¥å£ è¿™ä¸ªæ¥å£ä¸æ˜¯SpringBootæ¡†æ¶æä¾›çš„ï¼Œæ˜¯Spring MVCæä¾›çš„ï¼Œåœ¨Springæ¡†æ¶4.3ç‰ˆæœ¬ä¸­å¼•å…¥çš„ã€‚è¿™ä¸ªæ¥å£çš„ä½œç”¨ä¸»è¦æ˜¯å…è®¸å¼€å‘è€…é€šè¿‡å®ç°è¿™ä¸ªæ¥å£æ¥å®šåˆ¶Spring MVCçš„è¡Œä¸ºã€‚\nåœ¨è¿™ä¸ªæ¥å£ä¸­æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œéœ€è¦æ”¹å˜Spring MVCçš„å“ªä¸ªè¡Œä¸ºï¼Œåˆ™é‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªæ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•ï¼Œä»¥åŠæ¯ä¸ªæ–¹æ³•å¯¹åº”çš„Spring MVCè¡Œä¸ºçš„è§£é‡Šï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 public interface WebMvcConfigurer { // ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•åŒ¹é…è¯·æ±‚è·¯å¾„åˆ°æ§åˆ¶å™¨ default void configurePathMatch(PathMatchConfigurer configurer) {} // ç”¨äºå®šåˆ¶ Spring MVC çš„å†…å®¹åå•†ç­–ç•¥ï¼Œä»¥ç¡®å®šå¦‚ä½•æ ¹æ®è¯·æ±‚çš„å†…å®¹ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„å¤„ç†æ–¹æ³•æˆ–è¿”å›æ•°æ®æ ¼å¼ default void configureContentNegotiation(ContentNegotiationConfigurer configurer) {} // ç”¨äºå®šåˆ¶ Spring MVC å¤„ç†å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼ default void configureAsyncSupport(AsyncSupportConfigurer configurer) {} // ç”¨äºå®šåˆ¶æ˜¯å¦å°†æŸäº›é™æ€èµ„æºè¯·æ±‚è½¬å‘WEBå®¹å™¨é»˜è®¤çš„Servletå¤„ç† default void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {} // ç”¨äºå®šåˆ¶ Spring MVC è§£æè§†å›¾çš„æ–¹å¼ï¼Œä»¥ç¡®å®šå¦‚ä½•å°†æ§åˆ¶å™¨è¿”å›çš„è§†å›¾åç§°è½¬æ¢ä¸ºå®é™…çš„è§†å›¾èµ„æºã€‚ default void configureViewResolvers(ViewResolverRegistry registry) {} // ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç† HTTP è¯·æ±‚å’Œå“åº”çš„æ•°æ®æ ¼å¼ï¼ŒåŒ…æ‹¬ JSONã€XML ç­‰å†…å®¹ç±»å‹çš„è½¬æ¢ default void configureMessageConverters(List",
  "wordCount" : "20869",
  "inLanguage": "en",
  "datePublished": "2025-05-06T15:50:01Z",
  "dateModified": "2025-05-06T15:50:01Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://009965.xyz/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://009965.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;Â»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      ç¬¬5ç«  Spring Bootçš„webå¼€å‘
    </h1>
    <div class="post-meta"><span title='2025-05-06 15:50:01 +0000 UTC'>2025-05-06</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#springboot%e7%9a%84web%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae" aria-label="SpringBootçš„webè‡ªåŠ¨é…ç½®">SpringBootçš„webè‡ªåŠ¨é…ç½®</a><ul>
                        
                <li>
                    <a href="#web%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e7%9a%84%e4%be%9d%e8%b5%96%e6%98%af%e5%a6%82%e4%bd%95%e4%bc%a0%e9%80%92%e7%9a%84" aria-label="webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„">webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„</a></li>
                <li>
                    <a href="#web%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e7%9a%84%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86" aria-label="webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç†">webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç†</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87web%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e7%b1%bb%e9%80%86%e6%8e%a8web%e9%85%8d%e7%bd%ae%e7%9a%84prefix" aria-label="é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix">é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix</a></li>
                <li>
                    <a href="#web%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e9%83%bd%e9%bb%98%e8%ae%a4%e9%85%8d%e7%bd%ae%e4%ba%86%e4%bb%80%e4%b9%88" aria-label="Webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ">Webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ</a></li>
                <li>
                    <a href="#font-stylecolor080808background-colorffffffwebmvcautoconfiguration%e5%8e%9f%e7%90%86font" aria-label="WebMvcAutoConfigurationåŸç†">WebMvcAutoConfigurationåŸç†</a><ul>
                        
                <li>
                    <a href="#webmvc%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e6%98%af%e5%90%a6%e7%94%9f%e6%95%88%e7%9a%84%e6%9d%a1%e4%bb%b6" aria-label="WebMvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶">WebMvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶</a></li>
                <li>
                    <a href="#webmvc%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e7%94%9f%e6%95%88%e5%90%8e%e5%bc%95%e5%85%a5%e4%ba%86%e4%b8%a4%e4%b8%aafilter-bean" aria-label="WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªFilter Bean">WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªFilter Bean</a><ul>
                        
                <li>
                    <a href="#%e5%bc%95%e5%85%a5%e4%ba%86font-stylecolor080808background-colorffffffhiddenhttpmethodfilter-beanfont" aria-label="å¼•å…¥äº†HiddenHttpMethodFilter Bean">å¼•å…¥äº†HiddenHttpMethodFilter Bean</a></li>
                <li>
                    <a href="#%e5%bc%95%e5%85%a5%e4%ba%86font-stylecolor080808background-colorffffffformcontentfilter-beanfont" aria-label="å¼•å…¥äº†FormContentFilter Bean">å¼•å…¥äº†FormContentFilter Bean</a></li></ul>
                </li>
                <li>
                    <a href="#webmvc%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e7%94%9f%e6%95%88%e5%90%8e%e5%bc%95%e5%85%a5%e4%ba%86webmvcconfigurer%e6%8e%a5%e5%8f%a3%e7%9a%84%e5%ae%9e%e7%8e%b0%e7%b1%bb" aria-label="WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†WebMvcConfigureræ¥å£çš„å®ç°ç±»">WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†WebMvcConfigureræ¥å£çš„å®ç°ç±»</a><ul>
                        
                <li>
                    <a href="#%e5%85%b3%e4%ba%8ewebmvcconfigurer%e6%8e%a5%e5%8f%a3" aria-label="å…³äºWebMvcConfigureræ¥å£">å…³äºWebMvcConfigureræ¥å£</a></li>
                <li>
                    <a href="#webmvcconfigurer%e6%8e%a5%e5%8f%a3%e7%9a%84%e5%ae%9e%e7%8e%b0%e7%b1%bbwebmvcautoconfigurationadapter" aria-label="WebMvcConfigureræ¥å£çš„å®ç°ç±»WebMvcAutoConfigurationAdapter">WebMvcConfigureræ¥å£çš„å®ç°ç±»WebMvcAutoConfigurationAdapter</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae%e4%b8%ad%e7%9a%84%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86" aria-label="è‡ªåŠ¨é…ç½®ä¸­çš„é™æ€èµ„æºå¤„ç†">è‡ªåŠ¨é…ç½®ä¸­çš„é™æ€èµ„æºå¤„ç†</a><ul>
                        
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90" aria-label="é™æ€èµ„æºå¤„ç†æºç åˆ†æ">é™æ€èµ„æºå¤„ç†æºç åˆ†æ</a></li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8ewebjars%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86" aria-label="å…³äºWebJarsé™æ€èµ„æºå¤„ç†">å…³äºWebJarsé™æ€èµ„æºå¤„ç†</a></li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e%e6%99%ae%e9%80%9a%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86" aria-label="å…³äºæ™®é€šé™æ€èµ„æºå¤„ç†">å…³äºæ™®é€šé™æ€èµ„æºå¤„ç†</a></li>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e7%bc%93%e5%ad%98%e5%a4%84%e7%90%86" aria-label="å…³äºé™æ€èµ„æºç¼“å­˜å¤„ç†">å…³äºé™æ€èµ„æºç¼“å­˜å¤„ç†</a></li>
                <li>
                    <a href="#%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e7%bc%93%e5%ad%98%e6%b5%8b%e8%af%95" aria-label="é™æ€èµ„æºç¼“å­˜æµ‹è¯•">é™æ€èµ„æºç¼“å­˜æµ‹è¯•</a></li>
                <li>
                    <a href="#web%e5%ba%94%e7%94%a8%e7%9a%84%e6%ac%a2%e8%bf%8e%e9%a1%b5%e9%9d%a2" aria-label="webåº”ç”¨çš„æ¬¢è¿é¡µé¢">webåº”ç”¨çš„æ¬¢è¿é¡µé¢</a><ul>
                        
                <li>
                    <a href="#%e6%ac%a2%e8%bf%8e%e9%a1%b5%e6%b5%8b%e8%af%95" aria-label="æ¬¢è¿é¡µæµ‹è¯•">æ¬¢è¿é¡µæµ‹è¯•</a></li>
                <li>
                    <a href="#%e6%ac%a2%e8%bf%8e%e9%a1%b5%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90" aria-label="æ¬¢è¿é¡µæºç åˆ†æ">æ¬¢è¿é¡µæºç åˆ†æ</a></li>
                <li>
                    <a href="#%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%b0%8f%e7%9a%84%e7%96%91%e6%83%91" aria-label="ä¸€ä¸ªå°å°çš„ç–‘æƒ‘">ä¸€ä¸ªå°å°çš„ç–‘æƒ‘</a></li>
                <li>
                    <a href="#favorite-icon" aria-label="favorite icon">favorite icon</a></li></ul>
                </li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#springboot%e7%9a%84web%e6%89%8b%e5%8a%a8%e9%85%8d%e7%bd%ae%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90%e5%a4%84%e7%90%86" aria-label="SpringBootçš„webæ‰‹åŠ¨é…ç½®(é™æ€èµ„æºå¤„ç†)">SpringBootçš„webæ‰‹åŠ¨é…ç½®(é™æ€èµ„æºå¤„ç†)</a><ul>
                        
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e6%96%b9%e5%bc%8f" aria-label="é…ç½®æ–‡ä»¶æ–¹å¼">é…ç½®æ–‡ä»¶æ–¹å¼</a></li>
                <li>
                    <a href="#%e7%bc%96%e5%86%99%e4%bb%a3%e7%a0%81%e6%96%b9%e5%bc%8f" aria-label="ç¼–å†™ä»£ç æ–¹å¼">ç¼–å†™ä»£ç æ–¹å¼</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="ç¬¬ä¸€ç§æ–¹å¼">ç¬¬ä¸€ç§æ–¹å¼</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="ç¬¬äºŒç§æ–¹å¼">ç¬¬äºŒç§æ–¹å¼</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96%e9%85%8d%e7%bd%ae%e4%b9%9f%e8%bf%99%e6%a0%b7%e5%81%9a%e5%8d%b3%e5%8f%af" aria-label="å…¶ä»–é…ç½®ä¹Ÿè¿™æ ·åšå³å¯">å…¶ä»–é…ç½®ä¹Ÿè¿™æ ·åšå³å¯</a></li>
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e5%8f%aa%e8%a6%81%e5%ae%b9%e5%99%a8%e4%b8%ad%e6%9c%89webmvcconfigurer%e7%bb%84%e4%bb%b6%e5%8d%b3%e5%8f%af%e5%91%a2" aria-label="ä¸ºä»€ä¹ˆåªè¦å®¹å™¨ä¸­æœ‰WebMvcConfigurerç»„ä»¶å³å¯å‘¢">ä¸ºä»€ä¹ˆåªè¦å®¹å™¨ä¸­æœ‰WebMvcConfigurerç»„ä»¶å³å¯å‘¢</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#web%e8%af%b7%e6%b1%82%e7%9a%84%e8%b7%af%e5%be%84%e5%8c%b9%e9%85%8d" aria-label="webè¯·æ±‚çš„è·¯å¾„åŒ¹é…">webè¯·æ±‚çš„è·¯å¾„åŒ¹é…</a><ul>
                        
                <li>
                    <a href="#antpathmatcher" aria-label="AntPathMatcher">AntPathMatcher</a></li>
                <li>
                    <a href="#pathpatternparser" aria-label="PathPatternParser">PathPatternParser</a></li>
                <li>
                    <a href="#%e8%b7%af%e5%be%84%e5%8c%b9%e9%85%8d%e7%9b%b8%e5%85%b3%e6%ba%90%e7%a0%81" aria-label="è·¯å¾„åŒ¹é…ç›¸å…³æºç ">è·¯å¾„åŒ¹é…ç›¸å…³æºç </a></li></ul>
                </li>
                <li>
                    <a href="#%e5%86%85%e5%ae%b9%e5%8d%8f%e5%95%86" aria-label="å†…å®¹åå•†">å†…å®¹åå•†</a><ul>
                        
                <li>
                    <a href="#%e5%af%b9%e5%86%85%e5%ae%b9%e5%8d%8f%e5%95%86%e7%9a%84%e7%90%86%e8%a7%a3" aria-label="å¯¹å†…å®¹åå•†çš„ç†è§£">å¯¹å†…å®¹åå•†çš„ç†è§£</a></li>
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e5%86%85%e5%ae%b9%e5%8d%8f%e5%95%86%e7%9a%84%e4%b8%a4%e7%a7%8d%e6%96%b9%e5%bc%8f" aria-label="å®ç°å†…å®¹åå•†çš„ä¸¤ç§æ–¹å¼">å®ç°å†…å®¹åå•†çš„ä¸¤ç§æ–¹å¼</a><ul>
                        
                <li>
                    <a href="#%e9%80%9a%e8%bf%87http%e8%af%b7%e6%b1%82%e5%a4%b4%e5%a6%82-accept" aria-label="é€šè¿‡HTTPè¯·æ±‚å¤´ï¼ˆå¦‚ Acceptï¼‰">é€šè¿‡HTTPè¯·æ±‚å¤´ï¼ˆå¦‚ Acceptï¼‰</a></li>
                <li>
                    <a href="#font-stylecolorrgb44-44-54%e9%80%9a%e8%bf%87%e8%af%b7%e6%b1%82%e5%8f%82%e6%95%b0%e5%a6%82-fontfont-stylecolorrgb44-44-54formatfontfont-stylecolorrgb44-44-54font" aria-label="é€šè¿‡è¯·æ±‚å‚æ•°ï¼ˆå¦‚ &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;format&lt;/font&gt;ï¼‰">é€šè¿‡è¯·æ±‚å‚æ•°ï¼ˆå¦‚ &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;format&lt;/font&gt;ï¼‰</a></li></ul>
                </li>
                <li>
                    <a href="#httpmessageconverter%e6%8e%a5%e5%8f%a3" aria-label="HttpMessageConverteræ¥å£">HttpMessageConverteræ¥å£</a><ul>
                        
                <li>
                    <a href="#httpmessageconverter%e7%9a%84%e7%90%86%e8%a7%a3" aria-label="HttpMessageConverterçš„ç†è§£">HttpMessageConverterçš„ç†è§£</a></li>
                <li>
                    <a href="#%e5%b8%b8%e8%a7%81%e7%9a%84httpmessageconverter" aria-label="å¸¸è§çš„HttpMessageConverter">å¸¸è§çš„HttpMessageConverter</a></li>
                <li>
                    <a href="#%e8%af%b7%e6%b1%82%e6%97%b6%e9%80%9a%e8%bf%87%e5%93%aa%e4%ba%9b%e6%9d%a1%e4%bb%b6%e7%a1%ae%e5%ae%9a%e4%bd%bf%e7%94%a8%e5%93%aa%e4%b8%aa%e8%bd%ac%e6%8d%a2%e5%99%a8" aria-label="è¯·æ±‚æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">è¯·æ±‚æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨</a></li>
                <li>
                    <a href="#%e5%93%8d%e5%ba%94%e6%97%b6%e9%80%9a%e8%bf%87%e5%93%aa%e4%ba%9b%e6%9d%a1%e4%bb%b6%e7%a1%ae%e5%ae%9a%e4%bd%bf%e7%94%a8%e5%93%aa%e4%b8%aa%e8%bd%ac%e6%8d%a2%e5%99%a8" aria-label="å“åº”æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">å“åº”æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨</a></li>
                <li>
                    <a href="#%e7%b3%bb%e7%bb%9f%e9%bb%98%e8%ae%a4%e6%8f%90%e4%be%9b%e4%ba%86%e5%93%aa%e4%ba%9bhttpmessageconverter" aria-label="ç³»ç»Ÿé»˜è®¤æä¾›äº†å“ªäº›HttpMessageConverter">ç³»ç»Ÿé»˜è®¤æä¾›äº†å“ªäº›HttpMessageConverter</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%9a%e4%b9%89%e8%87%aa%e5%b7%b1%e7%9a%84httpmessageconverter" aria-label="å®šä¹‰è‡ªå·±çš„HttpMessageConverter">å®šä¹‰è‡ªå·±çš„HttpMessageConverter</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%bc%95%e5%85%a5%e8%83%bd%e5%a4%9f%e5%a4%84%e7%90%86yaml%e6%a0%bc%e5%bc%8f%e7%9a%84%e4%be%9d%e8%b5%96" aria-label="ç¬¬ä¸€æ­¥ï¼šå¼•å…¥èƒ½å¤Ÿå¤„ç†yamlæ ¼å¼çš„ä¾èµ–">ç¬¬ä¸€æ­¥ï¼šå¼•å…¥èƒ½å¤Ÿå¤„ç†yamlæ ¼å¼çš„ä¾èµ–</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e6%96%b0%e5%a2%9e%e4%b8%80%e7%a7%8d%e5%aa%92%e4%bd%93%e7%b1%bb%e5%9e%8byaml" aria-label="ç¬¬äºŒæ­¥ï¼šæ–°å¢ä¸€ç§åª’ä½“ç±»å‹yaml">ç¬¬äºŒæ­¥ï¼šæ–°å¢ä¸€ç§åª’ä½“ç±»å‹yaml</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%b8%89%e6%ad%a5%e8%87%aa%e5%ae%9a%e4%b9%89httpmessageconverter" aria-label="ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰HttpMessageConverter">ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰HttpMessageConverter</a></li>
                <li>
                    <a href="#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e9%85%8d%e7%bd%ae%e6%b6%88%e6%81%af%e8%bd%ac%e6%8d%a2%e5%99%a8" aria-label="ç¬¬å››æ­¥ï¼šé…ç½®æ¶ˆæ¯è½¬æ¢å™¨">ç¬¬å››æ­¥ï¼šé…ç½®æ¶ˆæ¯è½¬æ¢å™¨</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#springboot%e6%95%b4%e5%90%88thymeleaf" aria-label="SpringBootæ•´åˆThymeleaf">SpringBootæ•´åˆThymeleaf</a><ul>
                        
                <li>
                    <a href="#%e4%bc%a0%e7%bb%9fweb%e5%ba%94%e7%94%a8%e5%92%8c%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb" aria-label="ä¼ ç»Ÿwebåº”ç”¨å’Œå‰åç«¯åˆ†ç¦»">ä¼ ç»Ÿwebåº”ç”¨å’Œå‰åç«¯åˆ†ç¦»</a></li>
                <li>
                    <a href="#springboot%e6%95%b4%e5%90%88thymeleaf-1" aria-label="SpringBootæ•´åˆThymeleaf">SpringBootæ•´åˆThymeleaf</a></li>
                <li>
                    <a href="#thymeleaf%e7%9a%84%e8%87%aa%e5%8a%a8%e9%85%8d%e7%bd%ae" aria-label="Thymeleafçš„è‡ªåŠ¨é…ç½®">Thymeleafçš„è‡ªåŠ¨é…ç½®</a></li>
                <li>
                    <a href="#thymeleaf%e6%a0%b8%e5%bf%83%e8%af%ad%e6%b3%95" aria-label="Thymeleafæ ¸å¿ƒè¯­æ³•">Thymeleafæ ¸å¿ƒè¯­æ³•</a><ul>
                        
                <li>
                    <a href="#thtext-%e6%9b%bf%e6%8d%a2%e6%a0%87%e7%ad%be%e4%bd%93%e5%86%85%e5%ae%b9" aria-label="th:text æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">th:text æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹</a></li>
                <li>
                    <a href="#thutext-%e6%9b%bf%e6%8d%a2%e6%a0%87%e7%ad%be%e4%bd%93%e5%86%85%e5%ae%b9" aria-label="th:utext æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">th:utext æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹</a></li>
                <li>
                    <a href="#th%e4%bb%bb%e6%84%8f%e5%b1%9e%e6%80%a7%e5%90%8d-%e5%8a%a8%e6%80%81%e6%9b%bf%e6%8d%a2%e8%af%a5%e5%b1%9e%e6%80%a7%e7%9a%84%e5%80%bc" aria-label="th:ä»»æ„å±æ€§å åŠ¨æ€æ›¿æ¢è¯¥å±æ€§çš„å€¼">th:ä»»æ„å±æ€§å åŠ¨æ€æ›¿æ¢è¯¥å±æ€§çš„å€¼</a></li>
                <li>
                    <a href="#thattr-%e5%b1%9e%e6%80%a7%e5%90%88%e5%b9%b6%e8%ae%be%e7%bd%ae" aria-label="th:attr å±æ€§åˆå¹¶è®¾ç½®">th:attr å±æ€§åˆå¹¶è®¾ç½®</a></li>
                <li>
                    <a href="#th%e6%8c%87%e4%bb%a4" aria-label="th:æŒ‡ä»¤">th:æŒ‡ä»¤</a></li>
                <li>
                    <a href="#-%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="@{} è¡¨è¾¾å¼">@{} è¡¨è¾¾å¼</a></li>
                <li>
                    <a href="#thymeleaf%e7%9a%84%e5%86%85%e7%bd%ae%e5%b7%a5%e5%85%b7" aria-label="thymeleafçš„å†…ç½®å·¥å…·">thymeleafçš„å†…ç½®å·¥å…·</a></li>
                <li>
                    <a href="#thymeleaf%e4%b9%9f%e6%94%af%e6%8c%81%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="thymeleafä¹Ÿæ”¯æŒè¿ç®—ç¬¦">thymeleafä¹Ÿæ”¯æŒè¿ç®—ç¬¦</a></li>
                <li>
                    <a href="#thymeleaf%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%8b%bc%e6%8e%a5" aria-label="thymeleafçš„å­—ç¬¦ä¸²æ‹¼æ¥">thymeleafçš„å­—ç¬¦ä¸²æ‹¼æ¥</a></li>
                <li>
                    <a href="#%e5%be%aa%e7%8e%af%e9%81%8d%e5%8e%86" aria-label="å¾ªç¯éå†">å¾ªç¯éå†</a></li>
                <li>
                    <a href="#%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%adthif" aria-label="æ¡ä»¶åˆ¤æ–­th:if">æ¡ä»¶åˆ¤æ–­th:if</a></li>
                <li>
                    <a href="#%e6%9d%a1%e4%bb%b6%e5%88%a4%e6%96%adthswitch" aria-label="æ¡ä»¶åˆ¤æ–­th:switch">æ¡ä»¶åˆ¤æ–­th:switch</a></li>
                <li>
                    <a href="#thymeleaf%e5%b1%9e%e6%80%a7%e4%bc%98%e5%85%88%e7%ba%a7" aria-label="thymeleafå±æ€§ä¼˜å…ˆçº§">thymeleafå±æ€§ä¼˜å…ˆçº§</a></li>
                <li>
                    <a href="#-%e8%a1%a8%e8%be%be%e5%bc%8f-1" aria-label="*{&hellip;} è¡¨è¾¾å¼">*{&hellip;} è¡¨è¾¾å¼</a></li>
                <li>
                    <a href="#%e4%bb%a3%e7%a0%81%e7%89%87%e6%ae%b5%e5%85%b1%e4%ba%ab" aria-label="ä»£ç ç‰‡æ®µå…±äº«">ä»£ç ç‰‡æ®µå…±äº«</a></li></ul>
                </li>
                <li>
                    <a href="#thymeleaf%e9%a1%b5%e9%9d%a2%e4%bf%ae%e6%94%b9%e5%a6%82%e4%bd%95%e7%ab%8b%e5%8d%b3%e7%94%9f%e6%95%88" aria-label="thymeleafé¡µé¢ä¿®æ”¹å¦‚ä½•ç«‹å³ç”Ÿæ•ˆ">thymeleafé¡µé¢ä¿®æ”¹å¦‚ä½•ç«‹å³ç”Ÿæ•ˆ</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%bc%82%e5%b8%b8%e5%a4%84%e7%90%86" aria-label="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†</a><ul>
                        
                <li>
                    <a href="#%e8%87%aa%e9%80%82%e5%ba%94%e7%9a%84%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e6%9c%ba%e5%88%b6" aria-label="è‡ªé€‚åº”çš„é”™è¯¯å¤„ç†æœºåˆ¶">è‡ªé€‚åº”çš„é”™è¯¯å¤„ç†æœºåˆ¶</a></li>
                <li>
                    <a href="#springmvc%e7%9a%84%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88" aria-label="SpringMVCçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">SpringMVCçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ</a><ul>
                        
                <li>
                    <a href="#%e5%b1%80%e9%83%a8%e6%8e%a7%e5%88%b6-exceptionhandler" aria-label="å±€éƒ¨æ§åˆ¶ @ExceptionHandler">å±€éƒ¨æ§åˆ¶ @ExceptionHandler</a></li>
                <li>
                    <a href="#%e5%85%a8%e5%b1%80%e6%8e%a7%e5%88%b6-controlleradvice--exceptionhandler" aria-label="å…¨å±€æ§åˆ¶ @ControllerAdvice &#43; @ExceptionHandler">å…¨å±€æ§åˆ¶ @ControllerAdvice + @ExceptionHandler</a></li></ul>
                </li>
                <li>
                    <a href="#springboot%e7%9a%84%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88" aria-label="SpringBootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">SpringBootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e5%9c%a8%e9%94%99%e8%af%af%e9%a1%b5%e8%8e%b7%e5%8f%96%e9%94%99%e8%af%af%e4%bf%a1%e6%81%af" aria-label="å¦‚ä½•åœ¨é”™è¯¯é¡µè·å–é”™è¯¯ä¿¡æ¯">å¦‚ä½•åœ¨é”™è¯¯é¡µè·å–é”™è¯¯ä¿¡æ¯</a></li>
                <li>
                    <a href="#%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%ae%e7%9a%84%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88" aria-label="å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ</a></li>
                <li>
                    <a href="#%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%ab%af%e8%b4%9f%e8%b4%a3%e9%a1%b5%e9%9d%a2%e6%b8%b2%e6%9f%93%e7%9a%84%e9%a1%b9%e7%9b%ae%e9%94%99%e8%af%af%e5%a4%84%e7%90%86%e6%96%b9%e6%a1%88" aria-label="æœåŠ¡å™¨ç«¯è´Ÿè´£é¡µé¢æ¸²æŸ“çš„é¡¹ç›®é”™è¯¯å¤„ç†æ–¹æ¡ˆ">æœåŠ¡å™¨ç«¯è´Ÿè´£é¡µé¢æ¸²æŸ“çš„é¡¹ç›®é”™è¯¯å¤„ç†æ–¹æ¡ˆ</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%bd%e9%99%85%e5%8c%96%e4%ba%86%e8%a7%a3" aria-label="å›½é™…åŒ–ï¼ˆäº†è§£ï¼‰">å›½é™…åŒ–ï¼ˆäº†è§£ï¼‰</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9e%e7%8e%b0%e5%9b%bd%e9%99%85%e5%8c%96" aria-label="å®ç°å›½é™…åŒ–">å®ç°å›½é™…åŒ–</a><ul>
                        
                <li>
                    <a href="#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%88%9b%e5%bb%ba%e8%b5%84%e6%ba%90%e6%96%87%e4%bb%b6" aria-label="ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºèµ„æºæ–‡ä»¶">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºèµ„æºæ–‡ä»¶</a></li>
                <li>
                    <a href="#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e5%9c%a8%e6%a8%a1%e6%9d%bf%e6%96%87%e4%bb%b6%e4%b8%ad%e5%8f%96%e5%87%ba%e6%b6%88%e6%81%af" aria-label="ç¬¬äºŒæ­¥ï¼šåœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å–å‡ºæ¶ˆæ¯">ç¬¬äºŒæ­¥ï¼šåœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å–å‡ºæ¶ˆæ¯</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%9b%bd%e9%99%85%e5%8c%96%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86" aria-label="å›½é™…åŒ–å®ç°åŸç†">å›½é™…åŒ–å®ç°åŸç†</a></li>
                <li>
                    <a href="#%e5%9c%a8%e7%a8%8b%e5%ba%8f%e5%bd%93%e4%b8%ad%e5%a6%82%e4%bd%95%e8%8e%b7%e5%8f%96%e5%9b%bd%e9%99%85%e5%8c%96%e4%bf%a1%e6%81%af" aria-label="åœ¨ç¨‹åºå½“ä¸­å¦‚ä½•è·å–å›½é™…åŒ–ä¿¡æ¯">åœ¨ç¨‹åºå½“ä¸­å¦‚ä½•è·å–å›½é™…åŒ–ä¿¡æ¯</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%9a%e5%88%b6web%e5%ae%b9%e5%99%a8" aria-label="å®šåˆ¶webå®¹å™¨">å®šåˆ¶webå®¹å™¨</a><ul>
                        
                <li>
                    <a href="#web%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%88%87%e6%8d%a2%e4%b8%bajetty" aria-label="webæœåŠ¡å™¨åˆ‡æ¢ä¸ºjetty">webæœåŠ¡å™¨åˆ‡æ¢ä¸ºjetty</a></li>
                <li>
                    <a href="#web%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%88%87%e6%8d%a2%e5%8e%9f%e7%90%86" aria-label="webæœåŠ¡å™¨åˆ‡æ¢åŸç†">webæœåŠ¡å™¨åˆ‡æ¢åŸç†</a></li>
                <li>
                    <a href="#web%e6%9c%8d%e5%8a%a1%e5%99%a8%e4%bc%98%e5%8c%96" aria-label="webæœåŠ¡å™¨ä¼˜åŒ–">webæœåŠ¡å™¨ä¼˜åŒ–</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="springbootçš„webè‡ªåŠ¨é…ç½®">SpringBootçš„webè‡ªåŠ¨é…ç½®<a hidden class="anchor" aria-hidden="true" href="#springbootçš„webè‡ªåŠ¨é…ç½®">#</a></h1>
<p>æ–°å»ºé¡¹ç›®<code>sb3-09-web</code>ï¼šæ·»åŠ webå¯åŠ¨å™¨ï¼Œæ·»åŠ Lombokä¾èµ–ã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4bdc7b39e1f5ef7ec9da61c1fe603a2c_MD5.png"></p>
<h2 id="webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„">webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„<a hidden class="anchor" aria-hidden="true" href="#webè‡ªåŠ¨é…ç½®çš„ä¾èµ–æ˜¯å¦‚ä½•ä¼ é€’çš„">#</a></h2>
<ol>
<li>é¦–å…ˆå¼•å…¥äº†<code>webå¯åŠ¨å™¨</code>ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li><code>webå¯åŠ¨å™¨</code>ä¼ é€’å¼•å…¥äº†<code>spring-boot-starter</code>ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;version&gt;</span>3.3.5<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;scope&gt;</span>compile<span style="font-weight:bold">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li><code>spring-boot-starter</code>ä¼šä¼ é€’å¼•å…¥ä¸€ä¸ª<code>spring-boot-autoconfigure</code>åŒ…ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-autoconfigure<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;version&gt;</span>3.3.5<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;scope&gt;</span>compile<span style="font-weight:bold">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/f0f95493c904d95a14497797b062d6a4_MD5.png"></p>
<ol start="4">
<li>åœ¨<code>spring-boot-autoconfigure</code>åŒ…ä¸­çš„<code>.imports</code>æ–‡ä»¶ä¸­ç½—åˆ—çš„éœ€è¦å¯¼å…¥çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œå¦‚ä¸‹å›¾ï¼š</li>
</ol>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/3f68e9463b64c59d390dcababdd2f0bd_MD5.png"></p>
<h2 id="webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç†">webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç†<a hidden class="anchor" aria-hidden="true" href="#webè‡ªåŠ¨é…ç½®çš„å®ç°åŸç†">#</a></h2>
<ol>
<li>ä»å…¥å£ç¨‹åºå¼€å§‹ï¼š</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.sb309web;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.boot.SpringApplication;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@SpringBootApplication
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Sb309WebApplication {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        SpringApplication.<span style="color:#007f7f">run</span>(Sb309WebApplication.<span style="color:#007f7f">class</span>, args);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¥å£ç¨‹åºè¢«<code>@SpringBootApplication</code>æ³¨è§£æ ‡æ³¨ã€‚</p>
<ol start="2">
<li><code>@SpringBootApplication</code>æ³¨è§£è¢«<code>@EnableAutoConfiguration</code><font style="color:#080808;background-color:#ffffff;">æ³¨è§£æ ‡æ³¨ã€‚è¡¨ç¤ºå¯ç”¨è‡ªåŠ¨é…ç½®ã€‚</font></li>
<li><code>@EnableAutoConfiguration</code><font style="color:#080808;background-color:#ffffff;">æ³¨è§£è¢«</font><code>@Import({AutoConfigurationImportSelector.class})</code><font style="color:#080808;background-color:#ffffff;">æ³¨è§£æ ‡æ³¨ã€‚</font></li>
<li><font style="color:#080808;background-color:#ffffff;">å› æ­¤</font><code>AutoConfigurationImportSelector</code><font style="color:#080808;background-color:#ffffff;">å†³å®šå“ªäº›è‡ªåŠ¨é…ç½®ç±»æ˜¯éœ€è¦å¯¼å…¥çš„ã€‚</font></li>
<li><code>&lt;font style=&quot;color:#080808;background-color:#ffffff;&quot;&gt;AutoConfigurationImportSelector&lt;/font&gt;</code><font style="color:#080808;background-color:#ffffff;">åº•å±‚å®ç°æ­¥éª¤å…·ä½“å¦‚ä¸‹ï¼š</font></li>
</ol>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/fd3507b1d4a5124f839f37be97712a1e_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/eb4f7cbc2eb10676fa08b78eef56724b_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4455adefd7830f59fcf25306eb9e2949_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/2cd9a2c2dba804614508c3fccebff148_MD5.png"></p>
<p>æœ€ç»ˆæ‰¾çš„æ–‡ä»¶æ˜¯ï¼š<code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code></p>
<p><strong>æ³¨æ„ï¼šä»»ä½•jaråŒ…ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹çš„ä¾èµ–ï¼Œè‡ªåŠ¨é…ç½®ç±»æ‰€åœ¨çš„è·¯å¾„ä»¥åŠæ–‡ä»¶åéƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œéƒ½æ˜¯</strong><code>**META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports**</code></p>
<p>ä¾‹å¦‚mybatisçš„è‡ªåŠ¨é…ç½®ç±»çš„åˆ—è¡¨æ–‡ä»¶ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7483e0f2ca3d8dfe0af3097bf6193c32_MD5.png"></p>
<h2 id="é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix">é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»é€†æ¨webé…ç½®çš„prefix">#</a></h2>
<p>åœ¨è‡ªåŠ¨é…ç½®åˆ—è¡¨ä¸­æ‰¾åˆ°webè‡ªåŠ¨é…ç½®ç›¸å…³çš„ç±»ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7d6c1aa66da63bf3fffe1ff90b298e33_MD5.png"></p>
<p>ä»¥ä¸‹å°±æ˜¯webè‡ªåŠ¨é…ç½®ç±»åˆ—è¡¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">client</span>.<span style="color:#007f7f">RestTemplateAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">embedded</span>.<span style="color:#007f7f">EmbeddedWebServerFactoryCustomizerAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">DispatcherServletAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">ServletWebServerFactoryAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">error</span>.<span style="color:#007f7f">ErrorMvcAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">HttpEncodingAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">MultipartAutoConfiguration</span>
</span></span><span style="display:flex;"><span>org.<span style="color:#007f7f">springframework</span>.<span style="color:#007f7f">boot</span>.<span style="color:#007f7f">autoconfigure</span>.<span style="color:#007f7f">web</span>.<span style="color:#007f7f">servlet</span>.<span style="color:#007f7f">WebMvcAutoConfiguration</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡webè‡ªåŠ¨é…ç½®ç±»çš„æºç å¯ä»¥é€†æ¨webé…ç½®çš„prefixï¼š</p>
<ol>
<li>WebMvcAutoConfiguration</li>
</ol>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/63caa8f1afa0114a14d4d0a57175c206_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b7c9bb925fa99b8139179ac67f7857ba_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a47452791f27ced67ef14f17c15c3b0c_MD5.png"></p>
<ol start="2">
<li>MultipartAutoConfiguration</li>
</ol>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/0434cd7e15cd5534ba03f81abb8fa4d5_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/286ee1a76fc613582200b2f88f5c8dbc_MD5.png"></p>
<ol start="3">
<li>HttpEncodingAutoConfiguration</li>
</ol>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4f2811fd66838c50eeb0625b3f139321_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6177fc39e108404991d38399f2c8b533_MD5.png"></p>
<ol start="4">
<li>ErrorMvcAutoConfiguration</li>
<li>ServletWebServerFactoryAutoConfiguration</li>
<li>DispatcherServletAutoConfiguration</li>
<li>EmbeddedWebServerFactoryCustomizerAutoConfiguration</li>
<li>RestTemplateAutoConfiguration</li>
</ol>
<p>é€šè¿‡æŸ¥çœ‹æºç ï¼Œå¾—çŸ¥ï¼Œwebå¼€å‘æ—¶ï¼Œåœ¨<code>application.properties</code>é…ç½®æ–‡ä»¶ä¸­å¯ä»¥é…ç½®çš„å‰ç¼€æ˜¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># SpringMVCç›¸å…³é…ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">spring.mvc.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># webå¼€å‘é€šç”¨é…ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">spring.web.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># æ–‡ä»¶ä¸Šä¼ é…ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">spring.servlet.multipart.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># æœåŠ¡å™¨é…ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#f00">server.</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ">Webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ<a hidden class="anchor" aria-hidden="true" href="#webè‡ªåŠ¨é…ç½®éƒ½é»˜è®¤é…ç½®äº†ä»€ä¹ˆ">#</a></h2>
<p>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/c0790951d776221af4305ded665b0220_MD5.png"></p>
<p><strong>ç¿»è¯‘å¦‚ä¸‹ï¼š</strong></p>
<p>Spring Boot ä¸º Spring MVC æä¾›äº†è‡ªåŠ¨é…ç½®ï¼Œè¿™åœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºä¸­éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚é™¤äº†å·²ç»å®ç°äº† Spring MVC çš„é»˜è®¤åŠŸèƒ½å¤–ï¼Œè‡ªåŠ¨é…ç½®è¿˜æä¾›äº†ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>åŒ…æ‹¬ <code>ContentNegotiatingViewResolver</code> å’Œ <code>BeanNameViewResolver</code> çš„ Beanã€‚
<ul>
<li><code>ContentNegotiatingViewResolver</code> è‡ªåŠ¨æ ¹æ®HTTPè¯·æ±‚å¤´ä¸­Acceptå­—æ®µæ¥é€‰æ‹©åˆé€‚çš„è§†å›¾æŠ€æœ¯æ¸²æŸ“å“åº”ã€‚</li>
<li><code>&lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;BeanNameViewResolver&lt;/font&gt;</code><font style="color:rgb(44, 44, 54);"> çš„ä½œç”¨æ˜¯æ ¹æ®è§†å›¾åç§°æ‰¾åˆ°è§†å›¾Viewå¯¹è±¡ã€‚</font></li>
</ul>
</li>
<li>æ”¯æŒæä¾›é™æ€èµ„æºï¼ŒåŒ…æ‹¬å¯¹ WebJarsçš„æ”¯æŒã€‚
<ul>
<li>é™æ€èµ„æºè·¯å¾„é»˜è®¤å·²ç»é…ç½®å¥½äº†ã€‚é»˜è®¤ä¼šå»staticç›®å½•ä¸‹æ‰¾ã€‚</li>
</ul>
</li>
<li>è‡ªåŠ¨æ³¨å†Œ <code>Converter</code>ã€<code>GenericConverter</code> å’Œ <code>Formatter</code> çš„ Beanã€‚
<ul>
<li><code>Converter</code>ï¼šè½¬æ¢å™¨ï¼Œåšç±»å‹è½¬æ¢çš„ï¼Œä¾‹å¦‚è¡¨å•æäº¤äº†ç”¨æˆ·æ•°æ®ï¼Œå°†è¡¨å•æ•°æ®è½¬æ¢æˆUserå¯¹è±¡ã€‚</li>
<li><code>Formatter</code>ï¼šæ ¼å¼åŒ–å™¨ï¼Œåšæ•°æ®æ ¼å¼åŒ–çš„ï¼Œä¾‹å¦‚å°†Javaä¸­çš„<code>æ—¥æœŸç±»å‹å¯¹è±¡</code>æ ¼å¼åŒ–ä¸º<code>ç‰¹å®šæ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²</code>ã€‚æˆ–è€…å°†ç”¨æˆ·æäº¤çš„æ—¥æœŸå­—ç¬¦ä¸²ï¼Œè½¬æ¢ä¸ºJavaä¸­çš„æ—¥æœŸå¯¹è±¡ã€‚</li>
</ul>
</li>
<li>æ”¯æŒ <code>HttpMessageConverters</code>ã€‚
<ul>
<li>å†…ç½®äº†å¾ˆå¤šçš„HTTPæ¶ˆæ¯è½¬æ¢å™¨ã€‚ä¾‹å¦‚ï¼š<code>MappingJackson2HttpMessageConverter</code>å¯ä»¥å°†jsonè½¬æ¢æˆjavaå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å°†javaå¯¹è±¡è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²ã€‚</li>
</ul>
</li>
<li>è‡ªåŠ¨æ³¨å†Œ <code>MessageCodesResolver</code>ã€‚
<ul>
<li>SpringBootä¼šè‡ªåŠ¨æ³¨å†Œä¸€ä¸ªé»˜è®¤çš„<code>æ¶ˆæ¯ä»£ç è§£æå™¨</code></li>
<li>å¸®åŠ©ä½ åœ¨è¡¨å•éªŒè¯å‡ºé”™æ—¶ç”Ÿæˆä¸€äº›ç‰¹æ®Šçš„ä»£ç ã€‚è¿™äº›ä»£ç è®©ä½ èƒ½å¤Ÿæ›´ç²¾ç¡®åœ°å®šä½é—®é¢˜ï¼Œå¹¶æä¾›æ›´å‹å¥½çš„é”™è¯¯æç¤ºã€‚</li>
</ul>
</li>
<li>é™æ€ <code>index.html</code> æ–‡ä»¶æ”¯æŒã€‚
<ul>
<li>Spring Boot ä¼šè‡ªåŠ¨å¤„ç†ä½äºé¡¹ç›®é™æ€èµ„æºç›®å½•ä¸‹çš„ index.html æ–‡ä»¶ï¼Œä½¿å…¶æˆä¸ºåº”ç”¨ç¨‹åºçš„é»˜è®¤ä¸»é¡µ</li>
</ul>
</li>
<li>è‡ªåŠ¨ä½¿ç”¨ <code>ConfigurableWebBindingInitializer</code> Beanã€‚
<ul>
<li>ç”¨å®ƒæ¥æŒ‡å®šé»˜è®¤ä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨ï¼Œé»˜è®¤ä½¿ç”¨å“ªä¸ªæ ¼å¼åŒ–å™¨ã€‚åœ¨è¿™ä¸ªç±»å½“ä¸­éƒ½å·²ç»é…å¥½äº†ã€‚</li>
</ul>
</li>
</ul>
<p>å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨è‡ªåŠ¨é…ç½®å¹¶å¸Œæœ›å®Œå…¨æ§åˆ¶ Spring MVCï¼Œå¯ä»¥æ·»åŠ æ‚¨è‡ªå·±çš„å¸¦æœ‰ <code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;@EnableWebMvc&lt;/font&gt;**</code> æ³¨è§£çš„ <code>@Configuration</code>ã€‚</p>
<p>å¦‚æœæ‚¨å¸Œæœ›ä¿ç•™è¿™äº› Spring Boot MVC å®šåˆ¶åŒ–è®¾ç½®å¹¶è¿›è¡Œæ›´å¤šçš„ MVC å®šåˆ¶åŒ–ï¼ˆå¦‚æ‹¦æˆªå™¨ã€æ ¼å¼åŒ–ç¨‹åºã€è§†å›¾æ§åˆ¶å™¨ç­‰å…¶ä»–åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥æ·»åŠ æ‚¨è‡ªå·±çš„ç±»å‹ä¸º <code>WebMvcConfigurer</code> çš„ <code>@Configuration</code> ç±»ã€‚<strong><font style="color:#DF2A3F;">ä½†ä¸èƒ½ä½¿ç”¨</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;@EnableWebMvc&lt;/font&gt;**</code><strong><font style="color:#DF2A3F;">æ³¨è§£</font></strong>ã€‚</p>
<h2 id="font-stylecolor080808background-colorffffffwebmvcautoconfigurationåŸç†font"><font style="color:#080808;background-color:#ffffff;">WebMvcAutoConfigurationåŸç†</font><a hidden class="anchor" aria-hidden="true" href="#font-stylecolor080808background-colorffffffwebmvcautoconfigurationåŸç†font">#</a></h2>
<p>é€šè¿‡æºç åˆ†æçš„æ–¹å¼ï¼Œå­¦ä¹ WebMvcçš„è‡ªåŠ¨é…ç½®åŸç†ã€‚</p>
<h3 id="webmvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶">WebMvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶<a hidden class="anchor" aria-hidden="true" href="#webmvcè‡ªåŠ¨é…ç½®æ˜¯å¦ç”Ÿæ•ˆçš„æ¡ä»¶">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@AutoConfiguration(after = { DispatcherServletAutoConfiguration.<span style="color:#007f7f">class</span>, TaskExecutionAutoConfiguration.<span style="color:#007f7f">class</span>,
</span></span><span style="display:flex;"><span>		ValidationAutoConfiguration.<span style="color:#007f7f">class</span> })
</span></span><span style="display:flex;"><span>@ConditionalOnWebApplication(type = Type.<span style="color:#007f7f">SERVLET</span>)
</span></span><span style="display:flex;"><span>@ConditionalOnClass({ Servlet.<span style="color:#007f7f">class</span>, DispatcherServlet.<span style="color:#007f7f">class</span>, WebMvcConfigurer.<span style="color:#007f7f">class</span> })
</span></span><span style="display:flex;"><span>@ConditionalOnMissingBean(WebMvcConfigurationSupport.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>@AutoConfigureOrder(Ordered.<span style="color:#007f7f">HIGHEST_PRECEDENCE</span> + 10)
</span></span><span style="display:flex;"><span>@ImportRuntimeHints(WebResourcesRuntimeHints.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebMvcAutoConfiguration {}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>@AutoConfiguration(after = { DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class,ValidationAutoConfiguration.class })
<ul>
<li><strong>WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»</strong>åŠ è½½é¡ºåºåœ¨ä»¥ä¸Šè‡ªåŠ¨é…ç½®ç±»åŠ è½½ååŠ è½½ã€‚</li>
</ul>
</li>
<li>@ConditionalOnWebApplication(type = Type.SERVLET)
<ul>
<li><strong>WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»</strong>åªåœ¨servletç¯å¢ƒä¸­ç”Ÿæ•ˆã€‚</li>
</ul>
</li>
<li>@ConditionalOnClass({ Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class })
<ul>
<li>ç±»è·¯å¾„ä¸­å¿…é¡»å­˜åœ¨<code>Servlet.class``DispatcherServlet.class``WebMvcConfigurer.class</code>ï¼Œ<strong>WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»æ‰ä¼šç”Ÿæ•ˆã€‚</strong></li>
</ul>
</li>
<li>@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)
<ul>
<li>ç±»è·¯å¾„ä¸­ä¸å­˜åœ¨<code>WebMvcConfigurationSupport.class</code>æ—¶<strong>WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»æ‰ä¼šç”Ÿæ•ˆã€‚</strong></li>
<li>æ³¨æ„ï¼šå½“ä½¿ç”¨@EnableWebMvcæ³¨è§£åï¼Œç±»è·¯å¾„ä¸­å°±ä¼šæ³¨å†Œä¸€ä¸ªWebMvcConfigurationSupportè¿™æ ·çš„beanã€‚</li>
</ul>
</li>
<li>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10) <strong>ä¸é‡è¦</strong>
<ul>
<li>æŒ‡å®š<strong>WebMvcAutoConfigurationè‡ªåŠ¨é…ç½®ç±»</strong>çš„åŠ è½½é¡ºåº</li>
</ul>
</li>
<li>@ImportRuntimeHints(WebResourcesRuntimeHints.class) <strong>ä¸é‡è¦</strong>
<ul>
<li>è¿è¡Œæ—¶å¼•å…¥<strong>WebResourcesRuntimeHints</strong>è¿™ä¸ªç±»ï¼Œè¿™ä¸ªç±»çš„ä½œç”¨æ˜¯ç»™JVMæˆ–è€…å…¶ä»–ç»„ä»¶æç¤ºä¿¡æ¯çš„ï¼Œæç¤ºä¸€ä¸‹ç³»ç»Ÿåº”è¯¥å¦‚ä½•å¤„ç†ç±»å’Œèµ„æºã€‚</li>
</ul>
</li>
</ul>
<p>æ€»ç»“æ¥è¯´ï¼ŒWebMvcAutoConfigurationç±»å°†åœ¨ä»¥ä¸‹æ¡ä»¶ä¸‹ç”Ÿæ•ˆï¼š</p>
<ol>
<li>åº”ç”¨ç¨‹åºæ˜¯ä¸€ä¸ªServletç±»å‹çš„Webåº”ç”¨ï¼›</li>
<li>ç¯å¢ƒä¸­æœ‰Servletã€DispatcherServletå’ŒWebMvcConfigurerç±»ï¼›</li>
<li>å®¹å™¨ä¸­æ²¡æœ‰WebMvcConfigurationSupportçš„beanã€‚</li>
</ol>
<p>å¦‚æœè¿™äº›æ¡ä»¶éƒ½æ»¡è¶³çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»å°±ä¼šè¢«æ¿€æ´»ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„è‡ªåŠ¨é…ç½®å·¥ä½œã€‚</p>
<h3 id="webmvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªfilter-bean">WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªFilter Bean<a hidden class="anchor" aria-hidden="true" href="#webmvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†ä¸¤ä¸ªfilter-bean">#</a></h3>
<h4 id="å¼•å…¥äº†font-stylecolor080808background-colorffffffhiddenhttpmethodfilter-beanfont">å¼•å…¥äº†<font style="color:#080808;background-color:#ffffff;">HiddenHttpMethodFilter Bean</font><a hidden class="anchor" aria-hidden="true" href="#å¼•å…¥äº†font-stylecolor080808background-colorffffffhiddenhttpmethodfilter-beanfont">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Bean
</span></span><span style="display:flex;"><span>@ConditionalOnMissingBean(HiddenHttpMethodFilter.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>@ConditionalOnProperty(prefix = <span style="color:#0ff;font-weight:bold">&#34;spring.mvc.hiddenmethod.filter&#34;</span>, name = <span style="color:#0ff;font-weight:bold">&#34;enabled&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> OrderedHiddenHttpMethodFilter hiddenHttpMethodFilter() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> OrderedHiddenHttpMethodFilter();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ä¸ªè¿‡æ»¤å™¨æ˜¯ä¸“é—¨å¤„ç†Restè¯·æ±‚çš„ã€‚GET POST PUT DELETEè¯·æ±‚ã€‚</p>
<h4 id="å¼•å…¥äº†font-stylecolor080808background-colorffffffformcontentfilter-beanfont">å¼•å…¥äº†<font style="color:#080808;background-color:#ffffff;">FormContentFilter Bean</font><a hidden class="anchor" aria-hidden="true" href="#å¼•å…¥äº†font-stylecolor080808background-colorffffffformcontentfilter-beanfont">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Bean
</span></span><span style="display:flex;"><span>@ConditionalOnMissingBean(FormContentFilter.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>@ConditionalOnProperty(prefix = <span style="color:#0ff;font-weight:bold">&#34;spring.mvc.formcontent.filter&#34;</span>, name = <span style="color:#0ff;font-weight:bold">&#34;enabled&#34;</span>, matchIfMissing = <span style="color:#fff;font-weight:bold">true</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> OrderedFormContentFilter formContentFilter() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> OrderedFormContentFilter();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>OrderedFormContentFilter æ˜¯ Spring Boot ä¸­ç”¨äºå¤„ç† HTTP è¯·æ±‚çš„ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ PUT å’Œ DELETE è¯·æ±‚ã€‚è¿™ä¸ªè¿‡æ»¤å™¨çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨å¤„ç† PUT å’Œ DELETE è¯·æ±‚æ—¶ï¼Œç¡®ä¿å¦‚æœè¯·æ±‚ä½“ä¸­æœ‰è¡¨å•æ ¼å¼çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¼šè¢«æ­£ç¡®è§£æå¹¶å¯ç”¨ã€‚</p>
<h3 id="webmvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†webmvcconfigureræ¥å£çš„å®ç°ç±»">WebMvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†WebMvcConfigureræ¥å£çš„å®ç°ç±»<a hidden class="anchor" aria-hidden="true" href="#webmvcè‡ªåŠ¨é…ç½®ç”Ÿæ•ˆåå¼•å…¥äº†webmvcconfigureræ¥å£çš„å®ç°ç±»">#</a></h3>
<p>åœ¨SpringBootæ¡†æ¶çš„<code>WebMvcAutoConfiguration</code>ç±»ä¸­æä¾›äº†ä¸€ä¸ªå†…éƒ¨ç±»ï¼š<code>WebMvcAutoConfigurationAdapter</code></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a7fa569774a34a19895bc70f2517ee02_MD5.png"></p>
<p>SpringBootåœ¨è¿™ä¸ªç±»<code>WebMvcAutoConfigurationAdapter</code>ä¸­è¿›è¡Œäº†ä¸€ç³»åˆ—çš„Spring MVCç›¸å…³é…ç½®ã€‚</p>
<p><strong><font style="color:#DF2A3F;">æˆ‘ä»¬å¼€å‘ä¸­è¦å¯¹Spring MVCçš„ç›¸å…³é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªç±»ç»§æ‰¿</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;WebMvcAutoConfigurationAdatper&lt;/font&gt;**</code><strong><font style="color:#DF2A3F;">ï¼Œç„¶åé‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯ã€‚</font></strong></p>
<p><strong><font style="color:#DF2A3F;">å› æ­¤ï¼Œé€šè¿‡å¯¹</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;WebMvcAutoConfigurationAdapter&lt;/font&gt;**</code><strong><font style="color:#DF2A3F;">ç±»ä¸­çš„æ–¹æ³•è¿›è¡Œé‡å†™æ¥</font><strong><strong><font style="color:#74B602;">ä¿®æ”¹</font></strong></strong><font style="color:#DF2A3F;">Web MVCçš„é»˜è®¤é…ç½®ã€‚</font></strong></p>
<p><strong><font style="color:#DF2A3F;"></font></strong></p>
<h4 id="å…³äºwebmvcconfigureræ¥å£">å…³äº<code>WebMvcConfigurer</code>æ¥å£<a hidden class="anchor" aria-hidden="true" href="#å…³äºwebmvcconfigureræ¥å£">#</a></h4>
<p>è¿™ä¸ªæ¥å£ä¸æ˜¯SpringBootæ¡†æ¶æä¾›çš„ï¼Œæ˜¯Spring MVCæä¾›çš„ï¼Œåœ¨Springæ¡†æ¶4.3ç‰ˆæœ¬ä¸­å¼•å…¥çš„ã€‚è¿™ä¸ªæ¥å£çš„ä½œç”¨ä¸»è¦æ˜¯<strong>å…è®¸å¼€å‘è€…é€šè¿‡å®ç°è¿™ä¸ªæ¥å£æ¥å®šåˆ¶Spring MVCçš„è¡Œä¸º</strong>ã€‚</p>
<p>åœ¨è¿™ä¸ªæ¥å£ä¸­æä¾›äº†å¾ˆå¤šæ–¹æ³•ï¼Œéœ€è¦æ”¹å˜Spring MVCçš„å“ªä¸ªè¡Œä¸ºï¼Œåˆ™é‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªæ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•ï¼Œä»¥åŠæ¯ä¸ªæ–¹æ³•å¯¹åº”çš„Spring MVCè¡Œä¸ºçš„è§£é‡Šï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> WebMvcConfigurer {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•åŒ¹é…è¯·æ±‚è·¯å¾„åˆ°æ§åˆ¶å™¨</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configurePathMatch(PathMatchConfigurer configurer) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC çš„å†…å®¹åå•†ç­–ç•¥ï¼Œä»¥ç¡®å®šå¦‚ä½•æ ¹æ®è¯·æ±‚çš„å†…å®¹ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„å¤„ç†æ–¹æ³•æˆ–è¿”å›æ•°æ®æ ¼å¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureContentNegotiation(ContentNegotiationConfigurer configurer) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¤„ç†å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureAsyncSupport(AsyncSupportConfigurer configurer) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶æ˜¯å¦å°†æŸäº›é™æ€èµ„æºè¯·æ±‚è½¬å‘WEBå®¹å™¨é»˜è®¤çš„Servletå¤„ç†</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC è§£æè§†å›¾çš„æ–¹å¼ï¼Œä»¥ç¡®å®šå¦‚ä½•å°†æ§åˆ¶å™¨è¿”å›çš„è§†å›¾åç§°è½¬æ¢ä¸ºå®é™…çš„è§†å›¾èµ„æºã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureViewResolvers(ViewResolverRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç† HTTP è¯·æ±‚å’Œå“åº”çš„æ•°æ®æ ¼å¼ï¼ŒåŒ…æ‹¬ JSONã€XML ç­‰å†…å®¹ç±»å‹çš„è½¬æ¢</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†æ§åˆ¶å™¨æ–¹æ³•ä¸­å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶æä¾›ç›¸åº”çš„é”™è¯¯å¤„ç†é€»è¾‘ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†æ•°æ®çš„æ ¼å¼åŒ–å’Œè§£æï¼Œä¾‹å¦‚æ—¥æœŸã€æ•°å€¼ç­‰ç±»å‹çš„å¯¹è±¡çš„è¾“å…¥å’Œè¾“å‡ºæ ¼å¼ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addFormatters(FormatterRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•ä½¿ç”¨æ‹¦æˆªå™¨æ¥å¤„ç†è¯·æ±‚å’Œå“åº”ï¼ŒåŒ…æ‹¬åœ¨è¯·æ±‚è¿›å…¥æ§åˆ¶å™¨ä¹‹å‰å’Œä¹‹åæ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addInterceptors(InterceptorRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†é™æ€èµ„æºï¼ˆå¦‚ CSSã€JavaScriptã€å›¾ç‰‡ç­‰æ–‡ä»¶ï¼‰çš„è¯·æ±‚ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†è·¨åŸŸè¯·æ±‚ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºå¯ä»¥æ­£ç¡®åœ°å“åº”æ¥è‡ªä¸åŒåŸŸåçš„ AJAX è¯·æ±‚æˆ–å…¶ä»–è·¨åŸŸè¯·æ±‚ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addCorsMappings(CorsRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå¿«é€Ÿå®šä¹‰ç®€å•çš„ URL åˆ°è§†å›¾çš„æ˜ å°„ï¼Œè€Œæ— éœ€ç¼–å†™å®Œæ•´çš„æ§åˆ¶å™¨ç±»å’Œæ–¹æ³•ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addViewControllers(ViewControllerRegistry registry) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•è§£ææ§åˆ¶å™¨æ–¹æ³•ä¸­çš„å‚æ•°ï¼ŒåŒ…æ‹¬å¦‚ä½•ä»è¯·æ±‚ä¸­è·å–å¹¶è½¬æ¢å‚æ•°å€¼ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ï¼ŒåŒ…æ‹¬å¦‚ä½•å°†è¿”å›å€¼è½¬æ¢ä¸ºå®é™…çš„ HTTP å“åº”ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> addReturnValueHandlers(List&lt;HandlerMethodReturnValueHandler&gt; handlers) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç† HTTP è¯·æ±‚å’Œå“åº”çš„æ•°æ®æ ¼å¼ï¼Œå…è®¸ä½ æ·»åŠ æˆ–è°ƒæ•´é»˜è®¤çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œä»¥æ”¯æŒç‰¹å®šçš„æ•°æ®æ ¼å¼ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {}
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ç”¨äºå®šåˆ¶ Spring MVC å¦‚ä½•å¤„ç†æ§åˆ¶å™¨æ–¹æ³•ä¸­æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå…è®¸ä½ æ·»åŠ é¢å¤–çš„å¼‚å¸¸å¤„ç†é€»è¾‘ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">default</span> <span style="color:#fff;font-weight:bold">void</span> extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="webmvcconfigureræ¥å£çš„å®ç°ç±»webmvcautoconfigurationadapter"><code>WebMvcConfigurer</code>æ¥å£çš„å®ç°ç±»<code>WebMvcAutoConfigurationAdapter</code><a hidden class="anchor" aria-hidden="true" href="#webmvcconfigureræ¥å£çš„å®ç°ç±»webmvcautoconfigurationadapter">#</a></h4>
<p><code>WebMvcAutoConfigurationAdapter</code>æ˜¯Spring Bootæ¡†æ¶æä¾›çš„ï¼Œå®ç°äº†Spring MVCä¸­çš„<code>WebMvcConfigurer</code>æ¥å£ï¼Œå¯¹Spring MVCçš„æ‰€æœ‰è¡Œä¸ºè¿›è¡Œäº†é»˜è®¤çš„é…ç½®ã€‚</p>
<p>å¦‚æœæƒ³è¦æ”¹å˜è¿™äº›é»˜è®¤é…ç½®ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿçœ‹æºç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/017e4738dcba92c437789f79b2becc2a_MD5.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ç±»ä¸Šæœ‰ä¸€ä¸ªæ³¨è§£<code>@EnableConfigurationProperties({ WebMvcProperties.class, WebProperties.class })</code>ï¼Œè¯¥æ³¨è§£è´Ÿè´£å¯ç”¨é…ç½®å±æ€§ã€‚ä¼šå°†é…ç½®æ–‡ä»¶<code>application.properties</code>æˆ–<code>application.yml</code>ä¸­çš„é…ç½®ä¼ é€’åˆ°è¯¥ç±»ä¸­ã€‚å› æ­¤å¯ä»¥é€šè¿‡<code>application.properties</code>æˆ–<code>application.yml</code>é…ç½®æ–‡ä»¶æ¥æ”¹å˜Spring Bootå¯¹SpringMVCçš„é»˜è®¤é…ç½®ã€‚<code>WebMvcProperties</code>å’Œ<code>WebProperties</code>æºç å¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6d48000cd8e9eafe03d3072a1338c318_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8acde3609f8f592d08ef61cd78c6b7ef_MD5.png"></p>
<p>é€šè¿‡ä»¥ä¸Šæºç å¾—çŸ¥è¦æ”¹å˜SpringBootå¯¹SpringMVCçš„é»˜è®¤é…ç½®ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ä»¥ä¸‹å‰ç¼€çš„é…ç½®ï¼š</p>
<ul>
<li>spring.mvcï¼š<font style="color:rgb(44, 44, 54);">ä¸»è¦ç”¨äºé…ç½® Spring MVC çš„ç›¸å…³è¡Œä¸ºï¼Œä¾‹å¦‚è·¯å¾„åŒ¹é…ã€è§†å›¾è§£æã€é™æ€èµ„æºå¤„ç†ç­‰</font></li>
<li>spring.webï¼šé€šå¸¸ç”¨äºé…ç½®ä¸€äº›é€šç”¨çš„ Web å±‚è®¾ç½®ï¼Œå¦‚èµ„æºå¤„ç†ã€å®‰å…¨æ€§é…ç½®ç­‰ã€‚</li>
</ul>
<h2 id="è‡ªåŠ¨é…ç½®ä¸­çš„é™æ€èµ„æºå¤„ç†">è‡ªåŠ¨é…ç½®ä¸­çš„é™æ€èµ„æºå¤„ç†<a hidden class="anchor" aria-hidden="true" href="#è‡ªåŠ¨é…ç½®ä¸­çš„é™æ€èµ„æºå¤„ç†">#</a></h2>
<p>webç«™ç‚¹ä¸­çš„é™æ€èµ„æºæŒ‡çš„æ˜¯ï¼šjsã€cssã€å›¾ç‰‡ç­‰ã€‚</p>
<h3 id="é™æ€èµ„æºå¤„ç†æºç åˆ†æ">é™æ€èµ„æºå¤„ç†æºç åˆ†æ<a hidden class="anchor" aria-hidden="true" href="#é™æ€èµ„æºå¤„ç†æºç åˆ†æ">#</a></h3>
<p>å…³äº<strong>SpringBootå¯¹é™æ€èµ„æºå¤„ç†çš„é»˜è®¤é…ç½®</strong>ï¼ŒæŸ¥çœ‹<code>WebMvcAutoConfigurationAdapter</code>æºç ï¼Œæ ¸å¿ƒæºç å¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/55e41c92bc6ffce2d5249841ed865058_MD5.png"></p>
<p>å¯¹ä»¥ä¸Šæºç è¿›è¡Œè§£é‡Šï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Override
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ£€æŸ¥ resourceProperties ä¸­çš„ addMappings å±æ€§æ˜¯å¦ä¸º falseã€‚å¦‚æœä¸º falseï¼Œåˆ™è¡¨ç¤ºä¸å¯ç”¨é»˜è®¤çš„é™æ€èµ„æºæ˜ å°„å¤„ç†ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// åœ¨application.propertiesé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œ`spring.web.resources.add-mappings=false`é…ç½®ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºfalseã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å½“ç„¶ï¼Œå¦‚æœæ²¡æœ‰é…ç½®çš„è¯ï¼Œé»˜è®¤å€¼æ˜¯trueã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (!<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">resourceProperties</span>.<span style="color:#007f7f">isAddMappings</span>()) {
</span></span><span style="display:flex;"><span>        logger.<span style="color:#007f7f">debug</span>(<span style="color:#0ff;font-weight:bold">&#34;Default resource handling disabled&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// é…ç½® WebJars çš„é™æ€èµ„æºå¤„ç†ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// this.mvcProperties.getWebjarsPathPattern()çš„æ‰§è¡Œç»“æœæ˜¯ï¼š/webjars/**</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚è·¯å¾„æ˜¯ http://localhost:8080/webjars/** ï¼Œåˆ™è‡ªåŠ¨å»ç±»è·¯å¾„ä¸‹çš„ /META-INF/resources/webjars/ ç›®å½•ä¸­æ‰¾é™æ€èµ„æºã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¦‚æœè¦æ”¹å˜è¿™ä¸ªé»˜è®¤çš„é…ç½®ï¼Œéœ€è¦åœ¨application.propertiesæ–‡ä»¶ä¸­è¿›è¡Œè¿™æ ·çš„é…ç½®ï¼š`spring.mvc.webjars-path-pattern=...`</span>
</span></span><span style="display:flex;"><span>    addResourceHandler(registry, <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">mvcProperties</span>.<span style="color:#007f7f">getWebjarsPathPattern</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;classpath:/META-INF/resources/webjars/&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// é…ç½®æ™®é€šé™æ€èµ„æºå¤„ç†</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// this.mvcProperties.getStaticPathPattern()çš„æ‰§è¡Œç»“æœæ˜¯ï¼š/**</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// this.resourceProperties.getStaticLocations()çš„æ‰§è¡Œç»“æœæ˜¯ï¼š{ &#34;classpath:/META-INF/resources/&#34;,&#34;classpath:/resources/&#34;, &#34;classpath:/static/&#34;, &#34;classpath:/public/&#34; }</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚è·¯å¾„æ˜¯ï¼šhttp://localhost:8080/**ï¼Œæ ¹æ®æ§åˆ¶å™¨æ–¹æ³•ä¼˜å…ˆåŸåˆ™ï¼Œä¼šå…ˆå»æ‰¾åˆé€‚çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œé™æ€èµ„æºå¤„ç†æ‰ä¼šç”Ÿæ•ˆï¼Œåˆ™è‡ªåŠ¨å»ç±»è·¯å¾„ä¸‹çš„/META-INF/resources/ã€/resources/ã€/static/ã€/public/ 4ä¸ªä½ç½®æ‰¾ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¦‚æœè¦æ”¹å˜è¿™ä¸ªé»˜è®¤çš„é…ç½®ï¼Œéœ€è¦åœ¨application.propertiesä¸­è¿›è¡Œå¦‚ä¸‹çš„ä¸¤ä¸ªé…ç½®ï¼š</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// é…ç½®URLï¼šspring.mvc.static-path-pattern=...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// é…ç½®ç‰©ç†è·¯å¾„ï¼šspring.web.resources.static-locations=...,...,...,...</span>
</span></span><span style="display:flex;"><span>    addResourceHandler(registry, <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">mvcProperties</span>.<span style="color:#007f7f">getStaticPathPattern</span>(), (registration) -&gt; {
</span></span><span style="display:flex;"><span>        registration.<span style="color:#007f7f">addResourceLocations</span>(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">resourceProperties</span>.<span style="color:#007f7f">getStaticLocations</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">servletContext</span> != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            ServletContextResource resource = <span style="color:#fff;font-weight:bold">new</span> ServletContextResource(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">servletContext</span>, SERVLET_LOCATION);
</span></span><span style="display:flex;"><span>            registration.<span style="color:#007f7f">addResourceLocations</span>(resource);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å…³äºwebjarsé™æ€èµ„æºå¤„ç†">å…³äºWebJarsé™æ€èµ„æºå¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å…³äºwebjarsé™æ€èµ„æºå¤„ç†">#</a></h3>
<p>é»˜è®¤è§„åˆ™æ˜¯ï¼šå½“è¯·æ±‚è·¯å¾„æ˜¯<code>/webjars/**</code>ï¼Œåˆ™ä¼šå»<code>classpath:/META-INF/resources/webjars/</code>æ‰¾ã€‚</p>
<p><strong>WebJarsä»‹ç»</strong></p>
<p><font style="color:rgb(44, 44, 54);">WebJars æ˜¯ä¸€ç§å°†å¸¸ç”¨çš„å‰ç«¯åº“ï¼ˆå¦‚ jQueryã€Bootstrapã€Font Awesome ç­‰ï¼‰æ‰“åŒ…æˆ JAR æ–‡ä»¶çš„å½¢å¼ï¼Œæ–¹ä¾¿åœ¨ Java åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ã€‚WebJars æä¾›äº†ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥ç®¡ç†å‰ç«¯åº“ï¼Œä½¿å…¶æ›´å®¹æ˜“é›†æˆåˆ° Java é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨ Maven çš„ä¾èµ–ç®¡ç†åŠŸèƒ½ã€‚</font></p>
<p><font style="color:rgb(44, 44, 54);"></font></p>
<p><strong><font style="color:rgb(44, 44, 54);">WebJarsåœ¨SpringBootä¸­çš„ä½¿ç”¨</font></strong></p>
<p><font style="color:rgb(44, 44, 54);">WebJarså®˜ç½‘ï¼š</font><a href="https://www.webjars.org/">https://www.webjars.org/</a></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7f9660a89be3f6e5bfd470506acfb69f_MD5.png"></p>
<p>åœ¨å®˜ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°æŸä¸ªwebjarsçš„mavenä¾èµ–ï¼Œå°†ä¾èµ–åŠ å…¥åˆ°SpringBooté¡¹ç›®ä¸­ï¼Œä¾‹å¦‚æˆ‘ä»¬æ·»åŠ vueçš„ä¾èµ–ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>org.webjars.npm<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>vue<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;version&gt;</span>3.5.12<span style="font-weight:bold">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚ä¸‹å›¾è¡¨ç¤ºåŠ å…¥æˆåŠŸï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/eafba324f9982a8d4c9b0c0f8de5ce14_MD5.png"></p>
<p>åœ¨jaråŒ…åˆ—è¡¨ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/08c2f71c0a0746674c4d4e6e17826a00_MD5.png"></p>
<p>åœ¨SpringBootä¸­ï¼Œå¯¹WebJarsçš„é»˜è®¤è®¿é—®è§„åˆ™æ˜¯ï¼šå½“è¯·æ±‚è·¯å¾„æ˜¯<code>/webjars/**</code>ï¼Œåˆ™ä¼šå»<code>classpath:/META-INF/resources/webjars/</code>æ‰¾ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬è¦æƒ³è®¿é—®ä¸Šå›¾çš„<code>index.js</code>ï¼Œåˆ™åº”è¯¥å‘é€è¿™æ ·çš„è¯·æ±‚è·¯å¾„ï¼š<code>http://localhost:8080/webjars/vue/3.5.12/index.js</code></p>
<p>å¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8fd538750e90d2257ba0a1f556f64b29_MD5.png"></p>
<p>å’ŒIDEAä¸­çš„æ–‡ä»¶å¯¹æ¯”ä¸€ä¸‹ï¼Œå®Œå…¨ä¸€æ ·åˆ™è¡¨ç¤ºæµ‹è¯•æˆåŠŸï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8205bbde03d496978e379e1d2cd8ae8f_MD5.png"></p>
<h3 id="å…³äºæ™®é€šé™æ€èµ„æºå¤„ç†">å…³äºæ™®é€šé™æ€èµ„æºå¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å…³äºæ™®é€šé™æ€èµ„æºå¤„ç†">#</a></h3>
<p>SpringBootå¯¹æ™®é€šé™æ€èµ„æºå¤„ç†çš„è§„åˆ™æ˜¯ï¼š</p>
<p>å½“è¯·æ±‚è·¯å¾„æ˜¯<a href="http://localhost:8080/**">http://localhost:8080/**</a>ï¼Œæ ¹æ®æ§åˆ¶å™¨æ–¹æ³•ä¼˜å…ˆåŸåˆ™ï¼Œä¼šå…ˆå»æ‰¾åˆé€‚çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œé™æ€èµ„æºå¤„ç†æ‰ä¼šç”Ÿæ•ˆï¼Œåˆ™è‡ªåŠ¨å»ç±»è·¯å¾„ä¸‹çš„ä»¥ä¸‹4ä¸ªä½ç½®æŸ¥æ‰¾ï¼š</p>
<ul>
<li>classpath:/META-INF/resources/</li>
<li>classpath:/resources/</li>
<li>classpath:/static/</li>
<li>classpath:/public/</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®ä¸­åˆ†åˆ«åˆ›å»ºä»¥ä¸Š4ä¸ªç›®å½•ï¼Œåœ¨4ä¸ªç›®å½•å½“ä¸­æ”¾å…¥é™æ€èµ„æºï¼Œä¾‹å¦‚4å¼ å›¾ç‰‡ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/fb8bf03c8f94df525feaa1982a32d0d1_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/f22d412d84ad3333291f46013f7b63c3_MD5.png"></p>
<p>ç„¶åå¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼Œæµ‹è¯•æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®å›¾ç‰‡ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/449270cb860677bb650df4eb976a338b_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6bbe5294f761e227d8baa737efed7ac3_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a4588eb1db92586889bf935eee9bb267_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/0d6781bb540f6e0421c0fda2d97addbf_MD5.png"></p>
<h3 id="å…³äºé™æ€èµ„æºç¼“å­˜å¤„ç†">å…³äºé™æ€èµ„æºç¼“å­˜å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å…³äºé™æ€èµ„æºç¼“å­˜å¤„ç†">#</a></h3>
<p>ä¸ç®¡æ˜¯webjarsçš„é™æ€èµ„æºè¿˜æ˜¯æ™®é€šé™æ€èµ„æºï¼Œç»Ÿä¸€éƒ½ä¼šæ‰§è¡Œä»¥ä¸‹è¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æœ€åå‡ è¡Œä»£ç å°±æ˜¯å…³äºé™æ€èµ„æºçš„ç¼“å­˜å¤„ç†æ–¹å¼ã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/23adcb26563b34e5ab21aa1263067c3a_MD5.png"></p>
<p><strong>ä»€ä¹ˆæ˜¯é™æ€èµ„æºç¼“å­˜ï¼Œè°ç¼“å­˜ï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></p>
<p>é™æ€èµ„æºç¼“å­˜æŒ‡çš„æ˜¯æµè§ˆå™¨çš„ç¼“å­˜è¡Œä¸ºï¼Œæµè§ˆå™¨å¯ä»¥å°†é™æ€èµ„æºï¼ˆjsã€cssã€å›¾ç‰‡ã€å£°éŸ³ã€è§†é¢‘ï¼‰ç¼“å­˜åˆ°æµè§ˆå™¨ä¸­ï¼Œåªè¦ä¸‹ä¸€æ¬¡ç”¨æˆ·è®¿é—®åŒæ ·çš„é™æ€èµ„æºç›´æ¥ä»ç¼“å­˜ä¸­å–ï¼Œä¸å†ä»æœåŠ¡å™¨ä¸­è·å–ï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨çš„å‹åŠ›ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚è€Œè¿™ä¸ªç¼“å­˜ç­–ç•¥å¯ä»¥åœ¨æœåŠ¡å™¨ç«¯ç¨‹åºä¸­è¿›è¡Œè®¾ç½®ï¼ŒSpringBootå¯¹é™æ€èµ„æºç¼“å­˜çš„é»˜è®¤ç­–ç•¥å°±æ˜¯ä»¥ä¸‹è¿™ä¸‰è¡Œä»£ç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b884c9cb89e1d14c98095a751e1bf895_MD5.png"></p>
<p>ä»¥ä¸Šä¸‰è¡Œä»£ç çš„è§£é‡Šå¦‚ä¸‹ï¼š</p>
<ul>
<li>registration.setCachePeriod(getSeconds(this.resourceProperties.getCache().getPeriod()));
<ul>
<li>è®¾ç½®ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šå•ä½ï¼Œé»˜è®¤å•ä½æ˜¯ç§’ï¼‰</li>
<li>æµè§ˆå™¨ä¼š<strong>æ ¹æ®å“åº”å¤´ä¸­çš„ç¼“å­˜æ§åˆ¶ä¿¡æ¯</strong>å†³å®šæ˜¯å¦ä»æœ¬åœ°ç¼“å­˜ä¸­åŠ è½½èµ„æºï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»æœåŠ¡å™¨é‡æ–°è¯·æ±‚ã€‚è¿™æœ‰åŠ©äºå‡å°‘ç½‘ç»œæµé‡å’Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</li>
<li>å‡è®¾ä½ é…ç½®äº†é™æ€èµ„æºç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º 1 å°æ—¶ï¼ˆ3600 ç§’ï¼‰ï¼Œé‚£ä¹ˆæµè§ˆå™¨åœ¨é¦–æ¬¡è¯·æ±‚æŸä¸ªé™æ€èµ„æºåï¼Œä¼šåœ¨æ¥ä¸‹æ¥çš„ä¸€å°æ—¶å†…ä»æœ¬åœ°ç¼“å­˜åŠ è½½è¯¥èµ„æºï¼Œè€Œä¸æ˜¯é‡æ–°è¯·æ±‚æœåŠ¡å™¨ã€‚</li>
<li>å¯ä»¥é€šè¿‡<code>application.properties</code>çš„æ¥ä¿®æ”¹é»˜è®¤çš„è¿‡æœŸæ—¶é—´ï¼Œä¾‹å¦‚ï¼š<code>&lt;font style=&quot;color:rgb(51, 51, 51);&quot;&gt;spring.web.resources.cache.period=3600&lt;/font&gt;</code><font style="color:rgb(51, 51, 51);">æˆ–è€…</font><code>&lt;font style=&quot;color:rgb(51, 51, 51);&quot;&gt;spring.web.resources.cache.period=1h&lt;/font&gt;</code></li>
</ul>
</li>
<li>registration.setCacheControl(this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl());
<ul>
<li>è®¾ç½®é™æ€èµ„æºçš„ Cache-Control HTTP å“åº”å¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨å¦‚ä½•å»ç¼“å­˜è¿™äº›èµ„æºã€‚</li>
<li><code>&lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;Cache-Control&lt;/font&gt;</code><font style="color:rgb(44, 44, 54);"> HTTP å“åº”å¤´   æ˜¯HTTPå“åº”åè®®çš„ä¸€éƒ¨åˆ†å†…å®¹ã€‚å¦‚ä¸‹å›¾å“åº”åè®®çš„å“åº”å¤´ä¿¡æ¯ä¸­å³å¯çœ‹åˆ°</font><code>&lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;Cache-Control&lt;/font&gt;</code><font style="color:rgb(44, 44, 54);">çš„å­—æ ·ï¼š</font></li>
</ul>
</li>
</ul>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b2a14561bfcaaf8eab65e93046618304_MD5.png"></p>
<pre><code>- &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;å¸¸è§çš„ Cache-Control æŒ‡ä»¤åŒ…æ‹¬ï¼š&lt;/font&gt;
    * &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;max-age=&lt;seconds&gt;ï¼šè¡¨ç¤ºå“åº”åœ¨å¤šå°‘ç§’å†…æœ‰æ•ˆã€‚&lt;/font&gt;
    * &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;publicï¼šè¡¨ç¤ºå“åº”å¯ä»¥è¢«ä»»ä½•ç¼“å­˜æœºåˆ¶ï¼ˆå¦‚ä»£ç†æœåŠ¡å™¨ï¼‰ç¼“å­˜ã€‚&lt;/font&gt;
    * &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;privateï¼šè¡¨ç¤ºå“åº”åªèƒ½è¢«ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ã€‚&lt;/font&gt;
    * &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;no-cacheï¼šè¡¨ç¤ºåœ¨ä½¿ç”¨ç¼“å­˜çš„èµ„æºä¹‹å‰å¿…é¡»é‡æ–°å‘é€ä¸€æ¬¡è¯·æ±‚è¿›è¡ŒéªŒè¯ã€‚&lt;/font&gt;
    * &lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;no-storeï¼šè¡¨ç¤ºä¸ç¼“å­˜ä»»ä½•å“åº”çš„èµ„æºã€‚&lt;/font&gt;
- ä¾‹å¦‚ï¼šmax-age=3600, publicï¼šè¡¨ç¤ºå“åº”åœ¨ 3600 ç§’å†…æœ‰æ•ˆï¼Œå¹¶ä¸”å¯ä»¥è¢«ä»»ä½•ç¼“å­˜æœºåˆ¶ç¼“å­˜ã€‚
- å¯ä»¥é€šè¿‡`spring.web.resources.cache.cachecontrol.max-age=3600`ä»¥åŠ`spring.web.resources.cache.cachecontrol.cache-public=true`è¿›è¡Œé‡æ–°é…ç½®ã€‚
</code></pre>
<ul>
<li>registration.setUseLastModified(this.resourceProperties.getCache().isUseLastModified());
<ul>
<li>è®¾ç½®é™æ€èµ„æºåœ¨å“åº”æ—¶ï¼Œæ˜¯å¦åœ¨å“åº”å¤´ä¸­æ·»åŠ èµ„æºçš„æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ã€‚SpringBooté»˜è®¤é…ç½®çš„æ˜¯ï¼šåœ¨å“åº”å¤´ä¸­æ·»åŠ å“åº”èµ„æºçš„æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ã€‚</li>
<li>æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ç¼“å­˜ä¸­çš„èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å’ŒæœåŠ¡å™¨ç«¯èµ„æºçš„æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´è¿›è¡Œæ¯”å¯¹ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œä»ç„¶ä»ç¼“å­˜ä¸­è·å–ã€‚</li>
<li>å¯ä»¥é€šè¿‡<code>spring.web.resources.cache.use-last-modified=false</code>æ¥è¿›è¡Œé‡æ–°é…ç½®ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é™æ€èµ„æºç¼“å­˜æµ‹è¯•">é™æ€èµ„æºç¼“å­˜æµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#é™æ€èµ„æºç¼“å­˜æµ‹è¯•">#</a></h3>
<p>æ ¹æ®ä¹‹å‰æºç åˆ†æï¼Œå¾—çŸ¥<code>é™æ€èµ„æºç¼“å­˜</code>ç›¸å…³çš„é…ç½®åº”è¯¥ä½¿ç”¨<code>spring.web.resources.cache</code>ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8349aa97fb7684dad856a957a0e5636e_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/031759a2d51cf28b0a9724854fd700c9_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/aad5aa3aeccd526d8470005c65dd89a5_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a06c6acc043cd24057101ce90de6a8b5_MD5.png"></p>
<p>åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­å¯¹ç¼“å­˜è¿›è¡Œå¦‚ä¸‹çš„é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># é™æ€èµ„æºç¼“å­˜è®¾ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1. ç¼“å­˜æœ‰æ•ˆæœŸ</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.web.resources.cache.period</span>=<span style="color:#0ff;font-weight:bold">100</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2. ç¼“å­˜æ§åˆ¶ï¼ˆcachecontrolé…ç½®çš„è¯ï¼Œperiodä¼šå¤±æ•ˆï¼‰</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.web.resources.cache.cachecontrol.max-age</span>=<span style="color:#0ff;font-weight:bold">20</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3. æ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„æœ€åä¿®æ”¹æ—¶é—´ï¼ˆé»˜è®¤æ˜¯ï¼šä½¿ç”¨ï¼‰</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.web.resources.cache.use-last-modified</span>=<span style="color:#0ff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4. æ˜¯å¦å¼€å¯é™æ€èµ„æºé»˜è®¤å¤„ç†æ–¹å¼ï¼ˆé»˜è®¤æ˜¯ï¼šå¼€å¯ï¼‰</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.web.resources.add-mappings</span>=<span style="color:#0ff;font-weight:bold">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼š<code>cachecontrol.max-age</code>é…ç½®çš„è¯ï¼Œ<code>period</code>ä¼šè¢«è¦†ç›–ã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/01539eb2b8c7e80594c32079a988a9f7_MD5.png"></p>
<p>å¯åŠ¨æœåŠ¡å™¨æµ‹è¯•ï¼šçœ‹çœ‹æ˜¯å¦åœ¨20ç§’å†…èµ°ç¼“å­˜ï¼Œ20ç§’ä¹‹åæ˜¯ä¸æ˜¯å°±ä¸èµ°ç¼“å­˜äº†ï¼ï¼ï¼</p>
<p>ç¬¬ä¸€æ¬¡è®¿é—®ï¼šè¯·æ±‚æœåŠ¡å™¨</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/d5dc0d9024dc89e8d94de19884f9b5f5_MD5.png"></p>
<p>ç¬¬äºŒæ¬¡è®¿é—®ï¼š20ç§’å†…å¼€å¯ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£ï¼Œå†æ¬¡è®¿é—®ï¼Œå‘ç°èµ°äº†ç¼“å­˜</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6cb2127be03d8c9d362bbd183c2ba1d9_MD5.png"></p>
<p>ç¬¬ä¸‰æ¬¡è®¿é—®ï¼š20ç§’åå¼€å¯ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£ï¼Œå†æ¬¡è®¿é—®ï¼Œå‘ç°é‡æ–°è¯·æ±‚æœåŠ¡å™¨</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/2168c0b28c4e77c5d4a7e9f77329676b_MD5.png"></p>
<p>æç¤ºï¼Œä¸ºä»€ä¹ˆæ˜¾ç¤º<code>304</code>ï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸ªé…ç½®ï¼š<code>spring.web.resources.cache.use-last-modified=true</code></p>
<h3 id="webåº”ç”¨çš„æ¬¢è¿é¡µé¢">webåº”ç”¨çš„æ¬¢è¿é¡µé¢<a hidden class="anchor" aria-hidden="true" href="#webåº”ç”¨çš„æ¬¢è¿é¡µé¢">#</a></h3>
<h4 id="æ¬¢è¿é¡µæµ‹è¯•">æ¬¢è¿é¡µæµ‹è¯•<a hidden class="anchor" aria-hidden="true" href="#æ¬¢è¿é¡µæµ‹è¯•">#</a></h4>
<p>å…ˆè¯´ç»“è®ºï¼šåªè¦åœ¨é™æ€èµ„æºè·¯å¾„ä¸‹æä¾›<code>index.html</code>ï¼Œåˆ™è¢«å½“åšæ¬¢è¿é¡µé¢ã€‚é™æ€èµ„æºè·¯å¾„æŒ‡çš„æ˜¯ä¹‹å‰çš„4ä¸ªè·¯å¾„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>{ &#34;classpath:/META-INF/resources/&#34;, &#34;classpath:/resources/&#34;, &#34;classpath:/static/&#34;, &#34;classpath:/public/&#34; }
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨<code>classpath:/static/</code>ç›®å½•ä¸‹æ–°å»º<code>index.html</code>é¡µé¢ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/e188fa250663c6fa484b706816b30e63_MD5.png"></p>
<p>å¯åŠ¨æœåŠ¡å™¨ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/475e30ad76da99a9337408b4666cff64_MD5.png"></p>
<p>å¦‚æœåŒæ—¶åœ¨4ä¸ªé™æ€èµ„æºè·¯å¾„ä¸‹éƒ½æä¾›<code>index.html</code>ï¼Œå“ªä¸ªé¡µé¢ä¼šè¢«å½“åšæ¬¢è¿é¡µå‘¢ï¼Ÿ</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/04b6fcdb612c3e311b5066368af05d89_MD5.png"></p>
<p>å¯åŠ¨æœåŠ¡å™¨ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/9127693d8120a252028542a1d0503aea_MD5.png"></p>
<p>åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸º<code>classpath:/META-INF/resources/</code>æ˜¯æ•°ç»„çš„é¦–å…ƒç´ ï¼Œå› æ­¤å…ˆä»è¿™ä¸ªè·¯å¾„ä¸‹æ‰¾æ¬¢è¿é¡µã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/3ba2e8de4077dbc10c95f4e3bcace84e_MD5.png"></p>
<h4 id="æ¬¢è¿é¡µæºç åˆ†æ">æ¬¢è¿é¡µæºç åˆ†æ<a hidden class="anchor" aria-hidden="true" href="#æ¬¢è¿é¡µæºç åˆ†æ">#</a></h4>
<p>åœ¨<code>WebMvcAutoConfiguration</code>ç±»ä¸­æœ‰ä¸€ä¸ªå†…éƒ¨ç±»<code>EnableWebMvcConfiguration</code>ï¼Œè¿™ä¸ªç±»ä¸­æœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/55d42485d768ee66c4a9d03429970b0c_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/1a06a1398497858973f4d1e3689333cf_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/1ceb95c3446aaa52168ab180d3fea3f1_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/bc0baf195e998159d208f511fe1f9337_MD5.png"></p>
<p>é€šè¿‡ä»¥ä¸Šæºç è¿½è¸ªï¼Œå¾—å‡ºç»“è®ºï¼šåªè¦è¯·æ±‚è·¯å¾„æ˜¯<code>/**</code>çš„ï¼Œä¼šä¾æ¬¡å»<code>{ &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; }</code>è¿™å››ä¸ªä½ç½®æ‰¾<code>index.html</code>é¡µé¢ä½œä¸ºæ¬¢è¿é¡µã€‚</p>
<h4 id="ä¸€ä¸ªå°å°çš„ç–‘æƒ‘">ä¸€ä¸ªå°å°çš„ç–‘æƒ‘<a hidden class="anchor" aria-hidden="true" href="#ä¸€ä¸ªå°å°çš„ç–‘æƒ‘">#</a></h4>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>WebMvcAutoConfiguration</code>çš„ç”Ÿæ•ˆæ¡ä»¶ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/1dc6b9b2d6592210e811c42d316b5f5d_MD5.png"></p>
<p>ä¸Šå›¾çº¢æ¡†å†…è¡¨ç¤ºï¼Œè¦æ±‚Springå®¹å™¨ä¸­ç¼ºå¤±<code>WebMvcConfigurationSupport</code>è¿™ä¸ªBeanï¼Œ<code>WebMvcAutoConfiguration</code>æ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>EnableWebMvcConfiguration</code>çš„ç»§æ‰¿ç»“æ„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/99cabbbca68c7a655d43e982a33f02c6_MD5.png"></p>
<p>å¾ˆæ˜æ˜¾ï¼Œ<code>EnableWebMvcConfiguration</code>å°±æ˜¯ä¸€ä¸ª<code>WebMvcConfigurationSupport</code>è¿™æ ·çš„Beanã€‚</p>
<p>é‚£ç–‘é—®å°±æœ‰äº†ï¼šæ—¢ç„¶å®¹å™¨ä¸­å­˜åœ¨<code>WebMvcConfigurationSupport</code>è¿™æ ·çš„Beanï¼Œ<code>WebMvcAutoConfiguration</code>ä¸ºä»€ä¹ˆè¿˜ä¼šç”Ÿæ•ˆå‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯å› ä¸ºï¼š<code>EnableWebMvcConfiguration</code>æ˜¯<code>WebMvcAutoConfiguration</code>ç±»çš„å†…éƒ¨ç±»ã€‚åœ¨<code>WebMvcAutoConfiguration</code>è¿›è¡ŒåŠ è½½çš„æ—¶å€™ï¼Œ<code>EnableWebMvcConfiguration</code>è¿™ä¸ªå†…éƒ¨ç±»è¿˜æ²¡æœ‰åŠ è½½ã€‚å› æ­¤è¿™ä¸ªæ—¶å€™åœ¨å®¹å™¨ä¸­è¿˜ä¸å­˜åœ¨<code>WebMvcConfigurationSupport</code>çš„Beanï¼Œæ‰€ä»¥<code>WebMvcAutoConfiguration</code>ä»ç„¶ä¼šç”Ÿæ•ˆã€‚</p>
<p><strong><font style="color:#DF2A3F;">ä»¥ä¸Šæ‰€è¯´çš„</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;WebMvcAutoConfiguration&lt;/font&gt;**</code><strong><font style="color:#DF2A3F;">ç±»ä¸­çš„å†…éƒ¨ç±»</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;EnableWebMvcConfiguration&lt;/font&gt;**</code><strong><font style="color:#DF2A3F;">ï¼Œæ˜¯ç”¨æ¥å¯ç”¨Web MVCé»˜è®¤é…ç½®çš„ã€‚</font></strong></p>
<p><strong><font style="color:#DF2A3F;"></font></strong></p>
<p><strong><font style="color:#DF2A3F;">æ³¨æ„åŒºåˆ†ï¼šWebMvcAutoConfigurationçš„ä¸¤ä¸ªå†…éƒ¨ç±»ï¼š</font></strong></p>
<ul>
<li><code>WebMvcAutoConfigurationAdapter</code>ä½œç”¨æ˜¯ç”¨æ¥ï¼šä¿®æ”¹é…ç½®çš„</li>
<li><code>EnableWebMvcConfiguration</code>ä½œç”¨æ˜¯ç”¨æ¥ï¼šå¯ç”¨é…ç½®çš„</li>
</ul>
<h4 id="favorite-icon">favorite icon<a hidden class="anchor" aria-hidden="true" href="#favorite-icon">#</a></h4>
<p>faviconï¼ˆä¹Ÿç§°ä¸ºâ€œæ”¶è—å¤¹å›¾æ ‡â€æˆ–â€œç½‘ç«™å›¾æ ‡â€ï¼‰æ˜¯å¤§å¤šæ•°ç°ä»£ç½‘é¡µæµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºä¹‹ä¸€ã€‚å½“ç”¨æˆ·è®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨é€šå¸¸ä¼šå°è¯•ä»è¯¥ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹è½½åä¸º favicon.ico çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶ç”¨ä½œæ ‡ç­¾é¡µçš„å›¾æ ‡ã€‚</p>
<p>å¦‚æœç½‘ç«™æ²¡æœ‰æä¾› favicon.ico æ–‡ä»¶ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªé»˜è®¤å›¾æ ‡ï¼Œæˆ–è€…æ ¹æœ¬ä¸æ˜¾ç¤ºä»»ä½•å›¾æ ‡ã€‚ä¸ºäº†ç¡®ä¿è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œç½‘ç«™å¼€å‘è€…é€šå¸¸ä¼šåœ¨ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹æ”¾ç½®ä¸€ä¸ª favicon.ico æ–‡ä»¶ã€‚</p>
<p>Spring Booté¡¹ç›®ä¸­<code>favicon.ico</code>æ–‡ä»¶åº”è¯¥æ”¾åœ¨å“ªé‡Œå‘¢ï¼ŸSpring Bootå®˜æ–¹æ˜¯è¿™æ ·è¯´æ˜çš„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/ef7833fdcb824a95576f02c6039188a4_MD5.png"></p>
<p>è¿™æ®µè¯ç¿»è¯‘ä¸ºï¼š</p>
<p>ä¸å…¶ä»–é™æ€èµ„æºä¸€æ ·ï¼ŒSpring Boot ä¼šåœ¨é…ç½®çš„é™æ€å†…å®¹ä½ç½®æ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>favicon.ico</code>æ–‡ä»¶ã€‚å¦‚æœå­˜åœ¨è¿™æ ·çš„æ–‡ä»¶ï¼Œå®ƒå°†è‡ªåŠ¨ä½œä¸ºåº”ç”¨ç¨‹åºçš„ favicon ä½¿ç”¨ã€‚</p>
<p>ä»¥ä¸Šå®˜æ–¹è¯´æ˜çš„ï¼šå°†<code>favicon.ico</code>æ–‡ä»¶æ”¾åˆ°é™æ€èµ„æºè·¯å¾„ä¸‹å³å¯ã€‚</p>
<p>webç«™ç‚¹æ²¡æœ‰æä¾›<code>favicon.ico</code>æ—¶ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7498a0b58414a0e9692025763108909a_MD5.png"></p>
<p>æˆ‘ä»¬åœ¨<a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a> ï¼ˆé˜¿é‡Œå·´å·´æä¾›çš„å›¾æ ‡åº“ï¼‰ä¸Šéšä¾¿æ‰¾ä¸€ä¸ªå›¾æ ‡ï¼Œç„¶åå°†å›¾ç‰‡åå­—å‘½åä¸º<code>favicon.ico</code>ï¼Œç„¶åå°†å…¶æ”¾åˆ°SpringBooté¡¹ç›®çš„é™æ€èµ„æºè·¯å¾„ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a1c2f19734b88de707d9c7ce163537cb_MD5.png"></p>
<p>å¯åŠ¨æœåŠ¡å™¨æµ‹è¯•ï¼šè®°ä½ï¼ˆctrl + F5å¼ºè¡Œåˆ·æ–°ä¸€ä¸‹ï¼Œé¿å…å½±å“æµ‹è¯•æ•ˆæœï¼‰</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/415b74ac9bd62b66ef45e551a9a418f0_MD5.png"></p>
<h1 id="springbootçš„webæ‰‹åŠ¨é…ç½®é™æ€èµ„æºå¤„ç†">SpringBootçš„webæ‰‹åŠ¨é…ç½®(é™æ€èµ„æºå¤„ç†)<a hidden class="anchor" aria-hidden="true" href="#springbootçš„webæ‰‹åŠ¨é…ç½®é™æ€èµ„æºå¤„ç†">#</a></h1>
<p>å¦‚æœä½ å¯¹SpringBooté»˜è®¤çš„é™æ€èµ„æºå¤„ç†æ–¹å¼ä¸æ»¡æ„ã€‚å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥æ”¹å˜è¿™äº›é»˜è®¤çš„é…ç½®ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼šé…ç½®æ–‡ä»¶æ–¹å¼
<ul>
<li>é€šè¿‡ä¿®æ”¹<code>application.properties</code>æˆ–<code>application.yml</code></li>
<li>æ·»åŠ <code>spring.mvc</code>å’Œ<code>spring.web</code>ç›¸å…³çš„é…ç½®ã€‚</li>
</ul>
</li>
</ul>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/d56110aab274821d124082a7c76c7df1_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/ccfa9f06f8e961d30d3bbf39d007bfec_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b39bdffe772d5241bbd441e32e3f4770_MD5.png"></p>
<ul>
<li>ç¬¬äºŒç§ï¼šç¼–å†™ä»£ç æ–¹å¼
<ul>
<li>SpringMVCæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†<code>WebMvcConfigurer</code>æ¥å£ï¼Œéœ€è¦æ”¹å˜é»˜è®¤çš„è¡Œä¸ºï¼Œå¯ä»¥<code>ç¼–å†™ä¸€ä¸ªç±»</code>å®ç°<code>WebMvcConfigurer</code>æ¥å£ï¼Œå¹¶<code>å¯¹åº”é‡å†™</code>æ¥å£ä¸­çš„æ–¹æ³•å³å¯æ”¹å˜é»˜è®¤çš„é…ç½®è¡Œä¸ºã€‚</li>
</ul>
</li>
</ul>
<h2 id="é…ç½®æ–‡ä»¶æ–¹å¼">é…ç½®æ–‡ä»¶æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#é…ç½®æ–‡ä»¶æ–¹å¼">#</a></h2>
<p>è¦ä¿®æ”¹<code>è®¿é—®é™æ€èµ„æºURLçš„å‰ç¼€</code>ï¼Œè¿™æ ·é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># Spring MVCçš„ç›¸å…³é…ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1. è®¾ç½®webjarsé™æ€èµ„æºçš„è¯·æ±‚è·¯å¾„çš„å‰ç¼€</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.webjars-path-pattern</span>=<span style="color:#0ff;font-weight:bold">/wjs/**</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2. è®¾ç½®æ™®é€šé™æ€èµ„æºçš„è¯·æ±‚è·¯å¾„çš„å‰ç¼€</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.static-path-pattern</span>=<span style="color:#0ff;font-weight:bold">/static/**</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¦ä¿®æ”¹<code>é™æ€èµ„æºçš„å­˜æ”¾ä½ç½®</code>ï¼Œè¿™æ ·é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.web.resources.static-locations</span>=<span style="color:#0ff;font-weight:bold">classpath:/static1/,classpath:/static2/</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿›è¡Œä»¥ä¸Šé…ç½®ä¹‹åï¼š</p>
<ol>
<li>è®¿é—®webjarsçš„è¯·æ±‚è·¯å¾„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šhttp://localhost:8080/wjs/&hellip;.</li>
<li>è®¿é—®æ™®é€šé™æ€èµ„æºçš„è¯·æ±‚è·¯å¾„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šhttp://localhost:8080/static/&hellip;.</li>
<li>æ™®é€šé™æ€èµ„æºçš„å­˜æ”¾ä½ç½®ä¹Ÿåº”è¯¥æ”¾åˆ°<code>classpath:/static1/,classpath:/static2/</code>ä¸‹é¢ï¼Œå…¶ä»–ä½ç½®æ— æ•ˆã€‚</li>
</ol>
<p><strong>è®¿é—®webjarsæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</strong></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/10536b04010570aaa2e0b6cbec368fbc_MD5.png"></p>
<p><strong>è®¿é—®æ™®é€šé™æ€èµ„æºæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</strong></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/ad39a3001d07f9919e351ba565c44cdb_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/e041ffe52f937c69ed1f3e56cd4cba46_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/0d0853dc8c8892f21a73aec0eb347320_MD5.png"></p>
<p>å¦‚æœè®¿é—®<code>dog2.jpg</code>ï¼Œå°±æ— æ³•è®¿é—®äº†ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/bfde73dc31479742de6f83bc1cea78a0_MD5.png"></p>
<p>ä½†æ˜¯ï¼Œå­˜å‚¨åœ¨<code>classpath:/META-INF/resources/</code>ç›®å½•ä¸‹çš„<code>dog1.jpg</code>ä»ç„¶æ˜¯å¯ä»¥è®¿é—®çš„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8295148228c37eb37f77a5b5948dbb37_MD5.png"></p>
<p>å› æ­¤ï¼Œå­˜å‚¨åœ¨<code>classpath:/META-INF/resources/</code>ä½ç½®çš„é™æ€èµ„æºä¼šè¢«é»˜è®¤åŠ è½½ï¼Œä¸å—æ‰‹åŠ¨é…ç½®çš„å½±å“ã€‚</p>
<h2 id="ç¼–å†™ä»£ç æ–¹å¼">ç¼–å†™ä»£ç æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#ç¼–å†™ä»£ç æ–¹å¼">#</a></h2>
<p>æˆ‘ä»¬åœ¨å‰é¢æåˆ°è¿‡ï¼Œæƒ³è¦å®šåˆ¶Spring MVCçš„è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥ç¼–å†™ç±»å®ç°Spring MVCæ¡†æ¶æä¾›çš„ä¸€ä¸ªæ¥å£<code>WebMvcConfigurer</code>ï¼Œæƒ³å®šåˆ¶å“ªä¸ªè¡Œä¸ºå°±é‡å†™å“ªä¸ªæ–¹æ³•å³å¯ã€‚</p>
<p>ç¼–å†™çš„ç±»åªè¦çº³å…¥IoCå®¹å™¨çš„ç®¡ç†ã€‚å› æ­¤æœ‰ä»¥ä¸‹ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼šç¼–å†™ç±»å®ç°<code>WebMvcConfigurer</code>æ¥å£ï¼Œé‡å†™å¯¹åº”çš„æ–¹æ³•ã€‚</li>
<li>ç¬¬äºŒç§ï¼šä»¥ç»„ä»¶çš„å½¢å¼å­˜åœ¨ï¼šç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨<code>@Bean</code>æ³¨è§£æ ‡æ³¨ã€‚</li>
</ul>
<h3 id="ç¬¬ä¸€ç§æ–¹å¼">ç¬¬ä¸€ç§æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#ç¬¬ä¸€ç§æ–¹å¼">#</a></h3>
<p>ç¼–å†™é…ç½®ç±»ï¼Œå¯¹äº<code>web</code>å¼€å‘æ¥è¯´ï¼Œé…ç½®ç±»ä¸€èˆ¬èµ·åä¸ºï¼š<code>WebConfig</code>ã€‚é…ç½®ç±»ä¸€èˆ¬å­˜æ”¾åˆ°<code>config</code>åŒ…ä¸‹ï¼Œå› æ­¤åœ¨SpringBootä¸»å…¥å£ç¨‹åºåŒçº§ç›®å½•ä¸‹æ–°å»º<code>config</code>åŒ…ï¼Œåœ¨<code>config</code>åŒ…ä¸‹æ–°å»º<code>WebConfig</code>ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä½¿ç”¨è¯¥æ³¨è§£æ ‡æ³¨ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸ºé…ç½®ç±»ã€‚</span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebConfig <span style="color:#fff;font-weight:bold">implements</span> WebMvcConfigurer {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
</span></span><span style="display:flex;"><span>        registry.<span style="color:#007f7f">addResourceHandler</span>(<span style="color:#0ff;font-weight:bold">&#34;/static/**&#34;</span>)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">addResourceLocations</span>(<span style="color:#0ff;font-weight:bold">&#34;classpath:/static1/&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;classpath:/static2/&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šå°†<code>application.properties</code>æ–‡ä»¶ä¸­ä¹‹å‰çš„æ‰€æœ‰é…ç½®å…¨éƒ¨æ³¨é‡Šæ‰ã€‚è®©å…¶æ¢å¤åˆ°æœ€åŸå§‹çš„é»˜è®¤é…ç½®ã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a1b4d97eaa76b4b5092f916e614bb20f_MD5.png"></p>
<p>å¯åŠ¨æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/679e97d9ac59dc6ef2eb479b9f8174a0_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/f86023287741f4acc9d942233e8a6f5a_MD5.png"></p>
<p>é€šè¿‡æµ‹è¯•ï¼Œæˆ‘ä»¬çš„é…ç½®æ˜¯ç”Ÿæ•ˆçš„ã€‚</p>
<p>æˆ‘ä»¬å†æ¥çœ‹çœ‹ï¼Œé»˜è®¤çš„é…ç½®æ˜¯å¦è¿˜ç”Ÿæ•ˆï¼Ÿ</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/224ef284b0ed920a874b4bd312725085_MD5.png"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒSpring Bootå¯¹Spring MVCçš„é»˜è®¤è‡ªåŠ¨é…ç½®æ˜¯ç”Ÿæ•ˆçš„ã€‚</p>
<p><strong><font style="color:#DF2A3F;">å› æ­¤ï¼Œä»¥ä¸Šçš„æ–¹å¼åªæ˜¯åœ¨Spring MVCé»˜è®¤è¡Œä¸ºä¹‹å¤–æ‰©å±•è¡Œä¸ºã€‚</font></strong></p>
<p><strong><font style="color:#DF2A3F;"></font></strong></p>
<p>å¦‚æœä½ ä¸æƒ³å†ç»§ç»­ä½¿ç”¨SpringBootæä¾›çš„é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨<code>@EnableWebMvc</code>è¿›è¡Œæ ‡æ³¨ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@EnableWebMvc
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä½¿ç”¨è¯¥æ³¨è§£æ ‡æ³¨ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸ºé…ç½®ç±»ã€‚</span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebConfig <span style="color:#fff;font-weight:bold">implements</span> WebMvcConfigurer {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
</span></span><span style="display:flex;"><span>        registry.<span style="color:#007f7f">addResourceHandler</span>(<span style="color:#0ff;font-weight:bold">&#34;/static/**&#34;</span>)
</span></span><span style="display:flex;"><span>                .<span style="color:#007f7f">addResourceLocations</span>(<span style="color:#0ff;font-weight:bold">&#34;classpath:/static1/&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;classpath:/static2/&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/116d86650fd0dac129dec6e4d1e3b9f3_MD5.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤é…ç½®å·²ç»ä¸å†ç”Ÿæ•ˆã€‚</p>
<p>å†æ¥çœ‹çœ‹ï¼Œæˆ‘ä»¬è‡ªå·±çš„é…ç½®æ˜¯å¦ä»ç„¶ç”Ÿæ•ˆï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/543043509ccd8e8ffa064b181a47a52e_MD5.png"></p>
<p>ä»ç„¶ç”Ÿæ•ˆã€‚</p>
<h3 id="ç¬¬äºŒç§æ–¹å¼">ç¬¬äºŒç§æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#ç¬¬äºŒç§æ–¹å¼">#</a></h3>
<p>é‡‡ç”¨<code>@Bean</code>æ³¨è§£æä¾›ä¸€ä¸ª<code>WebMvcConfigurer</code>ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Bean;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebConfig2 {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> WebMvcConfigurer addResourceHandlers(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> WebMvcConfigurer() {
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
</span></span><span style="display:flex;"><span>                registry.<span style="color:#007f7f">addResourceHandler</span>(<span style="color:#0ff;font-weight:bold">&#34;/static/**&#34;</span>)
</span></span><span style="display:flex;"><span>                        .<span style="color:#007f7f">addResourceLocations</span>(<span style="color:#0ff;font-weight:bold">&#34;classpath:/static1/&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;classpath:/static2/&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/653ff231785e1acad42a38d4b508648a_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/8dc276403bb442809175c455ccd37336_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/fe3d7d8d7968ba2dd02c9b1b874a0455_MD5.png"></p>
<p>é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶ä¸”ä»¥ä¸Šä»£ç ä¹Ÿæ˜¯åœ¨åŸæœ‰é…ç½®åŸºç¡€ä¸Šè¿›è¡Œæ‰©å±•ã€‚</p>
<p>å¦‚æœè¦å¼ƒç”¨é»˜è®¤é…ç½®ï¼Œä»ç„¶ä½¿ç”¨	<code>@EnableWebMvc</code>æ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚è‡ªè¡Œæµ‹è¯•ï¼</p>
<h3 id="å…¶ä»–é…ç½®ä¹Ÿè¿™æ ·åšå³å¯">å…¶ä»–é…ç½®ä¹Ÿè¿™æ ·åšå³å¯<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–é…ç½®ä¹Ÿè¿™æ ·åšå³å¯">#</a></h3>
<p>ä»¥ä¸Šå¯¹<code>é™æ€èµ„æºå¤„ç†</code>è¿›è¡Œäº†æ‰‹åŠ¨é…ç½®ï¼Œä¹Ÿå¯ä»¥åšå…¶ä»–é…ç½®ï¼Œä¾‹å¦‚æ‹¦æˆªå™¨ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> jakarta.servlet.http.HttpServletRequest;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> jakarta.servlet.http.HttpServletResponse;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Bean;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.HandlerInterceptor;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.ModelAndView;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebConfig2 {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> WebMvcConfigurer addResourceHandlers(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> WebMvcConfigurer() {
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
</span></span><span style="display:flex;"><span>                registry.<span style="color:#007f7f">addResourceHandler</span>(<span style="color:#0ff;font-weight:bold">&#34;/static/**&#34;</span>)
</span></span><span style="display:flex;"><span>                        .<span style="color:#007f7f">addResourceLocations</span>(<span style="color:#0ff;font-weight:bold">&#34;classpath:/static1/&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;classpath:/static2/&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ‹¦æˆªå™¨é…ç½®ã€‚</span>
</span></span><span style="display:flex;"><span>    @Bean
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> WebMvcConfigurer addInterceptor(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> WebMvcConfigurer() {
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addInterceptors(InterceptorRegistry registry) {
</span></span><span style="display:flex;"><span>                registry.<span style="color:#007f7f">addInterceptor</span>(<span style="color:#fff;font-weight:bold">new</span> HandlerInterceptor() {
</span></span><span style="display:flex;"><span>                    @Override
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Interceptor&#39;s preHandle......&#34;</span>);
</span></span><span style="display:flex;"><span>                        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    @Override
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Interceptor&#39;s postHandle......&#34;</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    @Override
</span></span><span style="display:flex;"><span>                    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) <span style="color:#fff;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>                        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;Interceptor&#39;s afterCompletion......&#34;</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå‘é€è¯·æ±‚<a href="http://localhost:8080/static/dog5.jpg">http://localhost:8080/static/dog5.jpg</a>ï¼Œåå°æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/9d032270795418e3cfe5a1df63667bf4_MD5.png"></p>
<p>è¿™è¯´æ˜æ‹¦æˆªå™¨ç”Ÿæ•ˆã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆåªè¦å®¹å™¨ä¸­æœ‰webmvcconfigurerç»„ä»¶å³å¯å‘¢">ä¸ºä»€ä¹ˆåªè¦å®¹å™¨ä¸­æœ‰<code>WebMvcConfigurer</code>ç»„ä»¶å³å¯å‘¢<a hidden class="anchor" aria-hidden="true" href="#ä¸ºä»€ä¹ˆåªè¦å®¹å™¨ä¸­æœ‰webmvcconfigurerç»„ä»¶å³å¯å‘¢">#</a></h3>
<p>æºç åˆ†æï¼š</p>
<p><code>WebMvcAutoConfiguration</code>éƒ¨åˆ†æºç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/306fa818a60bb3df059f0b6d16d2f30e_MD5.png"></p>
<p><code>WebMvcAutoConfiguration</code>ç±»çš„å†…éƒ¨ç±»<code>EnableWebMvcConfiguration</code>ï¼Œè¿™ä¸ªç±»ç»§æ‰¿äº†<code>DelegatingWebMvcConfiguration</code>ï¼ˆDelegatingæ˜¯å§”æ´¾çš„æ„æ€ã€‚ï¼‰</p>
<p><code>DelegatingWebMvcConfiguration</code>éƒ¨åˆ†æºç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/00c7faf2266cbcca3f81a56ba8529ad6_MD5.png"></p>
<p><code>DelegatingWebMvcConfiguration</code>ä¸­çš„<code>setConfigurers()</code>æ–¹æ³•ç”¨æ¥è®¾ç½®é…ç½®ã€‚è€Œé…ç½®å‚æ•°æ˜¯ä¸€ä¸ªListé›†åˆï¼Œè¿™ä¸ªListé›†åˆä¸­å­˜æ”¾çš„æ˜¯<code>WebMvcConfigurer</code>æ¥å£çš„å®ä¾‹ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•ä¸Šé¢ä½¿ç”¨äº†<code>@Autowired</code>è¿›è¡Œäº†è‡ªåŠ¨æ³¨å…¥ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´ä¸ºä»€ä¹ˆåªè¦æ˜¯IoCå®¹å™¨ä¸­çš„ç»„ä»¶å°±èƒ½ç”Ÿæ•ˆçš„åŸå› ã€‚</p>
<p>æˆ‘ä»¬å†æ¬¡è¿›å…¥åˆ°<code>this.configurers.addWebMvcConfigurers(configurers);</code>æ–¹æ³•ä¸­è¿›ä¸€æ­¥æŸ¥çœ‹æºç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/ac2aee257c7b5d02d55a9d76a593f4eb_MD5.png"></p>
<p>å¯¹äº<code>WebMvcConfigurerComposite</code>ç±»çš„ä»£ç æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„<code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;ç»„åˆæ¨¡å¼&lt;/font&gt;**</code>ã€‚</p>
<p>ç»„åˆæ¨¡å¼çš„å…³é”®ç‚¹ï¼š</p>
<ol>
<li>ç»„åˆå¤šä¸ª WebMvcConfigurer å®ä¾‹ï¼šWebMvcConfigurerComposite é€šè¿‡ delegates åˆ—è¡¨ç»„åˆäº†å¤šä¸ª WebMvcConfigurer å®ä¾‹ã€‚</li>
<li>ç»Ÿä¸€æ¥å£ï¼šWebMvcConfigurerComposite å®ç°äº† WebMvcConfigurer æ¥å£ï¼Œå› æ­¤å¯ä»¥åƒä¸€ä¸ªå•ä¸€çš„ WebMvcConfigurer ä¸€æ ·è¢«ä½¿ç”¨ã€‚</li>
<li>ä»£ç†è°ƒç”¨ï¼šåœ¨å®ç° WebMvcConfigurer æ¥å£çš„æ–¹æ³•æ—¶ï¼ŒWebMvcConfigurerComposite ä¼šéå† delegates åˆ—è¡¨ï¼Œè°ƒç”¨æ¯ä¸ª WebMvcConfigurer å®ä¾‹çš„ç›¸åº”æ–¹æ³•ã€‚</li>
</ol>
<p>æ€»ç»“ï¼šWebMvcConfigurerComposite ä¸»è¦é‡‡ç”¨äº†ç»„åˆæ¨¡å¼çš„æ€æƒ³ï¼Œå°†å¤šä¸ª WebMvcConfigurer å®ä¾‹ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ•´ä½“ã€‚</p>
<p>æ³¨æ„ï¼šç»„åˆæ¨¡å¼æ˜¯GoF 23ç§è®¾è®¡æ¨¡å¼ä¸­çš„ç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚</p>
<h1 id="webè¯·æ±‚çš„è·¯å¾„åŒ¹é…">webè¯·æ±‚çš„è·¯å¾„åŒ¹é…<a hidden class="anchor" aria-hidden="true" href="#webè¯·æ±‚çš„è·¯å¾„åŒ¹é…">#</a></h1>
<p>æˆ‘ä»¬åœ¨å­¦ä¹ SpringMVCçš„æ—¶å€™ï¼Œè·¯å¾„åŒ¹é…è§„åˆ™ä¸­å­¦ä¹ äº†<code>Ant</code>é£æ ¼çš„è·¯å¾„åŒ¹é…è§„åˆ™ã€‚å¤§å®¶å¯ä»¥ç¿»çœ‹ä¸€ä¸‹ä¹‹å‰çš„Spring MVCè§†é¢‘ã€‚</p>
<p>åœ¨<code>Spring Boot3</code>ä¸­ï¼Œå¯¹webè¯·æ±‚çš„è·¯å¾„åŒ¹é…æä¾›äº†ä¸¤ç§è§„åˆ™ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼šAntPathMatcherï¼ˆAnté£æ ¼ï¼‰ã€<strong><font style="color:#DF2A3F;">è¾ƒæ—§</font></strong>ã€‘</li>
<li>ç¬¬äºŒç§ï¼šPathPatternParserï¼ˆä»Spring5.3ä¸­å¼•å…¥çš„ã€‚åœ¨SpringBoot2.4ä¸­å¼•å…¥çš„ã€‚ï¼‰ã€<strong><font style="color:#DF2A3F;">è¾ƒæ–°ï¼šæ•ˆç‡é«˜</font></strong>ã€‘
<ul>
<li><strong><font style="color:#DF2A3F;">æ•ˆç‡æ¯”Anté«˜ï¼Œä¸€èˆ¬æ–°é¡¹ç›®ä¸­ä½¿ç”¨</font></strong><code>**&lt;font style=&quot;color:#DF2A3F;&quot;&gt;PathPatternParser&lt;/font&gt;**</code></li>
</ul>
</li>
</ul>
<p>SpringBoot3ä¸­é»˜è®¤ä½¿ç”¨çš„æ˜¯<code>PathPatternParser</code>ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ã€‚å¦‚æœè¦ä½¿ç”¨<code>AntPathMatcher</code>ï¼Œå°±éœ€è¦è¿›è¡Œå¦‚ä¸‹çš„é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.pathmatch.matching-strategy</span>=<span style="color:#0ff;font-weight:bold">ant_path_matcher</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="antpathmatcher">AntPathMatcher<a hidden class="anchor" aria-hidden="true" href="#antpathmatcher">#</a></h2>
<p>Anté£æ ¼çš„è·¯å¾„åŒ¹é…è§„åˆ™å›é¡¾ï¼š</p>
<p><strong><font style="color:#DF2A3F;">*</font></strong>	åŒ¹é…ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦åºåˆ—ï¼ˆä¸åŒ…æ‹¬è·¯å¾„åˆ†éš”ç¬¦ï¼‰ã€‚ç¤ºä¾‹ï¼š/foo/*.html åŒ¹é… /foo/bar.html å’Œ /foo/baz.htmlã€‚</p>
<p><strong><font style="color:#DF2A3F;"></strong></font>**	åŒ¹é…ä»»æ„æ•°é‡çš„ç›®å½•å±‚çº§ã€‚ç¤ºä¾‹ï¼š/foo/** åŒ¹é… /foo/barã€/foo/bar/baz å’Œ /foo/bar/baz/quxã€‚</p>
<p><strong><font style="color:#DF2A3F;">?</font></strong>**	<strong>åŒ¹é…</strong>ä»»æ„å•ä¸ªå­—ç¬¦**ã€‚ç¤ºä¾‹ï¼š/foo?bar åŒ¹é… /foobar å’Œ /fooxbarã€‚</p>
<p><strong><font style="color:#DF2A3F;">[]</font></strong>**	**åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„å•ä¸ªå­—ç¬¦ã€‚ç¤ºä¾‹ï¼š/foo[a-z]bar åŒ¹é… /fooabarã€/foobbar ç­‰ã€‚</p>
<p><strong><font style="color:#DF2A3F;">{}</font></strong>**	**è·¯å¾„å˜é‡ï¼Œç”¨äºæå–è·¯å¾„çš„ä¸€éƒ¨åˆ†ä½œä¸ºå‚æ•°ã€‚ç¤ºä¾‹ï¼š/users/{userId} åŒ¹é… /users/123ï¼Œæå– userId=123ã€‚</p>
<p>å¦‚æœåœ¨SpringBoot3ä¸­å¯ç”¨Anté£æ ¼ï¼Œè®°å¾—é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.pathmatch.matching-strategy</span>=<span style="color:#0ff;font-weight:bold">ant_path_matcher</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚ä¸‹ä»£ç ï¼šè¯·åˆ†æä»¥ä¸‹è·¯å¾„åŒ¹é…çš„æ˜¯ä»€ä¹ˆæ ·çš„è·¯å¾„ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> jakarta.servlet.http.HttpServletRequest;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.PathVariable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> PathController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/{path:[a-z]+}/a?/**/*.do&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String path(HttpServletRequest request, @PathVariable String path){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> request.<span style="color:#007f7f">getRequestURI</span>() + <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> + path;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨å¹¶æµ‹è¯•è·¯å¾„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/e53fc26999f404721f8ca6ef4adc883f_MD5.png"></p>
<h2 id="pathpatternparser">PathPatternParser<a hidden class="anchor" aria-hidden="true" href="#pathpatternparser">#</a></h2>
<p>é¡¹ç›®ä¸­ä¸åšé…ç½®ï¼Œæˆ–è€…æŒ‰ç…§ä»¥ä¸‹æ–¹å¼é…ç½®ï¼Œéƒ½æ˜¯<code>PathPatternParser</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.pathmatch.matching-strategy</span>=<span style="color:#0ff;font-weight:bold">path_pattern_parser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>PathPatternParser</code>é£æ ¼æ˜¯å…¼å®¹Anté£æ ¼çš„ã€‚åªæœ‰ä¸€ä¸ªåœ°æ–¹<code>PathPatternParser</code>ä¸æ”¯æŒï¼ŒAntæ”¯æŒã€‚åœ¨Anté£æ ¼ä¸­ï¼Œ<code>**</code>å¯ä»¥å‡ºç°åœ¨ä»»æ„ä½ç½®ã€‚åœ¨<code>PathPatternParser</code>ä¸­åªå…è®¸<code>**</code>å‡ºç°åœ¨è·¯å¾„çš„æœ«å°¾ã€‚</p>
<p>å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼Œå°†é…ç½®æ–‡ä»¶ä¸­çš„Anté£æ ¼æ³¨é‡Šæ‰ï¼Œé‡‡ç”¨<code>PathPatternParser</code>é£æ ¼ã€‚ç„¶åæ§åˆ¶å™¨ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> jakarta.servlet.http.HttpServletRequest;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.PathVariable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> PathController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/{path:[a-z]+}/a?/**/*.do&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String path(HttpServletRequest request, @PathVariable String path){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> request.<span style="color:#007f7f">getRequestURI</span>() + <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> + path;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨æŠ¥é”™ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/75e0cd24994e8093d6696c26e63c1e49_MD5.png"></p>
<p>æç¤ºä½ ï¼Œå¦‚æœåœ¨è·¯å¾„å½“ä¸­å‡ºç°äº†<code>**</code>ï¼Œéœ€è¦å°†è·¯å¾„åŒ¹é…è§„åˆ™æ›¿æ¢ä¸ºAnté£æ ¼ã€‚å› æ­¤è·¯å¾„å½“ä¸­å¦‚æœå‡ºç°<code>**</code>ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨Anté£æ ¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>PathPatternParser</code>å‡å¯ç”¨ã€‚</p>
<p>æˆ‘ä»¬å†æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œ<code>**</code>æ”¾åˆ°æœ«å°¾ï¼Œå¯¹äº<code>PathPatternParser</code>æ˜¯å¦å¯ç”¨ï¼Ÿ</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/{path:[a-z]+}/a?/*.do/**&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String path(HttpServletRequest request, @PathVariable String path){
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> request.<span style="color:#007f7f">getRequestURI</span>() + <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span> + path;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨æµ‹è¯•ï¼Œå¯ç”¨ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b1eda5f268e6e1f5839cfea2647b8cdc_MD5.png"></p>
<h2 id="è·¯å¾„åŒ¹é…ç›¸å…³æºç ">è·¯å¾„åŒ¹é…ç›¸å…³æºç <a hidden class="anchor" aria-hidden="true" href="#è·¯å¾„åŒ¹é…ç›¸å…³æºç ">#</a></h2>
<p>åº•å±‚é€‰æ‹©è·¯å¾„åŒ¹é…è§„åˆ™çš„æºç æ˜¯ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/bad3282f32099d2f037fcf9173f35ec7_MD5.png"></p>
<h1 id="å†…å®¹åå•†">å†…å®¹åå•†<a hidden class="anchor" aria-hidden="true" href="#å†…å®¹åå•†">#</a></h1>
<p>å†…å®¹åå•†æœºåˆ¶æ˜¯Spring MVCæ¡†æ¶æä¾›çš„ï¼Œæ¥ä¸‹æ¥ä¸»è¦æ˜¯å­¦ä¹ åœ¨SpringBootä¸­æ˜¯å¦‚ä½•æ”¯æŒSpringMVCå†…å®¹åå•†æœºåˆ¶çš„ã€‚</p>
<h2 id="å¯¹å†…å®¹åå•†çš„ç†è§£">å¯¹å†…å®¹åå•†çš„ç†è§£<a hidden class="anchor" aria-hidden="true" href="#å¯¹å†…å®¹åå•†çš„ç†è§£">#</a></h2>
<p>å†…å®¹åå•†æœºåˆ¶æ˜¯æŒ‡æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ¥å†³å®šè¿”å›èµ„æºçš„æœ€ä½³è¡¨ç¤ºå½¢å¼ã€‚</p>
<p>ç™½è¯æ–‡æè¿°ï¼šå®¢æˆ·ç«¯è¦ä»€ä¹ˆæ ¼å¼çš„æ•°æ®ï¼Œå’±åç«¯å°±åº”è¯¥è¿”å›ä»€ä¹ˆæ ¼å¼çš„æ•°æ®ã€‚</p>
<ul>
<li>å®¢æˆ·ç«¯è¦JSONï¼Œå’±å°±å“åº”JSONã€‚</li>
<li>å®¢æˆ·ç«¯è¦XMLï¼Œå’±å°±å“åº”XMLã€‚</li>
<li>å®¢æˆ·ç«¯è¦YAMLï¼Œå’±å°±å“åº”YAMLã€‚</li>
</ul>
<p>ä½ å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼šå®¢æˆ·ç«¯æ¥æ”¶æ•°æ®æ—¶ç»Ÿä¸€é‡‡ç”¨ä¸€ç§æ ¼å¼ï¼Œä¾‹å¦‚JSONï¼Œä¸å°±è¡Œäº†å—ã€‚å“ªé‚£ä¹ˆå¤šäº‹å„¿å‘€ï¼ï¼ï¼</p>
<p>ä½†åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œä¸æ˜¯è¿™æ ·çš„ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>é—ç•™çš„è€å®¢æˆ·ç«¯ç³»ç»Ÿï¼Œä»ç„¶å¤„ç†çš„æ˜¯XMLæ ¼å¼çš„æ•°æ®ã€‚</li>
<li>è¦æ±‚å¤„ç†é€Ÿåº¦å¿«çš„è¿™ç§å®¢æˆ·ç«¯ç³»ç»Ÿï¼Œä¸€èˆ¬è¦æ±‚è¿”å›JSONæ ¼å¼çš„æ•°æ®ã€‚</li>
<li>è¦æ±‚å®‰å…¨æ€§é«˜çš„å®¢æˆ·ç«¯ç³»ç»Ÿï¼Œä¸€èˆ¬è¦æ±‚è¿”å›XMLæ ¼å¼çš„æ•°æ®ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œåœ¨ç°ä»£çš„å¼€å‘ä¸­ï¼Œä¸åŒçš„å®¢æˆ·ç«¯å¯èƒ½éœ€è¦åç«¯ç³»ç»Ÿè¿”å›ä¸åŒæ ¼å¼çš„æ•°æ®ã€‚æ€»ä¹‹åç«¯åº”è¯¥æ»¡è¶³è¿™ç§å¤šæ ·åŒ–çš„éœ€æ±‚ã€‚</p>
<h2 id="å®ç°å†…å®¹åå•†çš„ä¸¤ç§æ–¹å¼">å®ç°å†…å®¹åå•†çš„ä¸¤ç§æ–¹å¼<a hidden class="anchor" aria-hidden="true" href="#å®ç°å†…å®¹åå•†çš„ä¸¤ç§æ–¹å¼">#</a></h2>
<p>é€šå¸¸é€šè¿‡HTTPè¯·æ±‚å¤´ï¼ˆå¦‚ Acceptï¼‰æˆ–è¯·æ±‚å‚æ•°ï¼ˆå¦‚ formatï¼‰æ¥æŒ‡å®šå®¢æˆ·ç«¯åå¥½æ¥æ”¶çš„å†…å®¹ç±»å‹ï¼ˆå¦‚JSONã€XMLç­‰ï¼‰ã€‚æœåŠ¡å™¨ä¼šæ ¹æ®è¿™äº›ä¿¡æ¯é€‰æ‹©æœ€åˆé€‚çš„æ ¼å¼è¿›è¡Œå“åº”ã€‚</p>
<h3 id="é€šè¿‡httpè¯·æ±‚å¤´å¦‚-accept">é€šè¿‡HTTPè¯·æ±‚å¤´ï¼ˆå¦‚ Acceptï¼‰<a hidden class="anchor" aria-hidden="true" href="#é€šè¿‡httpè¯·æ±‚å¤´å¦‚-accept">#</a></h3>
<p>SpringBootæ¡†æ¶ä¸­ï¼Œåœ¨ç¨‹åºå‘˜ä¸åšä»»ä½•é…ç½®çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆè€ƒè™‘çš„æ˜¯è¿™ç§æ–¹å¼ã€‚</p>
<p>æœåŠ¡å™¨ä¼šæ ¹æ®å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶æäº¤çš„è¯·æ±‚å¤´ä¸­çš„&quot;Accept: application/json&quot; æˆ– &ldquo;Accept: application/xml&rdquo; æˆ– &ldquo;Accept: text/html&quot;æ¥å†³å®šå“åº”ä»€ä¹ˆæ ¼å¼çš„æ•°æ®ã€‚</p>
<p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¦‚ä½•è®¾ç½®è¯·æ±‚å¤´çš„<code>Accept</code>ï¼Ÿæœ‰ä»¥ä¸‹å‡ ç§å¸¸è§å®ç°æ–¹å¼ï¼š</p>
<ul>
<li>å†™ä»£ç 
<ul>
<li>fetch API</li>
<li>ajaxçš„XMLHttpRequest</li>
<li>axiosåº“</li>
<li>jQueryåº“&hellip;&hellip;</li>
</ul>
</li>
<li>ç”¨å·¥å…·
<ul>
<li>æ¥å£æµ‹è¯•å·¥å…·ï¼Œä¾‹å¦‚ï¼šPostmanã€Apifoxç­‰ã€‚</li>
<li>å‘½ä»¤è¡Œå·¥å…·ï¼šcurl</li>
</ul>
</li>
</ul>
<p>å¯¹äºæˆ‘ä»¬ç¼–å†™çš„ä»¥ä¸‹Controlleræ¥è¯´ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.powernode.springboot.bean.User;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.powernode.springboot.service.UserService;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.beans.factory.annotation.Autowired;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> UserService userService;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(value = <span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> User detail(){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> userService.<span style="color:#007f7f">getUser</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬ä½¿ç”¨äº†<code>@RestController</code>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº†<code>@ResponseBody</code>ã€‚å› æ­¤é»˜è®¤æ”¯æŒçš„æ˜¯è¿”å›JSONæ•°æ®ã€‚æ€ä¹ˆæ‰èƒ½æ”¯æŒè¿”å›XMLæ ¼å¼çš„æ•°æ®å‘¢ï¼Ÿéœ€è¦åšä»¥ä¸‹ä¸¤æ­¥ï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¸€ä¸ªä¾èµ–</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>com.fasterxml.jackson.dataformat<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>jackson-dataformat-xml<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬äºŒæ­¥ï¼šåœ¨å®ä½“ç±»ä¸Šæ·»åŠ ä¸€ä¸ªæ³¨è§£</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.bean;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> lombok.AllArgsConstructor;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> lombok.Data;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> lombok.NoArgsConstructor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@JacksonXmlRootElement
</span></span><span style="display:flex;"><span>@Data
</span></span><span style="display:flex;"><span>@NoArgsConstructor
</span></span><span style="display:flex;"><span>@AllArgsConstructor
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> User {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String password;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>curl</code>å‘½ä»¤è¡Œå·¥å…·ï¼Œæ¥æ¨¡æ‹Ÿå‘é€è¯·æ±‚ï¼Œå¹¶åœ¨è¯·æ±‚å¤´ä¸­è®¾ç½®<code>Accept</code>ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/d448e437e9a26df4c839aaa0129dd151_MD5.png"></p>
<p>å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°ï¼ŒæœåŠ¡å™¨æ ¹æ®ä¸åŒçš„è¯·æ±‚å¤´è¿”å›äº†ä¸åŒæ ¼å¼çš„æ•°æ®ã€‚</p>
<ul>
<li><code>Accept: application/xml</code>åˆ™è¿”å›XMLæ ¼å¼çš„æ•°æ®</li>
<li><code>Accept: application/json</code>åˆ™è¿”å›JSONæ ¼å¼çš„æ•°æ®</li>
</ul>
<h3 id="font-stylecolorrgb44-44-54é€šè¿‡è¯·æ±‚å‚æ•°å¦‚-fontfont-stylecolorrgb44-44-54formatfontfont-stylecolorrgb44-44-54font"><font style="color:rgb(44, 44, 54);">é€šè¿‡è¯·æ±‚å‚æ•°ï¼ˆå¦‚ </font><code>&lt;font style=&quot;color:rgb(44, 44, 54);&quot;&gt;format&lt;/font&gt;</code><font style="color:rgb(44, 44, 54);">ï¼‰</font><a hidden class="anchor" aria-hidden="true" href="#font-stylecolorrgb44-44-54é€šè¿‡è¯·æ±‚å‚æ•°å¦‚-fontfont-stylecolorrgb44-44-54formatfontfont-stylecolorrgb44-44-54font">#</a></h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨è¯·æ±‚å‚æ•°çš„æ–¹å¼ï¼Œæ¥æµ‹è¯•ä¸€ä¸‹æœåŠ¡å™¨çš„å“åº”ï¼Œæ³¨æ„ï¼šé»˜è®¤çš„è¯·æ±‚å‚æ•°åä¸º<code>format</code>ã€‚</p>
<p>æˆ‘ä»¬ä»ç„¶ä½¿ç”¨<code>curl</code>å‘½ä»¤è¡Œå·¥å…·è¿›è¡Œæµ‹è¯•ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/80e543a84feaffa8a1ce1058d4585ee6_MD5.png"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œè¿™æ˜¯å› ä¸º<code>SpringBootä¼˜å…ˆè€ƒè™‘çš„ä¸æ˜¯é€šè¿‡è¯·æ±‚å‚æ•°formatæ–¹å¼</code>ã€‚å¦‚ä½•ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨<code>format</code>æ–¹å¼å‘¢ï¼Ÿåšå¦‚ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># å†…å®¹åå•†æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘è¯·æ±‚å‚æ•°formatæ–¹å¼ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.contentnegotiation.favor-parameter</span>=<span style="color:#0ff;font-weight:bold">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å†æ¬¡æµ‹è¯•ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/685bb6818c38225059e8242a29f6e1c5_MD5.png"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨SpringBootå·²ç»ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨<code>è¯·æ±‚å‚æ•°format</code>æ–¹å¼äº†ã€‚</p>
<p>å½“ç„¶ï¼Œè¯·æ±‚å‚æ•°çš„åå­—å¯ä»¥ä¸ä½¿ç”¨<code>format</code>å—ï¼Ÿæ”¯æŒå®šåˆ¶åŒ–å—ï¼Ÿç­”æ¡ˆæ˜¯æ”¯æŒçš„ï¼Œä¾‹å¦‚ä½ å¸Œæœ›è¯·æ±‚å‚æ•°çš„åå­—ä¸º<code>type</code>ï¼Œå¯ä»¥åšå¦‚ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># å†…å®¹åå•†æ—¶ï¼Œè®¾ç½®è¯·æ±‚å‚æ•°çš„åå­—ï¼Œé»˜è®¤ä¸ºformat</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.contentnegotiation.parameter-name</span>=<span style="color:#0ff;font-weight:bold">type</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å†æ¬¡ä½¿ç”¨<code>curl</code>å·¥å…·è¿›è¡Œæµ‹è¯•ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/2e87496bb962d5ceb3808230d6cea2ec_MD5.png"></p>
<h2 id="httpmessageconverteræ¥å£">HttpMessageConverteræ¥å£<a hidden class="anchor" aria-hidden="true" href="#httpmessageconverteræ¥å£">#</a></h2>
<h3 id="httpmessageconverterçš„ç†è§£">HttpMessageConverterçš„ç†è§£<a hidden class="anchor" aria-hidden="true" href="#httpmessageconverterçš„ç†è§£">#</a></h3>
<p><code>HttpMessageConverter</code>æ¥å£ï¼Œå¯¹äºè¿™ä¸ªæ¥å£æ¥è¯´ï¼Œå¤§å®¶åº”è¯¥ä¸é™Œç”Ÿï¼Œåœ¨Spring MVCçš„è¯¾ç¨‹å½“ä¸­å’±ä»¬å·²ç»è¯¦ç»†çš„å­¦ä¹ è¿‡äº†ã€‚åœ¨è¿™é‡Œç®€å•å›é¡¾ä¸€ä¸‹ã€‚</p>
<p><code>HttpMessageConverter</code>æ¥å£è¢«ç¿»è¯‘ä¸ºï¼š<code>Httpæ¶ˆæ¯è½¬æ¢å™¨</code>ã€‚å®ƒèµ·åˆ°è½¬æ¢<code>Httpæ¶ˆæ¯</code>çš„ä½œç”¨ã€‚</p>
<p>ä»€ä¹ˆæ˜¯<code>Httpæ¶ˆæ¯</code>ï¼Ÿæ‰€è°“çš„<code>Httpæ¶ˆæ¯</code>æœ¬è´¨ä¸Šå°±æ˜¯æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶æäº¤çš„æ•°æ®ï¼Œæˆ–è€…æœåŠ¡å™¨å‘æµè§ˆå™¨å“åº”çš„æ•°æ®ã€‚</p>
<p>è€Œ<code>HttpMessageConverter</code>æ¥å£å°±æ˜¯è´Ÿè´£å®Œæˆ<code>è¯·æ±‚/å“åº”</code>æ—¶çš„æ•°æ®æ ¼å¼è½¬æ¢çš„ã€‚</p>
<p>åœ¨Spring MVCä¸­æä¾›äº†å¾ˆå¤š<code>HttpMessageConverter</code>æ¥å£çš„å®ç°ç±»ï¼Œä¸åŒçš„<code>Httpæ¶ˆæ¯è½¬æ¢å™¨</code>å…·æœ‰ä¸åŒçš„è½¬æ¢æ•ˆæœï¼Œæœ‰çš„è´Ÿè´£å°†Javaå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæœ‰çš„è´Ÿè´£å°†Javaå¯¹è±¡è½¬æ¢æˆXMLæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</p>
<h3 id="å¸¸è§çš„httpmessageconverter">å¸¸è§çš„HttpMessageConverter<a hidden class="anchor" aria-hidden="true" href="#å¸¸è§çš„httpmessageconverter">#</a></h3>
<p>å†…ç½®çš„å¸¸è§çš„<code>HttpMessageConverter</code>çš„å®ç°ç±»åŒ…æ‹¬ï¼š</p>
<ul>
<li><font style="color:#DF2A3F;">ã€è¯·æ±‚ã€‘æäº¤çš„è¡¨å•ï¼ˆformï¼‰æ•°æ®è½¬æ¢æˆJavaå¯¹è±¡çš„ä¸»è¦ä»»åŠ¡æ˜¯ç”± FormHttpMessageConverter æ¶ˆæ¯è½¬æ¢å™¨å®Œæˆçš„</font></li>
<li><font style="color:#DF2A3F;">ã€è¯·æ±‚ã€‘æäº¤çš„JSONæ•°æ®è½¬æ¢æˆJavaå¯¹è±¡çš„ä¸»è¦ä»»åŠ¡æ˜¯ç”± MappingJackson2HttpMessageConverter æ¶ˆæ¯è½¬æ¢å™¨å®Œæˆçš„ã€‚ï¼ˆæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„</font><code>&lt;font style=&quot;color:#DF2A3F;&quot;&gt;@RequestBody&lt;/font&gt;</code><font style="color:#DF2A3F;">æ³¨è§£ï¼‰</font></li>
<li>ã€å“åº”ã€‘å°†Javaå¯¹è±¡è½¬æ¢æˆJSONæ ¼å¼çš„æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥HTTPå“åº”ä½“çš„ä»»åŠ¡æ˜¯ç”± MappingJackson2HttpMessageConverter æ¶ˆæ¯è½¬æ¢å™¨å®Œæˆã€‚ï¼ˆæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„<code>@ResponseBody</code>æ³¨è§£)</li>
<li>ã€å“åº”ã€‘å°†Javaå¯¹è±¡è½¬æ¢æˆXMLæ ¼å¼çš„æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥HTTPå“åº”ä½“çš„ä»»åŠ¡é€šå¸¸ç”± Jaxb2RootElementHttpMessageConverter æ¶ˆæ¯è½¬æ¢å™¨å®Œæˆã€‚</li>
<li>ã€å“åº”ã€‘å°† String ç›´æ¥å†™å…¥åˆ°å“åº”ä½“çš„ä»»åŠ¡æ˜¯ç”± StringHttpMessageConverter æ¶ˆæ¯è½¬æ¢å™¨å®Œæˆã€‚</li>
<li>&hellip;&hellip;</li>
</ul>
<h3 id="è¯·æ±‚æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">è¯·æ±‚æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨<a hidden class="anchor" aria-hidden="true" href="#è¯·æ±‚æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">#</a></h3>
<p>è¯·æ±‚æ—¶é€šå¸¸æ ¹æ®ä»¥ä¸‹æ¡ä»¶æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªæ¶ˆæ¯è½¬æ¢å™¨ï¼š</p>
<ol>
<li>è¯·æ±‚çš„ Content-Type å­—æ®µï¼š</li>
</ol>
<p>Spring MVC ä¼šæ£€æŸ¥è¯·æ±‚çš„ Content-Type å­—æ®µï¼Œä»¥ç¡®å®šè¯·æ±‚ä½“çš„æ•°æ®æ ¼å¼ï¼ˆä¾‹å¦‚ application/jsonã€application/x-www-form-urlencodedã€application/xml ç­‰ï¼‰ã€‚</p>
<ol start="2">
<li>æ–¹æ³•å‚æ•°ç±»å‹ï¼š</li>
</ol>
<p>æ§åˆ¶å™¨æ–¹æ³•ä¸­æ¥æ”¶è¯·æ±‚ä½“çš„å‚æ•°ç±»å‹ï¼ˆä¾‹å¦‚ @RequestBodyï¼‰ã€‚</p>
<h3 id="å“åº”æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">å“åº”æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨<a hidden class="anchor" aria-hidden="true" href="#å“åº”æ—¶é€šè¿‡å“ªäº›æ¡ä»¶ç¡®å®šä½¿ç”¨å“ªä¸ªè½¬æ¢å™¨">#</a></h3>
<p>å“åº”æ—¶é€šå¸¸æ ¹æ®ä»¥ä¸‹æ¡ä»¶æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªæ¶ˆæ¯è½¬æ¢å™¨ï¼š</p>
<ol>
<li>è¯·æ±‚æäº¤æ—¶ï¼Œè¯·æ±‚å¤´ä¸Šçš„Acceptå­—æ®µ ï¼š</li>
</ol>
<p>Spring MVC ä¼šæ£€æŸ¥å®¢æˆ·ç«¯è¯·æ±‚çš„ Accept å­—æ®µï¼Œä»¥ç¡®å®šå®¢æˆ·ç«¯æœŸæœ›çš„å“åº”æ ¼å¼ï¼ˆä¾‹å¦‚ application/jsonã€application/xml ç­‰ï¼‰ã€‚</p>
<ol start="2">
<li>æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼š</li>
</ol>
<p>æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼ˆä¾‹å¦‚ @ResponseBodyï¼‰ã€‚</p>
<p>ä¾‹å¦‚1ï¼š@ResponseBody + æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼æ˜¯Stringï¼Œåˆ™ä½¿ç”¨StringHttpMessageConverterè½¬æ¢å™¨ã€‚ï¼ˆå°†å­—ç¬¦ä¸²ç›´æ¥å†™å…¥å“åº”ä½“ï¼‰</p>
<p>ä¾‹å¦‚2ï¼š@ResponseBody + æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼æ˜¯Userï¼Œåˆ™ä½¿ç”¨MappingJackson2HttpMessageConverterè½¬æ¢å™¨ã€‚ï¼ˆå°†javaå¯¹è±¡è½¬æ¢æˆjsonæ ¼å¼çš„å­—ç¬¦ä¸²å†™å…¥åˆ°å“åº”ä½“ï¼‰</p>
<h3 id="ç³»ç»Ÿé»˜è®¤æä¾›äº†å“ªäº›httpmessageconverter">ç³»ç»Ÿé»˜è®¤æä¾›äº†å“ªäº›HttpMessageConverter<a hidden class="anchor" aria-hidden="true" href="#ç³»ç»Ÿé»˜è®¤æä¾›äº†å“ªäº›httpmessageconverter">#</a></h3>
<p>æŸ¥çœ‹æºç ï¼š</p>
<p>WebMvcAutoConfiguration.EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport</p>
<p><code>WebMvcAutoConfiguration</code>å†…éƒ¨ç±»<code>EnableWebMvcConfiguration</code></p>
<p><code>EnableWebMvcConfiguration</code>ç»§æ‰¿äº†<code>DelegatingWebMvcConfiguration</code></p>
<p><code>DelegatingWebMvcConfiguration</code>ç»§æ‰¿äº†<code>WebMvcConfigurationSupport</code></p>
<p>åœ¨<code>WebMvcConfigurationSupport</code>ç±»ä¸­æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š<code>addDefaultHttpMessageConverters()</code> ç”¨æ¥æ·»åŠ é»˜è®¤çš„<code>HttpMessageConverter</code>å¯¹è±¡ã€‚</p>
<p>é€šè¿‡æ–­ç‚¹è°ƒè¯•ï¼Œå¯ä»¥å‘ç°é»˜è®¤æ”¯æŒ6ä¸ªHttpMessageConverterï¼Œå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7b44e029f9d8db68029567056aa2da0a_MD5.png"></p>
<p>è¿™6ä¸ª<code>HttpMessageConverter</code>ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ByteArrayHttpMessageConverter:</strong></li>
</ol>
<p>ç”¨äºå°†å­—èŠ‚æ•°ç»„(byte[])ä¸HTTPæ¶ˆæ¯ä½“ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚è¿™é€šå¸¸ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾ç‰‡æˆ–æ–‡ä»¶ã€‚</p>
<ol start="2">
<li><strong>StringHttpMessageConverter:</strong></li>
</ol>
<p>ç”¨äºå°†å­—ç¬¦ä¸²(String)ä¸HTTPæ¶ˆæ¯ä½“ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚å®ƒæ”¯æŒå¤šç§å­—ç¬¦é›†ç¼–ç ï¼Œèƒ½å¤Ÿå¤„ç†çº¯æ–‡æœ¬å†…å®¹ã€‚</p>
<ol start="3">
<li><strong>ResourceHttpMessageConverter:</strong></li>
</ol>
<p>ç”¨äºå°†Springçš„Resourceå¯¹è±¡ä¸HTTPæ¶ˆæ¯ä½“ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚Resourceæ˜¯Springä¸­è¡¨ç¤ºèµ„æºçš„æ¥å£ï¼Œå¯ä»¥è¯»å–æ–‡ä»¶ç­‰èµ„æºã€‚è¿™ä¸ªè½¬æ¢å™¨å¯¹äºä¸‹è½½æ–‡ä»¶æˆ–å‘é€é™æ€èµ„æºæœ‰ç”¨ã€‚</p>
<ol start="4">
<li><strong>ResourceRegionHttpMessageConverter:</strong></li>
</ol>
<p>ç”¨äºå¤„ç†èµ„æºçš„éƒ¨åˆ†å†…å®¹ï¼ˆå³â€œRangeâ€è¯·æ±‚ï¼‰ï¼Œç‰¹åˆ«æ˜¯å½“å®¢æˆ·ç«¯è¯·æ±‚å¤§æ–‡ä»¶çš„ä¸€éƒ¨åˆ†æ—¶ã€‚è¿™å¯¹äºå®ç°è§†é¢‘æµåª’ä½“ç­‰åŠŸèƒ½å¾ˆæœ‰ç”¨ã€‚</p>
<ol start="5">
<li><strong>AllEncompassingFormHttpMessageConverter:</strong></li>
</ol>
<p>ç”¨äºå¤„ç†è¡¨å•ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„formæ¶ˆæ¯è½¬æ¢å™¨ã€‚å¤„ç†æ ‡å‡†çš„application/x-www-form-urlencodedæ ¼å¼çš„æ•°æ®ï¼Œä»¥åŠåŒ…å«æ–‡ä»¶ä¸Šä¼ çš„multipart/form-dataæ ¼å¼çš„æ•°æ®ã€‚</p>
<ol start="6">
<li><strong>MappingJackson2HttpMessageConverter:</strong></li>
</ol>
<p>ä½¿ç”¨Jacksonåº“æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–JSONæ•°æ®ã€‚å¯ä»¥å°†Javaå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
<p>å¦å¤–ï¼Œé€šè¿‡ä»¥ä¸‹æºç ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°SpringBootæ˜¯æ ¹æ®ç±»è·¯å¾„ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªç±»ï¼Œè€Œå†³å®šæ˜¯å¦æ·»åŠ å¯¹åº”çš„æ¶ˆæ¯è½¬æ¢å™¨çš„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/fd28c39709ab7ba0f6ddc94acaa54948_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/432207deab8e71953f98ce39c1c338d4_MD5.png"></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åªè¦å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼Œè®©ç±»è·¯å¾„å­˜åœ¨æŸä¸ªç±»ï¼Œåˆ™å¯¹åº”çš„æ¶ˆæ¯è½¬æ¢å™¨å°±ä¼šè¢«åŠ è½½ã€‚</p>
<h2 id="å®šä¹‰è‡ªå·±çš„httpmessageconverter">å®šä¹‰è‡ªå·±çš„HttpMessageConverter<a hidden class="anchor" aria-hidden="true" href="#å®šä¹‰è‡ªå·±çš„httpmessageconverter">#</a></h2>
<p>å¯ä»¥çœ‹åˆ°ä»¥ä¸Š6ä¸ªæ¶ˆæ¯è½¬æ¢å™¨ä¸­æ²¡æœ‰yamlç›¸å…³çš„æ¶ˆæ¯è½¬æ¢å™¨ï¼Œå¯è§ï¼Œå¦‚æœè¦å®ç°yamlæ ¼å¼çš„å†…å®¹åå•†ï¼Œyamlæ ¼å¼çš„æ¶ˆæ¯è½¬æ¢å™¨å°±éœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰äº†ã€‚</p>
<h3 id="ç¬¬ä¸€æ­¥å¼•å…¥èƒ½å¤Ÿå¤„ç†yamlæ ¼å¼çš„ä¾èµ–">ç¬¬ä¸€æ­¥ï¼šå¼•å…¥èƒ½å¤Ÿå¤„ç†yamlæ ¼å¼çš„ä¾èµ–<a hidden class="anchor" aria-hidden="true" href="#ç¬¬ä¸€æ­¥å¼•å…¥èƒ½å¤Ÿå¤„ç†yamlæ ¼å¼çš„ä¾èµ–">#</a></h3>
<p>ä»»ä½•ä¸€ä¸ªèƒ½å¤Ÿå¤„ç†yamlæ ¼å¼æ•°æ®çš„åº“éƒ½å¯ä»¥ï¼Œè¿™é‡Œé€‰æ‹©ä½¿ç”¨<code>jackson</code>çš„åº“ï¼Œå› ä¸ºå®ƒæ—¢å¯ä»¥å¤„ç†jsonï¼Œxmlï¼Œåˆå¯ä»¥å¤„ç†yamlã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>com.fasterxml.jackson.dataformat<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>jackson-dataformat-yaml<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¼–å†™æµ‹è¯•ç¨‹åºï¼Œç®€å•æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªåº“çš„ç”¨æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.core.JsonProcessingException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.databind.ObjectMapper;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.dataformat.yaml.YAMLFactory;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.dataformat.yaml.YAMLGenerator;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.powernode.springboot.bean.User;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Jackson2YamlTest {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> JsonProcessingException {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åˆ›å»ºYAMLå·¥å‚ç±»</span>
</span></span><span style="display:flex;"><span>        YAMLFactory yamlFactory = <span style="color:#fff;font-weight:bold">new</span> YAMLFactory().<span style="color:#007f7f">disable</span>(YAMLGenerator.<span style="color:#007f7f">Feature</span>.<span style="color:#007f7f">WRITE_DOC_START_MARKER</span>); <span style="color:#007f7f">// ç¦æ­¢ä½¿ç”¨æ–‡æ¡£å¤´æ ‡è®°</span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// åˆ›å»ºå¯¹è±¡æ˜ å°„å™¨</span>
</span></span><span style="display:flex;"><span>        ObjectMapper objectMapper = <span style="color:#fff;font-weight:bold">new</span> ObjectMapper(yamlFactory);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å‡†å¤‡æ•°æ®</span>
</span></span><span style="display:flex;"><span>        User user = <span style="color:#fff;font-weight:bold">new</span> User(<span style="color:#0ff;font-weight:bold">&#34;jackson&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;jack123&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å°†æ•°æ®è½¬æ¢æˆYAMLæ ¼å¼</span>
</span></span><span style="display:flex;"><span>        String s = objectMapper.<span style="color:#007f7f">writeValueAsString</span>(user);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/5bdc3ba32e3a89ae318de5093a40fccd_MD5.png"></p>
<h3 id="ç¬¬äºŒæ­¥æ–°å¢ä¸€ç§åª’ä½“ç±»å‹yaml">ç¬¬äºŒæ­¥ï¼šæ–°å¢ä¸€ç§åª’ä½“ç±»å‹yaml<a hidden class="anchor" aria-hidden="true" href="#ç¬¬äºŒæ­¥æ–°å¢ä¸€ç§åª’ä½“ç±»å‹yaml">#</a></h3>
<p>é»˜è®¤æ”¯æŒxmlå’Œjsonä¸¤ç§åª’ä½“ç±»å‹ï¼Œè¦æ”¯æŒyamlæ ¼å¼çš„ï¼Œéœ€è¦æ–°å¢ä¸€ä¸ªyamlåª’ä½“ç±»å‹ï¼Œåœ¨springbootçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.contentnegotiation.media-types.yaml</span>=<span style="color:#0ff;font-weight:bold">text/yaml</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼Œä»¥ä¸Š<code>types</code>åé¢çš„<code>yaml</code>æ˜¯åª’ä½“ç±»å‹çš„åå­—ï¼Œåå­—éšæ„ï¼Œå¦‚æœåª’ä½“ç±»å‹èµ·åä¸º<code>xyz</code>ï¼Œé‚£ä¹ˆå‘é€è¯·æ±‚æ—¶çš„è·¯å¾„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼šhttp://localhost:8080/detail?format=xyz</p>
<h3 id="ç¬¬ä¸‰æ­¥è‡ªå®šä¹‰httpmessageconverter">ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰HttpMessageConverter<a hidden class="anchor" aria-hidden="true" href="#ç¬¬ä¸‰æ­¥è‡ªå®šä¹‰httpmessageconverter">#</a></h3>
<p>ç¼–å†™ç±»<code>YamlHttpMessageConverter</code>ç»§æ‰¿<code>AbstractHttpMessageConverter</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.databind.ObjectMapper;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.dataformat.yaml.YAMLFactory;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.fasterxml.jackson.dataformat.yaml.YAMLGenerator;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> com.powernode.springboot.bean.User;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.HttpInputMessage;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.HttpOutputMessage;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.MediaType;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.converter.AbstractHttpMessageConverter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.converter.HttpMessageNotReadableException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.converter.HttpMessageNotWritableException;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.IOException;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.nio.charset.Charset;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> YamlHttpMessageConverter <span style="color:#fff;font-weight:bold">extends</span> AbstractHttpMessageConverter&lt;Object&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> ObjectMapper objectMapper = <span style="color:#fff;font-weight:bold">new</span> ObjectMapper(<span style="color:#fff;font-weight:bold">new</span> YAMLFactory().<span style="color:#007f7f">disable</span>(YAMLGenerator.<span style="color:#007f7f">Feature</span>.<span style="color:#007f7f">WRITE_DOC_START_MARKER</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> YamlHttpMessageConverter() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è®© æ¶ˆæ¯è½¬æ¢å™¨ å’Œ åª’ä½“ç±»å‹ application/yaml ç»‘å®šåœ¨ä¸€èµ·ã€‚</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">super</span>(<span style="color:#fff;font-weight:bold">new</span> MediaType(<span style="color:#0ff;font-weight:bold">&#34;text&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;yaml&#34;</span>, Charset.<span style="color:#007f7f">forName</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>)));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">boolean</span> supports(Class&lt;?&gt; clazz) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è¡¨ç¤ºUserç±»å‹çš„æ•°æ®æ”¯æŒyamlï¼Œå…¶ä»–ç±»å‹ä¸æ”¯æŒ</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> User.<span style="color:#007f7f">class</span>.<span style="color:#007f7f">isAssignableFrom</span>(clazz);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¤„ç† @RequestBodyï¼ˆå°†æäº¤çš„yamlæ ¼å¼æ•°æ®è½¬æ¢ä¸ºjavaå¯¹è±¡ï¼‰</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> Object readInternal(Class&lt;?&gt; clazz, HttpInputMessage inputMessage) <span style="color:#fff;font-weight:bold">throws</span> IOException, HttpMessageNotReadableException {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å¤„ç† @ResponseBodyï¼ˆå°†javaå¯¹è±¡è½¬æ¢ä¸ºyamlæ ¼å¼çš„æ•°æ®ï¼‰</span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> writeInternal(Object o, HttpOutputMessage outputMessage) <span style="color:#fff;font-weight:bold">throws</span> IOException, HttpMessageNotWritableException {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">objectMapper</span>.<span style="color:#007f7f">writeValue</span>(outputMessage.<span style="color:#007f7f">getBody</span>(), o);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ³¨æ„ï¼šspringæ¡†æ¶ä¼šè‡ªåŠ¨å…³é—­è¾“å‡ºæµï¼Œæ— éœ€ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾ã€‚</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç¬¬å››æ­¥é…ç½®æ¶ˆæ¯è½¬æ¢å™¨">ç¬¬å››æ­¥ï¼šé…ç½®æ¶ˆæ¯è½¬æ¢å™¨<a hidden class="anchor" aria-hidden="true" href="#ç¬¬å››æ­¥é…ç½®æ¶ˆæ¯è½¬æ¢å™¨">#</a></h3>
<p>é‡å†™<code>WebMvcConfigurer</code>æ¥å£çš„<code>configureMessageConverters</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.http.converter.HttpMessageConverter;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.List;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebConfig <span style="color:#fff;font-weight:bold">implements</span> WebMvcConfigurer {
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {
</span></span><span style="display:flex;"><span>        converters.<span style="color:#007f7f">add</span>(<span style="color:#fff;font-weight:bold">new</span> YamlHttpMessageConverter());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨å¹¶æµ‹è¯•ï¼šhttp://localhost:8080/detail?type=yaml</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/c58824294141987381b0d20e73e8933a_MD5.png"></p>
<h1 id="springbootæ•´åˆthymeleaf">SpringBootæ•´åˆThymeleaf<a hidden class="anchor" aria-hidden="true" href="#springbootæ•´åˆthymeleaf">#</a></h1>
<h2 id="ä¼ ç»Ÿwebåº”ç”¨å’Œå‰åç«¯åˆ†ç¦»">ä¼ ç»Ÿwebåº”ç”¨å’Œå‰åç«¯åˆ†ç¦»<a hidden class="anchor" aria-hidden="true" href="#ä¼ ç»Ÿwebåº”ç”¨å’Œå‰åç«¯åˆ†ç¦»">#</a></h2>
<p>å¦‚æœä½ æ˜¯åšå‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ï¼Œè¿™ä¸€ç« èŠ‚çš„å†…å®¹å°†ç”¨ä¸ä¸Šã€‚</p>
<p>ç°ä»£å¼€å‘å¤§éƒ¨åˆ†åº”ç”¨éƒ½ä¼šé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ–¹å¼è¿›è¡Œå¼€å‘ï¼Œå‰ç«¯æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿï¼Œåç«¯ä¹Ÿæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿï¼Œåç«¯ç³»ç»Ÿåªç»™å‰ç«¯ç³»ç»Ÿæä¾›æ•°æ®ï¼ˆJSONæ•°æ®ï¼‰ï¼Œä¸éœ€è¦åç«¯è§£ææ¨¡æ¿é¡µé¢ï¼Œå‰ç«¯ç³»ç»Ÿæ‹¿åˆ°åç«¯æä¾›çš„æ•°æ®ä¹‹åï¼Œå‰ç«¯è´Ÿè´£å¡«å……æ•°æ®å³å¯ã€‚å› æ­¤è¿™ä¸€ç« èŠ‚å†…å®¹ä½œä¸ºäº†è§£ã€‚</p>
<p>ä¼ ç»Ÿçš„WEBåº”ç”¨ï¼ˆéå‰åç«¯åˆ†ç¦»ï¼‰ï¼šæµè§ˆå™¨é¡µé¢ä¸Šå±•ç¤ºæˆä»€ä¹ˆæ•ˆæœï¼Œåç«¯æœåŠ¡å™¨è¯´äº†ç®—ï¼Œè¿™æ˜¯ä¼ ç»Ÿwebåº”ç”¨æœ€å¤§çš„ç‰¹ç‚¹ã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/de70f8a96f8f1476c37a0b5a5428ae34_MD5.png"></p>
<p>å‰åç«¯åˆ†ç¦»çš„åº”ç”¨ï¼šå‰ç«¯æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿï¼Œåç«¯ä¹Ÿæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿï¼Œåç«¯ç³»ç»Ÿä¸å†è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œåç«¯ç³»ç»Ÿåªè´Ÿè´£ç»™å‰ç«¯ç³»ç»Ÿæä¾›å¼€æ”¾çš„APIæ¥å£ï¼Œåç«¯ç³»ç»Ÿåªè´Ÿè´£æ•°æ®çš„æ”¶é›†ï¼Œç„¶åå°†æ•°æ®ä»¥JSON/XMLç­‰æ ¼å¼å“åº”ç»™å‰ç«¯ç³»ç»Ÿã€‚å‰ç«¯ç³»ç»Ÿæ‹¿åˆ°æ¥å£è¿”å›çš„æ•°æ®åï¼Œå°†æ•°æ®å¡«å……åˆ°é¡µé¢ä¸Šã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/5dd50a9573c564625691c0ec7790a2bf_MD5.png"></p>
<p>å‰åç«¯åˆ†ç¦»çš„å¥½å¤„ï¼š</p>
<ul>
<li>èŒè´£æ¸…æ™°ï¼šå‰ç«¯ä¸“æ³¨äºç”¨æˆ·ç•Œé¢å’Œç”¨æˆ·ä½“éªŒï¼Œåç«¯ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å¤„ç†ã€‚</li>
<li>å¼€å‘æ•ˆç‡é«˜ï¼šå‰åç«¯å¯ä»¥å¹¶è¡Œå¼€å‘ï¼Œäº’ä¸å½±å“ï¼Œæé«˜å¼€å‘é€Ÿåº¦ã€‚</li>
<li>å¯ç»´æŠ¤æ€§å¼ºï¼šä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</li>
<li>æŠ€æœ¯æ ˆçµæ´»ï¼šå‰åç«¯å¯ä»¥ç‹¬ç«‹é€‰æ‹©æœ€é€‚åˆçš„æŠ€æœ¯æ ˆã€‚</li>
<li>å“åº”å¼è®¾è®¡ï¼šå‰ç«¯å¯ä»¥æ›´å¥½åœ°å¤„ç†ä¸åŒè®¾å¤‡å’Œå±å¹•å°ºå¯¸ã€‚</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šå‰åç«¯å¯ä»¥ç‹¬ç«‹ä¼˜åŒ–ï¼Œæå‡æ•´ä½“æ€§èƒ½ã€‚</li>
<li>æ˜“äºæµ‹è¯•ï¼šå‰åç«¯æ¥å£æ˜ç¡®ï¼Œä¾¿äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚</li>
</ul>
<h2 id="springbootæ•´åˆthymeleaf-1">SpringBootæ•´åˆThymeleaf<a hidden class="anchor" aria-hidden="true" href="#springbootæ•´åˆthymeleaf-1">#</a></h2>
<p>Javaçš„æ¨¡æ¿æŠ€æœ¯æœ‰å¾ˆå¤šï¼ŒSpringBootæ”¯æŒä»¥ä¸‹çš„æ¨¡æ¿æŠ€æœ¯ï¼š</p>
<ol>
<li><strong>Thymeleaf</strong>ï¼š
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šThymeleaf æ˜¯ä¸€ä¸ªç°ä»£çš„æœåŠ¡å™¨ç«¯Javaæ¨¡æ¿å¼•æ“ï¼Œå®ƒæ”¯æŒHTML5ï¼ŒXMLï¼ŒTEXTï¼ŒJAVASCRIPTï¼ŒCSSç­‰å¤šç§æ¨¡æ¿ç±»å‹ã€‚å®ƒèƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­é¢„è§ˆï¼Œè¿™ä½¿å¾—å‰ç«¯å¼€å‘æ›´åŠ ä¾¿æ·ã€‚Thymeleaf æä¾›äº†ä¸€å¥—å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œå¯ä»¥è½»æ¾åœ°å¤„ç†æ•°æ®ç»‘å®šã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ç­‰ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼š<strong><font style="color:#DF2A3F;">ä¸Springæ¡†æ¶é›†æˆè‰¯å¥½ï¼Œä¹Ÿæ˜¯SpringBootå®˜æ–¹æ¨èçš„</font></strong>ã€‚</li>
</ul>
</li>
<li><strong>FreeMarker</strong>ï¼š
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šFreeMarker æ˜¯ä¸€ä¸ªç”¨Javaç¼–å†™çš„æ¨¡æ¿å¼•æ“ï¼Œä¸»è¦ç”¨æ¥ç”Ÿæˆæ–‡æœ¬è¾“å‡ºï¼Œå¦‚HTMLç½‘é¡µã€é‚®ä»¶ã€é…ç½®æ–‡ä»¶ç­‰ã€‚å®ƒä¸ä¾èµ–äºServletå®¹å™¨ï¼Œå¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸­è¿è¡Œã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ¨¡æ¿è¯­æ³•ä¸°å¯Œï¼Œçµæ´»æ€§é«˜ï¼Œæ”¯æŒå®å’Œå‡½æ•°å®šä¹‰ï¼Œéå¸¸é€‚åˆéœ€è¦å¤§é‡å®šåˆ¶åŒ–çš„é¡¹ç›®ã€‚</li>
</ul>
</li>
<li><strong>Velocity</strong>ï¼š
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šVelocity æ˜¯å¦ä¸€ä¸ªå¼ºå¤§çš„æ¨¡æ¿å¼•æ“ï¼Œæœ€åˆè®¾è®¡ç”¨äºä¸Javaä¸€èµ·å·¥ä½œï¼Œä½†ä¹Ÿå¯ä»¥ä¸å…¶ä»–æŠ€æœ¯ç»“åˆä½¿ç”¨ã€‚å®ƒæä¾›äº†ç®€æ´çš„æ¨¡æ¿è¯­è¨€ï¼Œæ˜“äºå­¦ä¹ å’Œä½¿ç”¨ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šè½»é‡çº§ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦å¿«é€Ÿç”Ÿæˆé™æ€å†…å®¹çš„åº”ç”¨ã€‚</li>
</ul>
</li>
<li><strong>Mustache</strong>ï¼š
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šMustache æ˜¯ä¸€ç§é€»è¾‘æ— æ„ŸçŸ¥çš„æ¨¡æ¿è¯­è¨€ï¼Œå¯ä»¥ç”¨äºå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬Javaã€‚å®ƒçš„è®¾è®¡ç†å¿µæ˜¯è®©æ¨¡æ¿ä¿æŒç®€å•ï¼Œé¿å…æ¨¡æ¿ä¸­å‡ºç°å¤æ‚çš„é€»è¾‘ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šé€»è¾‘æ— æ„ŸçŸ¥ï¼Œç¡®ä¿æ¨¡æ¿çš„ç®€æ´æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜“äºä¸å‰åç«¯å¼€å‘äººå‘˜åä½œã€‚</li>
</ul>
</li>
<li><strong>Groovy Templates</strong>ï¼š
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šGroovy æ˜¯ä¸€ç§åŸºäºJVMçš„åŠ¨æ€è¯­è¨€ï¼Œå®ƒå¯ä»¥ä½œä¸ºæ¨¡æ¿å¼•æ“ä½¿ç”¨ã€‚Groovy Templates æä¾›äº†éå¸¸çµæ´»çš„æ¨¡æ¿ç¼–å†™æ–¹å¼ï¼Œå¯ä»¥ç›´æ¥åµŒå…¥Groovyä»£ç ã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šå¯¹äºç†Ÿæ‚‰Groovyè¯­è¨€çš„å¼€å‘è€…æ¥è¯´ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥å¿«é€Ÿå®ç°å¤æ‚é€»è¾‘ã€‚</li>
</ul>
</li>
</ol>
<p>è¿™äº›æ¨¡æ¿æŠ€æœ¯å„æœ‰åƒç§‹ï¼Œé€‰æ‹©å“ªä¸€ç§å–å†³äºé¡¹ç›®çš„å…·ä½“éœ€æ±‚å’Œä¸ªäººåå¥½ã€‚Spring Boot å¯¹è¿™äº›æ¨¡æ¿å¼•æ“éƒ½æä¾›äº†è‰¯å¥½çš„æ”¯æŒï¼Œé€šå¸¸åªéœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–ï¼Œç„¶åæŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®å³å¯å¼€å§‹ä½¿ç”¨ã€‚</p>
<p><font style="color:#DF2A3F;">æé†’ï¼šSpringBootå†…åµŒäº†Servletå®¹å™¨ï¼ˆä¾‹å¦‚ï¼šTomcatã€Jettyç­‰ï¼‰ï¼Œä½¿ç”¨SpringBootä¸å¤ªé€‚åˆä½¿ç”¨JSPæ¨¡æ¿æŠ€æœ¯ï¼Œå› ä¸ºSpringBooté¡¹ç›®æœ€ç»ˆæ‰“æˆjaråŒ…ä¹‹åï¼Œæ”¾åœ¨jaråŒ…ä¸­çš„jspæ–‡ä»¶ä¸èƒ½è¢«Servletå®¹å™¨è§£æã€‚</font></p>
<p>è¦åœ¨SpringBootä¸­æ•´åˆThymeleafï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥thymeleafå¯åŠ¨å™¨</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-thymeleaf<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬äºŒæ­¥ï¼šç¼–å†™é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šå‰ç¼€å’Œåç¼€ï¼ˆ<strong><font style="color:#DF2A3F;">é»˜è®¤ä¸é…ç½®å°±æ˜¯ä»¥ä¸‹é…ç½®</font></strong>ï¼‰</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.thymeleaf.prefix</span>=<span style="color:#0ff;font-weight:bold">classpath:/templates/</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.thymeleaf.suffix</span>=<span style="color:#0ff;font-weight:bold">.html</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™æ§åˆ¶å™¨</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.stereotype.Controller;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.ui.Model;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RequestParam;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ä¸èƒ½ä½¿ç”¨ @RestController</span>
</span></span><span style="display:flex;"><span>@Controller
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> HelloController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/h&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String helloThymeleaf(@RequestParam(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>) String name, Model model) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å°†æ¥æ”¶åˆ°çš„nameæ•°æ®å­˜å‚¨åˆ°åŸŸå¯¹è±¡ä¸­</span>
</span></span><span style="display:flex;"><span>        model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>, name);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// é€»è¾‘è§†å›¾å</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>; <span style="color:#007f7f">// æœ€ç»ˆçš„ç‰©ç†è§†å›¾åï¼šclasspath:/templates/hello.html</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬å››æ­¥ï¼šç¼–å†™thymeleafæ¨¡æ¿é¡µé¢</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">lang</span>=<span style="color:#0ff;font-weight:bold">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">charset</span>=<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;hello, thymeleaf&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">h1</span>&gt;hello,&lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${name}&#34;</span>&gt;&lt;/<span style="font-weight:bold">span</span>&gt;&lt;/<span style="font-weight:bold">h1</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯åŠ¨æœåŠ¡å™¨ï¼Œæµ‹è¯•åœ°å€ä¸ºï¼šhttp://localhost:8080/h</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/57f41e312e0237ece8ea73595fc996f9_MD5.png"></p>
<h2 id="thymeleafçš„è‡ªåŠ¨é…ç½®">Thymeleafçš„è‡ªåŠ¨é…ç½®<a hidden class="anchor" aria-hidden="true" href="#thymeleafçš„è‡ªåŠ¨é…ç½®">#</a></h2>
<p>Thymeleafçš„è‡ªåŠ¨é…ç½®ç±»ï¼š<code>ThymeleafAutoConfiguration</code></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6584a1339cd0f40cad6c730218b2b64c_MD5.png"></p>
<p>æˆ‘ä»¬é€šè¿‡æŸ¥çœ‹ä¸Šå›¾ä¸­çº¢æ¡†ä¸­çš„ç±»ï¼Œå¯ä»¥æ‰¾åˆ°thymeleafçš„ç›¸å…³é…ç½®ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/94f95ee47c1be496e08bf1b239d12542_MD5.png"></p>
<p>ä¸thymeleafç›¸å…³çš„é…ç½®ç»Ÿä¸€ä½¿ç”¨<code>spring.thymeleaf</code>å³å¯ã€‚å¹¶ä¸”é€šè¿‡æºç å¯ä»¥è¿›ä¸€æ­¥äº†è§£åˆ°é»˜è®¤çš„å‰ç¼€å’Œåç¼€ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6525a7abe697e283dc532e5e24f190fd_MD5.png"></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªè¦æ”¾åœ¨<code>classpath:/templates/</code>ç›®å½•ä¸‹çš„<code>xxx.html</code>ä¼šè¢«è‡ªåŠ¨å½“åšä¸ºthymeleafçš„æ¨¡æ¿æ–‡ä»¶è¢«thymeleafæ¨¡æ¿å¼•æ“è§£æã€‚å› æ­¤æ”¾åœ¨<code>classpath:/templates/</code>ç›®å½•ä¸‹çš„<code>html</code>æ–‡ä»¶ä¸æ˜¯é™æ€é¡µé¢ï¼Œè€Œæ˜¯åŠ¨æ€çš„thymeleafæ¨¡æ¿é¡µé¢ã€‚</p>
<h2 id="thymeleafæ ¸å¿ƒè¯­æ³•">Thymeleafæ ¸å¿ƒè¯­æ³•<a hidden class="anchor" aria-hidden="true" href="#thymeleafæ ¸å¿ƒè¯­æ³•">#</a></h2>
<h3 id="thtext-æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">th:text æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹<a hidden class="anchor" aria-hidden="true" href="#thtext-æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">#</a></h3>
<p>æ³¨æ„ï¼šåœ¨æ ¹æ ‡ç­¾<html>ä¸­å¼•å…¥ xmlns:th=&quot;<a href="http://www.thymeleaf.org\"">http://www.thymeleaf.org&rdquo;</a>ï¼Œåœ¨ç¼–å†™<code>th:</code>è¯­æ³•æ—¶æœ‰æ™ºèƒ½æç¤ºã€‚</p>
<p><code>th:text</code>ç”¨æ¥æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹çš„ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>th:text è¯­æ³•ï¼šæ›¿æ¢æ ‡ç­¾ä½“ä¸­çš„å†…å®¹
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${name}&#34;</span>&gt;æˆ‘æ˜¯ä¸€ä¸ªDIV&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/cd830170f82501b81e042c33b6ff2d3a_MD5.png"></p>
<p>æç¤ºï¼šæ ‡ç­¾ä½“ä¸­çš„å†…å®¹å³ä½¿æ˜¯ä¸€æ®µHTMLä»£ç ï¼Œä¹Ÿåªæ˜¯ä¼šè¢«å½“åšæ™®é€šæ–‡æœ¬å¯¹å¾…ã€‚ä¾‹å¦‚æˆ‘ä»¬è®©å­˜å‚¨åœ¨åŸŸä¸­çš„æ–‡æœ¬å†…å®¹æ˜¯ä¸€æ®µHTMLä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;htmlCode&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;&lt;a href=&#39;http://www.bjpowernode.com&#39;&gt;åŠ¨åŠ›èŠ‚ç‚¹&lt;/a&gt;&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${htmlCode}&#34;</span>&gt;æˆ‘æ˜¯ä¸€ä¸ªDIV&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/db3585a22151397db043cda37184924f_MD5.png"></p>
<h3 id="thutext-æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">th:utext æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹<a hidden class="anchor" aria-hidden="true" href="#thutext-æ›¿æ¢æ ‡ç­¾ä½“å†…å®¹">#</a></h3>
<p>ä½œç”¨å’Œ <code>th:text</code>ä¸€æ ·ã€‚åªä¸è¿‡<code>th:utext</code>ä¼šå°†å†…å®¹å½“åšä¸€æ®µHTMLä»£ç è§£æå¹¶æ›¿æ¢ã€‚å°†ä»¥ä¸Šæµ‹è¯•ä»£ç ä¿®æ”¹ä¸ºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>th:utext è¯­æ³•ï¼šæ›¿æ¢æ ‡ç­¾ä½“ä¸­çš„å†…å®¹
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:utext</span>=<span style="color:#0ff;font-weight:bold">&#34;${htmlCode}&#34;</span>&gt;æˆ‘æ˜¯ä¸€ä¸ªDIV&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/3c3456f6d02fcbe088ea782a6e703a6d_MD5.png"></p>
<h3 id="thä»»æ„å±æ€§å-åŠ¨æ€æ›¿æ¢è¯¥å±æ€§çš„å€¼">th:ä»»æ„å±æ€§å åŠ¨æ€æ›¿æ¢è¯¥å±æ€§çš„å€¼<a hidden class="anchor" aria-hidden="true" href="#thä»»æ„å±æ€§å-åŠ¨æ€æ›¿æ¢è¯¥å±æ€§çš„å€¼">#</a></h3>
<p>ä¾‹å¦‚ï¼šæˆ‘ä»¬å‘åŸŸä¸­å­˜å‚¨ä»¥ä¸‹æ•°æ®</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// å‘åŸŸä¸­å­˜å‚¨ä¸€ä¸ªhtmlæ ‡ç­¾çš„æŸä¸ªå±æ€§çš„å€¼</span>
</span></span><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;company&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;åŠ¨åŠ›èŠ‚ç‚¹&#34;</span>);
</span></span><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;hrefValue&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;http://www.bjpowernode.com&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åä½¿ç”¨<code>th:href</code>åŠ¨æ€æ›¿æ¢<code>href</code>å±æ€§çš„å€¼ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>th:ä»»æ„å±æ€§å è¯­æ³•ï¼šåŠ¨æ€æ›¿æ¢å±æ€§å€¼
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">th:href</span>=<span style="color:#0ff;font-weight:bold">&#34;${hrefValue}&#34;</span> <span style="color:#007f7f">href</span>=<span style="color:#0ff;font-weight:bold">&#34;https://www.baidu.com&#34;</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${company}&#34;</span>&gt;ç™¾åº¦&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/96ee43318b6d1dab53172aba141a320a_MD5.png"></p>
<h3 id="thattr-å±æ€§åˆå¹¶è®¾ç½®">th:attr å±æ€§åˆå¹¶è®¾ç½®<a hidden class="anchor" aria-hidden="true" href="#thattr-å±æ€§åˆå¹¶è®¾ç½®">#</a></h3>
<ul>
<li>åˆ†å¼€è®¾ç½®ï¼š</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;hrefValue&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;http://www.bjpowernode.com&#34;</span>);
</span></span><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;style&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;color:red&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">th:href</span>=<span style="color:#0ff;font-weight:bold">&#34;${hrefValue}&#34;</span> <span style="color:#007f7f">th:style</span>=<span style="color:#0ff;font-weight:bold">&#34;${style}&#34;</span>&gt;åŠ¨åŠ›èŠ‚ç‚¹&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/124bd8519406725c3cdd6e740da24f5f_MD5.png"></p>
<ul>
<li>åˆå¹¶è®¾ç½®ï¼šä½¿ç”¨<code>th:attr</code></li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;hrefValue&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;http://www.bjpowernode.com&#34;</span>);
</span></span><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;style&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;color:red&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">th:attr</span>=<span style="color:#0ff;font-weight:bold">&#34;href=${hrefValue},style=${style}&#34;</span>&gt;åŠ¨åŠ›èŠ‚ç‚¹&lt;/<span style="font-weight:bold">a</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="thæŒ‡ä»¤">th:æŒ‡ä»¤<a hidden class="anchor" aria-hidden="true" href="#thæŒ‡ä»¤">#</a></h3>
<p>æŒ‡ä»¤éå¸¸å¤šï¼Œå…·æœ‰ä»£è¡¨æ€§çš„ä¾‹å¦‚ï¼š<code>th:if</code>ï¼Œè¯¥æŒ‡ä»¤ç”¨æ¥æ§åˆ¶å…ƒç´ <code>éšè—</code>å’Œ<code>æ˜¾ç¤º</code>ã€‚</p>
<p>åœ¨<code>static</code>é™æ€èµ„æºç›®å½•ä¸‹å­˜æ”¾ä¸€å¼ å›¾ç‰‡ï¼šdog1.jpg</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/42ac13e1d17e8d21e4ea75366bb4daea_MD5.png"></p>
<p>ç„¶åç¼–å†™è¿™æ ·çš„æ¨¡æ¿ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">img</span> <span style="color:#007f7f">src</span>=<span style="color:#0ff;font-weight:bold">&#34;dog1.jpg&#34;</span> <span style="color:#007f7f">th:if</span>=<span style="color:#0ff;font-weight:bold">&#34;true&#34;</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼Œå›¾ç‰‡æ˜¯æ˜¾ç¤ºçš„ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7640e7f5aab2e6fe15006df47353a854_MD5.png"></p>
<p>å¦‚æœ<code>th:if</code>çš„å€¼ä¿®æ”¹ä¸º<code>false</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°éšè—äº†ã€‚</p>
<h3 id="-è¡¨è¾¾å¼">@{} è¡¨è¾¾å¼<a hidden class="anchor" aria-hidden="true" href="#-è¡¨è¾¾å¼">#</a></h3>
<p><code>${}</code>è¡¨è¾¾å¼è¯­æ³•æ˜¯ä¸“é—¨ç”¨æ¥è·å–<code>model</code>ä¸­ç»‘å®šçš„æ•°æ®çš„ã€‚</p>
<p><code>@{}</code>è¡¨è¾¾å¼è¯­æ³•æ˜¯ä¸“é—¨ç”¨æ¥ç»´æŠ¤URLè¯·æ±‚è·¯å¾„çš„ã€‚å®ƒå¯ä»¥åŠ¨æ€è®¾ç½®é¡¹ç›®çš„æ ¹è·¯å¾„ã€‚</p>
<p>SpringBootä¸­é»˜è®¤çš„é¡¹ç›®æ ¹è·¯å¾„æ˜¯ï¼š<code>/</code></p>
<p>å‡è®¾æˆ‘ä»¬ç¼–å†™è¿™æ ·çš„javaä»£ç ï¼Œå‘modelä¸­ç»‘å®šä¸€ä¸ªè·¯å¾„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>model.<span style="color:#007f7f">addAttribute</span>(<span style="color:#0ff;font-weight:bold">&#34;imgUrl&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;/dog1.jpg&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬ç¼–å†™è¿™æ ·çš„æ¨¡æ¿ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">img</span> <span style="color:#007f7f">th:src</span>=<span style="color:#0ff;font-weight:bold">&#34;${imgUrl}&#34;</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/c82b197abaa4959c3fecafcfe27e36f4_MD5.png"></p>
<p>æ­¤æ—¶æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„ï¼Œä½†å¦‚æœæˆ‘ä»¬å°†webåº”ç”¨çš„æ ¹è·¯å¾„è¿›è¡Œäº†ä¿®æ”¹ï¼Œå°†å…¶é…ç½®ä¸ºï¼š<code>/myweb</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">server.servlet.context-path</span>=<span style="color:#0ff;font-weight:bold">/myweb</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä»–ä½ç½®ä»£ç ä¸åšä¿®æ”¹ï¼Œæˆ‘ä»¬å†æ¥è®¿é—®é¡µé¢ï¼Œæ³¨æ„è®¿é—®è·¯å¾„ä¸­è¦æ·»åŠ <code>/myweb</code>ï¼Œä¾‹å¦‚ï¼š<a href="http://localhost:8080/myweb/h?name=jackson">http://localhost:8080/myweb/h?name=jackson</a></p>
<p>è®¿é—®åä½¿ç”¨<code>ctrl + F5</code>å¼ºè¡Œåˆ·æ–°ï¼Œä¸èµ°æµè§ˆå™¨ç¼“å­˜ï¼Œç»“æœå‘ç°æ— æ³•è®¿é—®åˆ°è¯¥å›¾ç‰‡ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/af51e484a4ee1ed6999385f0d5a1270f_MD5.png"></p>
<p>æ­¤æ—¶æˆ‘ä»¬å°†æ¨¡æ¿ä»£ç è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼Œå°†<code>${}</code>ä¿®æ”¹ä¸º<code>@{}</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">img</span> <span style="color:#007f7f">th:src</span>=<span style="color:#0ff;font-weight:bold">&#34;@{${imgUrl}}&#34;</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å†æ¬¡æµ‹è¯•ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/69438aade0a35ad4296ba0a9397e36a6_MD5.png"></p>
<h3 id="thymeleafçš„å†…ç½®å·¥å…·">thymeleafçš„å†…ç½®å·¥å…·<a hidden class="anchor" aria-hidden="true" href="#thymeleafçš„å†…ç½®å·¥å…·">#</a></h3>
<p>å†…ç½®å·¥å…·å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#strings">https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#strings</a></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/c3aa25b04572c82194d830a2c562abc2_MD5.png"></p>
<p>ä¾‹å¦‚æˆ‘ä»¬è¦å®Œæˆè¿™æ ·ä¸€ä¸ªæ•ˆæœï¼Œç”¨æˆ·æäº¤ç”¨æˆ·åæ—¶ï¼Œå¦‚æœåå­—ä¸­å«æœ‰<code>jack</code>åˆ™æ˜¾ç¤º<code>ç‹—ç‹—å›¾ç‰‡</code>ï¼Œå¦åˆ™ä¸æ˜¾ç¤ºã€‚</p>
<p>æ¨¡æ¿ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">img</span> <span style="color:#007f7f">th:src</span>=<span style="color:#0ff;font-weight:bold">&#34;@{${imgUrl}}&#34;</span> <span style="color:#007f7f">th:if</span>=<span style="color:#0ff;font-weight:bold">&#34;${#strings.contains(name,&#39;jack&#39;)}&#34;</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœ1ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/0d9a992f46754fda8cc846042b6faaa2_MD5.png"></p>
<p>æµ‹è¯•ç»“æœ2ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/2cb5ae997d55c9aa49837b9e2d5d4dc9_MD5.png"></p>
<h3 id="thymeleafä¹Ÿæ”¯æŒè¿ç®—ç¬¦">thymeleafä¹Ÿæ”¯æŒè¿ç®—ç¬¦<a hidden class="anchor" aria-hidden="true" href="#thymeleafä¹Ÿæ”¯æŒè¿ç®—ç¬¦">#</a></h3>
<p>ä¾‹å¦‚<code>&gt;</code>è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œå¦‚æœæä¾›çš„ç”¨æˆ·åé•¿åº¦å¤§äº6ï¼Œåˆ™æ˜¾ç¤ºç‹—ç‹—å›¾ç‰‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">img</span> <span style="color:#007f7f">th:src</span>=<span style="color:#0ff;font-weight:bold">&#34;@{${imgUrl}}&#34;</span> <span style="color:#007f7f">th:if</span>=<span style="color:#0ff;font-weight:bold">&#34;${#strings.length(name) &gt; 6}&#34;</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœ1ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6c5eb37fadf897cdc8710c4a6cb362bc_MD5.png"></p>
<p>æµ‹è¯•ç»“æœ2ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4630a8ba76d462195057653559d7f365_MD5.png"></p>
<p>å¦å¤–thymeleafä¹Ÿæ”¯æŒä¸‰ç›®è¿ç®—ç¬¦ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.gender ? &#39;ç”·&#39; : &#39;å¥³&#39;}&#34;</span>&gt;&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ€§åˆ«æ˜¯trueï¼Œåˆ™æ˜¾ç¤ºç”·ï¼Œfalseï¼Œåˆ™æ˜¾ç¤ºå¥³ã€‚</p>
<p>è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„è¿ç®—ç¬¦ï¼Œå¯å‚è€ƒthymeleafå®˜æ–¹æ–‡æ¡£ã€‚</p>
<h3 id="thymeleafçš„å­—ç¬¦ä¸²æ‹¼æ¥">thymeleafçš„å­—ç¬¦ä¸²æ‹¼æ¥<a hidden class="anchor" aria-hidden="true" href="#thymeleafçš„å­—ç¬¦ä¸²æ‹¼æ¥">#</a></h3>
<p>ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨åŠ å· <code>+</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${&#39;å§“åï¼š&#39; + name + &#39;ï¼Œå¹´é¾„ï¼š18&#39;}&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æµ‹è¯•ç»“æœï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/da9a82464c90313eced9ef5531f7f6ca_MD5.png"></p>
<p>ç¬¬äºŒç§æ–¹å¼ï¼šä½¿ç”¨ç«–çº¿ <code>||</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;|å§“åï¼š${name}ï¼Œå¹´é¾„ï¼š18|&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4942f684759a40aad97b64b6155e1a6c_MD5.png"></p>
<h3 id="å¾ªç¯éå†">å¾ªç¯éå†<a hidden class="anchor" aria-hidden="true" href="#å¾ªç¯éå†">#</a></h3>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">tr</span> <span style="color:#007f7f">th:each</span>=<span style="color:#0ff;font-weight:bold">&#34;user : ${users}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.name}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.age}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.gender}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.desc}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.location}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">tr</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼š</p>
<ul>
<li>${users}ï¼šä»£è¡¨é›†åˆ</li>
<li>userï¼šä»£è¡¨é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ </li>
<li>${user.name}ï¼šå…ƒç´ çš„nameå±æ€§å€¼</li>
</ul>
<p>éå†æ—¶ä¹Ÿå¯ä»¥æ·»åŠ çŠ¶æ€å¯¹è±¡ï¼Œä»£ç ç¤ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">tr</span> <span style="color:#007f7f">th:each</span>=<span style="color:#0ff;font-weight:bold">&#34;user,state : ${userList}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${state.count}&#34;</span>&gt;1&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.name}&#34;</span>&gt;å¼ ä¸‰&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.age}&#34;</span>&gt;20&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.gender}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.desc}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.location}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>        thymeleafçš„å†…è”è¡¨è¾¾å¼ï¼š&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        ä¸‹æ ‡ï¼š[[${state.index}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        åºå·ï¼š[[${state.count}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        å½“å‰å¯¹è±¡ï¼š[[${state.current}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        å…ƒç´ æ€»æ•°ï¼š[[${state.size}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        æ˜¯å¦ä¸ºå¶æ•°è¡Œï¼š[[${state.even}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        æ˜¯å¦ä¸ºå¥‡æ•°è¡Œï¼š[[${state.odd}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        æ˜¯å¦ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š[[${state.first}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>        æ˜¯å¦æœ€åä¸€ä¸ªå…ƒç´ ï¼š[[${state.last}]]&lt;<span style="font-weight:bold">br</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">tr</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šä»¥ä¸Š<code>[[${state.index}]]</code>è¿™ç§è¯­æ³•å±äºthymeleafä¸­çš„<code>å†…è”è¡¨è¾¾å¼</code>å†™æ³•ã€‚ä¹Ÿå¯ä»¥å†™æˆï¼š<code>[(${state.index})]</code></p>
<p>å¦å¤–ï¼ŒçŠ¶æ€å¯¹è±¡<code>state</code>çš„å±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>indexï¼šä¸‹æ ‡</li>
<li>countï¼šåºå·</li>
<li>currentï¼šå½“å‰å¯¹è±¡</li>
<li>sizeï¼šå…ƒç´ æ€»æ•°</li>
<li>evenï¼šæ˜¯å¦ä¸ºå¶æ•°è¡Œ</li>
<li>oddï¼šæ˜¯å¦ä¸ºå¥‡æ•°è¡Œ</li>
<li>firstï¼šæ˜¯å¦ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>lastï¼šæ˜¯å¦ä¸ºæœ€åä¸€ä¸ªå…ƒç´ </li>
</ul>
<h3 id="æ¡ä»¶åˆ¤æ–­thif">æ¡ä»¶åˆ¤æ–­th:if<a hidden class="anchor" aria-hidden="true" href="#æ¡ä»¶åˆ¤æ–­thif">#</a></h3>
<p>th:if è¯­æ³•ç”¨æ¥å†³å®šå…ƒç´ æ˜¯å¦æ˜¾ç¤ºï¼štrueæ˜¾ç¤ºã€‚falseéšè—ã€‚</p>
<div th:if="true">æˆ‘æ˜¯ä¸€ä¸ªdivå…ƒç´ </div>ï¼Œåˆ™æ˜¾ç¤ºè¯¥div
<div th:if="false">æˆ‘ä¹Ÿæ˜¯ä¸€ä¸ªdivå…ƒç´ </div>ï¼Œåˆ™éšè—è¯¥div
<p>å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼šç”¨æˆ·å¦‚æœæ²¡æœ‰ç•™ä¸‹ç®€ä»‹ï¼Œåˆ™æ˜¾ç¤º<code>ä½ æ¯”è¾ƒæ‡’æ²¡æœ‰ç•™ä¸‹ä»»ä½•ä»‹ç»ä¿¡æ¯</code>ï¼Œå¦‚æœç•™ä¸‹äº†ç®€ä»‹ï¼Œåˆ™æ˜¾ç¤ºå…·ä½“çš„ç®€ä»‹ä¿¡æ¯ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:if</span>=<span style="color:#0ff;font-weight:bold">&#34;${#strings.isEmpty(user.desc)}&#34;</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;&#39;ä½ æ¯”è¾ƒæ‡’æ²¡æœ‰ç•™ä¸‹ä»»ä½•ä»‹ç»ä¿¡æ¯&#39;&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:if</span>=<span style="color:#0ff;font-weight:bold">&#34;${not #strings.isEmpty(user.desc)}&#34;</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.desc}&#34;</span>&gt;&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ¡ä»¶åˆ¤æ–­thswitch">æ¡ä»¶åˆ¤æ–­th:switch<a hidden class="anchor" aria-hidden="true" href="#æ¡ä»¶åˆ¤æ–­thswitch">#</a></h3>
<p>å®ç°ä¸€ä¸ªè¿™æ ·çš„åŠŸèƒ½ï¼šå¦‚æœåŸå¸‚ç¼–å·001åˆ™æ˜¾ç¤ºåŒ—äº¬ï¼Œ002åˆ™æ˜¾ç¤ºä¸Šæµ·ï¼Œ003åˆ™æ˜¾ç¤ºå¹¿å·ï¼Œ004åˆ™æ˜¾ç¤ºæ·±åœ³ï¼Œå…¶ä»–å€¼æ˜¾ç¤ºæœªçŸ¥ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">td</span> <span style="color:#007f7f">th:switch</span>=<span style="color:#0ff;font-weight:bold">&#34;${user.location}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:case</span>=<span style="color:#0ff;font-weight:bold">&#34;001&#34;</span>&gt;åŒ—äº¬&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:case</span>=<span style="color:#0ff;font-weight:bold">&#34;002&#34;</span>&gt;ä¸Šæµ·&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:case</span>=<span style="color:#0ff;font-weight:bold">&#34;003&#34;</span>&gt;å¹¿å·&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:case</span>=<span style="color:#0ff;font-weight:bold">&#34;004&#34;</span>&gt;æ·±åœ³&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:case</span>=<span style="color:#0ff;font-weight:bold">&#34;*&#34;</span>&gt;æœªçŸ¥&lt;/<span style="font-weight:bold">span</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">td</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="thymeleafå±æ€§ä¼˜å…ˆçº§">thymeleafå±æ€§ä¼˜å…ˆçº§<a hidden class="anchor" aria-hidden="true" href="#thymeleafå±æ€§ä¼˜å…ˆçº§">#</a></h3>
<p>thymeleafçš„å±æ€§ä¼˜å…ˆçº§éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒç›´æ¥å†³å®šäº†æ¨¡æ¿çš„è§£æå’Œæ‰§è¡Œé¡ºåºã€‚</p>
<p>ä»¥ä¸‹æ˜¯Thymeleafå±æ€§çš„ä¼˜å…ˆçº§ä»é«˜åˆ°ä½çš„åˆ—è¡¨ï¼Œä»¥è¡¨æ ¼å½¢å¼å±•ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>th:if</code></td>
<td>å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œåˆ™æ¸²æŸ“è¯¥å…ƒç´ ã€‚</td>
</tr>
<tr>
<td>2</td>
<td><code>th:unless</code></td>
<td>å¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œåˆ™æ¸²æŸ“è¯¥å…ƒç´ ã€‚</td>
</tr>
<tr>
<td>3</td>
<td><code>th:with</code></td>
<td>å®šä¹‰å±€éƒ¨å˜é‡ã€‚</td>
</tr>
<tr>
<td>4</td>
<td><code>th:switch</code></td>
<td>å¼€å§‹ä¸€ä¸ª switch è¯­å¥ã€‚</td>
</tr>
<tr>
<td>5</td>
<td><code>th:case</code></td>
<td>å®šä¹‰ switch è¯­å¥ä¸­çš„ case åˆ†æ”¯ã€‚</td>
</tr>
<tr>
<td>6</td>
<td><code>th:each</code></td>
<td>éå†åˆ—è¡¨ï¼Œç”¨äºå¾ªç¯ã€‚</td>
</tr>
<tr>
<td>7</td>
<td><code>th:remove</code></td>
<td>ç§»é™¤å…ƒç´ æˆ–å…¶å±æ€§ã€‚</td>
</tr>
<tr>
<td>8</td>
<td><code>th:attr</code></td>
<td>è®¾ç½®æˆ–ä¿®æ”¹å…ƒç´ çš„å±æ€§ã€‚</td>
</tr>
<tr>
<td>9</td>
<td><code>th:classappend</code></td>
<td>è¿½åŠ  CSS ç±»ã€‚</td>
</tr>
<tr>
<td>10</td>
<td><code>th:styleappend</code></td>
<td>è¿½åŠ å†…è”æ ·å¼ã€‚</td>
</tr>
<tr>
<td>11</td>
<td><code>th:src</code></td>
<td>è®¾ç½®å…ƒç´ çš„ <code>src</code> å±æ€§ã€‚</td>
</tr>
<tr>
<td>12</td>
<td><code>th:href</code></td>
<td>è®¾ç½®å…ƒç´ çš„ <code>href</code> å±æ€§ã€‚</td>
</tr>
<tr>
<td>13</td>
<td><code>th:value</code></td>
<td>è®¾ç½®å…ƒç´ çš„ <code>value</code> å±æ€§ã€‚</td>
</tr>
<tr>
<td>14</td>
<td><code>th:text</code></td>
<td>è®¾ç½®å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚</td>
</tr>
<tr>
<td>15</td>
<td><code>th:utext</code></td>
<td>è®¾ç½®å…ƒç´ çš„æœªè½¬ä¹‰æ–‡æœ¬å†…å®¹ã€‚</td>
</tr>
<tr>
<td>16</td>
<td><code>th:html</code></td>
<td>è®¾ç½®å…ƒç´ çš„ HTML å†…å®¹ã€‚</td>
</tr>
<tr>
<td>17</td>
<td><code>th:fragment</code></td>
<td>å®šä¹‰æ¨¡æ¿ç‰‡æ®µã€‚</td>
</tr>
<tr>
<td>18</td>
<td><code>th:insert</code></td>
<td>æ’å…¥ä¸€ä¸ªæ¨¡æ¿ç‰‡æ®µã€‚</td>
</tr>
<tr>
<td>19</td>
<td><code>th:replace</code></td>
<td>æ›¿æ¢å½“å‰å…ƒç´ ä¸ºä¸€ä¸ªæ¨¡æ¿ç‰‡æ®µã€‚</td>
</tr>
<tr>
<td>20</td>
<td><code>th:include</code></td>
<td>åŒ…å«ä¸€ä¸ªæ¨¡æ¿ç‰‡æ®µçš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td>21</td>
<td><code>th:block</code></td>
<td>ç”¨äºé€»è¾‘åˆ†ç»„ï¼Œä¸äº§ç”Ÿä»»ä½•HTMLè¾“å‡ºã€‚</td>
</tr>
</tbody>
</table>
<p>å¯¹äºthymeleafå±æ€§ä¼˜å…ˆçº§ï¼Œæˆ‘æ€»ç»“äº†ä»¥ä¸‹ä¸€æ®µè¯ï¼ŒæŠŠå®ƒè®°ä½å³å¯ï¼š</p>
<p><strong>â€œå…ˆæ§åˆ¶ï¼Œå†éå†ï¼Œåæ“ä½œï¼Œæœ«å†…å®¹ã€‚â€</strong></p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li><strong>å…ˆæ§åˆ¶</strong>ï¼š<code>th:if</code> å’Œ <code>th:unless</code> ç”¨äºæ¡ä»¶æ§åˆ¶ï¼Œå†³å®šæ˜¯å¦æ¸²æŸ“å…ƒç´ ã€‚</li>
<li><strong>å†éå†</strong>ï¼š<code>th:each</code> ç”¨äºéå†åˆ—è¡¨ï¼Œç”Ÿæˆå¤šä¸ªå…ƒç´ ã€‚</li>
<li><strong>åæ“ä½œ</strong>ï¼š<code>th:with</code>ã€<code>th:switch</code>ã€<code>th:case</code>ã€<code>th:remove</code>ã€<code>th:attr</code> ç­‰ç”¨äºå±€éƒ¨å˜é‡å®šä¹‰ã€æ¡ä»¶åˆ†æ”¯ã€å±æ€§æ“ä½œç­‰ã€‚</li>
<li><strong>æœ«å†…å®¹</strong>ï¼š<code>th:text</code>ã€<code>th:utext</code>ã€<code>th:html</code> ç­‰ç”¨äºè®¾ç½®å…ƒç´ çš„å†…å®¹ã€‚</li>
</ol>
<h3 id="-è¡¨è¾¾å¼-1">*{&hellip;} è¡¨è¾¾å¼<a hidden class="anchor" aria-hidden="true" href="#-è¡¨è¾¾å¼-1">#</a></h3>
<p><code>*{...}</code> ä¸»è¦ç”¨äºåœ¨ä¸Šä¸‹æ–‡ä¸­è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚è¿™ç§è¡¨è¾¾å¼é€šå¸¸åœ¨è¡¨å•å¤„ç†å’Œå¯¹è±¡ç»‘å®šåœºæ™¯ä¸­ä½¿ç”¨ã€‚</p>
<p><strong>è¯­æ³•</strong>ï¼š<code>*{property}</code>ï¼šè®¿é—®å½“å‰**<font style="color:#DF2A3F;">ä¸Šä¸‹æ–‡</font>**å¯¹è±¡çš„æŸä¸ªå±æ€§ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong></p>
<ul>
<li>è¡¨å•ç»‘å®šï¼šåœ¨è¡¨å•ä¸­ç»‘å®šå¯¹è±¡çš„å±æ€§ã€‚</li>
<li>å¯¹è±¡å±æ€§è®¿é—®ï¼šåœ¨æ¨¡æ¿ä¸­è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œç‰¹åˆ«æ˜¯å½“å¯¹è±¡æ˜¯å½“å‰ä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†æ—¶ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹</strong></p>
<ol>
<li><strong>è¡¨å•ç»‘å®š</strong></li>
</ol>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª <code>User</code> å¯¹è±¡ï¼ŒåŒ…å« <code>name</code> å’Œ <code>age</code> å±æ€§ï¼Œä½ å¯ä»¥åœ¨è¡¨å•ä¸­ä½¿ç”¨ <code>*{...}</code> è¡¨è¾¾å¼æ¥ç»‘å®šè¿™äº›å±æ€§ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">form</span> <span style="color:#007f7f">th:object</span>=<span style="color:#0ff;font-weight:bold">&#34;${user}&#34;</span> <span style="color:#007f7f">method</span>=<span style="color:#0ff;font-weight:bold">&#34;post&#34;</span> <span style="color:#007f7f">action</span>=<span style="color:#0ff;font-weight:bold">&#34;/submit&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">label</span> <span style="color:#007f7f">for</span>=<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>&gt;Name:&lt;/<span style="font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">input</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;text&#34;</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="color:#007f7f">name</span>=<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> <span style="color:#007f7f">th:field</span>=<span style="color:#0ff;font-weight:bold">&#34;*{name}&#34;</span> /&gt; 
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">label</span> <span style="color:#007f7f">for</span>=<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>&gt;Age:&lt;/<span style="font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">input</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;number&#34;</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">name</span>=<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span> <span style="color:#007f7f">th:field</span>=<span style="color:#0ff;font-weight:bold">&#34;*{age}&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">button</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;submit&#34;</span>&gt;Submit&lt;/<span style="font-weight:bold">button</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">form</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>th:object=&quot;${user}&quot;</code> å°† <code>user</code> å¯¹è±¡è®¾ç½®ä¸ºå½“å‰ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li>
<li><code>th:field=&quot;*{name}&quot;</code> å’Œ <code>th:field=&quot;*{age}&quot;</code> åˆ†åˆ«ç»‘å®šåˆ° <code>user</code> å¯¹è±¡çš„ <code>name</code> å’Œ <code>age</code> å±æ€§ã€‚</li>
</ul>
<ol start="2">
<li><strong>å¯¹è±¡å±æ€§è®¿é—®</strong></li>
</ol>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª <code>User</code> å¯¹è±¡ï¼ŒåŒ…å« <code>name</code> å’Œ <code>age</code> å±æ€§ï¼Œä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ <code>*{...}</code> è¡¨è¾¾å¼æ¥è®¿é—®è¿™äº›å±æ€§ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:object</span>=<span style="color:#0ff;font-weight:bold">&#34;${user}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">p</span>&gt;Name: &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;*{name}&#34;</span>&gt;Default Name&lt;/<span style="font-weight:bold">span</span>&gt;&lt;/<span style="font-weight:bold">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">p</span>&gt;Age: &lt;<span style="font-weight:bold">span</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;*{age}&#34;</span>&gt;Default Age&lt;/<span style="font-weight:bold">span</span>&gt;&lt;/<span style="font-weight:bold">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>th:object=&quot;${user}&quot;</code> å°† <code>user</code> å¯¹è±¡è®¾ç½®ä¸ºå½“å‰ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</li>
<li><code>*{name}</code> å’Œ <code>*{age}</code> åˆ†åˆ«è®¿é—® <code>user</code> å¯¹è±¡çš„ <code>name</code> å’Œ <code>age</code> å±æ€§ã€‚</li>
</ul>
<p><strong>ä¸ <strong><code>**${...}**</code></strong> çš„åŒºåˆ«</strong></p>
<ul>
<li><code>${...}</code>ï¼šæ ‡å‡†è¡¨è¾¾å¼ï¼Œç”¨äºè®¿é—®æ¨¡å‹ä¸­çš„å˜é‡å’Œæ‰§è¡Œç®€å•çš„è¡¨è¾¾å¼ã€‚</li>
<li><code>*{...}</code>ï¼šå±æ€§é€‰æ‹©è¡¨è¾¾å¼ï¼Œç”¨äºåœ¨ä¸Šä¸‹æ–‡ä¸­è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œé€šå¸¸ä¸ <code>th:object</code> ä¸€èµ·ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="ä»£ç ç‰‡æ®µå…±äº«">ä»£ç ç‰‡æ®µå…±äº«<a hidden class="anchor" aria-hidden="true" href="#ä»£ç ç‰‡æ®µå…±äº«">#</a></h3>
<p>ç‰‡æ®µæ˜¯Thymeleafä¸­ç”¨äºä»£ç å¤ç”¨çš„åŸºæœ¬æœºåˆ¶ã€‚ä½ å¯ä»¥å°†å…±äº«çš„éƒ¨åˆ†æå–åˆ°å•ç‹¬çš„HTMLæ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨å…¶ä»–æ¨¡æ¿ä¸­å¼•ç”¨è¿™äº›ç‰‡æ®µã€‚</p>
<p>é¡µé¢ä¸­å…¬å…±çš„header.html</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">header</span> <span style="color:#007f7f">th:fragment</span>=<span style="color:#0ff;font-weight:bold">&#34;h&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">nav</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="font-weight:bold">ul</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="font-weight:bold">li</span>&gt;&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">th:href</span>=<span style="color:#0ff;font-weight:bold">&#34;@{/a}&#34;</span>&gt;Home&lt;/<span style="font-weight:bold">a</span>&gt;&lt;/<span style="font-weight:bold">li</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="font-weight:bold">li</span>&gt;&lt;<span style="font-weight:bold">a</span> <span style="color:#007f7f">th:href</span>=<span style="color:#0ff;font-weight:bold">&#34;@{/b}&#34;</span>&gt;About&lt;/<span style="font-weight:bold">a</span>&gt;&lt;/<span style="font-weight:bold">li</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="font-weight:bold">ul</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="font-weight:bold">nav</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">header</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>é¡µé¢ä¸­å…¬å…±çš„footer.html</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="font-weight:bold">footer</span> <span style="color:#007f7f">th:fragment</span>=<span style="color:#0ff;font-weight:bold">&#34;f&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="font-weight:bold">p</span>&gt;&amp;copy; 2024 åŒ—äº¬åŠ¨åŠ›èŠ‚ç‚¹&lt;/<span style="font-weight:bold">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">footer</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨<code>a.html</code>ä¸­åŒ…å«ä»¥ä¸Šä¸¤ä¸ªå…¬å…±éƒ¨åˆ†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">xmlns:th</span>=<span style="color:#0ff;font-weight:bold">&#34;http://www.thymeleaf.org&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;ä¸»é¡µ&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:replace</span>=<span style="color:#0ff;font-weight:bold">&#34;~{header :: h}&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">main</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">h1</span>&gt;æ¬¢è¿æ¥åˆ°ä¸»é¡µ&lt;/<span style="font-weight:bold">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">p</span>&gt;è¿™æ˜¯ä¸»é¡µçš„ä¸»è¦å†…å®¹.&lt;/<span style="font-weight:bold">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">main</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:replace</span>=<span style="color:#0ff;font-weight:bold">&#34;~{footer :: f}&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨<code>b.html</code>ä¸­åŒ…å«ä»¥ä¸Šä¸¤ä¸ªå…¬å…±éƒ¨åˆ†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">xmlns:th</span>=<span style="color:#0ff;font-weight:bold">&#34;http://www.thymeleaf.org&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;å…³äºæˆ‘ä»¬&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:replace</span>=<span style="color:#0ff;font-weight:bold">&#34;~{header :: h}&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">main</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">h1</span>&gt;å…³äºæˆ‘ä»¬&lt;/<span style="font-weight:bold">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">p</span>&gt;åŠ¨åŠ›èŠ‚ç‚¹ä¸“æ³¨ITåŸ¹è®­16å¹´.&lt;/<span style="font-weight:bold">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">main</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">div</span> <span style="color:#007f7f">th:replace</span>=<span style="color:#0ff;font-weight:bold">&#34;~{footer :: f}&#34;</span>&gt;&lt;/<span style="font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸»è¦ä½œç”¨æ˜¯ä»£ç å¤ç”¨ã€‚å®ç°æ­¤åŠŸèƒ½çš„ä¸»è¦ä»£ç ï¼š</p>
<ul>
<li>åœ¨å…¬å…±ä»£ç éƒ¨åˆ†ä½¿ç”¨<code>th:fragment=&quot;ç‰‡æ®µåç§°&quot;</code>æ¥å£°æ˜å…¬å…±ä»£ç ç‰‡æ®µçš„åå­—ã€‚</li>
<li>åœ¨éœ€è¦å¼•å…¥çš„åœ°æ–¹ä½¿ç”¨<code>th:replace=&quot;~{æ–‡ä»¶åå»æ‰åç¼€ :: ç‰‡æ®µåç§°}&quot;</code>æ¥å¼•å…¥ã€‚</li>
</ul>
<p><strong><font style="color:#DF2A3F;">å°æ’æ›²ï¼šåœ¨springbootä¸­å¦‚ä½•å®ç°ï¼šç›´æ¥å°†è¯·æ±‚è·¯å¾„æ˜ å°„åˆ°ç‰¹å®šçš„è§†å›¾ï¼Œè€Œä¸éœ€è¦ç¼–å†™controllerï¼Ÿ</font></strong></p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šè§†å›¾è§£æå™¨é…ç½®</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.view.prefix</span>=<span style="color:#0ff;font-weight:bold">/templates/</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.mvc.view.suffix</span>=<span style="color:#0ff;font-weight:bold">.html</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨<code>ViewControllerRegistry</code>è¿›è¡Œè§†å›¾ä¸æ§åˆ¶å™¨çš„æ³¨å†Œ</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.springboot.config;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.context.annotation.Configuration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.ViewControllerRegistry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@Configuration
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> WebMvcConfig <span style="color:#fff;font-weight:bold">implements</span> WebMvcConfigurer {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> addViewControllers(ViewControllerRegistry registry) {
</span></span><span style="display:flex;"><span>        registry.<span style="color:#007f7f">addViewController</span>(<span style="color:#0ff;font-weight:bold">&#34;/a&#34;</span>).<span style="color:#007f7f">setViewName</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>);
</span></span><span style="display:flex;"><span>        registry.<span style="color:#007f7f">addViewController</span>(<span style="color:#0ff;font-weight:bold">&#34;/b&#34;</span>).<span style="color:#007f7f">setViewName</span>(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="thymeleafé¡µé¢ä¿®æ”¹å¦‚ä½•ç«‹å³ç”Ÿæ•ˆ">thymeleafé¡µé¢ä¿®æ”¹å¦‚ä½•ç«‹å³ç”Ÿæ•ˆ<a hidden class="anchor" aria-hidden="true" href="#thymeleafé¡µé¢ä¿®æ”¹å¦‚ä½•ç«‹å³ç”Ÿæ•ˆ">#</a></h2>
<p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥springbootæä¾›çš„<code>dev tools</code></p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-devtools<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;scope&gt;</span>runtime<span style="font-weight:bold">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&lt;optional&gt;</span>true<span style="font-weight:bold">&lt;/optional&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬äºŒæ­¥ï¼šå…³é—­åº”ç”¨é‡å¯åŠŸèƒ½ï¼Œå¦‚æœä¸å…³é—­ä¼šå¯¼è‡´æ¯ä¸€æ¬¡ä¿®æ”¹javaä»£ç åç«‹å³é‡å¯åº”ç”¨ï¼Œä¸å»ºè®®ã€‚æˆ‘ä»¬ç°åœ¨åªå¸Œæœ›åšåˆ°çš„åŠŸèƒ½æ˜¯ï¼Œä¿®æ”¹thymeleafæ¨¡æ¿æ–‡ä»¶åç«‹å³ç”Ÿæ•ˆã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">spring.devtools.restart.enabled</span>=<span style="color:#0ff;font-weight:bold">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç¬¬ä¸‰æ­¥ï¼šä¿®æ”¹ä»£ç ååœ¨IDEAä¸­æŒ‰ç»„åˆé”®<code>ctrl+f9</code></p>
<p>ä»¥ä¸Šä¸‰æ­¥é…åˆå³å¯ã€‚</p>
<h1 id="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†<a hidden class="anchor" aria-hidden="true" href="#å¼‚å¸¸å¤„ç†">#</a></h1>
<p>åœ¨controllerå±‚å¦‚æœç¨‹åºå‡ºç°äº†å¼‚å¸¸ï¼Œå¹¶ä¸”è¿™ä¸ªå¼‚å¸¸æœªè¢«æ•è·ï¼Œspringbootæä¾›çš„å¼‚å¸¸å¤„ç†æœºåˆ¶å°†ç”Ÿæ•ˆã€‚</p>
<p>Spring Boot æä¾›å¼‚å¸¸å¤„ç†æœºåˆ¶ä¸»è¦æ˜¯ä¸ºäº†æé«˜åº”ç”¨çš„å¥å£®æ€§å’Œç”¨æˆ·ä½“éªŒã€‚å®ƒçš„å¥½å¤„åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€é”™è¯¯å“åº”</strong>ï¼šå¯ä»¥å®šä¹‰å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ¥ç»Ÿä¸€å¤„ç†å„ç§å¼‚å¸¸ï¼Œç¡®ä¿è¿”å›ç»™å®¢æˆ·ç«¯çš„é”™è¯¯ä¿¡æ¯æ ¼å¼ä¸€è‡´ï¼Œä¾¿äºå‰ç«¯è§£æã€‚</li>
<li><strong>æå‡ç”¨æˆ·ä½“éªŒ</strong>ï¼šèƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†å¼‚å¸¸æƒ…å†µï¼Œé¿å…ç›´æ¥å°†æŠ€æœ¯æ€§é”™è¯¯ä¿¡æ¯æš´éœ²ç»™ç”¨æˆ·ï¼Œè€Œæ˜¯æ˜¾ç¤ºæ›´åŠ å‹å¥½çš„æç¤ºä¿¡æ¯ã€‚</li>
<li><strong>ç®€åŒ–ä»£ç </strong>ï¼šå¼€å‘è€…ä¸éœ€è¦åœ¨æ¯ä¸ªå¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•ä¸­é‡å¤ç¼–å†™å¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œå‡å°‘å†—ä½™ä»£ç ï¼Œä½¿ä¸šåŠ¡ä»£ç æ›´åŠ æ¸…æ™°ç®€æ´ã€‚</li>
<li><strong>å¢å¼ºå®‰å…¨æ€§</strong>ï¼šé€šè¿‡æ§åˆ¶å¼‚å¸¸ä¿¡æ¯çš„è¾“å‡ºï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Œå¢åŠ ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚</li>
</ol>
<h2 id="è‡ªé€‚åº”çš„é”™è¯¯å¤„ç†æœºåˆ¶">è‡ªé€‚åº”çš„é”™è¯¯å¤„ç†æœºåˆ¶<a hidden class="anchor" aria-hidden="true" href="#è‡ªé€‚åº”çš„é”™è¯¯å¤„ç†æœºåˆ¶">#</a></h2>
<p>springbootä¼šæ ¹æ®è¯·æ±‚å¤´çš„Acceptå­—æ®µæ¥å†³å®šé”™è¯¯çš„å“åº”æ ¼å¼ã€‚</p>
<p>è¿™ç§æœºåˆ¶çš„å¥½å¤„å°±æ˜¯ï¼šå®¢æˆ·ç«¯è®¾å¤‡è‡ªé€‚åº”ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/cc88d10ad64f30227696b1a37766736d_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/7784f0a37fe1605a7c5bc821c997cd44_MD5.png"></p>
<h2 id="springmvcçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">SpringMVCçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ<a hidden class="anchor" aria-hidden="true" href="#springmvcçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">#</a></h2>
<p><strong><font style="color:#DF2A3F;">é‡ç‚¹ï¼šå¦‚æœç¨‹åºå‘˜ä½¿ç”¨äº†SpringMVCçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆï¼ŒSpringBootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆä¸ç”Ÿæ•ˆã€‚</font></strong></p>
<h3 id="å±€éƒ¨æ§åˆ¶-exceptionhandler">å±€éƒ¨æ§åˆ¶ @ExceptionHandler<a hidden class="anchor" aria-hidden="true" href="#å±€éƒ¨æ§åˆ¶-exceptionhandler">#</a></h3>
<p>åœ¨æ§åˆ¶å™¨å½“ä¸­ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•ä½¿ç”¨@ExceptionHandleræ³¨è§£è¿›è¡Œæ ‡æ³¨ï¼Œå‡¡æ˜¯<strong>è¿™ä¸ªæ§åˆ¶å™¨</strong>å½“ä¸­å‡ºç°äº†<strong>å¯¹åº”çš„å¼‚å¸¸</strong>ï¼Œåˆ™èµ°è¿™ä¸ªæ–¹æ³•æ¥è¿›è¡Œå¼‚å¸¸çš„å¤„ç†ã€‚å±€éƒ¨ç”Ÿæ•ˆã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.test.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.ExceptionHandler;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.PathVariable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/resource/{id}&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getResource(@PathVariable Long id){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(id == 1){
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> IllegalArgumentException(<span style="color:#0ff;font-weight:bold">&#34;æ— æ•ˆIDï¼š&#34;</span> + id);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;ID = &#34;</span> + id;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @ExceptionHandler(IllegalArgumentException.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String handler(IllegalArgumentException e){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;é”™è¯¯ä¿¡æ¯ï¼š&#34;</span> + e.<span style="color:#007f7f">getMessage</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥å†ç¼–å†™ä¸€ä¸ªOtherControllerï¼Œè®©å®ƒä¹Ÿå‘ç”Ÿ<code>IllegalArgumentException</code>å¼‚å¸¸ï¼Œçœ‹çœ‹å®ƒä¼šä¸ä¼šèµ°å±€éƒ¨çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.test.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.GetMapping;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.PathVariable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.RestController;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> OtherController {
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/resource2/{id}&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getResource(@PathVariable Long id){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span>(id == 1){
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> IllegalArgumentException(<span style="color:#0ff;font-weight:bold">&#34;æ— æ•ˆIDï¼š&#34;</span> + id);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;ID = &#34;</span> + id;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡æµ‹è¯•ï¼Œç¡®å®å±€éƒ¨ç”Ÿæ•ˆã€‚</p>
<h3 id="å…¨å±€æ§åˆ¶-controlleradvice--exceptionhandler">å…¨å±€æ§åˆ¶ @ControllerAdvice + @ExceptionHandler<a hidden class="anchor" aria-hidden="true" href="#å…¨å±€æ§åˆ¶-controlleradvice--exceptionhandler">#</a></h3>
<p>ä¹Ÿå¯ä»¥æŠŠä»¥ä¸Šå±€éƒ¨ç”Ÿæ•ˆçš„æ–¹æ³•å•ç‹¬æ”¾åˆ°ä¸€ä¸ªç±»å½“ä¸­ï¼Œè¿™ä¸ªç±»ä½¿ç”¨@ControllerAdviceæ³¨è§£æ ‡æ³¨ï¼Œå‡¡æ˜¯<strong>ä»»ä½•æ§åˆ¶å™¨</strong>å½“ä¸­å‡ºç°äº†<strong>å¯¹åº”çš„å¼‚å¸¸</strong>ï¼Œåˆ™èµ°è¿™ä¸ªæ–¹æ³•æ¥è¿›è¡Œå¼‚å¸¸çš„å¤„ç†ã€‚å…¨å±€ç”Ÿæ•ˆã€‚</p>
<p>å°†ä¹‹å‰çš„å±€éƒ¨å¤„ç†æ–¹æ¡ˆçš„ä»£ç æ³¨é‡Šæ‰ã€‚ä½¿ç”¨å…¨å±€å¤„ç†æ–¹å¼ï¼Œç¼–å†™ä»¥ä¸‹ç±»ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> com.powernode.test.controller;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.ControllerAdvice;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.ExceptionHandler;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> org.springframework.web.bind.annotation.ResponseBody;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>@ControllerAdvice
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> GlobalExceptionHandler {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @ExceptionHandler(IllegalArgumentException.<span style="color:#007f7f">class</span>)
</span></span><span style="display:flex;"><span>    @ResponseBody
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String handler(IllegalArgumentException e){
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;é”™è¯¯ä¿¡æ¯ï¼š&#34;</span> + e.<span style="color:#007f7f">getMessage</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡æµ‹è¯•ï¼Œç¡®å®å…¨å±€ç”Ÿæ•ˆã€‚</p>
<h2 id="springbootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">SpringBootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ<a hidden class="anchor" aria-hidden="true" href="#springbootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">#</a></h2>
<p><strong><font style="color:#DF2A3F;">é‡ç‚¹ï¼šå¦‚æœSpringMVCæ²¡æœ‰å¯¹åº”çš„å¤„ç†æ–¹æ¡ˆï¼Œä¼šå¼€å¯SpringBooté»˜è®¤çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆã€‚</font></strong></p>
<p>SpringBooté»˜è®¤çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœå®¢æˆ·ç«¯è¦çš„æ˜¯jsonï¼Œåˆ™ç›´æ¥å“åº”jsonæ ¼å¼çš„é”™è¯¯ä¿¡æ¯ã€‚</li>
<li>å¦‚æœå®¢æˆ·ç«¯è¦çš„æ˜¯htmlé¡µé¢ï¼Œåˆ™æŒ‰ç…§ä¸‹é¢æ–¹æ¡ˆï¼š</li>
</ol>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼ˆç²¾ç¡®é”™è¯¯ç æ–‡ä»¶ï¼‰ï¼šå»<code>classpath:/templates/error/</code>ç›®å½•ä¸‹æ‰¾<code>404.html``500.html</code>ç­‰<code>ç²¾ç¡®é”™è¯¯ç .html</code>æ–‡ä»¶ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å»é™æ€èµ„æºç›®å½•ä¸‹çš„/errorç›®å½•ä¸‹æ‰¾ã€‚å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œæ‰ä¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li>ç¬¬äºŒæ­¥ï¼ˆæ¨¡ç³Šé”™è¯¯ç æ–‡ä»¶ï¼‰ï¼šå»<code>classpath:/templates/error/</code>ç›®å½•ä¸‹æ‰¾<code>4xx.html``5xx.html</code>ç­‰<code>æ¨¡ç³Šé”™è¯¯ç .html</code>æ–‡ä»¶ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™å»é™æ€èµ„æºç›®å½•ä¸‹çš„/errorç›®å½•ä¸‹æ‰¾ã€‚å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œæ‰ä¼šè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼ˆé€šç”¨é”™è¯¯é¡µé¢ï¼‰ï¼šå»æ‰¾<code>classpath:/templates/error.html</code>å¦‚æœæ‰¾ä¸åˆ°åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li>ç¬¬å››æ­¥ï¼ˆé»˜è®¤é”™è¯¯å¤„ç†ï¼‰ï¼šå¦‚æœä¸Šè¿°æ‰€æœ‰æ­¥éª¤éƒ½æœªèƒ½æ‰¾åˆ°åˆé€‚çš„é”™è¯¯é¡µé¢ï¼ŒSpring Boot ä¼šä½¿ç”¨å†…ç½®çš„é»˜è®¤é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œå³ <code>/error</code> ç«¯ç‚¹ã€‚</li>
</ul>
<h2 id="å¦‚ä½•åœ¨é”™è¯¯é¡µè·å–é”™è¯¯ä¿¡æ¯">å¦‚ä½•åœ¨é”™è¯¯é¡µè·å–é”™è¯¯ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#å¦‚ä½•åœ¨é”™è¯¯é¡µè·å–é”™è¯¯ä¿¡æ¯">#</a></h2>
<p>Spring Boot é»˜è®¤ä¼šåœ¨æ¨¡å‹Modelä¸­æ”¾ç½®ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>timestamp: é”™è¯¯å‘ç”Ÿçš„æ—¶é—´æˆ³</li>
<li>status: HTTP çŠ¶æ€ç </li>
<li>error: é”™è¯¯ç±»å‹ï¼ˆå¦‚ &ldquo;Not Found&rdquo;ï¼‰</li>
<li>exception: å¼‚å¸¸ç±»å</li>
<li>message: é”™è¯¯æ¶ˆæ¯</li>
<li>trace: å †æ ˆè·Ÿè¸ª</li>
</ul>
<p>åœ¨thymeleafä¸­ä½¿ç”¨ <code>${message}</code>å³å¯å–å‡ºä¿¡æ¯ã€‚</p>
<p>æ³¨æ„ï¼š**<font style="color:#DF2A3F;">springboot3.3.5</font>**ç‰ˆæœ¬é»˜è®¤åªå‘Modelå¯¹è±¡ä¸­ç»‘å®šäº†<code>timestamp``status``error</code>ã€‚å¦‚æœè¦ä¿å­˜<code>exception``message``trace</code>ï¼Œéœ€è¦å¼€å¯ä»¥ä¸‹ä¸‰ä¸ªé…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-plain" data-lang="plain"><span style="display:flex;"><span>server.error.include-stacktrace=always
</span></span><span style="display:flex;"><span>server.error.include-exception=true
</span></span><span style="display:flex;"><span>server.error.include-message=always
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ<a hidden class="anchor" aria-hidden="true" href="#å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„é”™è¯¯å¤„ç†æ–¹æ¡ˆ">#</a></h2>
<p>ç»Ÿä¸€ä½¿ç”¨SpringMVCçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆï¼Œå®šä¹‰å…¨å±€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼š@ControllerAdvice + @ExceptionHandler</p>
<p>è¿”å›jsonæ ¼å¼çš„é”™è¯¯ä¿¡æ¯ï¼Œå…¶å®ƒçš„å°±ä¸éœ€è¦ç®¡äº†ï¼Œå› ä¸ºå‰ç«¯æ¥æ”¶åˆ°é”™è¯¯ä¿¡æ¯æ€ä¹ˆå¤„ç†æ˜¯ä»–è‡ªå·±çš„äº‹å„¿ã€‚</p>
<h2 id="æœåŠ¡å™¨ç«¯è´Ÿè´£é¡µé¢æ¸²æŸ“çš„é¡¹ç›®é”™è¯¯å¤„ç†æ–¹æ¡ˆ">æœåŠ¡å™¨ç«¯è´Ÿè´£é¡µé¢æ¸²æŸ“çš„é¡¹ç›®é”™è¯¯å¤„ç†æ–¹æ¡ˆ<a hidden class="anchor" aria-hidden="true" href="#æœåŠ¡å™¨ç«¯è´Ÿè´£é¡µé¢æ¸²æŸ“çš„é¡¹ç›®é”™è¯¯å¤„ç†æ–¹æ¡ˆ">#</a></h2>
<p>å»ºè®®ä½¿ç”¨SpringBootçš„é”™è¯¯å¤„ç†æ–¹æ¡ˆï¼š</p>
<ol>
<li>å¦‚æœå‘ç”Ÿçš„å¼‚å¸¸æ˜¯HTTPé”™è¯¯çŠ¶æ€ç ï¼š
<ol>
<li>å»ºè®®å¸¸è§çš„é”™è¯¯ç ç»™å®š<code>ç²¾ç¡®é”™è¯¯ç .html</code></li>
<li>å»ºè®®ä¸å¸¸è§çš„é”™è¯¯ç ç»™å®š<code>æ¨¡ç³Šé”™è¯¯ç .html</code></li>
</ol>
</li>
<li>å¦‚æœå‘ç”Ÿçš„å¼‚å¸¸ä¸æ˜¯HTTPé”™è¯¯çŠ¶æ€ç ï¼Œè€Œæ˜¯ä¸šåŠ¡ç›¸å…³å¼‚å¸¸ï¼š
<ol>
<li>åœ¨ç¨‹åºä¸­å¤„ç†å…·ä½“çš„ä¸šåŠ¡å¼‚å¸¸ï¼Œè‡ªå·±é€šè¿‡ç¨‹åºæ¥å†³å®šè·³è½¬åˆ°å“ªä¸ªé”™è¯¯é¡µé¢ã€‚</li>
</ol>
</li>
<li>å»ºè®®æä¾›<code>classpath:/templates/error.html</code>æ¥å¤„ç†é€šç”¨é”™è¯¯ã€‚</li>
</ol>
<h1 id="å›½é™…åŒ–äº†è§£">å›½é™…åŒ–ï¼ˆäº†è§£ï¼‰<a hidden class="anchor" aria-hidden="true" href="#å›½é™…åŒ–äº†è§£">#</a></h1>
<p>åœ¨Spring Bootä¸­å®ç°å›½é™…åŒ–ï¼ˆi18nï¼‰æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºæ ¹æ®ç”¨æˆ·çš„è¯­è¨€å’Œåœ°åŒºåå¥½æ˜¾ç¤ºä¸åŒçš„æ–‡æœ¬ã€‚</p>
<h2 id="å®ç°å›½é™…åŒ–">å®ç°å›½é™…åŒ–<a hidden class="anchor" aria-hidden="true" href="#å®ç°å›½é™…åŒ–">#</a></h2>
<h3 id="ç¬¬ä¸€æ­¥åˆ›å»ºèµ„æºæ–‡ä»¶">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºèµ„æºæ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#ç¬¬ä¸€æ­¥åˆ›å»ºèµ„æºæ–‡ä»¶">#</a></h3>
<p>åˆ›å»ºåŒ…å«ä¸åŒè¯­è¨€ç‰ˆæœ¬çš„æ¶ˆæ¯æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶é€šå¸¸æ”¾åœ¨<code>src/main/resources</code>ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä»¥<code>.properties</code>ä¸ºæ‰©å±•åã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>messages.properties</code> (é»˜è®¤è¯­è¨€ï¼Œå¦‚è‹±è¯­)</li>
<li><code>messages_zh_CN.properties</code> (ç®€ä½“ä¸­æ–‡)</li>
<li><code>messages_fr.properties</code> (æ³•è¯­)</li>
</ul>
<p>æ¯ä¸ªæ–‡ä»¶éƒ½åº”åŒ…å«ç›¸åŒçš„æ¶ˆæ¯é”®ï¼Œä½†å€¼åº”å¯¹åº”äºç›¸åº”çš„è¯­è¨€ã€‚ä¾‹å¦‚ï¼š</p>
<p><strong>messages.properties</strong>:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">welcome.message</span>=<span style="color:#0ff;font-weight:bold">Welcome to our application!</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>messages_zh_CN.properties</strong>:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">welcome.message</span>=<span style="color:#0ff;font-weight:bold">æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„åº”ç”¨ï¼</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>messages_fr.properties</strong>:</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f">welcome.message</span>=<span style="color:#0ff;font-weight:bold">Bienvenue dans notre application !</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç¬¬äºŒæ­¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å–å‡ºæ¶ˆæ¯">ç¬¬äºŒæ­¥ï¼šåœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å–å‡ºæ¶ˆæ¯<a hidden class="anchor" aria-hidden="true" href="#ç¬¬äºŒæ­¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å–å‡ºæ¶ˆæ¯">#</a></h3>
<p>è¯­æ³•æ ¼å¼ä¸ºï¼š#{welcome.message}</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">lang</span>=<span style="color:#0ff;font-weight:bold">&#34;en&#34;</span> <span style="color:#007f7f">xmlns:th</span>=<span style="color:#0ff;font-weight:bold">&#34;http://www.thymeleaf.org&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">charset</span>=<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;Title&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">h1</span> <span style="color:#007f7f">th:text</span>=<span style="color:#0ff;font-weight:bold">&#34;#{welcome.message}&#34;</span>&gt;&lt;/<span style="font-weight:bold">h1</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æµ‹è¯•1ï¼šæµè§ˆå™¨é»˜è®¤çš„è¯­è¨€ç¯å¢ƒæ˜¯ä¸­æ–‡æ—¶</strong></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/4cfad89ba5f8be491c53a059e093b8dc_MD5.png"></p>
<p><strong>æµ‹è¯•2ï¼šå°†æµè§ˆå™¨é»˜è®¤è¯­è¨€ç¯å¢ƒä¿®æ”¹ä¸ºæ³•æ–‡</strong></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/70e845641d5eb95dd7f2d9b5009d4a75_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/16f78a62c0fa6a93fc3636cc254b9a55_MD5.png"></p>
<h2 id="å›½é™…åŒ–å®ç°åŸç†">å›½é™…åŒ–å®ç°åŸç†<a hidden class="anchor" aria-hidden="true" href="#å›½é™…åŒ–å®ç°åŸç†">#</a></h2>
<p>åšå›½é™…åŒ–çš„è‡ªåŠ¨é…ç½®ç±»æ˜¯ï¼š<code>MessageSourceAutoConfiguration</code></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/a50fb510b29cb19c71ea3c569dc82e35_MD5.png"></p>
<p>é€šè¿‡ä»¥ä¸Šæºç å¾—çŸ¥ï¼Œå›½é™…åŒ–å¯¹åº”çš„é…ç½®å‰ç¼€æ˜¯ï¼š<code>spring.message</code></p>
<p>ä¾‹å¦‚åœ¨<code>application.properties</code>ä¸­è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># é…ç½®å›½é™…åŒ–æ–‡ä»¶å‘½åçš„åŸºç¡€åç§°</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.messages.basename</span>=<span style="color:#0ff;font-weight:bold">messages</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># æŒ‡å®šå›½é™…åŒ–ä¿¡æ¯çš„å­—ç¬¦ç¼–ç æ–¹å¼</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">spring.messages.encoding</span>=<span style="color:#0ff;font-weight:bold">UTF-8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šæ ‡å‡†æ ‡è¯†ç¬¦ï¼šen_US å’Œ zh_CN è¿™æ ·çš„æ ‡è¯†ç¬¦æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½æ›´æ”¹ã€‚å¯ä»¥è®¾ç½®çš„æ˜¯basenameã€‚</p>
<h2 id="åœ¨ç¨‹åºå½“ä¸­å¦‚ä½•è·å–å›½é™…åŒ–ä¿¡æ¯">åœ¨ç¨‹åºå½“ä¸­å¦‚ä½•è·å–å›½é™…åŒ–ä¿¡æ¯<a hidden class="anchor" aria-hidden="true" href="#åœ¨ç¨‹åºå½“ä¸­å¦‚ä½•è·å–å›½é™…åŒ–ä¿¡æ¯">#</a></h2>
<p>åœ¨å›½é™…åŒ–è‡ªåŠ¨é…ç½®ç±»ä¸­å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€ä¸ªBeanï¼šMessageSourceï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥å¤„ç†å›½é™…åŒ–çš„ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒæ³¨å…¥åˆ°æˆ‘ä»¬çš„ç¨‹åºä¸­ï¼Œç„¶åè°ƒç”¨ç›¸å…³æ–¹æ³•åœ¨ç¨‹åºä¸­è·å–å›½é™…åŒ–ä¿¡æ¯ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@Controller
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MyController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> MessageSource messageSource;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/test&#34;</span>)
</span></span><span style="display:flex;"><span>    @ResponseBody
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String test(HttpServletRequest request){
</span></span><span style="display:flex;"><span>        Locale locale = request.<span style="color:#007f7f">getLocale</span>();
</span></span><span style="display:flex;"><span>        String message = messageSource.<span style="color:#007f7f">getMessage</span>(<span style="color:#0ff;font-weight:bold">&#34;welcome.message&#34;</span>, <span style="color:#fff;font-weight:bold">null</span>, locale);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> message;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å®šåˆ¶webå®¹å™¨">å®šåˆ¶webå®¹å™¨<a hidden class="anchor" aria-hidden="true" href="#å®šåˆ¶webå®¹å™¨">#</a></h1>
<h2 id="webæœåŠ¡å™¨åˆ‡æ¢ä¸ºjetty">webæœåŠ¡å™¨åˆ‡æ¢ä¸ºjetty<a hidden class="anchor" aria-hidden="true" href="#webæœåŠ¡å™¨åˆ‡æ¢ä¸ºjetty">#</a></h2>
<p>springbooté»˜è®¤åµŒå…¥çš„webæœåŠ¡å™¨æ˜¯Tomcatï¼Œå¦‚ä½•åˆ‡æ¢åˆ°jettyæœåŠ¡å™¨ï¼Ÿ</p>
<p>å®ç°æ–¹å¼ï¼šæ’é™¤Tomcatï¼Œæ·»åŠ Jettyä¾èµ–</p>
<p><strong>ä¿®æ”¹ <strong><code>pom.xml</code></strong> æ–‡ä»¶</strong>ï¼šåœ¨ <code>pom.xml</code> ä¸­ï¼Œç¡®ä¿ä½ ä½¿ç”¨ <code>spring-boot-starter-web</code> å¹¶æ’é™¤ Tomcatï¼Œç„¶åæ·»åŠ  Jetty ä¾èµ–ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- æ’é™¤ Tomcat --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;exclusions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;exclusion&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-tomcat<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">&lt;/exclusion&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;/exclusions&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">&lt;!-- æ·»åŠ  Jetty ä¾èµ– --&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;groupId&gt;</span>org.springframework.boot<span style="font-weight:bold">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&lt;artifactId&gt;</span>spring-boot-starter-jetty<span style="font-weight:bold">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span><span style="font-weight:bold">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="webæœåŠ¡å™¨åˆ‡æ¢åŸç†">webæœåŠ¡å™¨åˆ‡æ¢åŸç†<a hidden class="anchor" aria-hidden="true" href="#webæœåŠ¡å™¨åˆ‡æ¢åŸç†">#</a></h2>
<p>ä»å“ªé‡Œå¯ä»¥çœ‹å‡ºspringbootæ˜¯ç›´æ¥å°†tomcatæœåŠ¡å™¨åµŒå…¥åˆ°åº”ç”¨ä¸­çš„å‘¢ï¼Ÿçœ‹è¿™ä¸ªç±»ï¼š<code>ServletWebServerFactoryAutoConfiguration</code></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6eff518bd4c28899634ee9b77fd5c26b_MD5.png"></p>
<p>ä»¥ä¸Šä»£ç æ˜¾ç¤ºåµŒå…¥çš„æ˜¯3ä¸ªæœåŠ¡å™¨ã€‚ä½†å¹¶ä¸æ˜¯éƒ½ç”Ÿæ•ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç”Ÿæ•ˆæ¡ä»¶ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/b8e8e314edba8f03e9743b0885912684_MD5.png"></p>
<p>ç”Ÿæ•ˆæ¡ä»¶æ˜¯ï¼Œçœ‹ç±»è·¯å¾„å½“ä¸­æ˜¯å¦æœ‰å¯¹åº”æœåŠ¡å™¨ç›¸å…³çš„ç±»ï¼Œå¦‚æœæœ‰åˆ™ç”Ÿæ•ˆã€‚<code>spring-boot-web-starter</code>è¿™ä¸ªwebå¯åŠ¨å™¨å¼•å…¥çš„æ—¶å€™ï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œå®ƒé—´æ¥å¼•å…¥çš„æ˜¯tomcatæœåŠ¡å™¨çš„jaråŒ…ã€‚å› æ­¤é»˜è®¤TomcatæœåŠ¡å™¨è¢«åµŒå…¥ã€‚å¦‚æœæƒ³è¦åˆ‡æ¢webæœåŠ¡å™¨ï¼Œå°†tomcatç›¸å…³jaråŒ…æ’é™¤æ‰ï¼Œå¼•å…¥jettyçš„jaråŒ…ä¹‹åï¼ŒjettyæœåŠ¡å™¨å°±ä¼šç”Ÿæ•ˆï¼Œè¿™å°±æ˜¯åˆ‡æ¢webæœåŠ¡å™¨çš„åŸç†ã€‚</p>
<h2 id="webæœåŠ¡å™¨ä¼˜åŒ–">webæœåŠ¡å™¨ä¼˜åŒ–<a hidden class="anchor" aria-hidden="true" href="#webæœåŠ¡å™¨ä¼˜åŒ–">#</a></h2>
<p>é€šè¿‡ä»¥ä¸‹æºç å¾—çŸ¥ï¼ŒwebæœåŠ¡å™¨çš„ç›¸å…³é…ç½®å’Œ<code>ServerProperties</code>æœ‰å…³ç³»ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/6861ec5a3f1d97d1161c08832d58b06b_MD5.png"></p>
<p>æŸ¥çœ‹<code>ServerProperties</code>æºç ï¼š</p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/c14f6dd939e03b88b347a8e816df2c63_MD5.png"></p>
<p>å¾—çŸ¥webæœåŠ¡å™¨çš„é…ç½®éƒ½æ˜¯ä»¥<code>server</code>å¼€å¤´çš„ã€‚</p>
<p>é‚£ä¹ˆå¦‚æœè¦é…ç½®tomcatæœåŠ¡å™¨æ€ä¹ˆåŠï¼Ÿè¦é…ç½®jettyæœåŠ¡å™¨æ€ä¹ˆåŠï¼Ÿè¯·çœ‹ä¸€ä¸‹æºç </p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/04685689177304702d99062ac3230c2f_MD5.png"></p>
<p><img loading="lazy" src="/posts/springboot/%E7%AC%AC5%E7%AB%A0-spring-boot%E7%9A%84web%E5%BC%80%E5%8F%91/2f11f712235f3cd477aaffa4d45cd0ce_MD5.png"></p>
<p>é€šè¿‡ä»¥ä¸Šæºç å¾—çŸ¥ï¼Œå¦‚æœè¦å¯¹tomcatæœåŠ¡å™¨è¿›è¡Œé…ç½®ï¼Œå‰ç¼€ä¸ºï¼š<code>server.tomcat</code></p>
<p>å¦‚æœè¦å¯¹jettyæœåŠ¡å™¨è¿›è¡Œé…ç½®ï¼Œå‰ç¼€ä¸ºï¼š<code>server.jetty</code>ã€‚</p>
<p>åœ¨ä»¥åçš„å¼€å‘ä¸­å…³äºtomcatæœåŠ¡å™¨çš„å¸¸è§ä¼˜åŒ–é…ç½®æœ‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-properties" data-lang="properties"><span style="display:flex;"><span><span style="color:#007f7f"># è¿™ä¸ªå‚æ•°å†³å®šäº† Tomcat åœ¨æ¥æ”¶è¯·æ±‚æ—¶ï¼Œå¦‚æœåœ¨æŒ‡å®šçš„æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å®Œæ•´çš„è¯·æ±‚æ•°æ®ï¼Œå°†ä¼šå…³é—­è¿æ¥ã€‚è¿™ä¸ªè¶…æ—¶æ—¶é—´æ˜¯ä»å®¢æˆ·ç«¯å‘é€è¯·æ±‚å¼€å§‹è®¡ç®—çš„ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># é˜²æ­¢é•¿æ—¶é—´å ç”¨èµ„æºï¼šå¦‚æœå®¢æˆ·ç«¯å‘é€è¯·æ±‚åï¼Œé•¿æ—¶é—´æ²¡æœ‰å‘é€å®Œæ‰€æœ‰æ•°æ®ï¼ŒTomcat ä¼šåœ¨è¿™ä¸ªè¶…æ—¶æ—¶é—´å†…å…³é—­è¿æ¥ï¼Œä»è€Œé‡Šæ”¾èµ„æºï¼Œé¿å…èµ„æºè¢«é•¿æ—¶é—´å ç”¨ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.connection-timeout</span>=<span style="color:#0ff;font-weight:bold">20000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„æœ€å¤§çº¿ç¨‹æ•°ä¸º 200ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°é‡çš„è¯·æ±‚åŒæ—¶åˆ°è¾¾ï¼ŒTomcat ä¼šå°†å¤šä½™çš„è¯·æ±‚æ”¾å…¥ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ä¸­ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># å¦‚æœç­‰å¾…é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼ˆç”± server.tomcat.accept-count é…ç½®ï¼‰ï¼Œæ–°çš„è¯·æ±‚å°†è¢«æ‹’ç»ï¼Œé€šå¸¸ä¼šè¿”å›ä¸€ä¸ªâ€œ503 Service Unavailableâ€é”™è¯¯ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.max-threads</span>=<span style="color:#0ff;font-weight:bold">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># ç”¨æ¥è®¾ç½®ç­‰å¾…é˜Ÿåˆ—çš„æœ€å¤§å®¹é‡</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.accept-count</span>=<span style="color:#0ff;font-weight:bold">100</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨åœ¨ç©ºé—²æ—¶è‡³å°‘ä¿æŒ 10 ä¸ªçº¿ç¨‹å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä»¥ä¾¿å¿«é€Ÿå“åº”æ–°çš„è¯·æ±‚ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.min-spare-threads</span>=<span style="color:#0ff;font-weight:bold">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># å…è®¸ Tomcat æœåŠ¡å™¨åœ¨å…³é—­åç«‹å³é‡æ–°ç»‘å®šç›¸åŒçš„åœ°å€å’Œç«¯å£ï¼Œå³ä½¿è¯¥ç«¯å£è¿˜åœ¨ TIME_WAIT çŠ¶æ€</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># å½“ä¸€ä¸ªç½‘ç»œè¿æ¥å…³é—­æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†è¯¥è¿æ¥çš„ç«¯å£ä¿æŒåœ¨ TIME_WAIT çŠ¶æ€ä¸€æ®µæ—¶é—´ï¼ˆé€šå¸¸æ˜¯ 2-4 åˆ†é’Ÿï¼‰ï¼Œä»¥ç¡®ä¿æ‰€æœ‰æœªå®Œæˆçš„æ•°æ®åŒ…éƒ½èƒ½è¢«æ­£ç¡®å¤„ç†ã€‚åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œè¯¥ç«¯å£ä¸èƒ½è¢«å…¶ä»–è¿›ç¨‹ç»‘å®šã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.address-reuse-enabled</span>=<span style="color:#0ff;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨ç»‘å®šåˆ°æ‰€æœ‰å¯ç”¨çš„ç½‘ç»œæ¥å£ï¼Œä½¿å…¶å¯ä»¥ä»ä»»ä½•ç½‘ç»œåœ°å€è®¿é—®ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.bind-address</span>=<span style="color:#0ff;font-weight:bold">0.0.0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨ä½¿ç”¨ HTTP/1.1 åè®®å¤„ç†è¯·æ±‚ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.protocol</span>=<span style="color:#0ff;font-weight:bold">HTTP/1.1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨çš„ä¼šè¯(session)è¶…æ—¶æ—¶é—´ä¸º 30 åˆ†é’Ÿã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœç”¨æˆ·åœ¨ 30 åˆ†é’Ÿå†…æ²¡æœ‰ä¸åº”ç”¨è¿›è¡Œä»»ä½•äº¤äº’ï¼Œå…¶ä¼šè¯å°†è¢«è‡ªåŠ¨æ³¨é”€ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.session-timeout</span>=<span style="color:#0ff;font-weight:bold">30</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨çš„é™æ€èµ„æºç¼“å­˜æ—¶é—´ä¸º 3600 ç§’ï¼ˆå³ 1 å°æ—¶ï¼‰ï¼Œè¿™æ„å‘³ç€æµè§ˆå™¨ä¼šåœ¨ 1 å°æ—¶å†…ç¼“å­˜è¿™äº›é™æ€èµ„æºï¼Œå‡å°‘é‡å¤è¯·æ±‚ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.resource-cache-period</span>=<span style="color:#0ff;font-weight:bold">3600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è§£å†³getè¯·æ±‚ä¹±ç ã€‚å¯¹è¯·æ±‚è¡Œurlè¿›è¡Œç¼–ç ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.uri-encoding</span>=<span style="color:#0ff;font-weight:bold">UTF-8</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># è®¾ç½® Tomcat æœåŠ¡å™¨çš„åŸºç¡€ç›®å½•ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼ˆ. è¡¨ç¤ºå½“å‰ç›®å½•ï¼‰ã€‚è¿™ä¸ªé…ç½®æŒ‡å®šäº† Tomcat æœåŠ¡å™¨çš„å·¥ä½œç›®å½•ï¼ŒåŒ…æ‹¬æ—¥å¿—æ–‡ä»¶ã€ä¸´æ—¶æ–‡ä»¶å’Œå…¶ä»–è¿è¡Œæ—¶ç”Ÿæˆçš„æ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚ ç”Ÿäº§ç¯å¢ƒä¸­å¯èƒ½éœ€è¦é‡æ–°é…ç½®ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">server.tomcat.basedir</span>=<span style="color:#0ff;font-weight:bold">.</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/springboot/">Springboot</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
