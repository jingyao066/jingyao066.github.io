<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Collection | Wjy&#39;s Blog</title>
<meta name="keywords" content="Collection">
<meta name="description" content="æ¦‚è¿°
ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š


1
2
3
4
5
6
7


â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”

â”‚   (\_(\     (\_/)     (\_/)     (\_/)      (\(\   â”‚
    ( -.-)    (â€¢.â€¢)     (&gt;.&lt;)     (^.^)     (=&#39;.&#39;)
â”‚  C(&#34;)_(&#34;)  (&#34;)_(&#34;)   (&#34;)_(&#34;)   (&#34;)_(&#34;)   O(_&#34;)&#34;)  â”‚

â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜


">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/collection/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Collection" />
<meta property="og:description" content="æ¦‚è¿°
ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š


1
2
3
4
5
6
7


â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”

â”‚   (\_(\     (\_/)     (\_/)     (\_/)      (\(\   â”‚
    ( -.-)    (â€¢.â€¢)     (&gt;.&lt;)     (^.^)     (=&#39;.&#39;)
â”‚  C(&#34;)_(&#34;)  (&#34;)_(&#34;)   (&#34;)_(&#34;)   (&#34;)_(&#34;)   O(_&#34;)&#34;)  â”‚

â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/collection/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-06T18:21:41+00:00" />
<meta property="article:modified_time" content="2017-12-06T18:21:41+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Collection"/>
<meta name="twitter:description" content="æ¦‚è¿°
ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š


1
2
3
4
5
6
7


â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”

â”‚   (\_(\     (\_/)     (\_/)     (\_/)      (\(\   â”‚
    ( -.-)    (â€¢.â€¢)     (&gt;.&lt;)     (^.^)     (=&#39;.&#39;)
â”‚  C(&#34;)_(&#34;)  (&#34;)_(&#34;)   (&#34;)_(&#34;)   (&#34;)_(&#34;)   O(_&#34;)&#34;)  â”‚

â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜


"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Collection",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/collection/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Collection",
  "name": "Collection",
  "description": "æ¦‚è¿° ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š\n1 2 3 4 5 6 7 â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â” â”‚ (\\_(\\ (\\_/) (\\_/) (\\_/) (\\(\\ â”‚ ( -.-) (â€¢.â€¢) (\u0026gt;.\u0026lt;) (^.^) (=\u0026#39;.\u0026#39;) â”‚ C(\u0026#34;)_(\u0026#34;) (\u0026#34;)_(\u0026#34;) (\u0026#34;)_(\u0026#34;) (\u0026#34;)_(\u0026#34;) O(_\u0026#34;)\u0026#34;) â”‚ â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜ ",
  "keywords": [
    "Collection"
  ],
  "articleBody": "æ¦‚è¿° ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š\n1 2 3 4 5 6 7 â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â” â”‚ (\\_(\\ (\\_/) (\\_/) (\\_/) (\\(\\ â”‚ ( -.-) (â€¢.â€¢) (\u003e.\u003c) (^.^) (='.') â”‚ C(\")_(\") (\")_(\") (\")_(\") (\")_(\") O(_\")\") â”‚ â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜ åœ¨æ•°å­¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°é›†åˆçš„æ¦‚å¿µã€‚ä¾‹å¦‚ï¼š\næœ‰é™é›†åˆï¼š ä¸€ä¸ªç­æ‰€æœ‰çš„åŒå­¦æ„æˆçš„é›†åˆï¼› ä¸€ä¸ªç½‘ç«™æ‰€æœ‰çš„å•†å“æ„æˆçš„é›†åˆï¼› â€¦ æ— é™é›†åˆï¼š å…¨ä½“è‡ªç„¶æ•°é›†åˆï¼š1ï¼Œ2ï¼Œ3ï¼Œâ€¦â€¦ æœ‰ç†æ•°é›†åˆï¼› å®æ•°é›†åˆï¼› â€¦ ä¸ºä»€ä¹ˆè¦åœ¨è®¡ç®—æœºä¸­å¼•å…¥é›†åˆå‘¢ï¼Ÿè¿™æ˜¯ä¸ºäº†ä¾¿äºå¤„ç†ä¸€ç»„ç±»ä¼¼çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š\nè®¡ç®—æ‰€æœ‰åŒå­¦çš„æ€»æˆç»©å’Œå¹³å‡æˆç»©ï¼› åˆ—ä¸¾æ‰€æœ‰çš„å•†å“åç§°å’Œä»·æ ¼ï¼› â€¦â€¦ åœ¨Javaä¸­ï¼Œå¦‚æœä¸€ä¸ªJavaå¯¹è±¡å¯ä»¥åœ¨å†…éƒ¨æŒæœ‰è‹¥å¹²å…¶ä»–Javaå¯¹è±¡ï¼Œå¹¶å¯¹å¤–æä¾›è®¿é—®æ¥å£ï¼Œæˆ‘ä»¬æŠŠè¿™ç§Javaå¯¹è±¡ç§°ä¸ºé›†åˆã€‚å¾ˆæ˜¾ç„¶ï¼ŒJavaçš„æ•°ç»„å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§é›†åˆï¼š\n1 2 3 String[] ss = new String[10]; // å¯ä»¥æŒæœ‰10ä¸ªStringå¯¹è±¡ ss[0] = \"Hello\"; // å¯ä»¥æ”¾å…¥Stringå¯¹è±¡ String first = ss[0]; // å¯ä»¥è·å–Stringå¯¹è±¡ æ—¢ç„¶Javaæä¾›äº†æ•°ç»„è¿™ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥å……å½“é›†åˆï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦å…¶ä»–é›†åˆç±»ï¼Ÿè¿™æ˜¯å› ä¸ºæ•°ç»„æœ‰å¦‚ä¸‹é™åˆ¶ï¼š\næ•°ç»„åˆå§‹åŒ–åå¤§å°ä¸å¯å˜ï¼› æ•°ç»„åªèƒ½æŒ‰ç´¢å¼•é¡ºåºå­˜å–ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å„ç§ä¸åŒç±»å‹çš„é›†åˆç±»æ¥å¤„ç†ä¸åŒçš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š\nå¯å˜å¤§å°çš„é¡ºåºé“¾è¡¨ï¼› ä¿è¯æ— é‡å¤å…ƒç´ çš„é›†åˆï¼› â€¦ Collection Javaæ ‡å‡†åº“è‡ªå¸¦çš„java.utilåŒ…æä¾›äº†é›†åˆç±»ï¼šCollectionï¼Œå®ƒæ˜¯é™¤Mapå¤–æ‰€æœ‰å…¶ä»–é›†åˆç±»çš„æ ¹æ¥å£ã€‚Javaçš„java.utilåŒ…ä¸»è¦æä¾›äº†ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„é›†åˆï¼š\nListï¼šä¸€ç§æœ‰åºåˆ—è¡¨çš„é›†åˆï¼Œä¾‹å¦‚ï¼ŒæŒ‰ç´¢å¼•æ’åˆ—çš„Studentçš„Listï¼› Setï¼šä¸€ç§ä¿è¯æ²¡æœ‰é‡å¤å…ƒç´ çš„é›†åˆï¼Œä¾‹å¦‚ï¼Œæ‰€æœ‰æ— é‡å¤åç§°çš„Studentçš„Setï¼› Mapï¼šä¸€ç§é€šè¿‡é”®å€¼ï¼ˆkey-valueï¼‰æŸ¥æ‰¾çš„æ˜ å°„è¡¨é›†åˆï¼Œä¾‹å¦‚ï¼Œæ ¹æ®Studentçš„nameæŸ¥æ‰¾å¯¹åº”Studentçš„Mapã€‚ Javaé›†åˆçš„è®¾è®¡æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼šä¸€æ˜¯å®ç°äº†æ¥å£å’Œå®ç°ç±»ç›¸åˆ†ç¦»ï¼Œä¾‹å¦‚ï¼Œæœ‰åºè¡¨çš„æ¥å£æ˜¯Listï¼Œå…·ä½“çš„å®ç°ç±»æœ‰ArrayListï¼ŒLinkedListç­‰ï¼ŒäºŒæ˜¯æ”¯æŒæ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶åœ¨ä¸€ä¸ªé›†åˆä¸­åªèƒ½æ”¾å…¥åŒä¸€ç§æ•°æ®ç±»å‹çš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š\n1 List list = new ArrayList\u003c\u003e(); // åªèƒ½æ”¾å…¥Stringç±»å‹ æœ€åï¼ŒJavaè®¿é—®é›†åˆæ€»æ˜¯é€šè¿‡ç»Ÿä¸€çš„æ–¹å¼â€”â€”è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¥å®ç°ï¼Œå®ƒæœ€æ˜æ˜¾çš„å¥½å¤„åœ¨äºæ— éœ€çŸ¥é“é›†åˆå†…éƒ¨å…ƒç´ æ˜¯æŒ‰ä»€ä¹ˆæ–¹å¼å­˜å‚¨çš„ã€‚\nç”±äºJavaçš„é›†åˆè®¾è®¡éå¸¸ä¹…è¿œï¼Œä¸­é—´ç»å†è¿‡å¤§è§„æ¨¡æ”¹è¿›ï¼Œæˆ‘ä»¬è¦æ³¨æ„åˆ°æœ‰ä¸€å°éƒ¨åˆ†é›†åˆç±»æ˜¯é—ç•™ç±»ï¼Œä¸åº”è¯¥ç»§ç»­ä½¿ç”¨ï¼š\nHashtableï¼šä¸€ç§çº¿ç¨‹å®‰å…¨çš„Mapå®ç°ï¼› Vectorï¼šä¸€ç§çº¿ç¨‹å®‰å…¨çš„Listå®ç°ï¼› Stackï¼šåŸºäºVectorå®ç°çš„LIFOçš„æ ˆã€‚ è¿˜æœ‰ä¸€å°éƒ¨åˆ†æ¥å£æ˜¯é—ç•™æ¥å£ï¼Œä¹Ÿä¸åº”è¯¥ç»§ç»­ä½¿ç”¨ï¼š\nEnumerationï¼šå·²è¢«Iteratorå–ä»£ã€‚ æ€»ä½“æ¡†æ¶ Javaé›†åˆæ˜¯javaæä¾›çš„å·¥å…·åŒ…ï¼ŒåŒ…å«äº†å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼šé›†åˆã€é“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆã€æ•°ç»„ã€æ˜ å°„ç­‰ã€‚Javaé›†åˆå·¥å…·åŒ…ä½ç½®æ˜¯java.util.* Javaé›†åˆä¸»è¦å¯ä»¥åˆ’åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼šListåˆ—è¡¨ã€Seté›†åˆã€Mapæ˜ å°„ã€å·¥å…·ç±»(Iteratorè¿­ä»£å™¨ã€Enumerationæšä¸¾ç±»ã€Arrayså’ŒCollections)ã€ã€‚ Javaé›†åˆå·¥å…·åŒ…æ¡†æ¶å›¾(å¦‚ä¸‹)ï¼š çœ‹ä¸Šé¢çš„æ¡†æ¶å›¾ï¼Œå…ˆæŠ“ä½å®ƒçš„ä¸»å¹²ï¼Œå³Collectionå’ŒMapã€‚\nCollection 1 public interface Collection extends Iterable {} å®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ˜¯é«˜åº¦æŠ½è±¡å‡ºæ¥çš„é›†åˆï¼Œå®ƒåŒ…å«äº†é›†åˆçš„åŸºæœ¬æ“ä½œï¼šæ·»åŠ ã€åˆ é™¤ã€æ¸…ç©ºã€éå†(è¯»å–)ã€æ˜¯å¦ä¸ºç©ºã€è·å–å¤§å°ã€æ˜¯å¦ä¿æŠ¤æŸå…ƒç´ ç­‰ç­‰ã€‚ Collectionæ¥å£çš„æ‰€æœ‰å­ç±»(ç›´æ¥å­ç±»å’Œé—´æ¥å­ç±»)éƒ½å¿…é¡»å®ç°2ç§æ„é€ å‡½æ•°ï¼šä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•° å’Œ å‚æ•°ä¸ºCollectionçš„æ„é€ å‡½æ•°ã€‚å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è½¬æ¢Collectionçš„ç±»å‹ã€‚\nCollectionä¸»è¦çš„ä¸¤ä¸ªåˆ†æ”¯æ˜¯ï¼šList å’Œ Setã€‚ Listå’ŒSetéƒ½æ˜¯æ¥å£ï¼Œå®ƒä»¬ç»§æ‰¿äºCollectionã€‚ Listæ˜¯æœ‰åºçš„é˜Ÿåˆ—ï¼ŒListä¸­å¯ä»¥æœ‰é‡å¤çš„å…ƒç´ ï¼› è€ŒSetæ˜¯æ•°å­¦æ¦‚å¿µä¸­çš„é›†åˆï¼ŒSetä¸­æ²¡æœ‰é‡å¤å…ƒç´ ã€‚ Listå’ŒSetéƒ½æœ‰å®ƒä»¬å„è‡ªçš„å®ç°ç±»ã€‚\nä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºäº†AbstractCollectionæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Collectionä¸­çš„ç»å¤§éƒ¨åˆ†å‡½æ•°ï¼›è¿™æ ·ï¼Œåœ¨Collectionçš„å®ç°ç±»ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç»§æ‰¿AbstractCollectionçœå»é‡å¤ç¼–ç ã€‚ AbstractListå’ŒAbstractSetéƒ½ç»§æ‰¿äºAbstractCollectionï¼Œå…·ä½“çš„Listå®ç°ç±»ç»§æ‰¿äºAbstractListï¼Œè€ŒSetçš„å®ç°ç±»åˆ™ç»§æ‰¿äºAbstractSetã€‚ å¦å¤–ï¼ŒCollectionä¸­æœ‰ä¸€ä¸ªiterator()å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªIteratoræ¥å£ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬é€šè¿‡Iteratorè¿­ä»£å™¨æ¥éå†é›†åˆã€‚ListIteratoræ˜¯Listæ¥å£æ‰€ç‰¹æœ‰çš„ï¼Œåœ¨Listæ¥å£ä¸­ï¼Œé€šè¿‡ListIterator()è¿”å›ä¸€ä¸ªListIteratorå¯¹è±¡ã€‚\nä¸ºäº†æ–¹ä¾¿å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œé›†åˆæ˜¯å­˜å‚¨å¯¹è±¡çš„æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼ã€‚ é›†åˆçš„å‡ºç°å°±æ˜¯ä¸ºäº†å­˜å‚¨å¯¹è±¡ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸”é•¿åº¦å¯å˜ã€‚ é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«?\néƒ½æ˜¯å®¹å™¨ æ•°ç»„é•¿åº¦å›ºå®šï¼Œé›†åˆé•¿åº¦å¯å˜ æ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å¯¹è±¡ æ•°ç»„å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯å•ä¸€çš„ï¼Œé›†åˆå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ AbstractCollection å®šä¹‰å¦‚ä¸‹ï¼š\n1 public abstract class AbstractCollection implements Collection {} AbstractCollectionæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Collectionä¸­é™¤iterator()å’Œsize()ä¹‹å¤–çš„å‡½æ•°ã€‚ ä¸»è¦ä½œç”¨ï¼š å®ƒå®ç°äº†Collectionæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»å®ç°Collectionï¼Œæ¯”å¦‚ArrayListã€LinkedListç­‰ï¼Œå®ƒä»¬è¿™äº›ç±»æƒ³è¦å®ç°Collectionæ¥å£ï¼Œé€šè¿‡ç»§æ‰¿AbstractCollectionå°±å·²ç»å®ç°äº†å¤§éƒ¨åˆ†çš„åŠŸèƒ½äº†ã€‚\nList å®šä¹‰å¦‚ä¸‹ï¼š\n1 public interface List extends Collection {} Listæ˜¯ä¸€ä¸ªç»§æ‰¿äºCollectionçš„æ¥å£ï¼Œå³Listæ˜¯é›†åˆçš„ä¸€ç§ã€‚ Listæ˜¯æœ‰åºçš„é˜Ÿåˆ—ï¼ŒListä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªç´¢å¼•ï¼› ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼æ˜¯0ï¼Œå¾€åçš„å…ƒç´ çš„ç´¢å¼•å€¼ä¾æ¬¡+1ã€‚ å’ŒSetä¸åŒï¼ŒListä¸­å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚\næ—¢ç„¶Listæ˜¯ç»§æ‰¿äºCollectionæ¥å£ï¼Œå®ƒè‡ªç„¶å°±åŒ…å«äº†Collectionä¸­çš„å…¨éƒ¨å‡½æ•°æ¥å£ï¼›ç”±äºListæ˜¯æœ‰åºé˜Ÿåˆ—ï¼Œå®ƒä¹Ÿé¢å¤–çš„æœ‰è‡ªå·±çš„APIæ¥å£ã€‚ä¸»è¦æœ‰â€œæ·»åŠ ã€åˆ é™¤ã€è·å–ã€ä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´ â€ã€â€œè·å–Listä¸­çš„å­é˜Ÿåˆ—â€ç­‰ã€‚\nSet å®šä¹‰å¦‚ä¸‹ï¼š\n1 public interface Set extends Collection {} Setæ˜¯ä¸€ä¸ªç»§æ‰¿äºCollectionçš„æ¥å£ï¼Œå³Setä¹Ÿæ˜¯é›†åˆä¸­çš„ä¸€ç§ã€‚Setæ˜¯æ²¡æœ‰é‡å¤å…ƒç´ çš„é›†åˆã€‚ Setçš„APIå’ŒCollectionå®Œå…¨ä¸€æ ·ã€‚\nAbstractList å®šä¹‰å¦‚ä¸‹ï¼š public abstract class AbstractList extends AbstractCollection implements List {} AbstractListæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractCollectionï¼Œå¹¶ä¸”å®ç°Listæ¥å£çš„æŠ½è±¡ç±»ã€‚å®ƒå®ç°äº†Listä¸­é™¤size()ã€get(int location)ä¹‹å¤–çš„å‡½æ•°ã€‚ AbstractListçš„ä¸»è¦ä½œç”¨ï¼šå®ƒå®ç°äº†Listæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»ç»§æ‰¿Listã€‚ å¦å¤–ï¼Œå’ŒAbstractCollectionç›¸æ¯”ï¼ŒAbstractListæŠ½è±¡ç±»ä¸­ï¼Œå®ç°äº†iterator()æ¥å£ã€‚\nAbstractSet å®šä¹‰å¦‚ä¸‹ï¼š public abstract class AbstractSet extends AbstractCollection implements Set {} AbstractSetæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractCollectionï¼Œå¹¶ä¸”å®ç°Setæ¥å£çš„æŠ½è±¡ç±»ã€‚ç”±äºSetæ¥å£å’ŒCollectionæ¥å£ä¸­çš„APIå®Œå…¨ä¸€æ ·ï¼ŒSetä¹Ÿå°±æ²¡æœ‰è‡ªå·±å•ç‹¬çš„APIã€‚å’ŒAbstractCollectionä¸€æ ·ï¼Œå®ƒå®ç°äº†Listä¸­é™¤iterator()å’Œsize()ä¹‹å¤–çš„å‡½æ•°ã€‚ AbstractSetçš„ä¸»è¦ä½œç”¨ï¼šå®ƒå®ç°äº†Setæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»å®ç°Setæ¥å£ã€‚\nmap Mapæ˜¯ä¸€ä¸ªæ˜ å°„æ¥å£ï¼Œå³key-valueé”®å€¼å¯¹ã€‚Mapä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ åŒ…å«â€œä¸€ä¸ªkeyâ€å’Œâ€œkeyå¯¹åº”çš„valueâ€ã€‚ AbstractMapæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Mapæ¥å£ä¸­çš„å¤§éƒ¨åˆ†APIã€‚è€ŒHashMapï¼ŒTreeMapï¼ŒWeakHashMapéƒ½æ˜¯ç»§æ‰¿äºAbstractMapã€‚ Hashtableè™½ç„¶ç»§æ‰¿äºDictionaryï¼Œä½†å®ƒå®ç°äº†Mapæ¥å£ã€‚\nEnumeration Enumerationæ˜¯JDK 1.0å¼•å…¥çš„æŠ½è±¡ç±»ã€‚ä½œç”¨å’ŒIteratorä¸€æ ·ï¼Œä¹Ÿæ˜¯éå†é›†åˆï¼›ä½†æ˜¯Enumerationçš„åŠŸèƒ½è¦æ¯”Iteratorå°‘ã€‚åœ¨ä¸Šé¢çš„æ¡†å›¾ä¸­ï¼ŒEnumerationåªèƒ½åœ¨Hashtable, Vector, Stackä¸­ä½¿ç”¨ã€‚\nArrayså’ŒCollections å®ƒä»¬æ˜¯æ“ä½œæ•°ç»„ã€é›†åˆçš„ä¸¤ä¸ªå·¥å…·ç±»ã€‚\nIterator Iteratoræ˜¯éå†é›†åˆçš„å·¥å…·ï¼Œå³æˆ‘ä»¬é€šå¸¸é€šè¿‡Iteratorè¿­ä»£å™¨æ¥éå†é›†åˆã€‚æˆ‘ä»¬è¯´Collectionä¾èµ–äºIteratorï¼Œæ˜¯å› ä¸ºCollectionçš„å®ç°ç±»éƒ½è¦å®ç°iterator()å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªIteratorå¯¹è±¡ã€‚ListIteratoræ˜¯ä¸“é—¨ä¸ºéå†Listè€Œå­˜åœ¨çš„ã€‚\npublic interface Iterator {}\nIteratoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæ˜¯é›†åˆçš„è¿­ä»£å™¨ã€‚é›†åˆå¯ä»¥é€šè¿‡Iteratorå»éå†é›†åˆä¸­çš„å…ƒç´ ã€‚Iteratoræä¾›çš„APIæ¥å£ï¼ŒåŒ…æ‹¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 // æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´  // æ¯æ¬¡nextä¹‹å‰ï¼Œå…ˆè°ƒç”¨æ­¤æ–¹æ³•æ¢æµ‹æ˜¯å¦è¿­ä»£åˆ°ç»ˆç‚¹ boolean hasNext(); // è·å–ä¸‹ä¸€ä¸ªå…ƒç´  // è¿”å›å½“å‰è¿­ä»£å…ƒç´  ï¼ŒåŒæ—¶ï¼Œè¿­ä»£æ¸¸æ ‡åç§» E next(); // åˆ é™¤å½“å‰å…ƒç´  void remove(); // åˆ é™¤æœ€è¿‘ä¸€æ¬¡å·²è¿‘è¿­ä»£å‡ºå‡ºå»çš„é‚£ä¸ªå…ƒç´ ã€‚ // åªæœ‰å½“nextæ‰§è¡Œå®Œåï¼Œæ‰èƒ½è°ƒç”¨removeå‡½æ•°ã€‚ // æ¯”å¦‚ä½ è¦åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ remove() è€Œè¦å…ˆnextä¸€ä¸‹( ); // åœ¨æ²¡æœ‰å…ˆè°ƒç”¨next å°±è°ƒç”¨removeæ–¹æ³•æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸çš„ã€‚ // è¿™ä¸ªå’ŒMySQLä¸­çš„ResultSetå¾ˆç±»ä¼¼ void remove() { throw new UnsupportedOperationException(\"remove\"); } æ³¨æ„ï¼šIteratoréå†Collectionæ—¶ï¼Œæ˜¯fail-fastæœºåˆ¶çš„ã€‚å³ï¼Œå½“æŸä¸€ä¸ªçº¿ç¨‹Aé€šè¿‡iteratorå»éå†æŸé›†åˆçš„è¿‡ç¨‹ä¸­ï¼Œè‹¥è¯¥é›†åˆçš„å†…å®¹è¢«å…¶ä»–çº¿ç¨‹æ‰€æ”¹å˜äº†ï¼›é‚£ä¹ˆçº¿ç¨‹Aè®¿é—®é›†åˆæ—¶ï¼Œå°±ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œäº§ç”Ÿfail-fastäº‹ä»¶ã€‚å…³äºfail-fastçš„è¯¦ç»†å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ä¸“é—¨è¿›è¡Œè¯´æ˜ã€‚\nå®ç°äº†Iterableæ¥å£ï¼Œå°±å¯ä»¥è°ƒç”¨iterator()æ–¹æ³•ã€‚ HashMapç±»å°±å®ç°äº†Iterableæ¥å£ï¼Œéå†map\n1 2 3 4 Iterator iter = hashMap.iterator(); while(iter.hashNext()) { String s = iter.next(); } æ‰‹åŠ¨è¿­ä»£listï¼Œå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„ 1 2 3 4 5 6 7 8 9 10 List li = new ArrayList\u003c\u003e(); li.add(1); li.add(2); li.add(3); //ä¸ä½¿ç”¨foreach è€Œæ‰‹åŠ¨è¿­ä»£ Iterator iter = li.iterator(); //è·å–ArrayList çš„è¿­ä»£å™¨ while(iter.hasNext()) { //â‘ å…ˆæ¢æµ‹èƒ½å¦ç»§ç»­è¿­ä»£ System.out.println(iter.next()); //â‘¡åå–å‡ºæœ¬æ¬¡è¿­ä»£å‡ºçš„å…ƒç´  //invoke remove() //â‘¢æœ€åå¦‚æœéœ€è¦ï¼Œè°ƒç”¨remove } AbstractListä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 private class Itr implements Iterator { //AbstractList ä¸­å®ç°çš„è¿­ä»£å™¨ï¼Œåˆ é™¤äº†ä¸€äº›ç»†èŠ‚ã€‚ä¸å½±å“ç†è§£,Iträ¸ºä¸€ä¸ªpriavateæˆå‘˜å†…éƒ¨ç±» //é©¬ä¸Šç­‰å¾…è¢«è¿­ä»£å…ƒç´ çš„index int cursor = 0; //æœ€è¿‘ä¸€æ¬¡ï¼Œå·²ç»è¢«è¿­ä»£å‡ºçš„å…ƒç´ çš„indexï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ è¿­ä»£åï¼Œè¢«åˆ é™¤äº†ï¼Œåˆ™lastReté‡ç½®ä¸º-1 int lastRet = -1; public boolean hasNext() { //å½“å‰æ¸¸æ ‡å€¼ ç­‰äº é›†åˆçš„size() è¯´æ˜å·²ç»ä¸èƒ½å†è¿­ä»£äº†ã€‚ return cursor != size(); } public E next() { int i = cursor; E next = get(i); //lastRet ä¿å­˜çš„æ˜¯æœ€è¿‘ä¸€æ¬¡å·²ç»è¢«è¿­ä»£å‡ºå»çš„å…ƒç´ ç´¢å¼• lastRet = i; //cursorä¸ºé©¬ä¸Šç­‰å¾…è¢«è¿­ä»£çš„å…ƒç´ çš„ç´¢å¼• cursor = i + 1; return next; } public void remove() { //è°ƒç”¨removeä¹‹å‰æ²¡æœ‰è°ƒç”¨next if (lastRet \u003c 0) //åˆ™æŠ›å¼‚å¸¸ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨removeå‰ï¼Œè¦nextçš„åŸå›  throw new IllegalStateException(); //ä»é›†åˆä¸­åˆ é™¤è¿™ä¸ªå…ƒç´  OuterList.this.remove(lastRet); //é›†åˆåˆ é™¤å…ƒç´ åï¼Œé›†åˆåé¢çš„å…ƒç´ çš„ç´¢å¼•ä¼šéƒ½å‡å°1ï¼Œcursorä¹Ÿè¦åŒæ­¥åç§» if (lastRet \u003c cursor) cursor--; //é‡ç½® lastRet = -1; } } è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´ Javaé›†åˆä¸­ä¿å­˜çš„å…ƒç´ å®è´¨æ˜¯å¯¹è±¡çš„å¼•ç”¨(å¯ä»¥ç†è§£ä¸ºCä¸­çš„æŒ‡é’ˆ)ï¼Œè€Œéå¯¹è±¡æœ¬èº«ã€‚è¿­ä»£å‡ºçš„å…ƒç´ ä¹Ÿå°±éƒ½æ˜¯å¼•ç”¨çš„æ‹·è´ï¼Œç»“æœè¿˜æ˜¯å¼•ç”¨ã€‚é‚£ä¹ˆï¼Œå¦‚æœé›†åˆä¸­ä¿å­˜çš„å…ƒç´ æ˜¯å¯å˜ç±»å‹çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿­ä»£å‡ºçš„å…ƒç´ ä¿®æ”¹åŸé›†åˆä¸­çš„å¯¹è±¡ã€‚è€Œå¯¹äºä¸å¯å˜ç±»å‹ï¼Œå¦‚String åŸºæœ¬å…ƒç´ çš„åŒ…è£…ç±»å‹Integer éƒ½æ˜¯åˆ™ä¸ä¼šååº”åˆ°åŸé›†åˆä¸­ã€‚éªŒè¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 public class Main { public static void main(String[] args) { List li = new ArrayList\u003c\u003e(); Person p = new Person(\"Tom\"); li.add(p); for (Person ap : li) { ap.setName(\"Jerry\"); } System.out.println(li.get(0).getName()); //Jerry not Tom } } class Person { public Person(String name) { this.name = (name == null ? \"\" : name); } private String name; public String getName() { return name; } public void setName(String name) { if (name == null) name = \"\"; this.name = name; } } è‡ªå·±å®ç°è¿­ä»£å™¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 public class Main { public static void main(String[] args) { MyString s = new MyString(\"1234567\"); for (char c : s) { System.out.println(c); } } } class MyString implements Iterable { private int length = 0; private String ineers = null; public MyString(String s) { this.ineers = s; this.length = s.length(); } @Override public Iterator iterator() { class iter implements Iterator //æ–¹æ³•å†…éƒ¨ç±» { private int cur = 0; @Override public boolean hasNext() { return cur != length; } @Override public Character next() { Character c = ineers.charAt(cur); cur++; return c; } public void remove() { // do nothing } } return new iter(); //å®‰è£…Iterableæ¥å£çš„çº¦å®šï¼Œè¿”å›è¿­ä»£å™¨ } } Iterable 1 public interface Iterable Iterableæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒCollectionæ¥å£ç»§æ‰¿äº†Iterable(æ¥å£æ‰©å±•)ï¼ŒIterableä¸­åŒ…å«\niteratoræ–¹æ³•çš„æ˜¾å¼è°ƒç”¨ forEachæ–¹æ³• spliteratoræ–¹æ³• Iteratorå’ŒIterable åŒºåˆ« ä»è‹±æ–‡æ„æ€å»ç†è§£ï¼š Iterableï¼šæ•…åæ€è®®ï¼Œå®ç°äº†è¿™ä¸ªæ¥å£çš„é›†åˆå¯¹è±¡æ”¯æŒè¿­ä»£ï¼Œæ˜¯å¯è¿­ä»£çš„ã€‚ ableç»“å°¾çš„è¡¨ç¤º**èƒ½...æ ·**ï¼Œ**å¯ä»¥åš...**\nIteratorï¼šåœ¨è‹±è¯­ä¸­or ç»“å°¾æ˜¯éƒ½æ˜¯è¡¨ç¤º**...æ ·çš„äºº** æˆ– **... è€…**ã€‚ å¦‚creatorå°±æ˜¯åˆ›ä½œè€…çš„æ„æ€ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼šiteratorå°±æ˜¯è¿­ä»£è€…ï¼Œæˆ‘ä»¬ä¸€èˆ¬å«è¿­ä»£å™¨ï¼Œå®ƒå°±æ˜¯æä¾›è¿­ä»£æœºåˆ¶çš„å¯¹è±¡ï¼Œå…·ä½“å¦‚ä½•è¿­ä»£ï¼Œéƒ½æ˜¯Iteratoræ¥å£è§„èŒƒçš„ã€‚\nIterable ä¸€ä¸ªé›†åˆå¯¹è±¡è¦è¡¨æ˜è‡ªå·±æ”¯æŒè¿­ä»£ï¼Œèƒ½æœ‰ä½¿ç”¨foreachè¯­å¥çš„ç‰¹æƒï¼Œå°±å¿…é¡»å®ç°Iterableæ¥å£ï¼Œè¡¨æ˜æˆ‘æ˜¯å¯è¿­ä»£çš„ï¼Œç„¶è€Œå®ç°Iterableæ¥å£ï¼Œå°±å¿…éœ€ä¸ºforeachè¯­å¥æä¾›ä¸€ä¸ªè¿­ä»£å™¨ã€‚ è¿™ä¸ªè¿­ä»£å™¨æ˜¯ç”¨æ¥å£å®šä¹‰çš„ iteratoræ–¹æ³•æä¾›çš„ã€‚ä¹Ÿå°±æ˜¯iteratoræ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªIteratorå¯¹è±¡ã€‚\nIterator æ¯æ¬¡åœ¨è¿­ä»£å‰ï¼Œå…ˆè°ƒç”¨hasNext()æ¢æµ‹æ˜¯å¦è¿­ä»£åˆ°ç»ˆç‚¹ï¼ˆæœ¬æ¬¡è¿˜èƒ½å†è¿­ä»£å—ï¼Ÿï¼‰ã€‚ nextæ–¹æ³•ä¸ä»…è¦è¿”å›å½“å‰å…ƒç´ ï¼Œè¿˜è¦åç§»æ¸¸æ ‡cursor remove()æ–¹æ³•ç”¨æ¥åˆ é™¤æœ€è¿‘ä¸€æ¬¡å·²ç»è¿­ä»£å‡ºçš„å…ƒç´  è¿­ä»£å‡ºçš„å…ƒç´ æ˜¯åŸé›†åˆä¸­å…ƒç´ çš„æ‹·è´ï¼ˆé‡è¦ï¼‰ é…åˆforeachä½¿ç”¨ ä¸ºä»€ä¹ˆä¸€å®šè¦å®ç°Iterableæ¥å£ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥å®ç°Iteratoræ¥å£å‘¢ï¼Ÿ ç­”ï¼šçœ‹ä¸€ä¸‹JDKä¸­çš„é›†åˆç±»ï¼Œæ¯”å¦‚Listä¸€æ—æˆ–è€…Setä¸€æ—ï¼Œéƒ½æ˜¯å®ç°äº†Iterableæ¥å£ï¼Œä½†å¹¶ä¸ç›´æ¥å®ç°Iteratoræ¥å£ã€‚ ä»”ç»†æƒ³ä¸€ä¸‹è¿™ä¹ˆåšæ˜¯æœ‰é“ç†çš„ã€‚ å› ä¸ºIteratoræ¥å£çš„æ ¸å¿ƒæ–¹æ³•next()æˆ–è€…hasNext() æ˜¯ä¾èµ–äºè¿­ä»£å™¨çš„å½“å‰è¿­ä»£ä½ç½®çš„ã€‚ å¦‚æœCollectionç›´æ¥å®ç°Iteratoræ¥å£ï¼ŒåŠ¿å¿…å¯¼è‡´é›†åˆå¯¹è±¡ä¸­åŒ…å«å½“å‰è¿­ä»£ä½ç½®çš„æ•°æ®(æŒ‡é’ˆ)ã€‚ å½“é›†åˆåœ¨ä¸åŒæ–¹æ³•é—´è¢«ä¼ é€’æ—¶ï¼Œç”±äºå½“å‰è¿­ä»£ä½ç½®ä¸å¯é¢„ç½®ï¼Œé‚£ä¹ˆnext()æ–¹æ³•çš„ç»“æœä¼šå˜æˆä¸å¯é¢„çŸ¥ã€‚ é™¤éå†ä¸ºIteratoræ¥å£æ·»åŠ ä¸€ä¸ªreset()æ–¹æ³•ï¼Œç”¨æ¥é‡ç½®å½“å‰è¿­ä»£ä½ç½®ã€‚ ä½†å³æ—¶è¿™æ ·ï¼ŒCollectionä¹Ÿåªèƒ½åŒæ—¶å­˜åœ¨ä¸€ä¸ªå½“å‰è¿­ä»£ä½ç½®ã€‚ è€ŒIterableåˆ™ä¸ç„¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªä»å¤´å¼€å§‹è®¡æ•°çš„è¿­ä»£å™¨ã€‚ å¤šä¸ªè¿­ä»£å™¨æ˜¯äº’ä¸å¹²æ‰°çš„ã€‚\nListIterator 1 public interface ListIterator extends Iterator {} ListIteratoræ˜¯ä¸€ä¸ªçš„æ¥å£ï¼Œç»§æ‰¿äº†Iteratorï¼Œå®ƒæ˜¯é˜Ÿåˆ—è¿­ä»£å™¨ã€‚ä¸“é—¨ç”¨äºéå†Listï¼Œèƒ½æä¾›å‘å‰/å‘åéå†ã€‚ç›¸æ¯”äºIteratorï¼Œå®ƒæ–°å¢äº†æ·»åŠ ã€æ˜¯å¦å­˜åœ¨ä¸Šä¸€ä¸ªå…ƒç´ ã€è·å–ä¸Šä¸€ä¸ªå…ƒç´ ç­‰ç­‰APIæ¥å£ã€‚\nListIteratorçš„API\n1 2 3 4 5 6 7 8 9 10 11 12 // ListIteratorçš„API // ç»§æ‰¿äºIteratorçš„æ¥å£ abstract boolean hasNext() abstract E next() abstract void remove() // æ–°å¢APIæ¥å£ abstract void add(E object) abstract boolean hasPrevious() abstract int nextIndex() abstract E previous() abstract int previousIndex() abstract void set(E object) å…¶ä»– é›†åˆçš„ç‰¹ç‚¹ï¼š\nç”¨äºå­˜å‚¨å¯¹è±¡ é•¿åº¦å¯å˜ å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å¯¹è±¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 ---|Collection:(åŒ…å«listå’Œsetå­æ¥å£) ---|List: æœ‰å­˜å‚¨é¡ºåº, å¯é‡å¤ ---|ArrayListï¼šæ•°ç»„å®ç°, æŸ¥æ‰¾å¿«, å¢åˆ æ…¢ ç”±äºæ˜¯æ•°ç»„å®ç°, åœ¨å¢å’Œåˆ çš„æ—¶å€™ä¼šç‰µæ‰¯åˆ°æ•°ç»„ å¢å®¹, ä»¥åŠæ‹·è´å…ƒç´ . æ‰€ä»¥æ…¢ã€‚æ•°ç»„æ˜¯å¯ä»¥ç›´æ¥ æŒ‰ç´¢å¼•æŸ¥æ‰¾, æ‰€ä»¥æŸ¥æ‰¾æ—¶è¾ƒå¿« ---|LinkedListï¼šé“¾è¡¨å®ç°, å¢åˆ å¿«, æŸ¥æ‰¾æ…¢ ç”±äºé“¾è¡¨å®ç°, å¢åŠ æ—¶åªè¦è®©å‰ä¸€ä¸ªå…ƒç´ è®°ä½è‡ª å·±å°±å¯ä»¥, åˆ é™¤æ—¶è®©å‰ä¸€ä¸ªå…ƒç´ è®°ä½åä¸€ä¸ªå…ƒ ç´ , åä¸€ä¸ªå…ƒç´ è®°ä½å‰ä¸€ä¸ªå…ƒç´ . è¿™æ ·çš„å¢åˆ æ•ˆ ç‡è¾ƒé«˜ä½†æŸ¥è¯¢æ—¶éœ€è¦ä¸€ä¸ªä¸€ä¸ªçš„éå†, æ‰€ä»¥æ•ˆç‡ è¾ƒä½ ---|Vectorï¼šå’ŒArrayListåŸç†ç›¸åŒ, ä½†çº¿ç¨‹å®‰å…¨, æ•ˆç‡ä½ ---|Set: æ— å­˜å‚¨é¡ºåº, ä¸å¯é‡å¤ ---|HashSet:çº¿ç¨‹ä¸å®‰å…¨ï¼Œå­˜å–é€Ÿåº¦å¿«ï¼Œåº•å±‚ä»¥å“ˆå¸Œè¡¨å®ç° ---|TreeSet:çº¢é»‘äºŒå‰æ ‘ç»“æ„ï¼Œé»˜è®¤å¯¹å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºï¼Œ ---|LinkedHashSet:ä¼šä¿å­˜æ’å…¥çš„é¡ºåº ---| Map:é”®å€¼å¯¹(ä¸å…è®¸é‡å¤çš„é”®)nullå¯ä»¥ä½œä¸ºé”®ï¼Œè¿™æ ·çš„é”®åªæœ‰ä¸€ä¸ª æ³¨:mapå’Œcollectionæ²¡æœ‰å…³ç³» ---|HashMap:æ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®ï¼Œæ ¹æ®é”®å¯ä»¥ç›´æ¥è·å–å®ƒçš„å€¼ï¼ŒæŸ¥è¯¢å¿«(å­˜å…¥çš„å€¼åœ¨å–çš„æ—¶å€™ä¹Ÿæ˜¯éšæœºçš„) ---|TreeMap:å–å‡ºæ¥åæ˜¯æ’åºåçš„é”®å€¼å¯¹(å¦‚æœéœ€è¦æŒ‰ç…§è‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åº,ç”¨è¿™ä¸ª) ---|HashTable:å’ŒhashMapå®ç°åŸç†ä¸€æ ·,åŒºåˆ«åœ¨äºçº¿ç¨‹å®‰å…¨ ---|LinkedHashMap:è¾“å‡ºçš„é¡ºåºå’Œè¾“å…¥çš„é¡ºåºæ˜¯ç›¸åŒçš„ ---|ConcurrentHashMapï¼šé‡‡ç”¨äº†åˆ†æ®µé”çš„è®¾è®¡ï¼Œå¹¶å‘map é—®é¢˜ listå’Œsetçš„åŒºåˆ« listå…è®¸é‡å¤å¯¹è±¡ï¼Œsetä¸å…è®¸é‡å¤å¯¹è±¡ listæ˜¯æœ‰åºå®¹å™¨ï¼Œä¿ç•™äº†æ¯ä¸ªå…ƒç´ çš„æ’å…¥é¡ºåºï¼Œè¾“å‡ºé¡ºåºå°±æ˜¯æ’å…¥é¡ºåº setæ˜¯æ— åºå®¹å™¨ï¼Œæ— æ³•ä¿è¯æ¯ä¸ªå…ƒç´ çš„å­˜å‚¨é¡ºåº listå¯ä»¥æ’å…¥å¤šä¸ªnullå…ƒç´ ï¼Œsetåªå…è®¸ä¸€ä¸ªnullå…ƒç´ \nä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆï¼š Listï¼šå¦‚æœæˆ‘ä»¬éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåº, å¹¶ä¸”ä¿ç•™é‡å¤å…ƒç´ , ä½¿ç”¨List å¦‚æœæŸ¥è¯¢è¾ƒå¤š, é‚£ä¹ˆä½¿ç”¨ArrayList å¦‚æœå­˜å–è¾ƒå¤š, é‚£ä¹ˆä½¿ç”¨LinkedList å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨, é‚£ä¹ˆä½¿ç”¨Vector Setï¼šå¦‚æœæˆ‘ä»¬ä¸éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåº, å¹¶ä¸”éœ€è¦å»æ‰é‡å¤å…ƒç´ , ä½¿ç”¨Set å¦‚æœæˆ‘ä»¬éœ€è¦å°†å…ƒç´ æ’åºï¼Œ é‚£ä¹ˆä½¿ç”¨TreeSet å¦‚æœæˆ‘ä»¬ä¸éœ€è¦æ’åºï¼Œ ä½¿ç”¨HashSetï¼Œ HashSetæ¯”TreeSetæ•ˆç‡é«˜ å¦‚æœæˆ‘ä»¬éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåºï¼Œåˆè¦è¿‡æ»¤é‡å¤å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨LinkedHashSet ç”¨ä»€ä¹ˆæ–¹æ³• çœ‹åˆ°arrayï¼Œå°±è¦æƒ³åˆ°è§’æ ‡ã€‚ çœ‹åˆ°linkï¼Œå°±è¦æƒ³åˆ°firstï¼Œlastã€‚ çœ‹åˆ°hashï¼Œå°±è¦æƒ³åˆ°hashCodeï¼Œequals çœ‹åˆ°treeï¼Œå°±è¦æƒ³åˆ°ä¸¤ä¸ªæ¥å£ï¼šComparableï¼ŒComparatorã€‚\nCollectionæ¥å£çš„æ–¹æ³• add()ï¼šå°†æŒ‡å®šå¯¹è±¡å­˜å‚¨åˆ°å®¹å™¨ä¸­ addAll()ï¼šç›´æ¥æ·»åŠ ä¸€æ•´ä¸ªé›†åˆ remove()ï¼šå°†æŒ‡å®šå¯¹è±¡ä»é›†åˆä¸­åˆ é™¤ removeAll()ï¼šç›´æ¥åˆ é™¤ä¸€ä¸ªé›†åˆ clear()ï¼šæ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´  contains()ï¼šåˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå¯¹è±¡ collection.size()ï¼šè¿”å›é›†åˆçš„å¤§å° toArray()ï¼šé›†åˆè½¬æ¢æˆæ•°ç»„ Listç‰¹æœ‰çš„æ–¹æ³• å¢åŠ ï¼šList.add(1,â€œæŒ‡å®šå…ƒç´ â€)ï¼Œåœ¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´  åˆ é™¤ï¼šList.remove(1,â€œæŒ‡å®šå…ƒç´ â€)ï¼Œåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´  ä¿®æ”¹ï¼šList.set(1,â€œæŒ‡å®šå…ƒç´ â€)ï¼Œä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´  æŸ¥æ‰¾ï¼šList.get(1,â€œæŒ‡å®šå…ƒç´ â€)ï¼ŒæŸ¥æ‰¾æŒ‡å®šä½ç½®çš„å…ƒç´  æ±‚å­é›†åˆï¼šList subList(int fromIndex, int toIndex) // ä¸åŒ…å«toIndex LinkedListç‰¹æœ‰æ–¹æ³• addFirst()ï¼šåœ¨é›†åˆçš„ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ å…ƒç´  addLast()ï¼šæœ€å getFirst()ï¼šè¿”å›æ­¤é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´  getLast()ï¼šæœ€å removeFirst()ï¼šç§»é™¤é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´  removeLast()ï¼šæœ€å Iteratorå’ŒEnumerationåŒºåˆ« åœ¨Javaé›†åˆä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½é€šè¿‡ â€œIterator(è¿­ä»£å™¨)â€ æˆ– â€œEnumeration(æšä¸¾ç±»)â€ å»éå†é›†åˆã€‚ç°åœ¨çœ‹ä¸€ä¸‹å®ƒä»¬ä¹‹é—´åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚\nEnumerationæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„æºç å¦‚ä¸‹ï¼š\n1 2 3 4 5 package java.util; public interface Enumeration { boolean hasMoreElements(); E nextElement(); } Iteratorä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„æºç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 package java.util; public interface Iterator { boolean hasNext(); E next(); void remove(); } å‡½æ•°æ¥å£ä¸åŒ Enumerationåªæœ‰2ä¸ªå‡½æ•°æ¥å£ã€‚é€šè¿‡Enumerationï¼Œæˆ‘ä»¬åªèƒ½è¯»å–é›†åˆçš„æ•°æ®ï¼Œè€Œä¸èƒ½å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚ Iteratoråªæœ‰3ä¸ªå‡½æ•°æ¥å£ã€‚Iteratoré™¤äº†èƒ½è¯»å–é›†åˆçš„æ•°æ®ä¹‹å¤–ï¼Œä¹Ÿèƒ½æ•°æ®è¿›è¡Œåˆ é™¤æ“ä½œã€‚\nIteratoræ”¯æŒfail-fastæœºåˆ¶ï¼Œè€ŒEnumerationä¸æ”¯æŒã€‚ Enumeration æ˜¯JDK 1.0æ·»åŠ çš„æ¥å£ã€‚ä½¿ç”¨åˆ°å®ƒçš„å‡½æ•°åŒ…æ‹¬Vectorã€Hashtableç­‰ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯JDK 1.0ä¸­åŠ å…¥çš„ï¼ŒEnumerationå­˜åœ¨çš„ç›®çš„å°±æ˜¯ä¸ºå®ƒä»¬æä¾›éå†æ¥å£ã€‚Enumerationæœ¬èº«å¹¶æ²¡æœ‰æ”¯æŒåŒæ­¥ï¼Œè€Œåœ¨Vectorã€Hashtableå®ç°Enumerationæ—¶ï¼Œæ·»åŠ äº†åŒæ­¥ã€‚ è€ŒIterator æ˜¯JDK 1.2æ‰æ·»åŠ çš„æ¥å£ï¼Œå®ƒä¹Ÿæ˜¯ä¸ºäº†HashMapã€ArrayListç­‰é›†åˆæä¾›éå†æ¥å£ã€‚Iteratoræ˜¯æ”¯æŒfail-fastæœºåˆ¶çš„ï¼šå½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªé›†åˆçš„å†…å®¹è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±å¯èƒ½ä¼šäº§ç”Ÿfail-fastäº‹ä»¶ã€‚\nIteratorå’ŒEnumerationå®ä¾‹ ä¸‹é¢ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªHashtableï¼Œç„¶ååˆ†åˆ«é€šè¿‡ Iterator å’Œ Enumeration å»éå†å®ƒï¼Œæ¯”è¾ƒå®ƒä»¬çš„æ•ˆç‡ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 import java.util.Enumeration; import java.util.Hashtable; import java.util.Iterator; import java.util.Map.Entry; import java.util.Random; /* * æµ‹è¯•åˆ†åˆ«é€šè¿‡ Iterator å’Œ Enumeration å»éå†Hashtable * @author skywang */ public class IteratorEnumeration { public static void main(String[] args) { int val; Random r = new Random(); Hashtable table = new Hashtable(); for (int i=0; i\u003c100000; i++) { // éšæœºè·å–ä¸€ä¸ª[0,100)ä¹‹é—´çš„æ•°å­— val = r.nextInt(100); table.put(String.valueOf(i), val); } // é€šè¿‡Iteratoréå†Hashtable iterateHashtable(table) ; // é€šè¿‡Enumerationéå†Hashtable enumHashtable(table); } /* * é€šè¿‡Iteratoréå†Hashtable */ private static void iterateHashtable(Hashtable table) { long startTime = System.currentTimeMillis(); Iterator iter = table.entrySet().iterator(); while(iter.hasNext()) { //System.out.println(\"iter:\"+iter.next()); iter.next(); } long endTime = System.currentTimeMillis(); countTime(startTime, endTime); } /* * é€šè¿‡Enumerationéå†Hashtable */ private static void enumHashtable(Hashtable table) { long startTime = System.currentTimeMillis(); Enumeration enu = table.elements(); while(enu.hasMoreElements()) { //System.out.println(\"enu:\"+enu.nextElement()); enu.nextElement(); } long endTime = System.currentTimeMillis(); countTime(startTime, endTime); } private static void countTime(long start, long end) { System.out.println(\"time: \"+(end-start)+\"ms\"); } } è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\ntime: 9ms time: 5ms\nä»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºã€‚Enumeration æ¯” Iterator çš„éå†é€Ÿåº¦æ›´å¿«ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºï¼ŒHashtableä¸­Iteratoræ˜¯é€šè¿‡Enumerationå»å®ç°çš„ï¼Œè€Œä¸”Iteratoræ·»åŠ äº†å¯¹fail-fastæœºåˆ¶çš„æ”¯æŒï¼›æ‰€ä»¥ï¼Œæ‰§è¡Œçš„æ“ä½œè‡ªç„¶è¦å¤šä¸€äº›ã€‚\nä½¿ç”¨Collections Collectionsæ˜¯JDKæä¾›çš„å·¥å…·ç±»ï¼ŒåŒæ ·ä½äºjava.utilåŒ…ä¸­ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ï¼Œèƒ½æ›´æ–¹ä¾¿åœ°æ“ä½œå„ç§é›†åˆã€‚ æ³¨æ„Collectionsç»“å°¾å¤šäº†ä¸€ä¸ªsï¼Œä¸æ˜¯Collectionï¼\næˆ‘ä»¬ä¸€èˆ¬çœ‹æ–¹æ³•åå’Œå‚æ•°å°±å¯ä»¥ç¡®è®¤Collectionsæä¾›çš„è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»¥ä¸‹é™æ€æ–¹æ³•ï¼š\n1 public static boolean addAll(Collection\u003c? super T\u003e c, T... elements) { ... } addAll()æ–¹æ³•å¯ä»¥ç»™ä¸€ä¸ªCollectionç±»å‹çš„é›†åˆæ·»åŠ è‹¥å¹²å…ƒç´ ã€‚å› ä¸ºæ–¹æ³•ç­¾åæ˜¯Collectionï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¼ å…¥Listï¼ŒSetç­‰å„ç§é›†åˆç±»å‹ã€‚\nåˆ›å»ºç©ºé›†åˆ Collectionsæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥åˆ›å»ºç©ºé›†åˆï¼š\nåˆ›å»ºç©ºListï¼šList emptyList() åˆ›å»ºç©ºMapï¼šMap emptyMap() åˆ›å»ºç©ºSetï¼šSet emptySet() è¦æ³¨æ„åˆ°è¿”å›çš„ç©ºé›†åˆæ˜¯ä¸å¯å˜é›†åˆï¼Œæ— æ³•å‘å…¶ä¸­æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚\næ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨å„ä¸ªé›†åˆæ¥å£æä¾›çš„of(T...)æ–¹æ³•åˆ›å»ºç©ºé›†åˆã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åˆ›å»ºç©ºListçš„ä¸¤ä¸ªæ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼š\n1 2 List list1 = List.of(); List list2 = Collections.emptyList(); åˆ›å»ºå•å…ƒç´ é›†åˆ Collectionsæä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå•å…ƒç´ é›†åˆï¼š\nåˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Listï¼šList singletonList(T o) åˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Mapï¼šMap singletonMap(K key, V value) åˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Setï¼šSet singleton(T o) è¦æ³¨æ„åˆ°è¿”å›çš„å•å…ƒç´ é›†åˆä¹Ÿæ˜¯ä¸å¯å˜é›†åˆï¼Œæ— æ³•å‘å…¶ä¸­æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚\næ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨å„ä¸ªé›†åˆæ¥å£æä¾›çš„of(T...)æ–¹æ³•åˆ›å»ºå•å…ƒç´ é›†åˆã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åˆ›å»ºå•å…ƒç´ Listçš„ä¸¤ä¸ªæ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼š\n1 2 List list1 = List.of(\"apple\"); List list2 = Collections.singletonList(\"apple\"); å®é™…ä¸Šï¼Œä½¿ç”¨List.of(T...)æ›´æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒæ—¢å¯ä»¥åˆ›å»ºç©ºé›†åˆï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå•å…ƒç´ é›†åˆï¼Œè¿˜å¯ä»¥åˆ›å»ºä»»æ„ä¸ªå…ƒç´ çš„é›†åˆï¼š\n1 2 3 4 List list1 = List.of(); // empty list List list2 = List.of(\"apple\"); // 1 element List list3 = List.of(\"apple\", \"pear\"); // 2 elements List list4 = List.of(\"apple\", \"pear\", \"orange\"); // 3 elements æ’åº Collectionså¯ä»¥å¯¹Listè¿›è¡Œæ’åºã€‚å› ä¸ºæ’åºä¼šç›´æ¥ä¿®æ”¹Listå…ƒç´ çš„ä½ç½®ï¼Œå› æ­¤å¿…é¡»ä¼ å…¥å¯å˜Listï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Main { public static void main(String[] args) { List list = new ArrayList\u003c\u003e(); list.add(\"apple\"); list.add(\"pear\"); list.add(\"orange\"); // æ’åºå‰: System.out.println(list); Collections.sort(list); // æ’åºå: System.out.println(list); } } æ´—ç‰Œ Collectionsæä¾›äº†æ´—ç‰Œç®—æ³•ï¼Œå³ä¼ å…¥ä¸€ä¸ªæœ‰åºçš„Listï¼Œå¯ä»¥éšæœºæ‰“ä¹±Listå†…éƒ¨å…ƒç´ çš„é¡ºåºï¼Œæ•ˆæœç›¸å½“äºè®©è®¡ç®—æœºæ´—ç‰Œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Main { public static void main(String[] args) { List list = new ArrayList\u003c\u003e(); for (int i=0; i\u003c10; i++) { list.add(i); } // æ´—ç‰Œå‰: System.out.println(list); Collections.shuffle(list); // æ´—ç‰Œå: System.out.println(list); } } ä¸å¯å˜é›†åˆ Collectionsè¿˜æä¾›äº†ä¸€ç»„æ–¹æ³•æŠŠå¯å˜é›†åˆå°è£…æˆä¸å¯å˜é›†åˆï¼š\nå°è£…æˆä¸å¯å˜Listï¼šList unmodifiableList(List\u003c? extends T\u003e list) å°è£…æˆä¸å¯å˜Setï¼šSet unmodifiableSet(Set\u003c? extends T\u003e set) å°è£…æˆä¸å¯å˜Mapï¼šMap unmodifiableMap(Map\u003c? extends K, ? extends V\u003e m) è¿™ç§å°è£…å®é™…ä¸Šæ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªæ‰æ‰€æœ‰ä¿®æ”¹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹æ•ˆæœï¼š\n1 2 3 4 5 6 7 8 9 10 public class Main { public static void main(String[] args) { List mutable = new ArrayList\u003c\u003e(); mutable.add(\"apple\"); mutable.add(\"pear\"); // å˜ä¸ºä¸å¯å˜é›†åˆ: List immutable = Collections.unmodifiableList(mutable); immutable.add(\"orange\"); // UnsupportedOperationException! } } ç„¶è€Œï¼Œç»§ç»­å¯¹åŸå§‹çš„å¯å˜Listè¿›è¡Œå¢åˆ æ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”ï¼Œä¼šç›´æ¥å½±å“åˆ°å°è£…åçš„â€œä¸å¯å˜â€Listï¼š\n1 2 3 4 5 6 7 8 9 10 11 public class Main { public static void main(String[] args) { List mutable = new ArrayList\u003c\u003e(); mutable.add(\"apple\"); mutable.add(\"pear\"); // å˜ä¸ºä¸å¯å˜é›†åˆ: List immutable = Collections.unmodifiableList(mutable); mutable.add(\"orange\"); System.out.println(immutable); } } å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æŠŠä¸€ä¸ªå¯å˜Listå°è£…æˆä¸å¯å˜Listï¼Œé‚£ä¹ˆï¼Œè¿”å›ä¸å¯å˜Liståï¼Œæœ€å¥½ç«‹åˆ»æ‰”æ‰å¯å˜Listçš„å¼•ç”¨ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åç»­æ“ä½œä¸ä¼šæ„å¤–æ”¹å˜åŸå§‹å¯¹è±¡ï¼Œä»è€Œé€ æˆâ€œä¸å¯å˜â€Listå˜åŒ–äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 public class Main { public static void main(String[] args) { List mutable = new ArrayList\u003c\u003e(); mutable.add(\"apple\"); mutable.add(\"pear\"); // å˜ä¸ºä¸å¯å˜é›†åˆ: List immutable = Collections.unmodifiableList(mutable); // ç«‹åˆ»æ‰”æ‰mutableçš„å¼•ç”¨: mutable = null; System.out.println(immutable); } } çº¿ç¨‹å®‰å…¨é›†åˆ Collectionsè¿˜æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œå¯ä»¥æŠŠçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆå˜ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š\nå˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Listï¼šList synchronizedList(List list) å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Setï¼šSet synchronizedSet(Set s) å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Mapï¼šMap synchronizedMap(Map m) å¤šçº¿ç¨‹çš„æ¦‚å¿µæˆ‘ä»¬ä¼šåœ¨åé¢è®²ã€‚å› ä¸ºä»Java 5å¼€å§‹ï¼Œå¼•å…¥äº†æ›´é«˜æ•ˆçš„å¹¶å‘é›†åˆç±»ï¼Œæ‰€ä»¥ä¸Šè¿°è¿™å‡ ä¸ªåŒæ­¥æ–¹æ³•å·²ç»æ²¡æœ‰ä»€ä¹ˆç”¨äº†ã€‚\nä½¿ç”¨Iterator Javaçš„é›†åˆç±»éƒ½å¯ä»¥ä½¿ç”¨for eachå¾ªç¯ï¼ŒListã€Setå’ŒQueueä¼šè¿­ä»£æ¯ä¸ªå…ƒç´ ï¼ŒMapä¼šè¿­ä»£æ¯ä¸ªkeyã€‚ä»¥Listä¸ºä¾‹ï¼š\n1 2 3 4 List list = List.of(\"Apple\", \"Orange\", \"Pear\"); for (String s : list) { System.out.println(s); } å®é™…ä¸Šï¼ŒJavaç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“å¦‚ä½•éå†Listã€‚ä¸Šè¿°ä»£ç èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ï¼Œåªæ˜¯å› ä¸ºç¼–è¯‘å™¨æŠŠfor eachå¾ªç¯é€šè¿‡Iteratoræ”¹å†™ä¸ºäº†æ™®é€šçš„forå¾ªç¯ï¼š\n1 2 3 4 for (Iterator it = list.iterator(); it.hasNext(); ) { String s = it.next(); System.out.println(s); } æˆ‘ä»¬æŠŠè¿™ç§é€šè¿‡Iteratorå¯¹è±¡éå†é›†åˆçš„æ¨¡å¼ç§°ä¸ºè¿­ä»£å™¨ã€‚\nä½¿ç”¨è¿­ä»£å™¨çš„å¥½å¤„åœ¨äºï¼Œè°ƒç”¨æ–¹æ€»æ˜¯ä»¥ç»Ÿä¸€çš„æ–¹å¼éå†å„ç§é›†åˆç±»å‹ï¼Œè€Œä¸å¿…å…³ç³»å®ƒä»¬å†…éƒ¨çš„å­˜å‚¨ç»“æ„ã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬è™½ç„¶çŸ¥é“ArrayListåœ¨å†…éƒ¨æ˜¯ä»¥æ•°ç»„å½¢å¼å­˜å‚¨å…ƒç´ ï¼Œå¹¶ä¸”ï¼Œå®ƒè¿˜æä¾›äº†get(int)æ–¹æ³•ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥ç”¨forå¾ªç¯éå†ï¼š\n1 2 3 for (int i=0; i",
  "wordCount" : "11895",
  "inLanguage": "en",
  "datePublished": "2017-12-06T18:21:41Z",
  "dateModified": "2017-12-06T18:21:41Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/collection/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;Â»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Collection
    </h1>
    <div class="post-meta"><span title='2017-12-06 18:21:41 +0000 UTC'>2017-12-06</span>&nbsp;Â·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%a6%82%e8%bf%b0" aria-label="æ¦‚è¿°">æ¦‚è¿°</a><ul>
                        
                <li>
                    <a href="#collection" aria-label="Collection">Collection</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e4%bd%93%e6%a1%86%e6%9e%b6" aria-label="æ€»ä½“æ¡†æ¶">æ€»ä½“æ¡†æ¶</a><ul>
                        
                <li>
                    <a href="#collection-1" aria-label="Collection">Collection</a></li>
                <li>
                    <a href="#abstractcollection" aria-label="AbstractCollection">AbstractCollection</a></li>
                <li>
                    <a href="#list" aria-label="List">List</a></li>
                <li>
                    <a href="#set" aria-label="Set">Set</a></li>
                <li>
                    <a href="#abstractlist" aria-label="AbstractList">AbstractList</a></li>
                <li>
                    <a href="#abstractset" aria-label="AbstractSet">AbstractSet</a></li>
                <li>
                    <a href="#map" aria-label="map">map</a></li>
                <li>
                    <a href="#enumeration" aria-label="Enumeration">Enumeration</a></li>
                <li>
                    <a href="#arrays%e5%92%8ccollections" aria-label="Arrayså’ŒCollections">Arrayså’ŒCollections</a></li>
                <li>
                    <a href="#iterator" aria-label="Iterator">Iterator</a><ul>
                        
                <li>
                    <a href="#%e6%89%8b%e5%8a%a8%e8%bf%ad%e4%bb%a3list%e5%92%8cforeach%e5%8e%9f%e7%90%86%e6%98%af%e4%b8%80%e6%a0%b7%e7%9a%84" aria-label="æ‰‹åŠ¨è¿­ä»£listï¼Œå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„">æ‰‹åŠ¨è¿­ä»£listï¼Œå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„</a></li>
                <li>
                    <a href="#abstractlist%e4%b8%ad%e5%ae%9e%e7%8e%b0%e7%9a%84%e8%bf%ad%e4%bb%a3%e5%99%a8%e7%b1%bb%e8%a7%a3%e8%af%bb" aria-label="AbstractListä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯»">AbstractListä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯»</a></li>
                <li>
                    <a href="#%e8%bf%ad%e4%bb%a3%e5%87%ba%e6%9d%a5%e7%9a%84%e5%85%83%e7%b4%a0%e9%83%bd%e6%98%af%e5%8e%9f%e6%9d%a5%e9%9b%86%e5%90%88%e5%85%83%e7%b4%a0%e7%9a%84%e6%8b%b7%e8%b4%9d" aria-label="è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´">è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´</a></li>
                <li>
                    <a href="#%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e8%bf%ad%e4%bb%a3%e5%99%a8" aria-label="è‡ªå·±å®ç°è¿­ä»£å™¨">è‡ªå·±å®ç°è¿­ä»£å™¨</a></li></ul>
                </li>
                <li>
                    <a href="#iterable" aria-label="Iterable">Iterable</a></li>
                <li>
                    <a href="#iterator%e5%92%8citerable-%e5%8c%ba%e5%88%ab" aria-label="Iteratorå’ŒIterable åŒºåˆ«">Iteratorå’ŒIterable åŒºåˆ«</a><ul>
                        
                <li>
                    <a href="#iterable-1" aria-label="Iterable">Iterable</a></li>
                <li>
                    <a href="#iterator-1" aria-label="Iterator">Iterator</a></li></ul>
                </li>
                <li>
                    <a href="#listiterator" aria-label="ListIterator">ListIterator</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96" aria-label="å…¶ä»–">å…¶ä»–</a><ul>
                        
                <li>
                    <a href="#%e9%97%ae%e9%a2%98" aria-label="é—®é¢˜">é—®é¢˜</a><ul>
                        
                <li>
                    <a href="#list%e5%92%8cset%e7%9a%84%e5%8c%ba%e5%88%ab" aria-label="listå’Œsetçš„åŒºåˆ«">listå’Œsetçš„åŒºåˆ«</a></li>
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%97%b6%e5%80%99%e8%af%a5%e4%bd%bf%e7%94%a8%e4%bb%80%e4%b9%88%e6%a0%b7%e7%9a%84%e9%9b%86%e5%90%88" aria-label="ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆï¼š">ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆï¼š</a></li>
                <li>
                    <a href="#%e7%94%a8%e4%bb%80%e4%b9%88%e6%96%b9%e6%b3%95" aria-label="ç”¨ä»€ä¹ˆæ–¹æ³•">ç”¨ä»€ä¹ˆæ–¹æ³•</a></li>
                <li>
                    <a href="#collection%e6%8e%a5%e5%8f%a3%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="Collectionæ¥å£çš„æ–¹æ³•">Collectionæ¥å£çš„æ–¹æ³•</a></li>
                <li>
                    <a href="#list%e7%89%b9%e6%9c%89%e7%9a%84%e6%96%b9%e6%b3%95" aria-label="Listç‰¹æœ‰çš„æ–¹æ³•">Listç‰¹æœ‰çš„æ–¹æ³•</a></li>
                <li>
                    <a href="#linkedlist%e7%89%b9%e6%9c%89%e6%96%b9%e6%b3%95" aria-label="LinkedListç‰¹æœ‰æ–¹æ³•">LinkedListç‰¹æœ‰æ–¹æ³•</a></li></ul>
                </li>
                <li>
                    <a href="#iterator%e5%92%8cenumeration%e5%8c%ba%e5%88%ab" aria-label="Iteratorå’ŒEnumerationåŒºåˆ«">Iteratorå’ŒEnumerationåŒºåˆ«</a><ul>
                        
                <li>
                    <a href="#iterator%e5%92%8cenumeration%e5%ae%9e%e4%be%8b" aria-label="Iteratorå’ŒEnumerationå®ä¾‹">Iteratorå’ŒEnumerationå®ä¾‹</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8collections" aria-label="ä½¿ç”¨Collections">ä½¿ç”¨Collections</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e7%a9%ba%e9%9b%86%e5%90%88" aria-label="åˆ›å»ºç©ºé›†åˆ">åˆ›å»ºç©ºé›†åˆ</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%8d%95%e5%85%83%e7%b4%a0%e9%9b%86%e5%90%88" aria-label="åˆ›å»ºå•å…ƒç´ é›†åˆ">åˆ›å»ºå•å…ƒç´ é›†åˆ</a></li>
                <li>
                    <a href="#%e6%8e%92%e5%ba%8f" aria-label="æ’åº">æ’åº</a></li>
                <li>
                    <a href="#%e6%b4%97%e7%89%8c" aria-label="æ´—ç‰Œ">æ´—ç‰Œ</a></li>
                <li>
                    <a href="#%e4%b8%8d%e5%8f%af%e5%8f%98%e9%9b%86%e5%90%88" aria-label="ä¸å¯å˜é›†åˆ">ä¸å¯å˜é›†åˆ</a></li>
                <li>
                    <a href="#%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e9%9b%86%e5%90%88" aria-label="çº¿ç¨‹å®‰å…¨é›†åˆ">çº¿ç¨‹å®‰å…¨é›†åˆ</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8iterator" aria-label="ä½¿ç”¨Iterator">ä½¿ç”¨Iterator</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="æ¦‚è¿°">æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#æ¦‚è¿°">#</a></h1>
<p>ä»€ä¹ˆæ˜¯é›†åˆï¼ˆCollectionï¼‰ï¼Ÿé›†åˆå°±æ˜¯â€œç”±è‹¥å¹²ä¸ªç¡®å®šçš„å…ƒç´ æ‰€æ„æˆçš„æ•´ä½“â€ã€‚ä¾‹å¦‚ï¼Œ5åªå°å…”æ„æˆçš„é›†åˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>â”‚   (\_(\     (\_/)     (\_/)     (\_/)      (\(\   â”‚
</span></span><span style="display:flex;"><span>    ( -.-)    (â€¢.â€¢)     (&gt;.&lt;)     (^.^)     (=&#39;.&#39;)
</span></span><span style="display:flex;"><span>â”‚  C(&#34;)_(&#34;)  (&#34;)_(&#34;)   (&#34;)_(&#34;)   (&#34;)_(&#34;)   O(_&#34;)&#34;)  â”‚
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>â”” â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æ•°å­¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°é›†åˆçš„æ¦‚å¿µã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>æœ‰é™é›†åˆï¼š
<ul>
<li>ä¸€ä¸ªç­æ‰€æœ‰çš„åŒå­¦æ„æˆçš„é›†åˆï¼›</li>
<li>ä¸€ä¸ªç½‘ç«™æ‰€æœ‰çš„å•†å“æ„æˆçš„é›†åˆï¼›</li>
<li>&hellip;</li>
</ul>
</li>
<li>æ— é™é›†åˆï¼š
<ul>
<li>å…¨ä½“è‡ªç„¶æ•°é›†åˆï¼š1ï¼Œ2ï¼Œ3ï¼Œâ€¦â€¦</li>
<li>æœ‰ç†æ•°é›†åˆï¼›</li>
<li>å®æ•°é›†åˆï¼›</li>
<li>&hellip;</li>
</ul>
</li>
</ul>
<p>ä¸ºä»€ä¹ˆè¦åœ¨è®¡ç®—æœºä¸­å¼•å…¥é›†åˆå‘¢ï¼Ÿè¿™æ˜¯ä¸ºäº†ä¾¿äºå¤„ç†ä¸€ç»„ç±»ä¼¼çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è®¡ç®—æ‰€æœ‰åŒå­¦çš„æ€»æˆç»©å’Œå¹³å‡æˆç»©ï¼›</li>
<li>åˆ—ä¸¾æ‰€æœ‰çš„å•†å“åç§°å’Œä»·æ ¼ï¼›</li>
<li>â€¦â€¦</li>
</ul>
<p>åœ¨Javaä¸­ï¼Œå¦‚æœä¸€ä¸ªJavaå¯¹è±¡å¯ä»¥åœ¨å†…éƒ¨æŒæœ‰è‹¥å¹²å…¶ä»–Javaå¯¹è±¡ï¼Œå¹¶å¯¹å¤–æä¾›è®¿é—®æ¥å£ï¼Œæˆ‘ä»¬æŠŠè¿™ç§Javaå¯¹è±¡ç§°ä¸ºé›†åˆã€‚å¾ˆæ˜¾ç„¶ï¼ŒJavaçš„æ•°ç»„å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§é›†åˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>String[] ss = new String[10]; // å¯ä»¥æŒæœ‰10ä¸ªStringå¯¹è±¡
</span></span><span style="display:flex;"><span>ss[0] = &#34;Hello&#34;; // å¯ä»¥æ”¾å…¥Stringå¯¹è±¡
</span></span><span style="display:flex;"><span>String first = ss[0]; // å¯ä»¥è·å–Stringå¯¹è±¡
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¢ç„¶Javaæä¾›äº†æ•°ç»„è¿™ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥å……å½“é›†åˆï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦å…¶ä»–é›†åˆç±»ï¼Ÿè¿™æ˜¯å› ä¸ºæ•°ç»„æœ‰å¦‚ä¸‹é™åˆ¶ï¼š</p>
<ul>
<li>æ•°ç»„åˆå§‹åŒ–åå¤§å°ä¸å¯å˜ï¼›</li>
<li>æ•°ç»„åªèƒ½æŒ‰ç´¢å¼•é¡ºåºå­˜å–ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å„ç§ä¸åŒç±»å‹çš„é›†åˆç±»æ¥å¤„ç†ä¸åŒçš„æ•°æ®ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å¯å˜å¤§å°çš„é¡ºåºé“¾è¡¨ï¼›</li>
<li>ä¿è¯æ— é‡å¤å…ƒç´ çš„é›†åˆï¼›</li>
<li>&hellip;</li>
</ul>
<h2 id="collection">Collection<a hidden class="anchor" aria-hidden="true" href="#collection">#</a></h2>
<p>Javaæ ‡å‡†åº“è‡ªå¸¦çš„<code>java.util</code>åŒ…æä¾›äº†é›†åˆç±»ï¼š<code>Collection</code>ï¼Œå®ƒæ˜¯é™¤<code>Map</code>å¤–æ‰€æœ‰å…¶ä»–é›†åˆç±»çš„æ ¹æ¥å£ã€‚Javaçš„<code>java.util</code>åŒ…ä¸»è¦æä¾›äº†ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„é›†åˆï¼š</p>
<ul>
<li><code>List</code>ï¼šä¸€ç§æœ‰åºåˆ—è¡¨çš„é›†åˆï¼Œä¾‹å¦‚ï¼ŒæŒ‰ç´¢å¼•æ’åˆ—çš„<code>Student</code>çš„<code>List</code>ï¼›</li>
<li><code>Set</code>ï¼šä¸€ç§ä¿è¯æ²¡æœ‰é‡å¤å…ƒç´ çš„é›†åˆï¼Œä¾‹å¦‚ï¼Œæ‰€æœ‰æ— é‡å¤åç§°çš„<code>Student</code>çš„<code>Set</code>ï¼›</li>
<li><code>Map</code>ï¼šä¸€ç§é€šè¿‡é”®å€¼ï¼ˆkey-valueï¼‰æŸ¥æ‰¾çš„æ˜ å°„è¡¨é›†åˆï¼Œä¾‹å¦‚ï¼Œæ ¹æ®<code>Student</code>çš„<code>name</code>æŸ¥æ‰¾å¯¹åº”<code>Student</code>çš„<code>Map</code>ã€‚</li>
</ul>
<p>Javaé›†åˆçš„è®¾è®¡æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼šä¸€æ˜¯å®ç°äº†æ¥å£å’Œå®ç°ç±»ç›¸åˆ†ç¦»ï¼Œä¾‹å¦‚ï¼Œæœ‰åºè¡¨çš„æ¥å£æ˜¯<code>List</code>ï¼Œå…·ä½“çš„å®ç°ç±»æœ‰<code>ArrayList</code>ï¼Œ<code>LinkedList</code>ç­‰ï¼ŒäºŒæ˜¯æ”¯æŒæ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶åœ¨ä¸€ä¸ªé›†åˆä¸­åªèƒ½æ”¾å…¥åŒä¸€ç§æ•°æ®ç±»å‹çš„å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>List&lt;String&gt; list = new ArrayList&lt;&gt;(); // åªèƒ½æ”¾å…¥Stringç±»å‹
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ€åï¼ŒJavaè®¿é—®é›†åˆæ€»æ˜¯é€šè¿‡ç»Ÿä¸€çš„æ–¹å¼â€”â€”è¿­ä»£å™¨ï¼ˆIteratorï¼‰æ¥å®ç°ï¼Œå®ƒæœ€æ˜æ˜¾çš„å¥½å¤„åœ¨äºæ— éœ€çŸ¥é“é›†åˆå†…éƒ¨å…ƒç´ æ˜¯æŒ‰ä»€ä¹ˆæ–¹å¼å­˜å‚¨çš„ã€‚</p>
<p>ç”±äºJavaçš„é›†åˆè®¾è®¡éå¸¸ä¹…è¿œï¼Œä¸­é—´ç»å†è¿‡å¤§è§„æ¨¡æ”¹è¿›ï¼Œæˆ‘ä»¬è¦æ³¨æ„åˆ°æœ‰ä¸€å°éƒ¨åˆ†é›†åˆç±»æ˜¯é—ç•™ç±»ï¼Œä¸åº”è¯¥ç»§ç»­ä½¿ç”¨ï¼š</p>
<ul>
<li><code>Hashtable</code>ï¼šä¸€ç§çº¿ç¨‹å®‰å…¨çš„<code>Map</code>å®ç°ï¼›</li>
<li><code>Vector</code>ï¼šä¸€ç§çº¿ç¨‹å®‰å…¨çš„<code>List</code>å®ç°ï¼›</li>
<li><code>Stack</code>ï¼šåŸºäº<code>Vector</code>å®ç°çš„<code>LIFO</code>çš„æ ˆã€‚</li>
</ul>
<p>è¿˜æœ‰ä¸€å°éƒ¨åˆ†æ¥å£æ˜¯é—ç•™æ¥å£ï¼Œä¹Ÿä¸åº”è¯¥ç»§ç»­ä½¿ç”¨ï¼š</p>
<ul>
<li><code>Enumeration&lt;E&gt;</code>ï¼šå·²è¢«<code>Iterator&lt;E&gt;</code>å–ä»£ã€‚</li>
</ul>
<h1 id="æ€»ä½“æ¡†æ¶">æ€»ä½“æ¡†æ¶<a hidden class="anchor" aria-hidden="true" href="#æ€»ä½“æ¡†æ¶">#</a></h1>
<p>Javaé›†åˆæ˜¯javaæä¾›çš„å·¥å…·åŒ…ï¼ŒåŒ…å«äº†å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼šé›†åˆã€é“¾è¡¨ã€é˜Ÿåˆ—ã€æ ˆã€æ•°ç»„ã€æ˜ å°„ç­‰ã€‚Javaé›†åˆå·¥å…·åŒ…ä½ç½®æ˜¯java.util.*
Javaé›†åˆä¸»è¦å¯ä»¥åˆ’åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼šListåˆ—è¡¨ã€Seté›†åˆã€Mapæ˜ å°„ã€å·¥å…·ç±»(Iteratorè¿­ä»£å™¨ã€Enumerationæšä¸¾ç±»ã€Arrayså’ŒCollections)ã€ã€‚
Javaé›†åˆå·¥å…·åŒ…æ¡†æ¶å›¾(å¦‚ä¸‹)ï¼š
<img loading="lazy" src="1.jpg" alt=""  />
</p>
<p>çœ‹ä¸Šé¢çš„æ¡†æ¶å›¾ï¼Œå…ˆæŠ“ä½å®ƒçš„ä¸»å¹²ï¼Œå³Collectionå’ŒMapã€‚</p>
<h2 id="collection-1">Collection<a hidden class="anchor" aria-hidden="true" href="#collection-1">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Collection&lt;E&gt; <span style="color:#fff;font-weight:bold">extends</span> Iterable&lt;E&gt; {}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæ˜¯é«˜åº¦æŠ½è±¡å‡ºæ¥çš„é›†åˆï¼Œå®ƒåŒ…å«äº†é›†åˆçš„åŸºæœ¬æ“ä½œï¼šæ·»åŠ ã€åˆ é™¤ã€æ¸…ç©ºã€éå†(è¯»å–)ã€æ˜¯å¦ä¸ºç©ºã€è·å–å¤§å°ã€æ˜¯å¦ä¿æŠ¤æŸå…ƒç´ ç­‰ç­‰ã€‚
Collectionæ¥å£çš„æ‰€æœ‰å­ç±»(ç›´æ¥å­ç±»å’Œé—´æ¥å­ç±»)éƒ½å¿…é¡»å®ç°2ç§æ„é€ å‡½æ•°ï¼šä¸å¸¦å‚æ•°çš„æ„é€ å‡½æ•° å’Œ å‚æ•°ä¸ºCollectionçš„æ„é€ å‡½æ•°ã€‚å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è½¬æ¢Collectionçš„ç±»å‹ã€‚</p>
<p>Collectionä¸»è¦çš„ä¸¤ä¸ªåˆ†æ”¯æ˜¯ï¼šList å’Œ Setã€‚
Listå’ŒSetéƒ½æ˜¯æ¥å£ï¼Œå®ƒä»¬ç»§æ‰¿äºCollectionã€‚
Listæ˜¯æœ‰åºçš„é˜Ÿåˆ—ï¼ŒListä¸­å¯ä»¥æœ‰é‡å¤çš„å…ƒç´ ï¼›
è€ŒSetæ˜¯æ•°å­¦æ¦‚å¿µä¸­çš„é›†åˆï¼ŒSetä¸­æ²¡æœ‰é‡å¤å…ƒç´ ã€‚
Listå’ŒSetéƒ½æœ‰å®ƒä»¬å„è‡ªçš„å®ç°ç±»ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºäº†AbstractCollectionæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Collectionä¸­çš„ç»å¤§éƒ¨åˆ†å‡½æ•°ï¼›è¿™æ ·ï¼Œåœ¨Collectionçš„å®ç°ç±»ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç»§æ‰¿AbstractCollectionçœå»é‡å¤ç¼–ç ã€‚
AbstractListå’ŒAbstractSetéƒ½ç»§æ‰¿äºAbstractCollectionï¼Œå…·ä½“çš„Listå®ç°ç±»ç»§æ‰¿äºAbstractListï¼Œè€ŒSetçš„å®ç°ç±»åˆ™ç»§æ‰¿äºAbstractSetã€‚
å¦å¤–ï¼ŒCollectionä¸­æœ‰ä¸€ä¸ªiterator()å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯è¿”å›ä¸€ä¸ªIteratoræ¥å£ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬é€šè¿‡Iteratorè¿­ä»£å™¨æ¥éå†é›†åˆã€‚ListIteratoræ˜¯Listæ¥å£æ‰€ç‰¹æœ‰çš„ï¼Œåœ¨Listæ¥å£ä¸­ï¼Œé€šè¿‡ListIterator()è¿”å›ä¸€ä¸ªListIteratorå¯¹è±¡ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œé›†åˆæ˜¯å­˜å‚¨å¯¹è±¡çš„æœ€å¸¸ç”¨çš„ä¸€ç§æ–¹å¼ã€‚
é›†åˆçš„å‡ºç°å°±æ˜¯ä¸ºäº†å­˜å‚¨å¯¹è±¡ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œè€Œä¸”é•¿åº¦å¯å˜ã€‚
é›†åˆå’Œæ•°ç»„çš„åŒºåˆ«?</p>
<ul>
<li>éƒ½æ˜¯å®¹å™¨</li>
<li>æ•°ç»„é•¿åº¦å›ºå®šï¼Œé›†åˆé•¿åº¦å¯å˜</li>
<li>æ•°ç»„å¯ä»¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé›†åˆåªèƒ½å­˜å¯¹è±¡</li>
<li>æ•°ç»„å­˜å‚¨çš„æ•°æ®ç±»å‹æ˜¯å•ä¸€çš„ï¼Œé›†åˆå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡</li>
</ul>
<h2 id="abstractcollection">AbstractCollection<a hidden class="anchor" aria-hidden="true" href="#abstractcollection">#</a></h2>
<p>å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">class</span> AbstractCollection&lt;E&gt; <span style="color:#fff;font-weight:bold">implements</span> Collection&lt;E&gt; {}
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>AbstractCollection</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Collectionä¸­é™¤<code>iterator()</code>å’Œ<code>size()</code>ä¹‹å¤–çš„å‡½æ•°ã€‚
ä¸»è¦ä½œç”¨ï¼š
å®ƒå®ç°äº†Collectionæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»å®ç°Collectionï¼Œæ¯”å¦‚ArrayListã€LinkedListç­‰ï¼Œå®ƒä»¬è¿™äº›ç±»æƒ³è¦å®ç°Collectionæ¥å£ï¼Œé€šè¿‡ç»§æ‰¿AbstractCollectionå°±å·²ç»å®ç°äº†å¤§éƒ¨åˆ†çš„åŠŸèƒ½äº†ã€‚</p>
<h2 id="list">List<a hidden class="anchor" aria-hidden="true" href="#list">#</a></h2>
<p>å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> List&lt;E&gt; <span style="color:#fff;font-weight:bold">extends</span> Collection&lt;E&gt; {}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Listæ˜¯ä¸€ä¸ªç»§æ‰¿äºCollectionçš„æ¥å£ï¼Œå³Listæ˜¯é›†åˆçš„ä¸€ç§ã€‚
Listæ˜¯æœ‰åºçš„é˜Ÿåˆ—ï¼ŒListä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªç´¢å¼•ï¼›
ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼æ˜¯0ï¼Œå¾€åçš„å…ƒç´ çš„ç´¢å¼•å€¼ä¾æ¬¡+1ã€‚
å’ŒSetä¸åŒï¼ŒListä¸­å…è®¸æœ‰é‡å¤çš„å…ƒç´ ã€‚</p>
<p>æ—¢ç„¶Listæ˜¯ç»§æ‰¿äºCollectionæ¥å£ï¼Œå®ƒè‡ªç„¶å°±åŒ…å«äº†Collectionä¸­çš„å…¨éƒ¨å‡½æ•°æ¥å£ï¼›ç”±äºListæ˜¯æœ‰åºé˜Ÿåˆ—ï¼Œå®ƒä¹Ÿé¢å¤–çš„æœ‰è‡ªå·±çš„APIæ¥å£ã€‚ä¸»è¦æœ‰â€œæ·»åŠ ã€åˆ é™¤ã€è·å–ã€ä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´ â€ã€â€œè·å–Listä¸­çš„å­é˜Ÿåˆ—â€ç­‰ã€‚</p>
<h2 id="set">Set<a hidden class="anchor" aria-hidden="true" href="#set">#</a></h2>
<p>å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Set&lt;E&gt; <span style="color:#fff;font-weight:bold">extends</span> Collection&lt;E&gt; {}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Setæ˜¯ä¸€ä¸ªç»§æ‰¿äºCollectionçš„æ¥å£ï¼Œå³Setä¹Ÿæ˜¯é›†åˆä¸­çš„ä¸€ç§ã€‚Setæ˜¯æ²¡æœ‰é‡å¤å…ƒç´ çš„é›†åˆã€‚
Setçš„APIå’ŒCollectionå®Œå…¨ä¸€æ ·ã€‚</p>
<h2 id="abstractlist">AbstractList<a hidden class="anchor" aria-hidden="true" href="#abstractlist">#</a></h2>
<p>å®šä¹‰å¦‚ä¸‹ï¼š
<code>public abstract class AbstractList&lt;E&gt; extends AbstractCollection&lt;E&gt; implements List&lt;E&gt; {}</code>
AbstractListæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractCollectionï¼Œå¹¶ä¸”å®ç°Listæ¥å£çš„æŠ½è±¡ç±»ã€‚å®ƒå®ç°äº†Listä¸­é™¤size()ã€get(int location)ä¹‹å¤–çš„å‡½æ•°ã€‚
AbstractListçš„ä¸»è¦ä½œç”¨ï¼šå®ƒå®ç°äº†Listæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»ç»§æ‰¿Listã€‚
å¦å¤–ï¼Œå’ŒAbstractCollectionç›¸æ¯”ï¼ŒAbstractListæŠ½è±¡ç±»ä¸­ï¼Œå®ç°äº†iterator()æ¥å£ã€‚</p>
<h2 id="abstractset">AbstractSet<a hidden class="anchor" aria-hidden="true" href="#abstractset">#</a></h2>
<p>å®šä¹‰å¦‚ä¸‹ï¼š
<code>public abstract class AbstractSet&lt;E&gt; extends AbstractCollection&lt;E&gt; implements Set&lt;E&gt; {}</code>
AbstractSetæ˜¯ä¸€ä¸ªç»§æ‰¿äºAbstractCollectionï¼Œå¹¶ä¸”å®ç°Setæ¥å£çš„æŠ½è±¡ç±»ã€‚ç”±äºSetæ¥å£å’ŒCollectionæ¥å£ä¸­çš„APIå®Œå…¨ä¸€æ ·ï¼ŒSetä¹Ÿå°±æ²¡æœ‰è‡ªå·±å•ç‹¬çš„APIã€‚å’ŒAbstractCollectionä¸€æ ·ï¼Œå®ƒå®ç°äº†Listä¸­é™¤iterator()å’Œsize()ä¹‹å¤–çš„å‡½æ•°ã€‚
AbstractSetçš„ä¸»è¦ä½œç”¨ï¼šå®ƒå®ç°äº†Setæ¥å£ä¸­çš„å¤§éƒ¨åˆ†å‡½æ•°ã€‚ä»è€Œæ–¹ä¾¿å…¶å®ƒç±»å®ç°Setæ¥å£ã€‚</p>
<h2 id="map">map<a hidden class="anchor" aria-hidden="true" href="#map">#</a></h2>
<p>Mapæ˜¯ä¸€ä¸ªæ˜ å°„æ¥å£ï¼Œå³key-valueé”®å€¼å¯¹ã€‚Mapä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ åŒ…å«â€œä¸€ä¸ªkeyâ€å’Œâ€œkeyå¯¹åº”çš„valueâ€ã€‚
AbstractMapæ˜¯ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Mapæ¥å£ä¸­çš„å¤§éƒ¨åˆ†APIã€‚è€ŒHashMapï¼ŒTreeMapï¼ŒWeakHashMapéƒ½æ˜¯ç»§æ‰¿äºAbstractMapã€‚
Hashtableè™½ç„¶ç»§æ‰¿äºDictionaryï¼Œä½†å®ƒå®ç°äº†Mapæ¥å£ã€‚</p>
<h2 id="enumeration">Enumeration<a hidden class="anchor" aria-hidden="true" href="#enumeration">#</a></h2>
<p><code>Enumeration</code>æ˜¯JDK 1.0å¼•å…¥çš„æŠ½è±¡ç±»ã€‚ä½œç”¨å’ŒIteratorä¸€æ ·ï¼Œä¹Ÿæ˜¯éå†é›†åˆï¼›ä½†æ˜¯Enumerationçš„åŠŸèƒ½è¦æ¯”Iteratorå°‘ã€‚åœ¨ä¸Šé¢çš„æ¡†å›¾ä¸­ï¼ŒEnumerationåªèƒ½åœ¨Hashtable, Vector, Stackä¸­ä½¿ç”¨ã€‚</p>
<h2 id="arrayså’Œcollections">Arrayså’ŒCollections<a hidden class="anchor" aria-hidden="true" href="#arrayså’Œcollections">#</a></h2>
<p>å®ƒä»¬æ˜¯æ“ä½œæ•°ç»„ã€é›†åˆçš„ä¸¤ä¸ªå·¥å…·ç±»ã€‚</p>
<h2 id="iterator">Iterator<a hidden class="anchor" aria-hidden="true" href="#iterator">#</a></h2>
<p>Iteratoræ˜¯éå†é›†åˆçš„å·¥å…·ï¼Œå³æˆ‘ä»¬é€šå¸¸é€šè¿‡<code>Iterator</code>è¿­ä»£å™¨æ¥éå†é›†åˆã€‚æˆ‘ä»¬è¯´Collectionä¾èµ–äºIteratorï¼Œæ˜¯å› ä¸ºCollectionçš„å®ç°ç±»éƒ½è¦å®ç°<code>iterator()</code>å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªIteratorå¯¹è±¡ã€‚<code>ListIterator</code>æ˜¯ä¸“é—¨ä¸ºéå†Listè€Œå­˜åœ¨çš„ã€‚</p>
<p><code>public interface Iterator&lt;E&gt; {}</code></p>
<p>Iteratoræ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒæ˜¯é›†åˆçš„è¿­ä»£å™¨ã€‚é›†åˆå¯ä»¥é€šè¿‡Iteratorå»éå†é›†åˆä¸­çš„å…ƒç´ ã€‚Iteratoræä¾›çš„APIæ¥å£ï¼ŒåŒ…æ‹¬ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ¯æ¬¡nextä¹‹å‰ï¼Œå…ˆè°ƒç”¨æ­¤æ–¹æ³•æ¢æµ‹æ˜¯å¦è¿­ä»£åˆ°ç»ˆç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">boolean</span> hasNext();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// è¿”å›å½“å‰è¿­ä»£å…ƒç´  ï¼ŒåŒæ—¶ï¼Œè¿­ä»£æ¸¸æ ‡åç§»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>E next();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åˆ é™¤å½“å‰å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">void</span> remove();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// åˆ é™¤æœ€è¿‘ä¸€æ¬¡å·²è¿‘è¿­ä»£å‡ºå‡ºå»çš„é‚£ä¸ªå…ƒç´ ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// åªæœ‰å½“nextæ‰§è¡Œå®Œåï¼Œæ‰èƒ½è°ƒç”¨removeå‡½æ•°ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ¯”å¦‚ä½ è¦åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ remove()   è€Œè¦å…ˆnextä¸€ä¸‹( );
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// åœ¨æ²¡æœ‰å…ˆè°ƒç”¨next å°±è°ƒç”¨removeæ–¹æ³•æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// è¿™ä¸ªå’ŒMySQLä¸­çš„ResultSetå¾ˆç±»ä¼¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">void</span> remove() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> UnsupportedOperationException(<span style="color:#0ff;font-weight:bold">&#34;remove&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼šIteratoréå†Collectionæ—¶ï¼Œæ˜¯<code>fail-fast</code>æœºåˆ¶çš„ã€‚å³ï¼Œå½“æŸä¸€ä¸ªçº¿ç¨‹Aé€šè¿‡iteratorå»éå†æŸé›†åˆçš„è¿‡ç¨‹ä¸­ï¼Œè‹¥è¯¥é›†åˆçš„å†…å®¹è¢«å…¶ä»–çº¿ç¨‹æ‰€æ”¹å˜äº†ï¼›é‚£ä¹ˆçº¿ç¨‹Aè®¿é—®é›†åˆæ—¶ï¼Œå°±ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œäº§ç”Ÿfail-fastäº‹ä»¶ã€‚å…³äºfail-fastçš„è¯¦ç»†å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ä¸“é—¨è¿›è¡Œè¯´æ˜ã€‚</p>
<p>å®ç°äº†Iterableæ¥å£ï¼Œå°±å¯ä»¥è°ƒç”¨iterator()æ–¹æ³•ã€‚
HashMapç±»å°±å®ç°äº†Iterableæ¥å£ï¼Œéå†map</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Iterator iter = hashMap.<span style="color:#007f7f">iterator</span>(); 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">while</span>(iter.<span style="color:#007f7f">hashNext</span>()) { 
</span></span><span style="display:flex;"><span>  String s = iter.<span style="color:#007f7f">next</span>(); 
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ‰‹åŠ¨è¿­ä»£listå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„">æ‰‹åŠ¨è¿­ä»£listï¼Œå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„<a hidden class="anchor" aria-hidden="true" href="#æ‰‹åŠ¨è¿­ä»£listå’ŒforeachåŸç†æ˜¯ä¸€æ ·çš„">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Integer&gt; li = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>li.<span style="color:#007f7f">add</span>(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>li.<span style="color:#007f7f">add</span>(<span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>li.<span style="color:#007f7f">add</span>(<span style="color:#ff0;font-weight:bold">3</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//ä¸ä½¿ç”¨foreach è€Œæ‰‹åŠ¨è¿­ä»£
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Iterator&lt;Integer&gt; iter = li.<span style="color:#007f7f">iterator</span>();    <span style="color:#007f7f">//è·å–ArrayList çš„è¿­ä»£å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">while</span>(iter.<span style="color:#007f7f">hasNext</span>()) {                     <span style="color:#007f7f">//â‘ å…ˆæ¢æµ‹èƒ½å¦ç»§ç»­è¿­ä»£
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(iter.<span style="color:#007f7f">next</span>());       <span style="color:#007f7f">//â‘¡åå–å‡ºæœ¬æ¬¡è¿­ä»£å‡ºçš„å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">//invoke  remove()                     //â‘¢æœ€åå¦‚æœéœ€è¦ï¼Œè°ƒç”¨remove
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="abstractlistä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯»">AbstractListä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯»<a hidden class="anchor" aria-hidden="true" href="#abstractlistä¸­å®ç°çš„è¿­ä»£å™¨ç±»è§£è¯»">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">class</span> Itr <span style="color:#fff;font-weight:bold">implements</span> Iterator&lt;E&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//AbstractList ä¸­å®ç°çš„è¿­ä»£å™¨ï¼Œåˆ é™¤äº†ä¸€äº›ç»†èŠ‚ã€‚ä¸å½±å“ç†è§£,Iträ¸ºä¸€ä¸ªpriavateæˆå‘˜å†…éƒ¨ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">//é©¬ä¸Šç­‰å¾…è¢«è¿­ä»£å…ƒç´ çš„index
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> cursor = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">//æœ€è¿‘ä¸€æ¬¡ï¼Œå·²ç»è¢«è¿­ä»£å‡ºçš„å…ƒç´ çš„indexï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ è¿­ä»£åï¼Œè¢«åˆ é™¤äº†ï¼Œåˆ™lastReté‡ç½®ä¸º-1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> lastRet = -<span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//å½“å‰æ¸¸æ ‡å€¼ ç­‰äº  é›†åˆçš„size()  è¯´æ˜å·²ç»ä¸èƒ½å†è¿­ä»£äº†ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">return</span> cursor != size();      
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> E next() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> i = cursor;
</span></span><span style="display:flex;"><span>        E next = get(i);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//lastRet ä¿å­˜çš„æ˜¯æœ€è¿‘ä¸€æ¬¡å·²ç»è¢«è¿­ä»£å‡ºå»çš„å…ƒç´ ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        lastRet = i;     
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//cursorä¸ºé©¬ä¸Šç­‰å¾…è¢«è¿­ä»£çš„å…ƒç´ çš„ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        cursor = i + <span style="color:#ff0;font-weight:bold">1</span>;  
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> next;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove() {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//è°ƒç”¨removeä¹‹å‰æ²¡æœ‰è°ƒç”¨next
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (lastRet &lt; <span style="color:#ff0;font-weight:bold">0</span>)                            
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//åˆ™æŠ›å¼‚å¸¸ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ä½¿ç”¨removeå‰ï¼Œè¦nextçš„åŸå› 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> IllegalStateException();     
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//ä»é›†åˆä¸­åˆ é™¤è¿™ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        OuterList.<span style="color:#007f7f">this</span>.<span style="color:#007f7f">remove</span>(lastRet);            
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//é›†åˆåˆ é™¤å…ƒç´ åï¼Œé›†åˆåé¢çš„å…ƒç´ çš„ç´¢å¼•ä¼šéƒ½å‡å°1ï¼Œcursorä¹Ÿè¦åŒæ­¥åç§»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (lastRet &lt; cursor)                      
</span></span><span style="display:flex;"><span>            cursor--;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">//é‡ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        lastRet = -<span style="color:#ff0;font-weight:bold">1</span>;                                 
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´">è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´<a hidden class="anchor" aria-hidden="true" href="#è¿­ä»£å‡ºæ¥çš„å…ƒç´ éƒ½æ˜¯åŸæ¥é›†åˆå…ƒç´ çš„æ‹·è´">#</a></h3>
<p>Javaé›†åˆä¸­ä¿å­˜çš„å…ƒç´ å®è´¨æ˜¯å¯¹è±¡çš„å¼•ç”¨(å¯ä»¥ç†è§£ä¸ºCä¸­çš„æŒ‡é’ˆ)ï¼Œè€Œéå¯¹è±¡æœ¬èº«ã€‚è¿­ä»£å‡ºçš„å…ƒç´ ä¹Ÿå°±éƒ½æ˜¯å¼•ç”¨çš„æ‹·è´ï¼Œç»“æœè¿˜æ˜¯å¼•ç”¨ã€‚é‚£ä¹ˆï¼Œå¦‚æœé›†åˆä¸­ä¿å­˜çš„å…ƒç´ æ˜¯å¯å˜ç±»å‹çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿­ä»£å‡ºçš„å…ƒç´ ä¿®æ”¹åŸé›†åˆä¸­çš„å¯¹è±¡ã€‚è€Œå¯¹äºä¸å¯å˜ç±»å‹ï¼Œå¦‚String  åŸºæœ¬å…ƒç´ çš„åŒ…è£…ç±»å‹Integer éƒ½æ˜¯åˆ™ä¸ä¼šååº”åˆ°åŸé›†åˆä¸­ã€‚éªŒè¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;Person&gt; li = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        Person p = <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>);
</span></span><span style="display:flex;"><span>        li.<span style="color:#007f7f">add</span>(p);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (Person ap : li) {
</span></span><span style="display:flex;"><span>            ap.<span style="color:#007f7f">setName</span>(<span style="color:#0ff;font-weight:bold">&#34;Jerry&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(li.<span style="color:#007f7f">get</span>(<span style="color:#ff0;font-weight:bold">0</span>).<span style="color:#007f7f">getName</span>());     <span style="color:#007f7f">//Jerry  not Tom
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Person(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = (name == <span style="color:#fff;font-weight:bold">null</span> ? <span style="color:#0ff;font-weight:bold">&#34;&#34;</span> : name);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String getName() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setName(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (name == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>            name = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="è‡ªå·±å®ç°è¿­ä»£å™¨">è‡ªå·±å®ç°è¿­ä»£å™¨<a hidden class="anchor" aria-hidden="true" href="#è‡ªå·±å®ç°è¿­ä»£å™¨">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        MyString s = <span style="color:#fff;font-weight:bold">new</span> MyString(<span style="color:#0ff;font-weight:bold">&#34;1234567&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">char</span> c : s) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(c);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> MyString <span style="color:#fff;font-weight:bold">implements</span> Iterable&lt;Character&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> length = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String ineers = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> MyString(String s) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">ineers</span> = s;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">length</span> = s.<span style="color:#007f7f">length</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Iterator&lt;Character&gt; iterator() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">class</span> iter <span style="color:#fff;font-weight:bold">implements</span> Iterator&lt;Character&gt;     <span style="color:#007f7f">//æ–¹æ³•å†…éƒ¨ç±»
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> cur = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext() {
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> cur != length;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            @Override
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> Character next() {
</span></span><span style="display:flex;"><span>                Character c = ineers.<span style="color:#007f7f">charAt</span>(cur);
</span></span><span style="display:flex;"><span>                cur++;
</span></span><span style="display:flex;"><span>                <span style="color:#fff;font-weight:bold">return</span> c;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> remove() {
</span></span><span style="display:flex;"><span>                <span style="color:#007f7f">// do nothing
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> iter();     <span style="color:#007f7f">//å®‰è£…Iterableæ¥å£çš„çº¦å®šï¼Œè¿”å›è¿­ä»£å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="iterable">Iterable<a hidden class="anchor" aria-hidden="true" href="#iterable">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Iterable&lt;T&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Iterableæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒCollectionæ¥å£ç»§æ‰¿äº†Iterable(æ¥å£æ‰©å±•)ï¼ŒIterableä¸­åŒ…å«</p>
<ul>
<li>iteratoræ–¹æ³•çš„æ˜¾å¼è°ƒç”¨</li>
<li>forEachæ–¹æ³•</li>
<li>spliteratoræ–¹æ³•</li>
</ul>
<h2 id="iteratorå’Œiterable-åŒºåˆ«">Iteratorå’ŒIterable åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#iteratorå’Œiterable-åŒºåˆ«">#</a></h2>
<p>ä»è‹±æ–‡æ„æ€å»ç†è§£ï¼š
Iterableï¼šæ•…åæ€è®®ï¼Œå®ç°äº†è¿™ä¸ªæ¥å£çš„é›†åˆå¯¹è±¡æ”¯æŒè¿­ä»£ï¼Œæ˜¯å¯è¿­ä»£çš„ã€‚
ableç»“å°¾çš„è¡¨ç¤º<code>**èƒ½...æ ·**ï¼Œ**å¯ä»¥åš...**</code></p>
<p>Iteratorï¼šåœ¨è‹±è¯­ä¸­or ç»“å°¾æ˜¯éƒ½æ˜¯è¡¨ç¤º<code>**...æ ·çš„äºº** æˆ– **... è€…**</code>ã€‚
å¦‚creatorå°±æ˜¯åˆ›ä½œè€…çš„æ„æ€ã€‚è¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·ï¼šiteratorå°±æ˜¯è¿­ä»£è€…ï¼Œæˆ‘ä»¬ä¸€èˆ¬å«è¿­ä»£å™¨ï¼Œå®ƒå°±æ˜¯æä¾›è¿­ä»£æœºåˆ¶çš„å¯¹è±¡ï¼Œå…·ä½“å¦‚ä½•è¿­ä»£ï¼Œéƒ½æ˜¯Iteratoræ¥å£è§„èŒƒçš„ã€‚</p>
<h3 id="iterable-1">Iterable<a hidden class="anchor" aria-hidden="true" href="#iterable-1">#</a></h3>
<p>ä¸€ä¸ªé›†åˆå¯¹è±¡è¦è¡¨æ˜è‡ªå·±æ”¯æŒè¿­ä»£ï¼Œèƒ½æœ‰ä½¿ç”¨foreachè¯­å¥çš„ç‰¹æƒï¼Œå°±å¿…é¡»å®ç°Iterableæ¥å£ï¼Œè¡¨æ˜æˆ‘æ˜¯å¯è¿­ä»£çš„ï¼Œç„¶è€Œå®ç°Iterableæ¥å£ï¼Œå°±å¿…éœ€ä¸ºforeachè¯­å¥æä¾›ä¸€ä¸ªè¿­ä»£å™¨ã€‚
è¿™ä¸ªè¿­ä»£å™¨æ˜¯ç”¨æ¥å£å®šä¹‰çš„ iteratoræ–¹æ³•æä¾›çš„ã€‚ä¹Ÿå°±æ˜¯iteratoræ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªIteratorå¯¹è±¡ã€‚</p>
<h3 id="iterator-1">Iterator<a hidden class="anchor" aria-hidden="true" href="#iterator-1">#</a></h3>
<ol>
<li>æ¯æ¬¡åœ¨è¿­ä»£å‰ï¼Œå…ˆè°ƒç”¨hasNext()æ¢æµ‹æ˜¯å¦è¿­ä»£åˆ°ç»ˆç‚¹ï¼ˆæœ¬æ¬¡è¿˜èƒ½å†è¿­ä»£å—ï¼Ÿï¼‰ã€‚</li>
<li>nextæ–¹æ³•ä¸ä»…è¦è¿”å›å½“å‰å…ƒç´ ï¼Œè¿˜è¦åç§»æ¸¸æ ‡cursor</li>
<li>remove()æ–¹æ³•ç”¨æ¥åˆ é™¤æœ€è¿‘ä¸€æ¬¡å·²ç»è¿­ä»£å‡ºçš„å…ƒç´ </li>
<li>è¿­ä»£å‡ºçš„å…ƒç´ æ˜¯åŸé›†åˆä¸­å…ƒç´ çš„æ‹·è´ï¼ˆé‡è¦ï¼‰</li>
<li>é…åˆforeachä½¿ç”¨</li>
</ol>
<p>ä¸ºä»€ä¹ˆä¸€å®šè¦å®ç°Iterableæ¥å£ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥å®ç°Iteratoræ¥å£å‘¢ï¼Ÿ
ç­”ï¼šçœ‹ä¸€ä¸‹JDKä¸­çš„é›†åˆç±»ï¼Œæ¯”å¦‚Listä¸€æ—æˆ–è€…Setä¸€æ—ï¼Œéƒ½æ˜¯å®ç°äº†Iterableæ¥å£ï¼Œä½†å¹¶ä¸ç›´æ¥å®ç°Iteratoræ¥å£ã€‚ ä»”ç»†æƒ³ä¸€ä¸‹è¿™ä¹ˆåšæ˜¯æœ‰é“ç†çš„ã€‚
å› ä¸ºIteratoræ¥å£çš„æ ¸å¿ƒæ–¹æ³•next()æˆ–è€…hasNext() æ˜¯ä¾èµ–äºè¿­ä»£å™¨çš„å½“å‰è¿­ä»£ä½ç½®çš„ã€‚ å¦‚æœCollectionç›´æ¥å®ç°Iteratoræ¥å£ï¼ŒåŠ¿å¿…å¯¼è‡´é›†åˆå¯¹è±¡ä¸­åŒ…å«å½“å‰è¿­ä»£ä½ç½®çš„æ•°æ®(æŒ‡é’ˆ)ã€‚
å½“é›†åˆåœ¨ä¸åŒæ–¹æ³•é—´è¢«ä¼ é€’æ—¶ï¼Œç”±äºå½“å‰è¿­ä»£ä½ç½®ä¸å¯é¢„ç½®ï¼Œé‚£ä¹ˆnext()æ–¹æ³•çš„ç»“æœä¼šå˜æˆä¸å¯é¢„çŸ¥ã€‚  é™¤éå†ä¸ºIteratoræ¥å£æ·»åŠ ä¸€ä¸ªreset()æ–¹æ³•ï¼Œç”¨æ¥é‡ç½®å½“å‰è¿­ä»£ä½ç½®ã€‚
ä½†å³æ—¶è¿™æ ·ï¼ŒCollectionä¹Ÿåªèƒ½åŒæ—¶å­˜åœ¨ä¸€ä¸ªå½“å‰è¿­ä»£ä½ç½®ã€‚ è€ŒIterableåˆ™ä¸ç„¶ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªä»å¤´å¼€å§‹è®¡æ•°çš„è¿­ä»£å™¨ã€‚ å¤šä¸ªè¿­ä»£å™¨æ˜¯äº’ä¸å¹²æ‰°çš„ã€‚</p>
<h2 id="listiterator">ListIterator<a hidden class="anchor" aria-hidden="true" href="#listiterator">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> ListIterator&lt;E&gt; <span style="color:#fff;font-weight:bold">extends</span> Iterator&lt;E&gt; {}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ListIteratoræ˜¯ä¸€ä¸ªçš„æ¥å£ï¼Œç»§æ‰¿äº†Iteratorï¼Œå®ƒæ˜¯é˜Ÿåˆ—è¿­ä»£å™¨ã€‚ä¸“é—¨ç”¨äºéå†Listï¼Œèƒ½æä¾›å‘å‰/å‘åéå†ã€‚ç›¸æ¯”äºIteratorï¼Œå®ƒæ–°å¢äº†æ·»åŠ ã€æ˜¯å¦å­˜åœ¨ä¸Šä¸€ä¸ªå…ƒç´ ã€è·å–ä¸Šä¸€ä¸ªå…ƒç´ ç­‰ç­‰APIæ¥å£ã€‚</p>
<p>ListIteratorçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// ListIteratorçš„API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç»§æ‰¿äºIteratorçš„æ¥å£
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> E next()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> remove()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æ–°å¢APIæ¥å£
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> add(E object)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span> hasPrevious()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span> nextIndex()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> E previous()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span> previousIndex()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span> set(E object)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="å…¶ä»–">å…¶ä»–<a hidden class="anchor" aria-hidden="true" href="#å…¶ä»–">#</a></h1>
<p>é›†åˆçš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç”¨äºå­˜å‚¨å¯¹è±¡</li>
<li>é•¿åº¦å¯å˜</li>
<li>å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å¯¹è±¡</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>---|Collection:(åŒ…å«listå’Œsetå­æ¥å£)
</span></span><span style="display:flex;"><span>	---|List: æœ‰å­˜å‚¨é¡ºåº, å¯é‡å¤
</span></span><span style="display:flex;"><span>		---|ArrayListï¼šæ•°ç»„å®ç°, æŸ¥æ‰¾å¿«, å¢åˆ æ…¢
</span></span><span style="display:flex;"><span>			ç”±äºæ˜¯æ•°ç»„å®ç°, åœ¨å¢å’Œåˆ çš„æ—¶å€™ä¼šç‰µæ‰¯åˆ°æ•°ç»„
</span></span><span style="display:flex;"><span>			å¢å®¹, ä»¥åŠæ‹·è´å…ƒç´ . æ‰€ä»¥æ…¢ã€‚æ•°ç»„æ˜¯å¯ä»¥ç›´æ¥
</span></span><span style="display:flex;"><span>			æŒ‰ç´¢å¼•æŸ¥æ‰¾, æ‰€ä»¥æŸ¥æ‰¾æ—¶è¾ƒå¿«
</span></span><span style="display:flex;"><span>		---|LinkedListï¼šé“¾è¡¨å®ç°, å¢åˆ å¿«, æŸ¥æ‰¾æ…¢
</span></span><span style="display:flex;"><span>			ç”±äºé“¾è¡¨å®ç°, å¢åŠ æ—¶åªè¦è®©å‰ä¸€ä¸ªå…ƒç´ è®°ä½è‡ª
</span></span><span style="display:flex;"><span>			å·±å°±å¯ä»¥, åˆ é™¤æ—¶è®©å‰ä¸€ä¸ªå…ƒç´ è®°ä½åä¸€ä¸ªå…ƒ
</span></span><span style="display:flex;"><span>			ç´ , åä¸€ä¸ªå…ƒç´ è®°ä½å‰ä¸€ä¸ªå…ƒç´ . è¿™æ ·çš„å¢åˆ æ•ˆ
</span></span><span style="display:flex;"><span>			ç‡è¾ƒé«˜ä½†æŸ¥è¯¢æ—¶éœ€è¦ä¸€ä¸ªä¸€ä¸ªçš„éå†, æ‰€ä»¥æ•ˆç‡
</span></span><span style="display:flex;"><span>			è¾ƒä½
</span></span><span style="display:flex;"><span>		---|Vectorï¼šå’ŒArrayListåŸç†ç›¸åŒ, ä½†çº¿ç¨‹å®‰å…¨, æ•ˆç‡ä½
</span></span><span style="display:flex;"><span>				
</span></span><span style="display:flex;"><span>	---|Set: æ— å­˜å‚¨é¡ºåº, ä¸å¯é‡å¤
</span></span><span style="display:flex;"><span>		---|HashSet:çº¿ç¨‹ä¸å®‰å…¨ï¼Œå­˜å–é€Ÿåº¦å¿«ï¼Œåº•å±‚ä»¥å“ˆå¸Œè¡¨å®ç°
</span></span><span style="display:flex;"><span>		---|TreeSet:çº¢é»‘äºŒå‰æ ‘ç»“æ„ï¼Œé»˜è®¤å¯¹å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºï¼Œ
</span></span><span style="display:flex;"><span>		---|LinkedHashSet:ä¼šä¿å­˜æ’å…¥çš„é¡ºåº
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>---| Map:é”®å€¼å¯¹(ä¸å…è®¸é‡å¤çš„é”®)nullå¯ä»¥ä½œä¸ºé”®ï¼Œè¿™æ ·çš„é”®åªæœ‰ä¸€ä¸ª
</span></span><span style="display:flex;"><span>	æ³¨:mapå’Œcollectionæ²¡æœ‰å…³ç³»
</span></span><span style="display:flex;"><span>		---|HashMap:æ ¹æ®é”®çš„hashCodeå€¼å­˜å‚¨æ•°æ®ï¼Œæ ¹æ®é”®å¯ä»¥ç›´æ¥è·å–å®ƒçš„å€¼ï¼ŒæŸ¥è¯¢å¿«(å­˜å…¥çš„å€¼åœ¨å–çš„æ—¶å€™ä¹Ÿæ˜¯éšæœºçš„)
</span></span><span style="display:flex;"><span>		---|TreeMap:å–å‡ºæ¥åæ˜¯æ’åºåçš„é”®å€¼å¯¹(å¦‚æœéœ€è¦æŒ‰ç…§è‡ªç„¶æ’åºæˆ–è‡ªå®šä¹‰æ’åº,ç”¨è¿™ä¸ª)
</span></span><span style="display:flex;"><span>		---|HashTable:å’ŒhashMapå®ç°åŸç†ä¸€æ ·,åŒºåˆ«åœ¨äºçº¿ç¨‹å®‰å…¨
</span></span><span style="display:flex;"><span>		---|LinkedHashMap:è¾“å‡ºçš„é¡ºåºå’Œè¾“å…¥çš„é¡ºåºæ˜¯ç›¸åŒçš„
</span></span><span style="display:flex;"><span>		---|ConcurrentHashMapï¼šé‡‡ç”¨äº†åˆ†æ®µé”çš„è®¾è®¡ï¼Œå¹¶å‘map
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é—®é¢˜">é—®é¢˜<a hidden class="anchor" aria-hidden="true" href="#é—®é¢˜">#</a></h2>
<h3 id="listå’Œsetçš„åŒºåˆ«">listå’Œsetçš„åŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#listå’Œsetçš„åŒºåˆ«">#</a></h3>
<p>listå…è®¸é‡å¤å¯¹è±¡ï¼Œsetä¸å…è®¸é‡å¤å¯¹è±¡
listæ˜¯æœ‰åºå®¹å™¨ï¼Œä¿ç•™äº†æ¯ä¸ªå…ƒç´ çš„æ’å…¥é¡ºåºï¼Œè¾“å‡ºé¡ºåºå°±æ˜¯æ’å…¥é¡ºåº
setæ˜¯æ— åºå®¹å™¨ï¼Œæ— æ³•ä¿è¯æ¯ä¸ªå…ƒç´ çš„å­˜å‚¨é¡ºåº
listå¯ä»¥æ’å…¥å¤šä¸ªnullå…ƒç´ ï¼Œsetåªå…è®¸ä¸€ä¸ªnullå…ƒç´ </p>
<h3 id="ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆ">ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆï¼š<a hidden class="anchor" aria-hidden="true" href="#ä»€ä¹ˆæ—¶å€™è¯¥ä½¿ç”¨ä»€ä¹ˆæ ·çš„é›†åˆ">#</a></h3>
<ul>
<li>Listï¼šå¦‚æœæˆ‘ä»¬éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåº, å¹¶ä¸”ä¿ç•™é‡å¤å…ƒç´ , ä½¿ç”¨List
<ul>
<li>å¦‚æœæŸ¥è¯¢è¾ƒå¤š, é‚£ä¹ˆä½¿ç”¨ArrayList</li>
<li>å¦‚æœå­˜å–è¾ƒå¤š, é‚£ä¹ˆä½¿ç”¨LinkedList</li>
<li>å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨, é‚£ä¹ˆä½¿ç”¨Vector</li>
</ul>
</li>
<li>Setï¼šå¦‚æœæˆ‘ä»¬ä¸éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåº, å¹¶ä¸”éœ€è¦å»æ‰é‡å¤å…ƒç´ , ä½¿ç”¨Set
<ul>
<li>å¦‚æœæˆ‘ä»¬éœ€è¦å°†å…ƒç´ æ’åºï¼Œ é‚£ä¹ˆä½¿ç”¨TreeSet</li>
<li>å¦‚æœæˆ‘ä»¬ä¸éœ€è¦æ’åºï¼Œ ä½¿ç”¨HashSetï¼Œ HashSetæ¯”TreeSetæ•ˆç‡é«˜</li>
<li>å¦‚æœæˆ‘ä»¬éœ€è¦ä¿ç•™å­˜å‚¨é¡ºåºï¼Œåˆè¦è¿‡æ»¤é‡å¤å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨LinkedHashSet</li>
</ul>
</li>
</ul>
<h3 id="ç”¨ä»€ä¹ˆæ–¹æ³•">ç”¨ä»€ä¹ˆæ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#ç”¨ä»€ä¹ˆæ–¹æ³•">#</a></h3>
<p>çœ‹åˆ°arrayï¼Œå°±è¦æƒ³åˆ°è§’æ ‡ã€‚
çœ‹åˆ°linkï¼Œå°±è¦æƒ³åˆ°firstï¼Œlastã€‚
çœ‹åˆ°hashï¼Œå°±è¦æƒ³åˆ°hashCodeï¼Œequals
çœ‹åˆ°treeï¼Œå°±è¦æƒ³åˆ°ä¸¤ä¸ªæ¥å£ï¼šComparableï¼ŒComparatorã€‚</p>
<h3 id="collectionæ¥å£çš„æ–¹æ³•">Collectionæ¥å£çš„æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#collectionæ¥å£çš„æ–¹æ³•">#</a></h3>
<ul>
<li>add()ï¼šå°†æŒ‡å®šå¯¹è±¡å­˜å‚¨åˆ°å®¹å™¨ä¸­</li>
<li>addAll()ï¼šç›´æ¥æ·»åŠ ä¸€æ•´ä¸ªé›†åˆ</li>
<li>remove()ï¼šå°†æŒ‡å®šå¯¹è±¡ä»é›†åˆä¸­åˆ é™¤</li>
<li>removeAll()ï¼šç›´æ¥åˆ é™¤ä¸€ä¸ªé›†åˆ</li>
<li>clear()ï¼šæ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </li>
<li>contains()ï¼šåˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå¯¹è±¡</li>
<li>collection.size()ï¼šè¿”å›é›†åˆçš„å¤§å°</li>
<li>toArray()ï¼šé›†åˆè½¬æ¢æˆæ•°ç»„</li>
</ul>
<h3 id="listç‰¹æœ‰çš„æ–¹æ³•">Listç‰¹æœ‰çš„æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#listç‰¹æœ‰çš„æ–¹æ³•">#</a></h3>
<ul>
<li>å¢åŠ ï¼šList.add(1,&ldquo;æŒ‡å®šå…ƒç´ &rdquo;)ï¼Œåœ¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ </li>
<li>åˆ é™¤ï¼šList.remove(1,&ldquo;æŒ‡å®šå…ƒç´ &rdquo;)ï¼Œåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ </li>
<li>ä¿®æ”¹ï¼šList.set(1,&ldquo;æŒ‡å®šå…ƒç´ &rdquo;)ï¼Œä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´ </li>
<li>æŸ¥æ‰¾ï¼šList.get(1,&ldquo;æŒ‡å®šå…ƒç´ &rdquo;)ï¼ŒæŸ¥æ‰¾æŒ‡å®šä½ç½®çš„å…ƒç´ </li>
<li>æ±‚å­é›†åˆï¼š<code>List&lt;E&gt; subList(int fromIndex, int toIndex) // ä¸åŒ…å«toIndex</code></li>
</ul>
<h3 id="linkedlistç‰¹æœ‰æ–¹æ³•">LinkedListç‰¹æœ‰æ–¹æ³•<a hidden class="anchor" aria-hidden="true" href="#linkedlistç‰¹æœ‰æ–¹æ³•">#</a></h3>
<ul>
<li>addFirst()ï¼šåœ¨é›†åˆçš„ç¬¬ä¸€ä¸ªä½ç½®æ·»åŠ å…ƒç´ </li>
<li>addLast()ï¼šæœ€å</li>
<li>getFirst()ï¼šè¿”å›æ­¤é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>getLast()ï¼šæœ€å</li>
<li>removeFirst()ï¼šç§»é™¤é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>removeLast()ï¼šæœ€å</li>
</ul>
<h2 id="iteratorå’ŒenumerationåŒºåˆ«">Iteratorå’ŒEnumerationåŒºåˆ«<a hidden class="anchor" aria-hidden="true" href="#iteratorå’ŒenumerationåŒºåˆ«">#</a></h2>
<p>åœ¨Javaé›†åˆä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éƒ½é€šè¿‡ â€œIterator(è¿­ä»£å™¨)â€ æˆ– â€œEnumeration(æšä¸¾ç±»)â€ å»éå†é›†åˆã€‚ç°åœ¨çœ‹ä¸€ä¸‹å®ƒä»¬ä¹‹é—´åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p>
<p>Enumerationæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„æºç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> java.util;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Enumeration&lt;E&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span> hasMoreElements();
</span></span><span style="display:flex;"><span>    E nextElement();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Iteratorä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„æºç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">package</span> java.util;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">interface</span> Iterator&lt;E&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span> hasNext();
</span></span><span style="display:flex;"><span>    E next();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span> remove();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å‡½æ•°æ¥å£ä¸åŒ
Enumerationåªæœ‰2ä¸ªå‡½æ•°æ¥å£ã€‚é€šè¿‡Enumerationï¼Œæˆ‘ä»¬åªèƒ½è¯»å–é›†åˆçš„æ•°æ®ï¼Œè€Œä¸èƒ½å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚
Iteratoråªæœ‰3ä¸ªå‡½æ•°æ¥å£ã€‚Iteratoré™¤äº†èƒ½è¯»å–é›†åˆçš„æ•°æ®ä¹‹å¤–ï¼Œä¹Ÿèƒ½æ•°æ®è¿›è¡Œåˆ é™¤æ“ä½œã€‚</p>
<p>Iteratoræ”¯æŒfail-fastæœºåˆ¶ï¼Œè€ŒEnumerationä¸æ”¯æŒã€‚
Enumeration æ˜¯JDK 1.0æ·»åŠ çš„æ¥å£ã€‚ä½¿ç”¨åˆ°å®ƒçš„å‡½æ•°åŒ…æ‹¬Vectorã€Hashtableç­‰ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯JDK 1.0ä¸­åŠ å…¥çš„ï¼ŒEnumerationå­˜åœ¨çš„ç›®çš„å°±æ˜¯ä¸ºå®ƒä»¬æä¾›éå†æ¥å£ã€‚Enumerationæœ¬èº«å¹¶æ²¡æœ‰æ”¯æŒåŒæ­¥ï¼Œè€Œåœ¨Vectorã€Hashtableå®ç°Enumerationæ—¶ï¼Œæ·»åŠ äº†åŒæ­¥ã€‚
è€ŒIterator æ˜¯JDK 1.2æ‰æ·»åŠ çš„æ¥å£ï¼Œå®ƒä¹Ÿæ˜¯ä¸ºäº†HashMapã€ArrayListç­‰é›†åˆæä¾›éå†æ¥å£ã€‚Iteratoræ˜¯æ”¯æŒfail-fastæœºåˆ¶çš„ï¼šå½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªé›†åˆçš„å†…å®¹è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±å¯èƒ½ä¼šäº§ç”Ÿfail-fastäº‹ä»¶ã€‚</p>
<h3 id="iteratorå’Œenumerationå®ä¾‹">Iteratorå’ŒEnumerationå®ä¾‹<a hidden class="anchor" aria-hidden="true" href="#iteratorå’Œenumerationå®ä¾‹">#</a></h3>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªHashtableï¼Œç„¶ååˆ†åˆ«é€šè¿‡ Iterator å’Œ Enumeration å»éå†å®ƒï¼Œæ¯”è¾ƒå®ƒä»¬çš„æ•ˆç‡ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Enumeration;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Hashtable;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Iterator;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Map.Entry;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Random;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * æµ‹è¯•åˆ†åˆ«é€šè¿‡ Iterator å’Œ Enumeration å»éå†Hashtable
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * @author skywang
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> IteratorEnumeration {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> val;
</span></span><span style="display:flex;"><span>        Random r = <span style="color:#fff;font-weight:bold">new</span> Random();
</span></span><span style="display:flex;"><span>        Hashtable table = <span style="color:#fff;font-weight:bold">new</span> Hashtable();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;<span style="color:#ff0;font-weight:bold">100000</span>; i++) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// éšæœºè·å–ä¸€ä¸ª[0,100)ä¹‹é—´çš„æ•°å­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            val = r.<span style="color:#007f7f">nextInt</span>(<span style="color:#ff0;font-weight:bold">100</span>);
</span></span><span style="display:flex;"><span>            table.<span style="color:#007f7f">put</span>(String.<span style="color:#007f7f">valueOf</span>(i), val);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// é€šè¿‡Iteratoréå†Hashtable
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        iterateHashtable(table) ;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// é€šè¿‡Enumerationéå†Hashtable
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        enumHashtable(table);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * é€šè¿‡Iteratoréå†Hashtable
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> iterateHashtable(Hashtable table) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> startTime = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Iterator iter = table.<span style="color:#007f7f">entrySet</span>().<span style="color:#007f7f">iterator</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span>(iter.<span style="color:#007f7f">hasNext</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//System.out.println(&#34;iter:&#34;+iter.next());
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            iter.<span style="color:#007f7f">next</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> endTime = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        countTime(startTime, endTime);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     * é€šè¿‡Enumerationéå†Hashtable
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> enumHashtable(Hashtable table) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> startTime = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Enumeration enu = table.<span style="color:#007f7f">elements</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span>(enu.<span style="color:#007f7f">hasMoreElements</span>()) {
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">//System.out.println(&#34;enu:&#34;+enu.nextElement());
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            enu.<span style="color:#007f7f">nextElement</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">long</span> endTime = System.<span style="color:#007f7f">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        countTime(startTime, endTime);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> countTime(<span style="color:#fff;font-weight:bold">long</span> start, <span style="color:#fff;font-weight:bold">long</span> end) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;time: &#34;</span>+(end-start)+<span style="color:#0ff;font-weight:bold">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>time: 9ms
time: 5ms</p>
<p>ä»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºã€‚Enumeration æ¯” Iterator çš„éå†é€Ÿåº¦æ›´å¿«ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
è¿™æ˜¯å› ä¸ºï¼ŒHashtableä¸­Iteratoræ˜¯é€šè¿‡Enumerationå»å®ç°çš„ï¼Œè€Œä¸”Iteratoræ·»åŠ äº†å¯¹fail-fastæœºåˆ¶çš„æ”¯æŒï¼›æ‰€ä»¥ï¼Œæ‰§è¡Œçš„æ“ä½œè‡ªç„¶è¦å¤šä¸€äº›ã€‚</p>
<h1 id="ä½¿ç”¨collections">ä½¿ç”¨Collections<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨collections">#</a></h1>
<p><code>Collections</code>æ˜¯JDKæä¾›çš„å·¥å…·ç±»ï¼ŒåŒæ ·ä½äº<code>java.util</code>åŒ…ä¸­ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ï¼Œèƒ½æ›´æ–¹ä¾¿åœ°æ“ä½œå„ç§é›†åˆã€‚
æ³¨æ„Collectionsç»“å°¾å¤šäº†ä¸€ä¸ªsï¼Œä¸æ˜¯Collectionï¼</p>
<p>æˆ‘ä»¬ä¸€èˆ¬çœ‹æ–¹æ³•åå’Œå‚æ•°å°±å¯ä»¥ç¡®è®¤<code>Collections</code>æä¾›çš„è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»¥ä¸‹é™æ€æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">boolean</span> addAll(Collection&lt;? <span style="color:#fff;font-weight:bold">super</span> T&gt; c, T... elements) { ... }
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>addAll()</code>æ–¹æ³•å¯ä»¥ç»™ä¸€ä¸ª<code>Collection</code>ç±»å‹çš„é›†åˆæ·»åŠ è‹¥å¹²å…ƒç´ ã€‚å› ä¸ºæ–¹æ³•ç­¾åæ˜¯<code>Collection</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¼ å…¥<code>List</code>ï¼Œ<code>Set</code>ç­‰å„ç§é›†åˆç±»å‹ã€‚</p>
<h2 id="åˆ›å»ºç©ºé›†åˆ">åˆ›å»ºç©ºé›†åˆ<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºç©ºé›†åˆ">#</a></h2>
<p><code>Collections</code>æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥åˆ›å»ºç©ºé›†åˆï¼š</p>
<ul>
<li>åˆ›å»ºç©ºListï¼š<code>List&lt;T&gt; emptyList()</code></li>
<li>åˆ›å»ºç©ºMapï¼š<code>Map&lt;K, V&gt; emptyMap()</code></li>
<li>åˆ›å»ºç©ºSetï¼š<code>Set&lt;T&gt; emptySet()</code></li>
</ul>
<p>è¦æ³¨æ„åˆ°è¿”å›çš„ç©ºé›†åˆæ˜¯ä¸å¯å˜é›†åˆï¼Œæ— æ³•å‘å…¶ä¸­æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚</p>
<p>æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨å„ä¸ªé›†åˆæ¥å£æä¾›çš„<code>of(T...)</code>æ–¹æ³•åˆ›å»ºç©ºé›†åˆã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åˆ›å»ºç©º<code>List</code>çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list1 = List.<span style="color:#007f7f">of</span>();
</span></span><span style="display:flex;"><span>List&lt;String&gt; list2 = Collections.<span style="color:#007f7f">emptyList</span>();
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="åˆ›å»ºå•å…ƒç´ é›†åˆ">åˆ›å»ºå•å…ƒç´ é›†åˆ<a hidden class="anchor" aria-hidden="true" href="#åˆ›å»ºå•å…ƒç´ é›†åˆ">#</a></h2>
<p><code>Collections</code>æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå•å…ƒç´ é›†åˆï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Listï¼š<code>List&lt;T&gt; singletonList(T o)</code></li>
<li>åˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Mapï¼š<code>Map&lt;K, V&gt; singletonMap(K key, V value)</code></li>
<li>åˆ›å»ºä¸€ä¸ªå…ƒç´ çš„Setï¼š<code>Set&lt;T&gt; singleton(T o)</code></li>
</ul>
<p>è¦æ³¨æ„åˆ°è¿”å›çš„å•å…ƒç´ é›†åˆä¹Ÿæ˜¯ä¸å¯å˜é›†åˆï¼Œæ— æ³•å‘å…¶ä¸­æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚</p>
<p>æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨å„ä¸ªé›†åˆæ¥å£æä¾›çš„<code>of(T...)</code>æ–¹æ³•åˆ›å»ºå•å…ƒç´ é›†åˆã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åˆ›å»ºå•å…ƒç´ <code>List</code>çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯ç­‰ä»·çš„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list1 = List.<span style="color:#007f7f">of</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span><span style="display:flex;"><span>List&lt;String&gt; list2 = Collections.<span style="color:#007f7f">singletonList</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼Œä½¿ç”¨<code>List.of(T...)</code>æ›´æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒæ—¢å¯ä»¥åˆ›å»ºç©ºé›†åˆï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå•å…ƒç´ é›†åˆï¼Œè¿˜å¯ä»¥åˆ›å»ºä»»æ„ä¸ªå…ƒç´ çš„é›†åˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list1 = List.<span style="color:#007f7f">of</span>(); <span style="color:#007f7f">// empty list
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;String&gt; list2 = List.<span style="color:#007f7f">of</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>); <span style="color:#007f7f">// 1 element
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;String&gt; list3 = List.<span style="color:#007f7f">of</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>); <span style="color:#007f7f">// 2 elements
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>List&lt;String&gt; list4 = List.<span style="color:#007f7f">of</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>); <span style="color:#007f7f">// 3 elements
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ’åº">æ’åº<a hidden class="anchor" aria-hidden="true" href="#æ’åº">#</a></h2>
<p><code>Collections</code>å¯ä»¥å¯¹<code>List</code>è¿›è¡Œæ’åºã€‚å› ä¸ºæ’åºä¼šç›´æ¥ä¿®æ”¹<code>List</code>å…ƒç´ çš„ä½ç½®ï¼Œå› æ­¤å¿…é¡»ä¼ å…¥å¯å˜<code>List</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;String&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>);
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ’åºå‰:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(list);
</span></span><span style="display:flex;"><span>        Collections.<span style="color:#007f7f">sort</span>(list);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ’åºå:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(list);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ´—ç‰Œ">æ´—ç‰Œ<a hidden class="anchor" aria-hidden="true" href="#æ´—ç‰Œ">#</a></h2>
<p><code>Collections</code>æä¾›äº†æ´—ç‰Œç®—æ³•ï¼Œå³ä¼ å…¥ä¸€ä¸ªæœ‰åºçš„<code>List</code>ï¼Œå¯ä»¥éšæœºæ‰“ä¹±<code>List</code>å†…éƒ¨å…ƒç´ çš„é¡ºåºï¼Œæ•ˆæœç›¸å½“äºè®©è®¡ç®—æœºæ´—ç‰Œï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;Integer&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;<span style="color:#ff0;font-weight:bold">10</span>; i++) {
</span></span><span style="display:flex;"><span>            list.<span style="color:#007f7f">add</span>(i);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ´—ç‰Œå‰:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(list);
</span></span><span style="display:flex;"><span>        Collections.<span style="color:#007f7f">shuffle</span>(list);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ´—ç‰Œå:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(list);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ä¸å¯å˜é›†åˆ">ä¸å¯å˜é›†åˆ<a hidden class="anchor" aria-hidden="true" href="#ä¸å¯å˜é›†åˆ">#</a></h2>
<p><code>Collections</code>è¿˜æä¾›äº†ä¸€ç»„æ–¹æ³•æŠŠå¯å˜é›†åˆå°è£…æˆä¸å¯å˜é›†åˆï¼š</p>
<ul>
<li>å°è£…æˆä¸å¯å˜Listï¼š<code>List&lt;T&gt; unmodifiableList(List&lt;? extends T&gt; list)</code></li>
<li>å°è£…æˆä¸å¯å˜Setï¼š<code>Set&lt;T&gt; unmodifiableSet(Set&lt;? extends T&gt; set)</code></li>
<li>å°è£…æˆä¸å¯å˜Mapï¼š<code>Map&lt;K, V&gt; unmodifiableMap(Map&lt;? extends K, ? extends V&gt; m)</code></li>
</ul>
<p>è¿™ç§å°è£…å®é™…ä¸Šæ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œæ‹¦æˆªæ‰æ‰€æœ‰ä¿®æ”¹æ–¹æ³•å®ç°çš„ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹æ•ˆæœï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;String&gt; mutable = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å˜ä¸ºä¸å¯å˜é›†åˆ:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        List&lt;String&gt; immutable = Collections.<span style="color:#007f7f">unmodifiableList</span>(mutable);
</span></span><span style="display:flex;"><span>        immutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>); <span style="color:#007f7f">// UnsupportedOperationException!
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶è€Œï¼Œç»§ç»­å¯¹åŸå§‹çš„å¯å˜<code>List</code>è¿›è¡Œå¢åˆ æ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”ï¼Œä¼šç›´æ¥å½±å“åˆ°å°è£…åçš„â€œä¸å¯å˜â€<code>List</code>ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;String&gt; mutable = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å˜ä¸ºä¸å¯å˜é›†åˆ:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        List&lt;String&gt; immutable = Collections.<span style="color:#007f7f">unmodifiableList</span>(mutable);
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(immutable);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›æŠŠä¸€ä¸ªå¯å˜<code>List</code>å°è£…æˆä¸å¯å˜<code>List</code>ï¼Œé‚£ä¹ˆï¼Œè¿”å›ä¸å¯å˜<code>List</code>åï¼Œæœ€å¥½ç«‹åˆ»æ‰”æ‰å¯å˜<code>List</code>çš„å¼•ç”¨ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åç»­æ“ä½œä¸ä¼šæ„å¤–æ”¹å˜åŸå§‹å¯¹è±¡ï¼Œä»è€Œé€ æˆâ€œä¸å¯å˜â€<code>List</code>å˜åŒ–äº†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        List&lt;String&gt; mutable = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>);
</span></span><span style="display:flex;"><span>        mutable.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// å˜ä¸ºä¸å¯å˜é›†åˆ:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        List&lt;String&gt; immutable = Collections.<span style="color:#007f7f">unmodifiableList</span>(mutable);
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// ç«‹åˆ»æ‰”æ‰mutableçš„å¼•ç”¨:
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        mutable = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(immutable);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="çº¿ç¨‹å®‰å…¨é›†åˆ">çº¿ç¨‹å®‰å…¨é›†åˆ<a hidden class="anchor" aria-hidden="true" href="#çº¿ç¨‹å®‰å…¨é›†åˆ">#</a></h2>
<p><code>Collections</code>è¿˜æä¾›äº†ä¸€ç»„æ–¹æ³•ï¼Œå¯ä»¥æŠŠçº¿ç¨‹ä¸å®‰å…¨çš„é›†åˆå˜ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆï¼š</p>
<ul>
<li>å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Listï¼š<code>List&lt;T&gt; synchronizedList(List&lt;T&gt; list)</code></li>
<li>å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Setï¼š<code>Set&lt;T&gt; synchronizedSet(Set&lt;T&gt; s)</code></li>
<li>å˜ä¸ºçº¿ç¨‹å®‰å…¨çš„Mapï¼š<code>Map&lt;K,V&gt; synchronizedMap(Map&lt;K,V&gt; m)</code></li>
</ul>
<p>å¤šçº¿ç¨‹çš„æ¦‚å¿µæˆ‘ä»¬ä¼šåœ¨åé¢è®²ã€‚å› ä¸ºä»Java 5å¼€å§‹ï¼Œå¼•å…¥äº†æ›´é«˜æ•ˆçš„å¹¶å‘é›†åˆç±»ï¼Œæ‰€ä»¥ä¸Šè¿°è¿™å‡ ä¸ªåŒæ­¥æ–¹æ³•å·²ç»æ²¡æœ‰ä»€ä¹ˆç”¨äº†ã€‚</p>
<h1 id="ä½¿ç”¨iterator">ä½¿ç”¨Iterator<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨iterator">#</a></h1>
<p>Javaçš„é›†åˆç±»éƒ½å¯ä»¥ä½¿ç”¨<code>for each</code>å¾ªç¯ï¼Œ<code>List</code>ã€<code>Set</code>å’Œ<code>Queue</code>ä¼šè¿­ä»£æ¯ä¸ªå…ƒç´ ï¼Œ<code>Map</code>ä¼šè¿­ä»£æ¯ä¸ªkeyã€‚ä»¥<code>List</code>ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;String&gt; list = List.<span style="color:#007f7f">of</span>(<span style="color:#0ff;font-weight:bold">&#34;Apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Orange&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Pear&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> (String s : list) {
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼ŒJavaç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“å¦‚ä½•éå†<code>List</code>ã€‚ä¸Šè¿°ä»£ç èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ï¼Œåªæ˜¯å› ä¸ºç¼–è¯‘å™¨æŠŠ<code>for each</code>å¾ªç¯é€šè¿‡<code>Iterator</code>æ”¹å†™ä¸ºäº†æ™®é€šçš„<code>for</code>å¾ªç¯ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> (Iterator&lt;String&gt; it = list.<span style="color:#007f7f">iterator</span>(); it.<span style="color:#007f7f">hasNext</span>(); ) {
</span></span><span style="display:flex;"><span>     String s = it.<span style="color:#007f7f">next</span>();
</span></span><span style="display:flex;"><span>     System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æˆ‘ä»¬æŠŠè¿™ç§é€šè¿‡<code>Iterator</code>å¯¹è±¡éå†é›†åˆçš„æ¨¡å¼ç§°ä¸ºè¿­ä»£å™¨ã€‚</p>
<p>ä½¿ç”¨è¿­ä»£å™¨çš„å¥½å¤„åœ¨äºï¼Œè°ƒç”¨æ–¹æ€»æ˜¯ä»¥ç»Ÿä¸€çš„æ–¹å¼éå†å„ç§é›†åˆç±»å‹ï¼Œè€Œä¸å¿…å…³ç³»å®ƒä»¬å†…éƒ¨çš„å­˜å‚¨ç»“æ„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è™½ç„¶çŸ¥é“<code>ArrayList</code>åœ¨å†…éƒ¨æ˜¯ä»¥æ•°ç»„å½¢å¼å­˜å‚¨å…ƒç´ ï¼Œå¹¶ä¸”ï¼Œå®ƒè¿˜æä¾›äº†<code>get(int)</code>æ–¹æ³•ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥ç”¨<code>for</code>å¾ªç¯éå†ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i=<span style="color:#ff0;font-weight:bold">0</span>; i&lt;list.<span style="color:#007f7f">size</span>(); i++) {
</span></span><span style="display:flex;"><span>    Object value = list.<span style="color:#007f7f">get</span>(i);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½†æ˜¯è¿™æ ·ä¸€æ¥ï¼Œè°ƒç”¨æ–¹å°±å¿…é¡»çŸ¥é“é›†åˆçš„å†…éƒ¨å­˜å‚¨ç»“æ„ã€‚å¹¶ä¸”ï¼Œå¦‚æœæŠŠ<code>ArrayList</code>æ¢æˆ<code>LinkedList</code>ï¼Œ<code>get(int)</code>æ–¹æ³•è€—æ—¶ä¼šéšç€indexçš„å¢åŠ è€Œå¢åŠ ã€‚å¦‚æœæŠŠ<code>ArrayList</code>æ¢æˆ<code>Set</code>ï¼Œä¸Šè¿°ä»£ç å°±æ— æ³•ç¼–è¯‘ï¼Œå› ä¸º<code>Set</code>å†…éƒ¨æ²¡æœ‰ç´¢å¼•ã€‚</p>
<p>ç”¨<code>Iterator</code>éå†å°±æ²¡æœ‰ä¸Šè¿°é—®é¢˜ï¼Œå› ä¸º<code>Iterator</code>å¯¹è±¡æ˜¯é›†åˆå¯¹è±¡è‡ªå·±åœ¨å†…éƒ¨åˆ›å»ºçš„ï¼Œå®ƒè‡ªå·±çŸ¥é“å¦‚ä½•é«˜æ•ˆéå†å†…éƒ¨çš„æ•°æ®é›†åˆï¼Œè°ƒç”¨æ–¹åˆ™è·å¾—äº†ç»Ÿä¸€çš„ä»£ç ï¼Œç¼–è¯‘å™¨æ‰èƒ½æŠŠæ ‡å‡†çš„<code>for each</code>å¾ªç¯è‡ªåŠ¨è½¬æ¢ä¸º<code>Iterator</code>éå†ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è‡ªå·±ç¼–å†™äº†ä¸€ä¸ªé›†åˆç±»ï¼Œæƒ³è¦ä½¿ç”¨<code>for each</code>å¾ªç¯ï¼Œåªéœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>é›†åˆç±»å®ç°<code>Iterable</code>æ¥å£ï¼Œè¯¥æ¥å£è¦æ±‚è¿”å›ä¸€ä¸ª<code>Iterator</code>å¯¹è±¡ï¼›</li>
<li>ç”¨<code>Iterator</code>å¯¹è±¡è¿­ä»£é›†åˆå†…éƒ¨æ•°æ®ã€‚</li>
</ul>
<p>è¿™é‡Œçš„å…³é”®åœ¨äºï¼Œé›†åˆç±»é€šè¿‡è°ƒç”¨<code>iterator()</code>æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ª<code>Iterator</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¿…é¡»è‡ªå·±çŸ¥é“å¦‚ä½•éå†è¯¥é›†åˆã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„<code>Iterator</code>ç¤ºä¾‹å¦‚ä¸‹ï¼Œå®ƒæ€»æ˜¯ä»¥å€’åºéå†é›†åˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        ReverseList&lt;String&gt; rlist = <span style="color:#fff;font-weight:bold">new</span> ReverseList&lt;&gt;();
</span></span><span style="display:flex;"><span>        rlist.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Apple&#34;</span>);
</span></span><span style="display:flex;"><span>        rlist.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Orange&#34;</span>);
</span></span><span style="display:flex;"><span>        rlist.<span style="color:#007f7f">add</span>(<span style="color:#0ff;font-weight:bold">&#34;Pear&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (String s : rlist) {
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(s);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> ReverseList&lt;T&gt; <span style="color:#fff;font-weight:bold">implements</span> Iterable&lt;T&gt; {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;T&gt; list = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> add(T t) {
</span></span><span style="display:flex;"><span>        list.<span style="color:#007f7f">add</span>(t);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Iterator&lt;T&gt; iterator() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> ReverseIterator(list.<span style="color:#007f7f">size</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">class</span> ReverseIterator <span style="color:#fff;font-weight:bold">implements</span> Iterator&lt;T&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> index;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ReverseIterator(<span style="color:#fff;font-weight:bold">int</span> index) {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">index</span> = index;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext() {
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> index &gt; <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        @Override
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">public</span> T next() {
</span></span><span style="display:flex;"><span>            index--;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> ReverseList.<span style="color:#007f7f">this</span>.<span style="color:#007f7f">list</span>.<span style="color:#007f7f">get</span>(index);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>è™½ç„¶<code>ReverseList</code>å’Œ<code>ReverseIterator</code>çš„å®ç°ç±»ç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯ï¼Œæ³¨æ„åˆ°è¿™æ˜¯åº•å±‚é›†åˆåº“ï¼Œåªéœ€ç¼–å†™ä¸€æ¬¡ã€‚è€Œè°ƒç”¨æ–¹åˆ™å®Œå…¨æŒ‰<code>for each</code>å¾ªç¯ç¼–å†™ä»£ç ï¼Œæ ¹æœ¬ä¸éœ€è¦çŸ¥é“é›†åˆå†…éƒ¨çš„å­˜å‚¨é€»è¾‘å’Œéå†é€»è¾‘ã€‚</p>
<p>åœ¨ç¼–å†™<code>Iterator</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥ç”¨ä¸€ä¸ªå†…éƒ¨ç±»æ¥å®ç°<code>Iterator</code>æ¥å£ï¼Œè¿™ä¸ªå†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¯¹åº”çš„å¤–éƒ¨ç±»çš„æ‰€æœ‰å­—æ®µå’Œæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°ä»£ç ä¸­ï¼Œå†…éƒ¨ç±»<code>ReverseIterator</code>å¯ä»¥ç”¨<code>ReverseList.this</code>è·å¾—å½“å‰å¤–éƒ¨ç±»çš„<code>this</code>å¼•ç”¨ï¼Œç„¶åï¼Œé€šè¿‡è¿™ä¸ª<code>this</code>å¼•ç”¨å°±å¯ä»¥è®¿é—®<code>ReverseList</code>çš„æ‰€æœ‰å­—æ®µå’Œæ–¹æ³•ã€‚</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/collection/">Collection</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>