<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Map | Wjy&#39;s Blog</title>
<meta name="keywords" content="Collection">
<meta name="description" content="æ¦‚è¿°
æˆ‘ä»¬çŸ¥é“ï¼ŒListæ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”ŸStudentå®ä¾‹çš„Listï¼Œè¦åœ¨Listä¸­æ ¹æ®nameæŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„Studentçš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ
æœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†Listå¹¶åˆ¤æ–­nameæ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š


1
2
3
4
5
6
7
8
9


List&lt;Student&gt; list = ...
Student target = null;
for (Student s : list) {
    if (&#34;Xiao Ming&#34;.equals(s.name)) {
        target = s;
        break;
    }
}
System.out.println(target.score);


">
<meta name="author" content="">
<link rel="canonical" href="https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/map/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.js" onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://funny-toffee-4aa7c3.netlify.app/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://funny-toffee-4aa7c3.netlify.app/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://funny-toffee-4aa7c3.netlify.app/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://funny-toffee-4aa7c3.netlify.app/apple-touch-icon.png">
<link rel="mask-icon" href="https://funny-toffee-4aa7c3.netlify.app/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Map" />
<meta property="og:description" content="æ¦‚è¿°
æˆ‘ä»¬çŸ¥é“ï¼ŒListæ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”ŸStudentå®ä¾‹çš„Listï¼Œè¦åœ¨Listä¸­æ ¹æ®nameæŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„Studentçš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ
æœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†Listå¹¶åˆ¤æ–­nameæ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š


1
2
3
4
5
6
7
8
9


List&lt;Student&gt; list = ...
Student target = null;
for (Student s : list) {
    if (&#34;Xiao Ming&#34;.equals(s.name)) {
        target = s;
        break;
    }
}
System.out.println(target.score);


" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/map/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-20T13:46:07+00:00" />
<meta property="article:modified_time" content="2017-12-20T13:46:07+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Map"/>
<meta name="twitter:description" content="æ¦‚è¿°
æˆ‘ä»¬çŸ¥é“ï¼ŒListæ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”ŸStudentå®ä¾‹çš„Listï¼Œè¦åœ¨Listä¸­æ ¹æ®nameæŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„Studentçš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ
æœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†Listå¹¶åˆ¤æ–­nameæ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š


1
2
3
4
5
6
7
8
9


List&lt;Student&gt; list = ...
Student target = null;
for (Student s : list) {
    if (&#34;Xiao Ming&#34;.equals(s.name)) {
        target = s;
        break;
    }
}
System.out.println(target.score);


"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Map",
      "item": "https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/map/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Map",
  "name": "Map",
  "description": "æ¦‚è¿° æˆ‘ä»¬çŸ¥é“ï¼ŒListæ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”ŸStudentå®ä¾‹çš„Listï¼Œè¦åœ¨Listä¸­æ ¹æ®nameæŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„Studentçš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ\næœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†Listå¹¶åˆ¤æ–­nameæ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 List\u0026lt;Student\u0026gt; list = ... Student target = null; for (Student s : list) { if (\u0026#34;Xiao Ming\u0026#34;.equals(s.name)) { target = s; break; } } System.out.println(target.score); ",
  "keywords": [
    "Collection"
  ],
  "articleBody": "æ¦‚è¿° æˆ‘ä»¬çŸ¥é“ï¼ŒListæ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”ŸStudentå®ä¾‹çš„Listï¼Œè¦åœ¨Listä¸­æ ¹æ®nameæŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„Studentçš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ\næœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†Listå¹¶åˆ¤æ–­nameæ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š\n1 2 3 4 5 6 7 8 9 List list = ... Student target = null; for (Student s : list) { if (\"Xiao Ming\".equals(s.name)) { target = s; break; } } System.out.println(target.score); è¿™ç§éœ€æ±‚å…¶å®éå¸¸å¸¸è§ï¼Œå³é€šè¿‡ä¸€ä¸ªé”®å»æŸ¥è¯¢å¯¹åº”çš„å€¼ã€‚ä½¿ç”¨Listæ¥å®ç°å­˜åœ¨æ•ˆç‡éå¸¸ä½çš„é—®é¢˜ï¼Œå› ä¸ºå¹³å‡éœ€è¦æ‰«æä¸€åŠçš„å…ƒç´ æ‰èƒ½ç¡®å®šï¼Œè€ŒMapè¿™ç§é”®å€¼ï¼ˆkey-valueï¼‰æ˜ å°„è¡¨çš„æ•°æ®ç»“æ„ï¼Œä½œç”¨å°±æ˜¯èƒ½é«˜æ•ˆé€šè¿‡keyå¿«é€ŸæŸ¥æ‰¾valueï¼ˆå…ƒç´ ï¼‰ã€‚\nç”¨Mapæ¥å®ç°æ ¹æ®nameæŸ¥è¯¢æŸä¸ªStudentçš„ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public class Main { public static void main(String[] args) { Student s = new Student(\"Xiao Ming\", 99); Map map = new HashMap\u003c\u003e(); map.put(\"Xiao Ming\", s); // å°†\"Xiao Ming\"å’ŒStudentå®ä¾‹æ˜ å°„å¹¶å…³è” Student target = map.get(\"Xiao Ming\"); // é€šè¿‡keyæŸ¥æ‰¾å¹¶è¿”å›æ˜ å°„çš„Studentå®ä¾‹ System.out.println(target == s); // trueï¼ŒåŒä¸€ä¸ªå®ä¾‹ System.out.println(target.score); // 99 Student another = map.get(\"Bob\"); // é€šè¿‡å¦ä¸€ä¸ªkeyæŸ¥æ‰¾ System.out.println(another); // æœªæ‰¾åˆ°è¿”å›null } } class Student { public String name; public int score; public Student(String name, int score) { this.name = name; this.score = score; } } é€šè¿‡ä¸Šè¿°ä»£ç å¯çŸ¥ï¼šMapæ˜¯ä¸€ç§é”®-å€¼æ˜ å°„è¡¨ï¼Œå½“æˆ‘ä»¬è°ƒç”¨put(K key, V value)æ–¹æ³•æ—¶ï¼Œå°±æŠŠkeyå’Œvalueåšäº†æ˜ å°„å¹¶æ”¾å…¥Mapã€‚å½“æˆ‘ä»¬è°ƒç”¨V get(K key)æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡keyè·å–åˆ°å¯¹åº”çš„valueã€‚å¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›nullã€‚å’ŒListç±»ä¼¼ï¼ŒMapä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ€å¸¸ç”¨çš„å®ç°ç±»æ˜¯HashMapã€‚\nå¦‚æœåªæ˜¯æƒ³æŸ¥è¯¢æŸä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥è°ƒç”¨boolean containsKey(K key)æ–¹æ³•ã€‚\nå¦‚æœæˆ‘ä»¬åœ¨å­˜å‚¨Mapæ˜ å°„å…³ç³»çš„æ—¶å€™ï¼Œå¯¹åŒä¸€ä¸ªkeyè°ƒç”¨ä¸¤æ¬¡put()æ–¹æ³•ï¼Œåˆ†åˆ«æ”¾å…¥ä¸åŒçš„valueï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 public class Main { public static void main(String[] args) { Map map = new HashMap\u003c\u003e(); map.put(\"apple\", 123); map.put(\"pear\", 456); System.out.println(map.get(\"apple\")); // 123 map.put(\"apple\", 789); // å†æ¬¡æ”¾å…¥appleä½œä¸ºkeyï¼Œä½†valueå˜ä¸º789 System.out.println(map.get(\"apple\")); // 789 } } é‡å¤æ”¾å…¥key-valueå¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯ä¸€ä¸ªkeyåªèƒ½å…³è”ä¸€ä¸ªvalueã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸€å¼€å§‹æˆ‘ä»¬æŠŠkeyå¯¹è±¡\"apple\"æ˜ å°„åˆ°Integerå¯¹è±¡123ï¼Œç„¶åå†æ¬¡è°ƒç”¨put()æ–¹æ³•æŠŠ\"apple\"æ˜ å°„åˆ°789ï¼Œè¿™æ—¶ï¼ŒåŸæ¥å…³è”çš„valueå¯¹è±¡123å°±è¢«â€œå†²æ‰â€äº†ã€‚å®é™…ä¸Šï¼Œput()æ–¹æ³•çš„ç­¾åæ˜¯V put(K key, V value)ï¼Œå¦‚æœæ”¾å…¥çš„keyå·²ç»å­˜åœ¨ï¼Œput()æ–¹æ³•ä¼šè¿”å›è¢«åˆ é™¤çš„æ—§çš„valueï¼Œå¦åˆ™ï¼Œè¿”å›nullã€‚\nå§‹ç»ˆç‰¢è®°ï¼šMapä¸­ä¸å­˜åœ¨é‡å¤çš„keyï¼Œå› ä¸ºæ”¾å…¥ç›¸åŒçš„keyï¼Œåªä¼šæŠŠåŸæœ‰çš„key-valueå¯¹åº”çš„valueç»™æ›¿æ¢æ‰ã€‚\næ­¤å¤–ï¼Œåœ¨ä¸€ä¸ªMapä¸­ï¼Œè™½ç„¶keyä¸èƒ½é‡å¤ï¼Œä½†valueæ˜¯å¯ä»¥é‡å¤çš„ï¼š\n1 2 3 Map map = new HashMap\u003c\u003e(); map.put(\"apple\", 123); map.put(\"pear\", 123); // ok éå†Map å¯¹Mapæ¥è¯´ï¼Œè¦éå†keyå¯ä»¥ä½¿ç”¨for eachå¾ªç¯éå†ã€‚ Mapå®ä¾‹çš„keySet()æ–¹æ³•è¿”å›çš„Seté›†åˆï¼Œå®ƒåŒ…å«ä¸é‡å¤çš„keyçš„é›†åˆï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 public class Main { public static void main(String[] args) { Map map = new HashMap\u003c\u003e(); map.put(\"apple\", 123); map.put(\"pear\", 456); map.put(\"banana\", 789); for (String key : map.keySet()) { Integer value = map.get(key); System.out.println(key + \" = \" + value); } } } åŒæ—¶éå†keyå’Œvalueå¯ä»¥ä½¿ç”¨for eachå¾ªç¯éå†Mapå¯¹è±¡çš„entrySet()é›†åˆï¼Œå®ƒåŒ…å«æ¯ä¸€ä¸ªkey-valueæ˜ å°„ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Main { public static void main(String[] args) { Map map = new HashMap\u003c\u003e(); map.put(\"apple\", 123); map.put(\"pear\", 456); map.put(\"banana\", 789); for (Map.Entry entry : map.entrySet()) { String key = entry.getKey(); Integer value = entry.getValue(); System.out.println(key + \" = \" + value); } } } Mapå’ŒListä¸åŒçš„æ˜¯ï¼ŒMapå­˜å‚¨çš„æ˜¯key-valueçš„æ˜ å°„å…³ç³»ï¼Œå¹¶ä¸”ï¼Œå®ƒä¸ä¿è¯é¡ºåºã€‚åœ¨éå†çš„æ—¶å€™ï¼Œéå†çš„é¡ºåºæ—¢ä¸ä¸€å®šæ˜¯put()æ—¶æ”¾å…¥çš„keyçš„é¡ºåºï¼Œä¹Ÿä¸ä¸€å®šæ˜¯keyçš„æ’åºé¡ºåºã€‚ä½¿ç”¨Mapæ—¶ï¼Œä»»ä½•ä¾èµ–é¡ºåºçš„é€»è¾‘éƒ½æ˜¯ä¸å¯é çš„ã€‚ä»¥HashMapä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æ”¾å…¥\"A\"ï¼Œ\"B\"ï¼Œ\"C\"è¿™3ä¸ªkeyï¼Œéå†çš„æ—¶å€™ï¼Œæ¯ä¸ªkeyä¼šä¿è¯è¢«éå†ä¸€æ¬¡ä¸”ä»…éå†ä¸€æ¬¡ï¼Œä½†é¡ºåºå®Œå…¨æ²¡æœ‰ä¿è¯ï¼Œç”šè‡³å¯¹äºä¸åŒçš„JDKç‰ˆæœ¬ï¼Œç›¸åŒçš„ä»£ç éå†çš„è¾“å‡ºé¡ºåºéƒ½æ˜¯ä¸åŒçš„ï¼\nç¼–å†™equalså’ŒhashCode æˆ‘ä»¬çŸ¥é“Mapæ˜¯ä¸€ç§é”®-å€¼ï¼ˆkey-valueï¼‰æ˜ å°„è¡¨ï¼Œå¯ä»¥é€šè¿‡keyå¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„valueã€‚\nä»¥HashMapä¸ºä¾‹ï¼Œè§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼š\n1 2 3 4 5 6 7 Map map = new HashMap\u003c\u003e(); map.put(\"a\", new Person(\"Xiao Ming\")); map.put(\"b\", new Person(\"Xiao Hong\")); map.put(\"c\", new Person(\"Xiao Jun\")); map.get(\"a\"); // Person(\"Xiao Ming\") map.get(\"x\"); // null HashMapä¹‹æ‰€ä»¥èƒ½æ ¹æ®keyç›´æ¥æ‹¿åˆ°valueï¼ŒåŸå› æ˜¯å®ƒå†…éƒ¨é€šè¿‡ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå¤§æ•°ç»„å­˜å‚¨æ‰€æœ‰valueï¼Œå¹¶æ ¹æ®keyç›´æ¥è®¡ç®—å‡ºvalueåº”è¯¥å­˜å‚¨åœ¨å“ªä¸ªç´¢å¼•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â”Œâ”€â”€â”€â” 0 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 1 â”‚ â—â”€â”¼â”€â”€â”€\u003e Person(\"Xiao Ming\") â”œâ”€â”€â”€â”¤ 2 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 3 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 4 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 5 â”‚ â—â”€â”¼â”€â”€â”€\u003e Person(\"Xiao Hong\") â”œâ”€â”€â”€â”¤ 6 â”‚ â—â”€â”¼â”€â”€â”€\u003e Person(\"Xiao Jun\") â”œâ”€â”€â”€â”¤ 7 â”‚ â”‚ â””â”€â”€â”€â”˜ å¦‚æœkeyçš„å€¼ä¸º\"a\"ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯1ï¼Œå› æ­¤è¿”å›valueä¸ºPerson(\"Xiao Ming\")ï¼Œå¦‚æœkeyçš„å€¼ä¸º\"b\"ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯5ï¼Œå› æ­¤è¿”å›valueä¸ºPerson(\"Xiao Hong\")ï¼Œè¿™æ ·ï¼Œå°±ä¸å¿…éå†æ•´ä¸ªæ•°ç»„ï¼Œå³å¯ç›´æ¥è¯»å–keyå¯¹åº”çš„valueã€‚\nå½“æˆ‘ä»¬ä½¿ç”¨keyå­˜å–valueçš„æ—¶å€™ï¼Œå°±ä¼šå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼š\næˆ‘ä»¬æ”¾å…¥Mapçš„keyæ˜¯å­—ç¬¦ä¸²\"a\"ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬è·å–Mapçš„valueæ—¶ï¼Œä¼ å…¥çš„å˜é‡ä¸ä¸€å®šå°±æ˜¯æ”¾å…¥çš„é‚£ä¸ªkeyå¯¹è±¡ã€‚\næ¢å¥è¯è®²ï¼Œä¸¤ä¸ªkeyåº”è¯¥æ˜¯å†…å®¹ç›¸åŒï¼Œä½†ä¸ä¸€å®šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Main { public static void main(String[] args) { String key1 = \"a\"; Map map = new HashMap\u003c\u003e(); map.put(key1, 123); String key2 = new String(\"a\"); map.get(key2); // 123 System.out.println(key1 == key2); // false System.out.println(key1.equals(key2)); // true } } å› ä¸ºåœ¨Mapçš„å†…éƒ¨ï¼Œå¯¹keyåšæ¯”è¾ƒæ˜¯é€šè¿‡equals()å®ç°çš„ï¼Œè¿™ä¸€ç‚¹å’ŒListæŸ¥æ‰¾å…ƒç´ éœ€è¦æ­£ç¡®è¦†å†™equals()æ˜¯ä¸€æ ·çš„ï¼Œå³æ­£ç¡®ä½¿ç”¨Mapå¿…é¡»ä¿è¯ï¼šä½œä¸ºkeyçš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™equals()æ–¹æ³•ã€‚\næˆ‘ä»¬ç»å¸¸ä½¿ç”¨Stringä½œä¸ºkeyï¼Œå› ä¸ºStringå·²ç»æ­£ç¡®è¦†å†™äº†equals()æ–¹æ³•ã€‚ä½†å¦‚æœæˆ‘ä»¬æ”¾å…¥çš„keyæ˜¯ä¸€ä¸ªè‡ªå·±å†™çš„ç±»ï¼Œå°±å¿…é¡»ä¿è¯æ­£ç¡®è¦†å†™äº†equals()æ–¹æ³•ã€‚\næˆ‘ä»¬å†æ€è€ƒä¸€ä¸‹HashMapä¸ºä»€ä¹ˆèƒ½é€šè¿‡keyç›´æ¥è®¡ç®—å‡ºvalueå­˜å‚¨çš„ç´¢å¼•ã€‚ç›¸åŒçš„keyå¯¹è±¡ï¼ˆä½¿ç”¨equals()åˆ¤æ–­æ—¶è¿”å›trueï¼‰å¿…é¡»è¦è®¡ç®—å‡ºç›¸åŒçš„ç´¢å¼•ï¼Œå¦åˆ™ï¼Œç›¸åŒçš„keyæ¯æ¬¡å–å‡ºçš„valueå°±ä¸ä¸€å®šå¯¹ã€‚\né€šè¿‡keyè®¡ç®—ç´¢å¼•çš„æ–¹å¼å°±æ˜¯è°ƒç”¨keyå¯¹è±¡çš„hashCode()æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚HashMapæ­£æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•ç›´æ¥å®šä½keyå¯¹åº”çš„valueçš„ç´¢å¼•ï¼Œç»§è€Œç›´æ¥è¿”å›valueã€‚\nå› æ­¤ï¼Œæ­£ç¡®ä½¿ç”¨Mapå¿…é¡»ä¿è¯ï¼š\nä½œä¸ºkeyçš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™equals()æ–¹æ³•ï¼Œç›¸ç­‰çš„ä¸¤ä¸ªkeyå®ä¾‹è°ƒç”¨equals()å¿…é¡»è¿”å›trueï¼› ä½œä¸ºkeyçš„å¯¹è±¡è¿˜å¿…é¡»æ­£ç¡®è¦†å†™hashCode()æ–¹æ³•ï¼Œä¸”hashCode()æ–¹æ³•è¦ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„èŒƒï¼š å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()å¿…é¡»ç›¸ç­‰ï¼› å¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()å°½é‡ä¸è¦ç›¸ç­‰ã€‚ å³å¯¹åº”ä¸¤ä¸ªå®ä¾‹aå’Œbï¼š\nå¦‚æœaå’Œbç›¸ç­‰ï¼Œé‚£ä¹ˆa.equals(b)ä¸€å®šä¸ºtrueï¼Œåˆ™a.hashCode()å¿…é¡»ç­‰äºb.hashCode()ï¼› å¦‚æœaå’Œbä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆa.equals(b)ä¸€å®šä¸ºfalseï¼Œåˆ™a.hashCode()å’Œb.hashCode()å°½é‡ä¸è¦ç›¸ç­‰ã€‚ ä¸Šè¿°ç¬¬ä¸€æ¡è§„èŒƒæ˜¯æ­£ç¡®æ€§ï¼Œå¿…é¡»ä¿è¯å®ç°ï¼Œå¦åˆ™HashMapä¸èƒ½æ­£å¸¸å·¥ä½œã€‚\nè€Œç¬¬äºŒæ¡å¦‚æœå°½é‡æ»¡è¶³ï¼Œåˆ™å¯ä»¥ä¿è¯æŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºä¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœè¿”å›ç›¸åŒçš„hashCode()ï¼Œä¼šé€ æˆMapå†…éƒ¨å­˜å‚¨å†²çªï¼Œä½¿å­˜å–çš„æ•ˆç‡ä¸‹é™ã€‚\næ­£ç¡®ç¼–å†™equals()çš„æ–¹æ³•æˆ‘ä»¬å·²ç»åœ¨ç¼–å†™equalsæ–¹æ³•ä¸€èŠ‚ä¸­è®²è¿‡äº†ï¼Œä»¥Personç±»ä¸ºä¾‹ï¼š\n1 2 3 4 5 public class Person { String firstName; String lastName; int age; } æŠŠéœ€è¦æ¯”è¾ƒçš„å­—æ®µæ‰¾å‡ºæ¥ï¼š\nfirstName lastName age ç„¶åï¼Œå¼•ç”¨ç±»å‹ä½¿ç”¨Objects.equals()æ¯”è¾ƒï¼ŒåŸºæœ¬ç±»å‹ä½¿ç”¨==æ¯”è¾ƒã€‚\nåœ¨æ­£ç¡®å®ç°equals()çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ­£ç¡®å®ç°hashCode()ï¼Œå³ä¸Šè¿°3ä¸ªå­—æ®µåˆ†åˆ«ç›¸åŒçš„å®ä¾‹ï¼ŒhashCode()è¿”å›çš„intå¿…é¡»ç›¸åŒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class Person { String firstName; String lastName; int age; @Override int hashCode() { int h = 0; h = 31 * h + firstName.hashCode(); h = 31 * h + lastName.hashCode(); h = 31 * h + age; return h; } } æ³¨æ„åˆ°Stringç±»å·²ç»æ­£ç¡®å®ç°äº†hashCode()æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—Personçš„hashCode()æ—¶ï¼Œåå¤ä½¿ç”¨31*hï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å°½é‡æŠŠä¸åŒçš„Personå®ä¾‹çš„hashCode()å‡åŒ€åˆ†å¸ƒåˆ°æ•´ä¸ªintèŒƒå›´ã€‚\nå’Œå®ç°equals()æ–¹æ³•é‡åˆ°çš„é—®é¢˜ç±»ä¼¼ï¼Œå¦‚æœfirstNameæˆ–lastNameä¸ºnullï¼Œä¸Šè¿°ä»£ç å·¥ä½œèµ·æ¥å°±ä¼šæŠ›NullPointerExceptionã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—hashCode()çš„æ—¶å€™ï¼Œç»å¸¸å€ŸåŠ©Objects.hash()æ¥è®¡ç®—ï¼š\n1 2 3 int hashCode() { return Objects.hash(firstName, lastName, age); } æ‰€ä»¥ï¼Œç¼–å†™equals()å’ŒhashCode()éµå¾ªçš„åŸåˆ™æ˜¯ï¼š\nequals()ç”¨åˆ°çš„ç”¨äºæ¯”è¾ƒçš„æ¯ä¸€ä¸ªå­—æ®µï¼Œéƒ½å¿…é¡»åœ¨hashCode()ä¸­ç”¨äºè®¡ç®—ï¼›equals()ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°çš„å­—æ®µï¼Œç»ä¸å¯æ”¾åœ¨hashCode()ä¸­è®¡ç®—ã€‚\nå¦å¤–æ³¨æ„ï¼Œå¯¹äºæ”¾å…¥HashMapçš„valueå¯¹è±¡ï¼Œæ²¡æœ‰ä»»ä½•è¦æ±‚ã€‚\nå»¶ä¼¸é˜…è¯» æ—¢ç„¶HashMapå†…éƒ¨ä½¿ç”¨äº†æ•°ç»„ï¼Œé€šè¿‡è®¡ç®—keyçš„hashCode()ç›´æ¥å®šä½valueæ‰€åœ¨çš„ç´¢å¼•ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼šhashCode()è¿”å›çš„intèŒƒå›´é«˜è¾¾Â±21äº¿ï¼Œå…ˆä¸è€ƒè™‘è´Ÿæ•°ï¼ŒHashMapå†…éƒ¨ä½¿ç”¨çš„æ•°ç»„å¾—æœ‰å¤šå¤§ï¼Ÿ\nå®é™…ä¸ŠHashMapåˆå§‹åŒ–æ—¶é»˜è®¤çš„æ•°ç»„å¤§å°åªæœ‰16ï¼Œä»»ä½•keyï¼Œæ— è®ºå®ƒçš„hashCode()æœ‰å¤šå¤§ï¼Œéƒ½å¯ä»¥ç®€å•åœ°é€šè¿‡ï¼š\n1 int index = key.hashCode() \u0026 0xf; // 0xf = 15 æŠŠç´¢å¼•ç¡®å®šåœ¨0ï½15ï¼Œå³æ°¸è¿œä¸ä¼šè¶…å‡ºæ•°ç»„èŒƒå›´ï¼Œä¸Šè¿°ç®—æ³•åªæ˜¯ä¸€ç§æœ€ç®€å•çš„å®ç°ã€‚\nç¬¬äºŒä¸ªé—®é¢˜ï¼šå¦‚æœæ·»åŠ è¶…è¿‡16ä¸ªkey-valueåˆ°HashMapï¼Œæ•°ç»„ä¸å¤Ÿç”¨äº†æ€ä¹ˆåŠï¼Ÿ\næ·»åŠ è¶…è¿‡ä¸€å®šæ•°é‡çš„key-valueæ—¶ï¼ŒHashMapä¼šåœ¨å†…éƒ¨è‡ªåŠ¨æ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹ä¸€å€ï¼Œå³é•¿åº¦ä¸º16çš„æ•°ç»„æ‰©å±•ä¸ºé•¿åº¦32ï¼Œç›¸åº”åœ°ï¼Œéœ€è¦é‡æ–°ç¡®å®šhashCode()è®¡ç®—çš„ç´¢å¼•ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¯¹é•¿åº¦ä¸º32çš„æ•°ç»„è®¡ç®—hashCode()å¯¹åº”çš„ç´¢å¼•ï¼Œè®¡ç®—æ–¹å¼è¦æ”¹ä¸ºï¼š\n1 int index = key.hashCode() \u0026 0x1f; // 0x1f = 31 ç”±äºæ‰©å®¹ä¼šå¯¼è‡´é‡æ–°åˆ†å¸ƒå·²æœ‰çš„key-valueï¼Œæ‰€ä»¥ï¼Œé¢‘ç¹æ‰©å®¹å¯¹HashMapçš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®šè¦ä½¿ç”¨ä¸€ä¸ªå®¹é‡ä¸º10000ä¸ªkey-valueçš„HashMapï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯åˆ›å»ºHashMapæ—¶å°±æŒ‡å®šå®¹é‡ï¼š\n1 Map map = new HashMap\u003c\u003e(10000); è™½ç„¶æŒ‡å®šå®¹é‡æ˜¯10000ï¼Œä½†HashMapå†…éƒ¨çš„æ•°ç»„é•¿åº¦æ€»æ˜¯2çš„Næ¬¡æ–¹ï¼Œå› æ­¤ï¼Œå®é™…æ•°ç»„é•¿åº¦è¢«åˆå§‹åŒ–ä¸ºæ¯”10000å¤§çš„16384ï¼ˆ2çš„14æ¬¡æ–¹ï¼‰ã€‚\næœ€åä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä¸åŒçš„ä¸¤ä¸ªkeyï¼Œä¾‹å¦‚\"a\"å’Œ\"b\"ï¼Œå®ƒä»¬çš„hashCode()æ°å¥½æ˜¯ç›¸åŒçš„ï¼ˆè¿™ç§æƒ…å†µæ˜¯å®Œå…¨å¯èƒ½çš„ï¼Œå› ä¸ºä¸ç›¸ç­‰çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåªè¦æ±‚hashCode()å°½é‡ä¸ç›¸ç­‰ï¼‰ï¼Œé‚£ä¹ˆï¼Œå½“æˆ‘ä»¬æ”¾å…¥ï¼š\n1 2 map.put(\"a\", new Person(\"Xiao Ming\")); map.put(\"b\", new Person(\"Xiao Hong\")); æ—¶ï¼Œç”±äºè®¡ç®—å‡ºçš„æ•°ç»„ç´¢å¼•ç›¸åŒï¼Œåé¢æ”¾å…¥çš„\"Xiao Hong\"ä¼šä¸ä¼šæŠŠ\"Xiao Ming\"è¦†ç›–äº†ï¼Ÿ\nå½“ç„¶ä¸ä¼šï¼ä½¿ç”¨Mapçš„æ—¶å€™ï¼Œåªè¦keyä¸ç›¸åŒï¼Œå®ƒä»¬æ˜ å°„çš„valueå°±äº’ä¸å¹²æ‰°ã€‚ä½†æ˜¯ï¼Œåœ¨HashMapå†…éƒ¨ï¼Œç¡®å®å¯èƒ½å­˜åœ¨ä¸åŒçš„keyï¼Œæ˜ å°„åˆ°ç›¸åŒçš„hashCode()ï¼Œå³ç›¸åŒçš„æ•°ç»„ç´¢å¼•ä¸Šï¼Œè‚¿ä¹ˆåŠï¼Ÿ\næˆ‘ä»¬å°±å‡è®¾\"a\"å’Œ\"b\"è¿™ä¸¤ä¸ªkeyæœ€ç»ˆè®¡ç®—å‡ºçš„ç´¢å¼•éƒ½æ˜¯5ï¼Œé‚£ä¹ˆï¼Œåœ¨HashMapçš„æ•°ç»„ä¸­ï¼Œå®é™…å­˜å‚¨çš„ä¸æ˜¯ä¸€ä¸ªPersonå®ä¾‹ï¼Œè€Œæ˜¯ä¸€ä¸ªListï¼Œå®ƒåŒ…å«ä¸¤ä¸ªEntryï¼Œä¸€ä¸ªæ˜¯\"a\"çš„æ˜ å°„ï¼Œä¸€ä¸ªæ˜¯\"b\"çš„æ˜ å°„ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 â”Œâ”€â”€â”€â” 0 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 1 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 2 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 3 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 4 â”‚ â”‚ â”œâ”€â”€â”€â”¤ 5 â”‚ â—â”€â”¼â”€â”€â”€\u003e List",
  "wordCount" : "19775",
  "inLanguage": "en",
  "datePublished": "2017-12-20T13:46:07Z",
  "dateModified": "2017-12-20T13:46:07Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://funny-toffee-4aa7c3.netlify.app/posts/%E9%9B%86%E5%90%88/map/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://funny-toffee-4aa7c3.netlify.app/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://funny-toffee-4aa7c3.netlify.app/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://funny-toffee-4aa7c3.netlify.app/links" title="ğŸ¤å‹é“¾">
                    <span>ğŸ¤å‹é“¾</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://funny-toffee-4aa7c3.netlify.app/">Home</a>&nbsp;Â»&nbsp;<a href="https://funny-toffee-4aa7c3.netlify.app/posts/">Posts</a></div>
    <h1 class="post-title">
      Map
    </h1>
    <div class="post-meta"><span title='2017-12-20 13:46:07 +0000 UTC'>2017-12-20</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e6%a6%82%e8%bf%b0" aria-label="æ¦‚è¿°">æ¦‚è¿°</a><ul>
                        
                <li>
                    <a href="#%e9%81%8d%e5%8e%86map" aria-label="éå†Map">éå†Map</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bc%96%e5%86%99equals%e5%92%8chashcode" aria-label="ç¼–å†™equalså’ŒhashCode">ç¼–å†™equalså’ŒhashCode</a><ul>
                        
                <li>
                    <a href="#%e5%bb%b6%e4%bc%b8%e9%98%85%e8%af%bb" aria-label="å»¶ä¼¸é˜…è¯»">å»¶ä¼¸é˜…è¯»</a><ul>
                        
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93" aria-label="å°ç»“">å°ç»“</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#enummap" aria-label="EnumMap">EnumMap</a><ul>
                        
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93-1" aria-label="å°ç»“">å°ç»“</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8properties" aria-label="ä½¿ç”¨Properties">ä½¿ç”¨Properties</a><ul>
                        
                <li>
                    <a href="#%e8%af%bb%e5%8f%96%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="è¯»å–é…ç½®æ–‡ä»¶">è¯»å–é…ç½®æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e5%86%99%e5%85%a5%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="å†™å…¥é…ç½®æ–‡ä»¶">å†™å…¥é…ç½®æ–‡ä»¶</a></li>
                <li>
                    <a href="#%e7%bc%96%e7%a0%81" aria-label="ç¼–ç ">ç¼–ç </a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93-2" aria-label="å°ç»“">å°ç»“</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%80%bb%e8%a7%88" aria-label="æ€»è§ˆ">æ€»è§ˆ</a></li>
                <li>
                    <a href="#map%e5%ae%9a%e4%b9%89" aria-label="Mapå®šä¹‰">Mapå®šä¹‰</a></li>
                <li>
                    <a href="#map%e7%9a%84api" aria-label="Mapçš„API">Mapçš„API</a></li>
                <li>
                    <a href="#mapentry" aria-label="Map.Entry">Map.Entry</a></li>
                <li>
                    <a href="#abstractmap" aria-label="AbstractMap">AbstractMap</a></li>
                <li>
                    <a href="#sortedmap" aria-label="SortedMap">SortedMap</a></li>
                <li>
                    <a href="#navigablemap" aria-label="NavigableMap">NavigableMap</a></li>
                <li>
                    <a href="#dictionary" aria-label="Dictionary">Dictionary</a></li>
                <li>
                    <a href="#map%e6%a6%82%e6%8b%ac" aria-label="Mapæ¦‚æ‹¬">Mapæ¦‚æ‹¬</a></li>
                <li>
                    <a href="#hashmap%e5%92%8chashtable%e5%bc%82%e5%90%8c" aria-label="HashMapå’ŒHashtableå¼‚åŒ">HashMapå’ŒHashtableå¼‚åŒ</a><ul>
                        
                <li>
                    <a href="#hashmap%e5%92%8chashtable%e7%9a%84%e7%9b%b8%e5%90%8c%e7%82%b9" aria-label="HashMapå’ŒHashtableçš„ç›¸åŒç‚¹">HashMapå’ŒHashtableçš„ç›¸åŒç‚¹</a></li>
                <li>
                    <a href="#hashmap%e5%92%8chashtable%e7%9a%84%e4%b8%8d%e5%90%8c%e7%82%b9" aria-label="HashMapå’ŒHashtableçš„ä¸åŒç‚¹">HashMapå’ŒHashtableçš„ä¸åŒç‚¹</a></li></ul>
                </li>
                <li>
                    <a href="#hashmap%e5%92%8cweakhashmap%e5%bc%82%e5%90%8c" aria-label="HashMapå’ŒWeakHashMapå¼‚åŒ">HashMapå’ŒWeakHashMapå¼‚åŒ</a><ul>
                        
                <li>
                    <a href="#hashmap%e5%92%8cweakhashmap%e7%9a%84%e7%9b%b8%e5%90%8c%e7%82%b9" aria-label="HashMapå’ŒWeakHashMapçš„ç›¸åŒç‚¹">HashMapå’ŒWeakHashMapçš„ç›¸åŒç‚¹</a></li>
                <li>
                    <a href="#hashmap%e5%92%8cweakhashmap%e7%9a%84%e4%b8%8d%e5%90%8c%e7%82%b9" aria-label="HashMapå’ŒWeakHashMapçš„ä¸åŒç‚¹">HashMapå’ŒWeakHashMapçš„ä¸åŒç‚¹</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%ae%b0%e4%b8%80%e6%ac%a1map%e7%9a%84%e4%bd%bf%e7%94%a8" aria-label="è®°ä¸€æ¬¡mapçš„ä½¿ç”¨">è®°ä¸€æ¬¡mapçš„ä½¿ç”¨</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="æ¦‚è¿°">æ¦‚è¿°<a hidden class="anchor" aria-hidden="true" href="#æ¦‚è¿°">#</a></h1>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œ<code>List</code>æ˜¯ä¸€ç§é¡ºåºåˆ—è¡¨ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå­˜å‚¨å­¦ç”Ÿ<code>Student</code>å®ä¾‹çš„<code>List</code>ï¼Œè¦åœ¨<code>List</code>ä¸­æ ¹æ®<code>name</code>æŸ¥æ‰¾æŸä¸ªæŒ‡å®šçš„<code>Student</code>çš„åˆ†æ•°ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯éå†<code>List</code>å¹¶åˆ¤æ–­<code>name</code>æ˜¯å¦ç›¸ç­‰ï¼Œç„¶åè¿”å›æŒ‡å®šå…ƒç´ ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Student&gt; list = ...
</span></span><span style="display:flex;"><span>Student target = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> (Student s : list) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>.<span style="color:#007f7f">equals</span>(s.<span style="color:#007f7f">name</span>)) {
</span></span><span style="display:flex;"><span>        target = s;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(target.<span style="color:#007f7f">score</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¿™ç§éœ€æ±‚å…¶å®éå¸¸å¸¸è§ï¼Œå³é€šè¿‡ä¸€ä¸ªé”®å»æŸ¥è¯¢å¯¹åº”çš„å€¼ã€‚ä½¿ç”¨<code>List</code>æ¥å®ç°å­˜åœ¨æ•ˆç‡éå¸¸ä½çš„é—®é¢˜ï¼Œå› ä¸ºå¹³å‡éœ€è¦æ‰«æä¸€åŠçš„å…ƒç´ æ‰èƒ½ç¡®å®šï¼Œè€Œ<code>Map</code>è¿™ç§é”®å€¼ï¼ˆkey-valueï¼‰æ˜ å°„è¡¨çš„æ•°æ®ç»“æ„ï¼Œä½œç”¨å°±æ˜¯èƒ½é«˜æ•ˆé€šè¿‡<code>key</code>å¿«é€ŸæŸ¥æ‰¾<code>value</code>ï¼ˆå…ƒç´ ï¼‰ã€‚</p>
<p>ç”¨<code>Map</code>æ¥å®ç°æ ¹æ®<code>name</code>æŸ¥è¯¢æŸä¸ª<code>Student</code>çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Student s = <span style="color:#fff;font-weight:bold">new</span> Student(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>, <span style="color:#ff0;font-weight:bold">99</span>);
</span></span><span style="display:flex;"><span>        Map&lt;String, Student&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>, s); <span style="color:#007f7f">// å°†&#34;Xiao Ming&#34;å’ŒStudentå®ä¾‹æ˜ å°„å¹¶å…³è”
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Student target = map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>); <span style="color:#007f7f">// é€šè¿‡keyæŸ¥æ‰¾å¹¶è¿”å›æ˜ å°„çš„Studentå®ä¾‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(target == s); <span style="color:#007f7f">// trueï¼ŒåŒä¸€ä¸ªå®ä¾‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(target.<span style="color:#007f7f">score</span>); <span style="color:#007f7f">// 99
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        Student another = map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>); <span style="color:#007f7f">// é€šè¿‡å¦ä¸€ä¸ªkeyæŸ¥æ‰¾
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(another); <span style="color:#007f7f">// æœªæ‰¾åˆ°è¿”å›null
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Student {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> score;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Student(String name, <span style="color:#fff;font-weight:bold">int</span> score) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">name</span> = name;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">score</span> = score;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é€šè¿‡ä¸Šè¿°ä»£ç å¯çŸ¥ï¼š<code>Map&lt;K, V&gt;</code>æ˜¯ä¸€ç§é”®-å€¼æ˜ å°„è¡¨ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>put(K key, V value)</code>æ–¹æ³•æ—¶ï¼Œå°±æŠŠ<code>key</code>å’Œ<code>value</code>åšäº†æ˜ å°„å¹¶æ”¾å…¥<code>Map</code>ã€‚å½“æˆ‘ä»¬è°ƒç”¨<code>V get(K key)</code>æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡<code>key</code>è·å–åˆ°å¯¹åº”çš„<code>value</code>ã€‚å¦‚æœ<code>key</code>ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›<code>null</code>ã€‚å’Œ<code>List</code>ç±»ä¼¼ï¼Œ<code>Map</code>ä¹Ÿæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ€å¸¸ç”¨çš„å®ç°ç±»æ˜¯<code>HashMap</code>ã€‚</p>
<p>å¦‚æœåªæ˜¯æƒ³æŸ¥è¯¢æŸä¸ª<code>key</code>æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥è°ƒç”¨<code>boolean containsKey(K key)</code>æ–¹æ³•ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åœ¨å­˜å‚¨<code>Map</code>æ˜ å°„å…³ç³»çš„æ—¶å€™ï¼Œå¯¹åŒä¸€ä¸ªkeyè°ƒç”¨ä¸¤æ¬¡<code>put()</code>æ–¹æ³•ï¼Œåˆ†åˆ«æ”¾å…¥ä¸åŒçš„<code>value</code>ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>)); <span style="color:#007f7f">// 123
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#ff0;font-weight:bold">789</span>); <span style="color:#007f7f">// å†æ¬¡æ”¾å…¥appleä½œä¸ºkeyï¼Œä½†valueå˜ä¸º789
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>)); <span style="color:#007f7f">// 789
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>é‡å¤æ”¾å…¥<code>key-value</code>å¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯ä¸€ä¸ª<code>key</code>åªèƒ½å…³è”ä¸€ä¸ª<code>value</code>ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸€å¼€å§‹æˆ‘ä»¬æŠŠ<code>key</code>å¯¹è±¡<code>&quot;apple&quot;</code>æ˜ å°„åˆ°<code>Integer</code>å¯¹è±¡<code>123</code>ï¼Œç„¶åå†æ¬¡è°ƒç”¨<code>put()</code>æ–¹æ³•æŠŠ<code>&quot;apple&quot;</code>æ˜ å°„åˆ°<code>789</code>ï¼Œè¿™æ—¶ï¼ŒåŸæ¥å…³è”çš„<code>value</code>å¯¹è±¡<code>123</code>å°±è¢«â€œå†²æ‰â€äº†ã€‚å®é™…ä¸Šï¼Œ<code>put()</code>æ–¹æ³•çš„ç­¾åæ˜¯<code>V put(K key, V value)</code>ï¼Œå¦‚æœæ”¾å…¥çš„<code>key</code>å·²ç»å­˜åœ¨ï¼Œ<code>put()</code>æ–¹æ³•ä¼šè¿”å›è¢«åˆ é™¤çš„æ—§çš„<code>value</code>ï¼Œå¦åˆ™ï¼Œè¿”å›<code>null</code>ã€‚</p>
<p>å§‹ç»ˆç‰¢è®°ï¼šMapä¸­ä¸å­˜åœ¨é‡å¤çš„keyï¼Œå› ä¸ºæ”¾å…¥ç›¸åŒçš„keyï¼Œåªä¼šæŠŠåŸæœ‰çš„key-valueå¯¹åº”çš„valueç»™æ›¿æ¢æ‰ã€‚</p>
<p>æ­¤å¤–ï¼Œåœ¨ä¸€ä¸ª<code>Map</code>ä¸­ï¼Œè™½ç„¶<code>key</code>ä¸èƒ½é‡å¤ï¼Œä½†<code>value</code>æ˜¯å¯ä»¥é‡å¤çš„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>); <span style="color:#007f7f">// ok
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="éå†map">éå†Map<a hidden class="anchor" aria-hidden="true" href="#éå†map">#</a></h2>
<p>å¯¹<code>Map</code>æ¥è¯´ï¼Œè¦éå†<code>key</code>å¯ä»¥ä½¿ç”¨<code>for each</code>å¾ªç¯éå†ã€‚
<code>Map</code>å®ä¾‹çš„<code>keySet()</code>æ–¹æ³•è¿”å›çš„<code>Set</code>é›†åˆï¼Œå®ƒåŒ…å«ä¸é‡å¤çš„<code>key</code>çš„é›†åˆï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#ff0;font-weight:bold">789</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (String key : map.<span style="color:#007f7f">keySet</span>()) {
</span></span><span style="display:flex;"><span>            Integer value = map.<span style="color:#007f7f">get</span>(key);
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(key + <span style="color:#0ff;font-weight:bold">&#34; = &#34;</span> + value);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>åŒæ—¶éå†<code>key</code>å’Œ<code>value</code>å¯ä»¥ä½¿ç”¨<code>for each</code>å¾ªç¯éå†<code>Map</code>å¯¹è±¡çš„<code>entrySet()</code>é›†åˆï¼Œå®ƒåŒ…å«æ¯ä¸€ä¸ª<code>key-value</code>æ˜ å°„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;pear&#34;</span>, <span style="color:#ff0;font-weight:bold">456</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#ff0;font-weight:bold">789</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (Map.<span style="color:#007f7f">Entry</span>&lt;String, Integer&gt; entry : map.<span style="color:#007f7f">entrySet</span>()) {
</span></span><span style="display:flex;"><span>            String key = entry.<span style="color:#007f7f">getKey</span>();
</span></span><span style="display:flex;"><span>            Integer value = entry.<span style="color:#007f7f">getValue</span>();
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(key + <span style="color:#0ff;font-weight:bold">&#34; = &#34;</span> + value);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>Map</code>å’Œ<code>List</code>ä¸åŒçš„æ˜¯ï¼Œ<code>Map</code>å­˜å‚¨çš„æ˜¯<code>key-value</code>çš„æ˜ å°„å…³ç³»ï¼Œå¹¶ä¸”ï¼Œå®ƒ<em>ä¸ä¿è¯é¡ºåº</em>ã€‚åœ¨éå†çš„æ—¶å€™ï¼Œéå†çš„é¡ºåºæ—¢ä¸ä¸€å®šæ˜¯<code>put()</code>æ—¶æ”¾å…¥çš„<code>key</code>çš„é¡ºåºï¼Œä¹Ÿä¸ä¸€å®šæ˜¯<code>key</code>çš„æ’åºé¡ºåºã€‚ä½¿ç”¨<code>Map</code>æ—¶ï¼Œä»»ä½•ä¾èµ–é¡ºåºçš„é€»è¾‘éƒ½æ˜¯ä¸å¯é çš„ã€‚ä»¥<code>HashMap</code>ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬æ”¾å…¥<code>&quot;A&quot;</code>ï¼Œ<code>&quot;B&quot;</code>ï¼Œ<code>&quot;C&quot;</code>è¿™3ä¸ª<code>key</code>ï¼Œéå†çš„æ—¶å€™ï¼Œæ¯ä¸ª<code>key</code>ä¼šä¿è¯è¢«éå†ä¸€æ¬¡ä¸”ä»…éå†ä¸€æ¬¡ï¼Œä½†é¡ºåºå®Œå…¨æ²¡æœ‰ä¿è¯ï¼Œç”šè‡³å¯¹äºä¸åŒçš„JDKç‰ˆæœ¬ï¼Œç›¸åŒçš„ä»£ç éå†çš„è¾“å‡ºé¡ºåºéƒ½æ˜¯ä¸åŒçš„ï¼</p>
<h1 id="ç¼–å†™equalså’Œhashcode">ç¼–å†™equalså’ŒhashCode<a hidden class="anchor" aria-hidden="true" href="#ç¼–å†™equalså’Œhashcode">#</a></h1>
<p>æˆ‘ä»¬çŸ¥é“Mapæ˜¯ä¸€ç§é”®-å€¼ï¼ˆkey-valueï¼‰æ˜ å°„è¡¨ï¼Œå¯ä»¥é€šè¿‡keyå¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„valueã€‚</p>
<p>ä»¥HashMapä¸ºä¾‹ï¼Œè§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String, Person&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>));
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Hong&#34;</span>));
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Jun&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>); <span style="color:#007f7f">// Person(&#34;Xiao Ming&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;x&#34;</span>); <span style="color:#007f7f">// null
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><code>HashMap</code>ä¹‹æ‰€ä»¥èƒ½æ ¹æ®<code>key</code>ç›´æ¥æ‹¿åˆ°<code>value</code>ï¼ŒåŸå› æ˜¯å®ƒå†…éƒ¨é€šè¿‡ç©ºé—´æ¢æ—¶é—´çš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå¤§æ•°ç»„å­˜å‚¨æ‰€æœ‰<code>value</code>ï¼Œå¹¶æ ¹æ®keyç›´æ¥è®¡ç®—å‡º<code>value</code>åº”è¯¥å­˜å‚¨åœ¨å“ªä¸ªç´¢å¼•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>  â”Œâ”€â”€â”€â”
</span></span><span style="display:flex;"><span>0 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>1 â”‚ â—â”€â”¼â”€â”€â”€&gt; Person(&#34;Xiao Ming&#34;)
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>2 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>3 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>4 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>5 â”‚ â—â”€â”¼â”€â”€â”€&gt; Person(&#34;Xiao Hong&#34;)
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>6 â”‚ â—â”€â”¼â”€â”€â”€&gt; Person(&#34;Xiao Jun&#34;)
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>7 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â””â”€â”€â”€â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœ<code>key</code>çš„å€¼ä¸º<code>&quot;a&quot;</code>ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯<code>1</code>ï¼Œå› æ­¤è¿”å›<code>value</code>ä¸º<code>Person(&quot;Xiao Ming&quot;)</code>ï¼Œå¦‚æœ<code>key</code>çš„å€¼ä¸º<code>&quot;b&quot;</code>ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯<code>5</code>ï¼Œå› æ­¤è¿”å›<code>value</code>ä¸º<code>Person(&quot;Xiao Hong&quot;)</code>ï¼Œè¿™æ ·ï¼Œå°±ä¸å¿…éå†æ•´ä¸ªæ•°ç»„ï¼Œå³å¯ç›´æ¥è¯»å–<code>key</code>å¯¹åº”çš„<code>value</code>ã€‚</p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨<code>key</code>å­˜å–<code>value</code>çš„æ—¶å€™ï¼Œå°±ä¼šå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>æˆ‘ä»¬æ”¾å…¥<code>Map</code>çš„<code>key</code>æ˜¯å­—ç¬¦ä¸²<code>&quot;a&quot;</code>ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬è·å–<code>Map</code>çš„<code>value</code>æ—¶ï¼Œä¼ å…¥çš„å˜é‡ä¸ä¸€å®šå°±æ˜¯æ”¾å…¥çš„é‚£ä¸ª<code>key</code>å¯¹è±¡ã€‚</p>
<p>æ¢å¥è¯è®²ï¼Œä¸¤ä¸ª<code>key</code>åº”è¯¥æ˜¯å†…å®¹ç›¸åŒï¼Œä½†ä¸ä¸€å®šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        String key1 = <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>;
</span></span><span style="display:flex;"><span>        Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(key1, <span style="color:#ff0;font-weight:bold">123</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        String key2 = <span style="color:#fff;font-weight:bold">new</span> String(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">get</span>(key2); <span style="color:#007f7f">// 123
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(key1 == key2); <span style="color:#007f7f">// false
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(key1.<span style="color:#007f7f">equals</span>(key2)); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å› ä¸ºåœ¨<code>Map</code>çš„å†…éƒ¨ï¼Œå¯¹<code>key</code>åšæ¯”è¾ƒæ˜¯é€šè¿‡<code>equals()</code>å®ç°çš„ï¼Œè¿™ä¸€ç‚¹å’Œ<code>List</code>æŸ¥æ‰¾å…ƒç´ éœ€è¦æ­£ç¡®è¦†å†™<code>equals()</code>æ˜¯ä¸€æ ·çš„ï¼Œå³æ­£ç¡®ä½¿ç”¨<code>Map</code>å¿…é¡»ä¿è¯ï¼šä½œä¸º<code>key</code>çš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™<code>equals()</code>æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨<code>String</code>ä½œä¸º<code>key</code>ï¼Œå› ä¸º<code>String</code>å·²ç»æ­£ç¡®è¦†å†™äº†<code>equals()</code>æ–¹æ³•ã€‚ä½†å¦‚æœæˆ‘ä»¬æ”¾å…¥çš„<code>key</code>æ˜¯ä¸€ä¸ªè‡ªå·±å†™çš„ç±»ï¼Œå°±å¿…é¡»ä¿è¯æ­£ç¡®è¦†å†™äº†<code>equals()</code>æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬å†æ€è€ƒä¸€ä¸‹<code>HashMap</code>ä¸ºä»€ä¹ˆèƒ½é€šè¿‡<code>key</code>ç›´æ¥è®¡ç®—å‡º<code>value</code>å­˜å‚¨çš„ç´¢å¼•ã€‚ç›¸åŒçš„<code>key</code>å¯¹è±¡ï¼ˆä½¿ç”¨<code>equals()</code>åˆ¤æ–­æ—¶è¿”å›<code>true</code>ï¼‰å¿…é¡»è¦è®¡ç®—å‡ºç›¸åŒçš„ç´¢å¼•ï¼Œå¦åˆ™ï¼Œç›¸åŒçš„<code>key</code>æ¯æ¬¡å–å‡ºçš„<code>value</code>å°±ä¸ä¸€å®šå¯¹ã€‚</p>
<p>é€šè¿‡<code>key</code>è®¡ç®—ç´¢å¼•çš„æ–¹å¼å°±æ˜¯è°ƒç”¨<code>key</code>å¯¹è±¡çš„<code>hashCode()</code>æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ª<code>int</code>æ•´æ•°ã€‚<code>HashMap</code>æ­£æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•ç›´æ¥å®šä½<code>key</code>å¯¹åº”çš„<code>value</code>çš„ç´¢å¼•ï¼Œç»§è€Œç›´æ¥è¿”å›<code>value</code>ã€‚</p>
<p>å› æ­¤ï¼Œæ­£ç¡®ä½¿ç”¨<code>Map</code>å¿…é¡»ä¿è¯ï¼š</p>
<ol>
<li>ä½œä¸º<code>key</code>çš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™<code>equals()</code>æ–¹æ³•ï¼Œç›¸ç­‰çš„ä¸¤ä¸ª<code>key</code>å®ä¾‹è°ƒç”¨<code>equals()</code>å¿…é¡»è¿”å›<code>true</code>ï¼›</li>
<li>ä½œä¸º<code>key</code>çš„å¯¹è±¡è¿˜å¿…é¡»æ­£ç¡®è¦†å†™<code>hashCode()</code>æ–¹æ³•ï¼Œä¸”<code>hashCode()</code>æ–¹æ³•è¦ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„èŒƒï¼š</li>
</ol>
<ul>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode()</code>å¿…é¡»ç›¸ç­‰ï¼›</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode()</code>å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li>
</ul>
<p>å³å¯¹åº”ä¸¤ä¸ªå®ä¾‹<code>a</code>å’Œ<code>b</code>ï¼š</p>
<ul>
<li>å¦‚æœ<code>a</code>å’Œ<code>b</code>ç›¸ç­‰ï¼Œé‚£ä¹ˆ<code>a.equals(b)</code>ä¸€å®šä¸º<code>true</code>ï¼Œåˆ™<code>a.hashCode()</code>å¿…é¡»ç­‰äº<code>b.hashCode()</code>ï¼›</li>
<li>å¦‚æœ<code>a</code>å’Œ<code>b</code>ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆ<code>a.equals(b)</code>ä¸€å®šä¸º<code>false</code>ï¼Œåˆ™<code>a.hashCode()</code>å’Œ<code>b.hashCode()</code>å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li>
</ul>
<p>ä¸Šè¿°ç¬¬ä¸€æ¡è§„èŒƒæ˜¯æ­£ç¡®æ€§ï¼Œå¿…é¡»ä¿è¯å®ç°ï¼Œå¦åˆ™<code>HashMap</code>ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<p>è€Œç¬¬äºŒæ¡å¦‚æœå°½é‡æ»¡è¶³ï¼Œåˆ™å¯ä»¥ä¿è¯æŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºä¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœè¿”å›ç›¸åŒçš„<code>hashCode()</code>ï¼Œä¼šé€ æˆ<code>Map</code>å†…éƒ¨å­˜å‚¨å†²çªï¼Œä½¿å­˜å–çš„æ•ˆç‡ä¸‹é™ã€‚</p>
<p>æ­£ç¡®ç¼–å†™<code>equals()</code>çš„æ–¹æ³•æˆ‘ä»¬å·²ç»åœ¨<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1265116446975264">ç¼–å†™equalsæ–¹æ³•</a>ä¸€èŠ‚ä¸­è®²è¿‡äº†ï¼Œä»¥<code>Person</code>ç±»ä¸ºä¾‹ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    String firstName;
</span></span><span style="display:flex;"><span>    String lastName;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æŠŠéœ€è¦æ¯”è¾ƒçš„å­—æ®µæ‰¾å‡ºæ¥ï¼š</p>
<ul>
<li>firstName</li>
<li>lastName</li>
<li>age</li>
</ul>
<p>ç„¶åï¼Œå¼•ç”¨ç±»å‹ä½¿ç”¨<code>Objects.equals()</code>æ¯”è¾ƒï¼ŒåŸºæœ¬ç±»å‹ä½¿ç”¨<code>==</code>æ¯”è¾ƒã€‚</p>
<p>åœ¨æ­£ç¡®å®ç°<code>equals()</code>çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ­£ç¡®å®ç°<code>hashCode()</code>ï¼Œå³ä¸Šè¿°3ä¸ªå­—æ®µåˆ†åˆ«ç›¸åŒçš„å®ä¾‹ï¼Œ<code>hashCode()</code>è¿”å›çš„<code>int</code>å¿…é¡»ç›¸åŒï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Person {
</span></span><span style="display:flex;"><span>    String firstName;
</span></span><span style="display:flex;"><span>    String lastName;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> age;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> hashCode() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> h = <span style="color:#ff0;font-weight:bold">0</span>;
</span></span><span style="display:flex;"><span>        h = <span style="color:#ff0;font-weight:bold">31</span> * h + firstName.<span style="color:#007f7f">hashCode</span>();
</span></span><span style="display:flex;"><span>        h = <span style="color:#ff0;font-weight:bold">31</span> * h + lastName.<span style="color:#007f7f">hashCode</span>();
</span></span><span style="display:flex;"><span>        h = <span style="color:#ff0;font-weight:bold">31</span> * h + age;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> h;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„åˆ°<code>String</code>ç±»å·²ç»æ­£ç¡®å®ç°äº†<code>hashCode()</code>æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—<code>Person</code>çš„<code>hashCode()</code>æ—¶ï¼Œåå¤ä½¿ç”¨<code>31*h</code>ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å°½é‡æŠŠä¸åŒçš„<code>Person</code>å®ä¾‹çš„<code>hashCode()</code>å‡åŒ€åˆ†å¸ƒåˆ°æ•´ä¸ª<code>int</code>èŒƒå›´ã€‚</p>
<p>å’Œå®ç°<code>equals()</code>æ–¹æ³•é‡åˆ°çš„é—®é¢˜ç±»ä¼¼ï¼Œå¦‚æœ<code>firstName</code>æˆ–<code>lastName</code>ä¸º<code>null</code>ï¼Œä¸Šè¿°ä»£ç å·¥ä½œèµ·æ¥å°±ä¼šæŠ›<code>NullPointerException</code>ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—<code>hashCode()</code>çš„æ—¶å€™ï¼Œç»å¸¸å€ŸåŠ©<code>Objects.hash()</code>æ¥è®¡ç®—ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>int hashCode() {
</span></span><span style="display:flex;"><span>    return Objects.hash(firstName, lastName, age);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰€ä»¥ï¼Œç¼–å†™<code>equals()</code>å’Œ<code>hashCode()</code>éµå¾ªçš„åŸåˆ™æ˜¯ï¼š</p>
<p><code>equals()</code>ç”¨åˆ°çš„ç”¨äºæ¯”è¾ƒçš„æ¯ä¸€ä¸ªå­—æ®µï¼Œéƒ½å¿…é¡»åœ¨<code>hashCode()</code>ä¸­ç”¨äºè®¡ç®—ï¼›<code>equals()</code>ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°çš„å­—æ®µï¼Œç»ä¸å¯æ”¾åœ¨<code>hashCode()</code>ä¸­è®¡ç®—ã€‚</p>
<p>å¦å¤–æ³¨æ„ï¼Œå¯¹äºæ”¾å…¥<code>HashMap</code>çš„<code>value</code>å¯¹è±¡ï¼Œæ²¡æœ‰ä»»ä½•è¦æ±‚ã€‚</p>
<h2 id="å»¶ä¼¸é˜…è¯»">å»¶ä¼¸é˜…è¯»<a hidden class="anchor" aria-hidden="true" href="#å»¶ä¼¸é˜…è¯»">#</a></h2>
<p>æ—¢ç„¶<code>HashMap</code>å†…éƒ¨ä½¿ç”¨äº†æ•°ç»„ï¼Œé€šè¿‡è®¡ç®—<code>key</code>çš„<code>hashCode()</code>ç›´æ¥å®šä½<code>value</code>æ‰€åœ¨çš„ç´¢å¼•ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼šhashCode()è¿”å›çš„<code>int</code>èŒƒå›´é«˜è¾¾Â±21äº¿ï¼Œå…ˆä¸è€ƒè™‘è´Ÿæ•°ï¼Œ<code>HashMap</code>å†…éƒ¨ä½¿ç”¨çš„æ•°ç»„å¾—æœ‰å¤šå¤§ï¼Ÿ</p>
<p>å®é™…ä¸Š<code>HashMap</code>åˆå§‹åŒ–æ—¶é»˜è®¤çš„æ•°ç»„å¤§å°åªæœ‰16ï¼Œä»»ä½•<code>key</code>ï¼Œæ— è®ºå®ƒçš„<code>hashCode()</code>æœ‰å¤šå¤§ï¼Œéƒ½å¯ä»¥ç®€å•åœ°é€šè¿‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> index = key.<span style="color:#007f7f">hashCode</span>() &amp; <span style="color:#ff0;font-weight:bold">0xf</span>; <span style="color:#007f7f">// 0xf = 15
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æŠŠç´¢å¼•ç¡®å®šåœ¨0ï½15ï¼Œå³æ°¸è¿œä¸ä¼šè¶…å‡ºæ•°ç»„èŒƒå›´ï¼Œä¸Šè¿°ç®—æ³•åªæ˜¯ä¸€ç§æœ€ç®€å•çš„å®ç°ã€‚</p>
<p>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå¦‚æœæ·»åŠ è¶…è¿‡16ä¸ª<code>key-value</code>åˆ°<code>HashMap</code>ï¼Œæ•°ç»„ä¸å¤Ÿç”¨äº†æ€ä¹ˆåŠï¼Ÿ</p>
<p>æ·»åŠ è¶…è¿‡ä¸€å®šæ•°é‡çš„<code>key-value</code>æ—¶ï¼Œ<code>HashMap</code>ä¼šåœ¨å†…éƒ¨è‡ªåŠ¨æ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹ä¸€å€ï¼Œå³é•¿åº¦ä¸º16çš„æ•°ç»„æ‰©å±•ä¸ºé•¿åº¦32ï¼Œç›¸åº”åœ°ï¼Œéœ€è¦é‡æ–°ç¡®å®š<code>hashCode()</code>è®¡ç®—çš„ç´¢å¼•ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¯¹é•¿åº¦ä¸º32çš„æ•°ç»„è®¡ç®—<code>hashCode()</code>å¯¹åº”çš„ç´¢å¼•ï¼Œè®¡ç®—æ–¹å¼è¦æ”¹ä¸ºï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">int</span> index = key.<span style="color:#007f7f">hashCode</span>() &amp; <span style="color:#ff0;font-weight:bold">0x1f</span>; <span style="color:#007f7f">// 0x1f = 31
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç”±äºæ‰©å®¹ä¼šå¯¼è‡´é‡æ–°åˆ†å¸ƒå·²æœ‰çš„<code>key-value</code>ï¼Œæ‰€ä»¥ï¼Œé¢‘ç¹æ‰©å®¹å¯¹<code>HashMap</code>çš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®šè¦ä½¿ç”¨ä¸€ä¸ªå®¹é‡ä¸º<code>10000</code>ä¸ª<code>key-value</code>çš„<code>HashMap</code>ï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯åˆ›å»º<code>HashMap</code>æ—¶å°±æŒ‡å®šå®¹é‡ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Map&lt;String, Integer&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;(<span style="color:#ff0;font-weight:bold">10000</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><p>è™½ç„¶æŒ‡å®šå®¹é‡æ˜¯<code>10000</code>ï¼Œä½†<code>HashMap</code>å†…éƒ¨çš„æ•°ç»„é•¿åº¦æ€»æ˜¯2çš„Næ¬¡æ–¹ï¼Œå› æ­¤ï¼Œå®é™…æ•°ç»„é•¿åº¦è¢«åˆå§‹åŒ–ä¸ºæ¯”<code>10000</code>å¤§çš„<code>16384</code>ï¼ˆ2çš„14æ¬¡æ–¹ï¼‰ã€‚</p>
<p>æœ€åä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä¸åŒçš„ä¸¤ä¸ª<code>key</code>ï¼Œä¾‹å¦‚<code>&quot;a&quot;</code>å’Œ<code>&quot;b&quot;</code>ï¼Œå®ƒä»¬çš„<code>hashCode()</code>æ°å¥½æ˜¯ç›¸åŒçš„ï¼ˆè¿™ç§æƒ…å†µæ˜¯å®Œå…¨å¯èƒ½çš„ï¼Œå› ä¸ºä¸ç›¸ç­‰çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåªè¦æ±‚<code>hashCode()</code>å°½é‡ä¸ç›¸ç­‰ï¼‰ï¼Œé‚£ä¹ˆï¼Œå½“æˆ‘ä»¬æ”¾å…¥ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Ming&#34;</span>));
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#fff;font-weight:bold">new</span> Person(<span style="color:#0ff;font-weight:bold">&#34;Xiao Hong&#34;</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ—¶ï¼Œç”±äºè®¡ç®—å‡ºçš„æ•°ç»„ç´¢å¼•ç›¸åŒï¼Œåé¢æ”¾å…¥çš„<code>&quot;Xiao Hong&quot;</code>ä¼šä¸ä¼šæŠŠ<code>&quot;Xiao Ming&quot;</code>è¦†ç›–äº†ï¼Ÿ</p>
<p>å½“ç„¶ä¸ä¼šï¼ä½¿ç”¨<code>Map</code>çš„æ—¶å€™ï¼Œåªè¦<code>key</code>ä¸ç›¸åŒï¼Œå®ƒä»¬æ˜ å°„çš„<code>value</code>å°±äº’ä¸å¹²æ‰°ã€‚ä½†æ˜¯ï¼Œåœ¨<code>HashMap</code>å†…éƒ¨ï¼Œç¡®å®å¯èƒ½å­˜åœ¨ä¸åŒçš„<code>key</code>ï¼Œæ˜ å°„åˆ°ç›¸åŒçš„<code>hashCode()</code>ï¼Œå³ç›¸åŒçš„æ•°ç»„ç´¢å¼•ä¸Šï¼Œè‚¿ä¹ˆåŠï¼Ÿ</p>
<p>æˆ‘ä»¬å°±å‡è®¾<code>&quot;a&quot;</code>å’Œ<code>&quot;b&quot;</code>è¿™ä¸¤ä¸ª<code>key</code>æœ€ç»ˆè®¡ç®—å‡ºçš„ç´¢å¼•éƒ½æ˜¯5ï¼Œé‚£ä¹ˆï¼Œåœ¨<code>HashMap</code>çš„æ•°ç»„ä¸­ï¼Œå®é™…å­˜å‚¨çš„ä¸æ˜¯ä¸€ä¸ª<code>Person</code>å®ä¾‹ï¼Œè€Œæ˜¯ä¸€ä¸ª<code>List</code>ï¼Œå®ƒåŒ…å«ä¸¤ä¸ª<code>Entry</code>ï¼Œä¸€ä¸ªæ˜¯<code>&quot;a&quot;</code>çš„æ˜ å°„ï¼Œä¸€ä¸ªæ˜¯<code>&quot;b&quot;</code>çš„æ˜ å°„ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>  â”Œâ”€â”€â”€â”
</span></span><span style="display:flex;"><span>0 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>1 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>2 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>3 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>4 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>5 â”‚ â—â”€â”¼â”€â”€â”€&gt; List&lt;Entry&lt;String, Person&gt;&gt;
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>6 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â”œâ”€â”€â”€â”¤
</span></span><span style="display:flex;"><span>7 â”‚   â”‚
</span></span><span style="display:flex;"><span>  â””â”€â”€â”€â”˜
</span></span></code></pre></td></tr></table>
</div>
</div><p>åœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Person p = map.get(&#34;a&#34;);
</span></span></code></pre></td></tr></table>
</div>
</div><p>HashMapå†…éƒ¨é€šè¿‡<code>&quot;a&quot;</code>æ‰¾åˆ°çš„å®é™…ä¸Šæ˜¯<code>List&lt;Entry&lt;String, Person&gt;&gt;</code>ï¼Œå®ƒè¿˜éœ€è¦éå†è¿™ä¸ª<code>List</code>ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ª<code>Entry</code>ï¼Œå®ƒçš„<code>key</code>å­—æ®µæ˜¯<code>&quot;a&quot;</code>ï¼Œæ‰èƒ½è¿”å›å¯¹åº”çš„<code>Person</code>å®ä¾‹ã€‚</p>
<p>æˆ‘ä»¬æŠŠä¸åŒçš„<code>key</code>å…·æœ‰ç›¸åŒçš„<code>hashCode()</code>çš„æƒ…å†µç§°ä¹‹ä¸ºå“ˆå¸Œå†²çªã€‚åœ¨å†²çªçš„æ—¶å€™ï¼Œä¸€ç§æœ€ç®€å•çš„è§£å†³åŠæ³•æ˜¯ç”¨<code>List</code>å­˜å‚¨<code>hashCode()</code>ç›¸åŒçš„<code>key-value</code>ã€‚æ˜¾ç„¶ï¼Œå¦‚æœå†²çªçš„æ¦‚ç‡è¶Šå¤§ï¼Œè¿™ä¸ª<code>List</code>å°±è¶Šé•¿ï¼Œ<code>Map</code>çš„<code>get()</code>æ–¹æ³•æ•ˆç‡å°±è¶Šä½ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å°½é‡æ»¡è¶³æ¡ä»¶äºŒï¼š</p>
<p>å¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()å°½é‡ä¸è¦ç›¸ç­‰ã€‚</p>
<p><code>hashCode()</code>æ–¹æ³•ç¼–å†™å¾—è¶Šå¥½ï¼Œ<code>HashMap</code>å·¥ä½œçš„æ•ˆç‡å°±è¶Šé«˜ã€‚</p>
<h3 id="å°ç»“">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“">#</a></h3>
<p>è¦æ­£ç¡®ä½¿ç”¨<code>HashMap</code>ï¼Œä½œä¸º<code>key</code>çš„ç±»å¿…é¡»æ­£ç¡®è¦†å†™<code>equals()</code>å’Œ<code>hashCode()</code>æ–¹æ³•ï¼›</p>
<p>ä¸€ä¸ªç±»å¦‚æœè¦†å†™äº†<code>equals()</code>ï¼Œå°±å¿…é¡»è¦†å†™<code>hashCode()</code>ï¼Œå¹¶ä¸”è¦†å†™è§„åˆ™æ˜¯ï¼š</p>
<ul>
<li>å¦‚æœ<code>equals()</code>è¿”å›<code>true</code>ï¼Œåˆ™<code>hashCode()</code>è¿”å›å€¼å¿…é¡»ç›¸ç­‰ï¼›</li>
<li>å¦‚æœ<code>equals()</code>è¿”å›<code>false</code>ï¼Œåˆ™<code>hashCode()</code>è¿”å›å€¼å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li>
</ul>
<p>å®ç°<code>hashCode()</code>æ–¹æ³•å¯ä»¥é€šè¿‡<code>Objects.hashCode()</code>è¾…åŠ©æ–¹æ³•å®ç°ã€‚</p>
<h1 id="enummap">EnumMap<a hidden class="anchor" aria-hidden="true" href="#enummap">#</a></h1>
<p>å› ä¸º<code>HashMap</code>æ˜¯ä¸€ç§é€šè¿‡å¯¹keyè®¡ç®—<code>hashCode()</code>ï¼Œé€šè¿‡ç©ºé—´æ¢æ—¶é—´çš„æ–¹å¼ï¼Œç›´æ¥å®šä½åˆ°valueæ‰€åœ¨çš„å†…éƒ¨æ•°ç»„çš„ç´¢å¼•ï¼Œå› æ­¤ï¼ŒæŸ¥æ‰¾æ•ˆç‡éå¸¸é«˜ã€‚</p>
<p>å¦‚æœä½œä¸ºkeyçš„å¯¹è±¡æ˜¯<code>enum</code>ç±»å‹ï¼Œé‚£ä¹ˆï¼Œè¿˜å¯ä»¥ä½¿ç”¨Javaé›†åˆåº“æä¾›çš„ä¸€ç§<code>EnumMap</code>ï¼Œå®ƒåœ¨å†…éƒ¨ä»¥ä¸€ä¸ªéå¸¸ç´§å‡‘çš„æ•°ç»„å­˜å‚¨valueï¼Œå¹¶ä¸”æ ¹æ®<code>enum</code>ç±»å‹çš„keyç›´æ¥å®šä½åˆ°å†…éƒ¨æ•°ç»„çš„ç´¢å¼•ï¼Œå¹¶ä¸éœ€è¦è®¡ç®—<code>hashCode()</code>ï¼Œä¸ä½†æ•ˆç‡æœ€é«˜ï¼Œè€Œä¸”æ²¡æœ‰é¢å¤–çš„ç©ºé—´æµªè´¹ã€‚</p>
<p>æˆ‘ä»¬ä»¥<code>DayOfWeek</code>è¿™ä¸ªæšä¸¾ç±»å‹ä¸ºä¾‹ï¼Œä¸ºå®ƒåšä¸€ä¸ªâ€œç¿»è¯‘â€åŠŸèƒ½ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) {
</span></span><span style="display:flex;"><span>        Map&lt;DayOfWeek, String&gt; map = <span style="color:#fff;font-weight:bold">new</span> EnumMap&lt;&gt;(DayOfWeek.<span style="color:#007f7f">class</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">MONDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸä¸€&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">TUESDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸäºŒ&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">WEDNESDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸä¸‰&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">THURSDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸå››&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">FRIDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸäº”&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">SATURDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸå…­&#34;</span>);
</span></span><span style="display:flex;"><span>        map.<span style="color:#007f7f">put</span>(DayOfWeek.<span style="color:#007f7f">SUNDAY</span>, <span style="color:#0ff;font-weight:bold">&#34;æ˜ŸæœŸæ—¥&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map.<span style="color:#007f7f">get</span>(DayOfWeek.<span style="color:#007f7f">MONDAY</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä½¿ç”¨<code>EnumMap</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»æ˜¯ç”¨<code>Map</code>æ¥å£æ¥å¼•ç”¨å®ƒï¼Œå› æ­¤ï¼Œå®é™…ä¸ŠæŠŠ<code>HashMap</code>å’Œ<code>EnumMap</code>äº’æ¢ï¼Œåœ¨å®¢æˆ·ç«¯çœ‹æ¥æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p>
<h2 id="å°ç»“-1">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“-1">#</a></h2>
<p>å¦‚æœ<code>Map</code>çš„keyæ˜¯<code>enum</code>ç±»å‹ï¼Œæ¨èä½¿ç”¨<code>EnumMap</code>ï¼Œæ—¢ä¿è¯é€Ÿåº¦ï¼Œä¹Ÿä¸æµªè´¹ç©ºé—´ã€‚</p>
<p>ä½¿ç”¨<code>EnumMap</code>çš„æ—¶å€™ï¼Œæ ¹æ®é¢å‘æŠ½è±¡ç¼–ç¨‹çš„åŸåˆ™ï¼Œåº”æŒæœ‰<code>Map</code>æ¥å£ã€‚</p>
<h1 id="ä½¿ç”¨properties">ä½¿ç”¨Properties<a hidden class="anchor" aria-hidden="true" href="#ä½¿ç”¨properties">#</a></h1>
<p>åœ¨ç¼–å†™åº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œç»å¸¸éœ€è¦è¯»å†™é…ç½®æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·çš„è®¾ç½®ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># ä¸Šæ¬¡æœ€åæ‰“å¼€çš„æ–‡ä»¶:
</span></span><span style="display:flex;"><span>last_open_file=/data/hello.txt
</span></span><span style="display:flex;"><span># è‡ªåŠ¨ä¿å­˜æ–‡ä»¶çš„æ—¶é—´é—´éš”:
</span></span><span style="display:flex;"><span>auto_save_interval=60
</span></span></code></pre></td></tr></table>
</div>
</div><p>é…ç½®æ–‡ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå®ƒçš„Key-Valueä¸€èˆ¬éƒ½æ˜¯<code>String</code>-<code>String</code>ç±»å‹çš„ï¼Œå› æ­¤æˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨<code>Map&lt;String, String&gt;</code>æ¥è¡¨ç¤ºå®ƒã€‚</p>
<p>å› ä¸ºé…ç½®æ–‡ä»¶éå¸¸å¸¸ç”¨ï¼Œæ‰€ä»¥Javaé›†åˆåº“æä¾›äº†ä¸€ä¸ª<code>Properties</code>æ¥è¡¨ç¤ºä¸€ç»„â€œé…ç½®â€ã€‚ç”±äºå†å²é—ç•™åŸå› ï¼Œ<code>Properties</code>å†…éƒ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<code>Hashtable</code>ï¼Œä½†æˆ‘ä»¬åªéœ€è¦ç”¨åˆ°<code>Properties</code>è‡ªèº«å…³äºè¯»å†™é…ç½®çš„æ¥å£ã€‚</p>
<h2 id="è¯»å–é…ç½®æ–‡ä»¶">è¯»å–é…ç½®æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#è¯»å–é…ç½®æ–‡ä»¶">#</a></h2>
<p>ç”¨<code>Properties</code>è¯»å–é…ç½®æ–‡ä»¶éå¸¸ç®€å•ã€‚Javaé»˜è®¤é…ç½®æ–‡ä»¶ä»¥<code>.properties</code>ä¸ºæ‰©å±•åï¼Œæ¯è¡Œä»¥<code>key=value</code>è¡¨ç¤ºï¼Œä»¥<code>#</code>è¯¾å¼€å¤´çš„æ˜¯æ³¨é‡Šã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„é…ç½®æ–‡ä»¶ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># setting.properties
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>last_open_file=/data/hello.txt
</span></span><span style="display:flex;"><span>auto_save_interval=60
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯ä»¥ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–è¿™ä¸ª<code>.properties</code>æ–‡ä»¶ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>String f = &#34;setting.properties&#34;;
</span></span><span style="display:flex;"><span>Properties props = new Properties();
</span></span><span style="display:flex;"><span>props.load(new java.io.FileInputStream(f));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>String filepath = props.getProperty(&#34;last_open_file&#34;);
</span></span><span style="display:flex;"><span>String interval = props.getProperty(&#34;auto_save_interval&#34;, &#34;120&#34;);
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¯è§ï¼Œç”¨<code>Properties</code>è¯»å–é…ç½®æ–‡ä»¶ï¼Œä¸€å…±æœ‰ä¸‰æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º<code>Properties</code>å®ä¾‹ï¼›</li>
<li>è°ƒç”¨<code>load()</code>è¯»å–æ–‡ä»¶ï¼›</li>
<li>è°ƒç”¨<code>getProperty()</code>è·å–é…ç½®ã€‚</li>
</ol>
<p>è°ƒç”¨<code>getProperty()</code>è·å–é…ç½®æ—¶ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå°†è¿”å›<code>null</code>ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™æ ·ï¼Œå½“keyä¸å­˜åœ¨çš„æ—¶å€™ï¼Œå°±è¿”å›é»˜è®¤å€¼ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä»classpathè¯»å–<code>.properties</code>æ–‡ä»¶ï¼Œå› ä¸º<code>load(InputStream)</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<code>InputStream</code>å®ä¾‹ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—èŠ‚æµï¼Œå®ƒä¸ä¸€å®šæ˜¯æ–‡ä»¶æµï¼Œä¹Ÿå¯ä»¥æ˜¯ä»jaråŒ…ä¸­è¯»å–çš„èµ„æºæµï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Properties props = new Properties();
</span></span><span style="display:flex;"><span>props.load(getClass().getResourceAsStream(&#34;/common/setting.properties&#34;));
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯•è¯•ä»å†…å­˜è¯»å–ä¸€ä¸ªå­—èŠ‚æµï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> java.util.Properties;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Main {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">void</span> main(String[] args) <span style="color:#fff;font-weight:bold">throws</span> IOException {
</span></span><span style="display:flex;"><span>        String settings = <span style="color:#0ff;font-weight:bold">&#34;# test&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;\n&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;course=Java&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;\n&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;last_open_date=2019-08-07T12:35:01&#34;</span>;
</span></span><span style="display:flex;"><span>        ByteArrayInputStream input = <span style="color:#fff;font-weight:bold">new</span> ByteArrayInputStream(settings.<span style="color:#007f7f">getBytes</span>(<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>));
</span></span><span style="display:flex;"><span>        Properties props = <span style="color:#fff;font-weight:bold">new</span> Properties();
</span></span><span style="display:flex;"><span>        props.<span style="color:#007f7f">load</span>(input);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;course: &#34;</span> + props.<span style="color:#007f7f">getProperty</span>(<span style="color:#0ff;font-weight:bold">&#34;course&#34;</span>));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;last_open_date: &#34;</span> + props.<span style="color:#007f7f">getProperty</span>(<span style="color:#0ff;font-weight:bold">&#34;last_open_date&#34;</span>));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;last_open_file: &#34;</span> + props.<span style="color:#007f7f">getProperty</span>(<span style="color:#0ff;font-weight:bold">&#34;last_open_file&#34;</span>));
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;auto_save: &#34;</span> + props.<span style="color:#007f7f">getProperty</span>(<span style="color:#0ff;font-weight:bold">&#34;auto_save&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;60&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæœ‰å¤šä¸ª<code>.properties</code>æ–‡ä»¶ï¼Œå¯ä»¥åå¤è°ƒç”¨<code>load()</code>è¯»å–ï¼Œåè¯»å–çš„key-valueä¼šè¦†ç›–å·²è¯»å–çš„key-valueï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Properties props = new Properties();
</span></span><span style="display:flex;"><span>props.load(getClass().getResourceAsStream(&#34;/common/setting.properties&#34;));
</span></span><span style="display:flex;"><span>props.load(new FileInputStream(&#34;C:\\conf\\setting.properties&#34;));
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä¸Šé¢çš„ä»£ç æ¼”ç¤ºäº†<code>Properties</code>çš„ä¸€ä¸ªå¸¸ç”¨ç”¨æ³•ï¼šå¯ä»¥æŠŠé»˜è®¤é…ç½®æ–‡ä»¶æ”¾åˆ°classpathä¸­ï¼Œç„¶åï¼Œæ ¹æ®æœºå™¨çš„ç¯å¢ƒç¼–å†™å¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè¦†ç›–æŸäº›é»˜è®¤çš„é…ç½®ã€‚</p>
<p><code>Properties</code>è®¾è®¡çš„ç›®çš„æ˜¯å­˜å‚¨<code>String</code>ç±»å‹çš„keyï¼valueï¼Œä½†<code>Properties</code>å®é™…ä¸Šæ˜¯ä»<code>Hashtable</code>æ´¾ç”Ÿçš„ï¼Œå®ƒçš„è®¾è®¡å®é™…ä¸Šæ˜¯æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œç°åœ¨å·²ç»æ²¡æ³•ä¿®æ”¹äº†ã€‚é™¤äº†<code>getProperty()</code>å’Œ<code>setProperty()</code>æ–¹æ³•å¤–ï¼Œè¿˜æœ‰ä»<code>Hashtable</code>ç»§æ‰¿ä¸‹æ¥çš„<code>get()</code>å’Œ<code>put()</code>æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•çš„å‚æ•°ç­¾åæ˜¯<code>Object</code>ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨<code>Properties</code>çš„æ—¶å€™ï¼Œä¸è¦å»è°ƒç”¨è¿™äº›ä»<code>Hashtable</code>ç»§æ‰¿ä¸‹æ¥çš„æ–¹æ³•ã€‚</p>
<h2 id="å†™å…¥é…ç½®æ–‡ä»¶">å†™å…¥é…ç½®æ–‡ä»¶<a hidden class="anchor" aria-hidden="true" href="#å†™å…¥é…ç½®æ–‡ä»¶">#</a></h2>
<p>å¦‚æœé€šè¿‡<code>setProperty()</code>ä¿®æ”¹äº†<code>Properties</code>å®ä¾‹ï¼Œå¯ä»¥æŠŠé…ç½®å†™å…¥æ–‡ä»¶ï¼Œä»¥ä¾¿ä¸‹æ¬¡å¯åŠ¨æ—¶è·å¾—æœ€æ–°é…ç½®ã€‚å†™å…¥é…ç½®æ–‡ä»¶ä½¿ç”¨<code>store()</code>æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Properties props = new Properties();
</span></span><span style="display:flex;"><span>props.setProperty(&#34;url&#34;, &#34;http://www.liaoxuefeng.com&#34;);
</span></span><span style="display:flex;"><span>props.setProperty(&#34;language&#34;, &#34;Java&#34;);
</span></span><span style="display:flex;"><span>props.store(new FileOutputStream(&#34;C:\\conf\\setting.properties&#34;), &#34;è¿™æ˜¯å†™å…¥çš„propertiesæ³¨é‡Š&#34;);
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç¼–ç ">ç¼–ç <a hidden class="anchor" aria-hidden="true" href="#ç¼–ç ">#</a></h2>
<p>æ—©æœŸç‰ˆæœ¬çš„Javaè§„å®š<code>.properties</code>æ–‡ä»¶ç¼–ç æ˜¯ASCIIç¼–ç ï¼ˆISO8859-1ï¼‰ï¼Œå¦‚æœæ¶‰åŠåˆ°ä¸­æ–‡å°±å¿…é¡»ç”¨<code>name=\u4e2d\u6587</code>æ¥è¡¨ç¤ºï¼Œéå¸¸åˆ«æ‰­ã€‚ä»JDK9å¼€å§‹ï¼ŒJavaçš„<code>.properties</code>æ–‡ä»¶å¯ä»¥ä½¿ç”¨UTF-8ç¼–ç äº†ã€‚</p>
<p>ä¸è¿‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äº<code>load(InputStream)</code>é»˜è®¤æ€»æ˜¯ä»¥ASCIIç¼–ç è¯»å–å­—èŠ‚æµï¼Œæ‰€ä»¥ä¼šå¯¼è‡´è¯»åˆ°ä¹±ç ã€‚æˆ‘ä»¬éœ€è¦ç”¨å¦ä¸€ä¸ªé‡è½½æ–¹æ³•<code>load(Reader)</code>è¯»å–ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Properties props = new Properties();
</span></span><span style="display:flex;"><span>props.load(new FileReader(&#34;settings.properties&#34;, StandardCharsets.UTF_8));
</span></span></code></pre></td></tr></table>
</div>
</div><p>å°±å¯ä»¥æ­£å¸¸è¯»å–ä¸­æ–‡ã€‚<code>InputStream</code>å’Œ<code>Reader</code>çš„åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯å­—èŠ‚æµï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦æµã€‚å­—ç¬¦æµåœ¨å†…å­˜ä¸­å·²ç»ä»¥<code>char</code>ç±»å‹è¡¨ç¤ºäº†ï¼Œä¸æ¶‰åŠç¼–ç é—®é¢˜ã€‚</p>
<h2 id="å°ç»“-2">å°ç»“<a hidden class="anchor" aria-hidden="true" href="#å°ç»“-2">#</a></h2>
<p>Javaé›†åˆåº“æä¾›çš„<code>Properties</code>ç”¨äºè¯»å†™é…ç½®æ–‡ä»¶<code>.properties</code>ã€‚<code>.properties</code>æ–‡ä»¶å¯ä»¥ä½¿ç”¨UTF-8ç¼–ç ã€‚</p>
<p>å¯ä»¥ä»æ–‡ä»¶ç³»ç»Ÿã€classpathæˆ–å…¶ä»–ä»»ä½•åœ°æ–¹è¯»å–<code>.properties</code>æ–‡ä»¶ã€‚</p>
<p>è¯»å†™<code>Properties</code>æ—¶ï¼Œæ³¨æ„ä»…ä½¿ç”¨<code>getProperty()</code>å’Œ<code>setProperty()</code>æ–¹æ³•ï¼Œä¸è¦è°ƒç”¨ç»§æ‰¿è€Œæ¥çš„<code>get()</code>å’Œ<code>put()</code>ç­‰æ–¹æ³•ã€‚</p>
<h1 id="æ€»è§ˆ">æ€»è§ˆ<a hidden class="anchor" aria-hidden="true" href="#æ€»è§ˆ">#</a></h1>
<p><img loading="lazy" src="1.jpg" alt=""  />

å¦‚ä¸Šå›¾ï¼š</p>
<ul>
<li>Map æ˜¯æ˜ å°„æ¥å£ï¼ŒMapä¸­å­˜å‚¨çš„å†…å®¹æ˜¯é”®å€¼å¯¹(key-value)ã€‚</li>
<li>AbstractMap æ˜¯ç»§æ‰¿äºMapçš„æŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Mapä¸­çš„å¤§éƒ¨åˆ†APIã€‚å…¶å®ƒMapçš„å®ç°ç±»å¯ä»¥é€šè¿‡ç»§æ‰¿AbstractMapæ¥å‡å°‘é‡å¤ç¼–ç ã€‚</li>
<li>SortedMap æ˜¯ç»§æ‰¿äºMapçš„æ¥å£ã€‚SortedMapä¸­çš„å†…å®¹æ˜¯æ’åºçš„é”®å€¼å¯¹ï¼Œæ’åºçš„æ–¹æ³•æ˜¯é€šè¿‡æ¯”è¾ƒå™¨(Comparator)ã€‚</li>
<li>NavigableMap æ˜¯ç»§æ‰¿äºSortedMapçš„æ¥å£ã€‚ç›¸æ¯”äºSortedMapï¼ŒNavigableMapæœ‰ä¸€ç³»åˆ—çš„å¯¼èˆªæ–¹æ³•ï¼›å¦‚&quot;è·å–å¤§äº/ç­‰äºæŸå¯¹è±¡çš„é”®å€¼å¯¹&quot;ã€â€œè·å–å°äº/ç­‰äºæŸå¯¹è±¡çš„é”®å€¼å¯¹â€ç­‰ç­‰ã€‚</li>
<li>TreeMap ç»§æ‰¿äºAbstractMapï¼Œä¸”å®ç°äº†NavigableMapæ¥å£ï¼›å› æ­¤ï¼ŒTreeMapä¸­çš„å†…å®¹æ˜¯â€œæœ‰åºçš„é”®å€¼å¯¹â€ï¼</li>
<li>HashMap ç»§æ‰¿äºAbstractMapï¼Œä½†æ²¡å®ç°NavigableMapæ¥å£ï¼›å› æ­¤ï¼ŒHashMapçš„å†…å®¹æ˜¯â€œé”®å€¼å¯¹ï¼Œä½†ä¸ä¿è¯é¡ºåºâ€ï¼</li>
<li>Hashtable è™½ç„¶ä¸æ˜¯ç»§æ‰¿äºAbstractMapï¼Œä½†å®ƒç»§æ‰¿äºDictionary(Dictionaryä¹Ÿæ˜¯é”®å€¼å¯¹çš„æ¥å£)ï¼Œè€Œä¸”ä¹Ÿå®ç°Mapæ¥å£ï¼›å› æ­¤ï¼ŒHashtableçš„å†…å®¹ä¹Ÿæ˜¯â€œé”®å€¼å¯¹ï¼Œä¹Ÿä¸ä¿è¯æ¬¡åºâ€ã€‚ä½†å’ŒHashMapç›¸æ¯”ï¼ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œä¸”å®ƒæ”¯æŒé€šè¿‡Enumerationå»éå†ã€‚</li>
<li>WeakHashMap ç»§æ‰¿äºAbstractMapã€‚å®ƒå’ŒHashMapçš„é”®ç±»å‹ä¸åŒï¼ŒWeakHashMapçš„é”®æ˜¯â€œå¼±é”®â€ã€‚</li>
</ul>
<h1 id="mapå®šä¹‰">Mapå®šä¹‰<a hidden class="anchor" aria-hidden="true" href="#mapå®šä¹‰">#</a></h1>
<p><code>public interface Map&lt;K,V&gt;{}</code>
Map æ˜¯ä¸€ä¸ªé”®å€¼å¯¹(key-value)æ˜ å°„æ¥å£ã€‚Mapæ˜ å°„ä¸­ä¸èƒ½åŒ…å«é‡å¤çš„é”®ï¼›æ¯ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚
Map æ¥å£æä¾›ä¸‰ç§collection è§†å›¾ï¼Œå…è®¸ä»¥é”®é›†ã€å€¼é›†æˆ–é”®-å€¼æ˜ å°„å…³ç³»é›†çš„å½¢å¼æŸ¥çœ‹æŸä¸ªæ˜ å°„çš„å†…å®¹ã€‚
Map æ˜ å°„é¡ºåºã€‚æœ‰äº›å®ç°ç±»ï¼Œå¯ä»¥æ˜ç¡®ä¿è¯å…¶é¡ºåºï¼Œå¦‚ TreeMapï¼›å¦ä¸€äº›æ˜ å°„å®ç°åˆ™ä¸ä¿è¯é¡ºåºï¼Œå¦‚ HashMap ç±»ã€‚
Map çš„å®ç°ç±»åº”è¯¥æä¾›2ä¸ªâ€œæ ‡å‡†çš„â€æ„é€ æ–¹æ³•ï¼šç¬¬ä¸€ä¸ªï¼Œvoidï¼ˆæ— å‚æ•°ï¼‰æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºç©ºæ˜ å°„ï¼›ç¬¬äºŒä¸ªï¼Œå¸¦æœ‰å•ä¸ª Map ç±»å‹å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªä¸å…¶å‚æ•°å…·æœ‰ç›¸åŒé”®-å€¼æ˜ å°„å…³ç³»çš„æ–°æ˜ å°„ã€‚å®é™…ä¸Šï¼Œåä¸€ä¸ªæ„é€ æ–¹æ³•å…è®¸ç”¨æˆ·å¤åˆ¶ä»»æ„æ˜ å°„ï¼Œç”Ÿæˆæ‰€éœ€ç±»çš„ä¸€ä¸ªç­‰ä»·æ˜ å°„ã€‚å°½ç®¡æ— æ³•å¼ºåˆ¶æ‰§è¡Œæ­¤å»ºè®®ï¼ˆå› ä¸ºæ¥å£ä¸èƒ½åŒ…å«æ„é€ æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯ JDK ä¸­æ‰€æœ‰é€šç”¨çš„æ˜ å°„å®ç°éƒ½éµä»å®ƒã€‚</p>
<h1 id="mapçš„api">Mapçš„API<a hidden class="anchor" aria-hidden="true" href="#mapçš„api">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span>                 clear()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              containsKey(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              containsValue(Object value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Set&lt;Entry&lt;K, V&gt;&gt;     entrySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              equals(Object object)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    get(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span>                  hashCode()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              isEmpty()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Set&lt;K&gt;               keySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    put(K key, V value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span>                 putAll(Map&lt;? <span style="color:#fff;font-weight:bold">extends</span> K, ? <span style="color:#fff;font-weight:bold">extends</span> V&gt; map)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    remove(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span>                  size()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Collection&lt;V&gt;        values()
</span></span></code></pre></td></tr></table>
</div>
</div><p>Mapæä¾›äº†ä¸€äº›ç”¨äºè¿”å›æ•°æ®çš„æ¥å£ï¼šé”®é›†ã€å€¼é›†ã€é”®-å€¼æ˜ å°„å…³ç³»é›†
<code>entrySet()</code>ç”¨äºè¿”å›é”®å€¼é›†çš„Seté›†åˆ
<code>keySet()</code>ç”¨äºè¿”å›é”®é›†çš„Seté›†åˆ
<code>values()</code>ç”¨æˆ·è¿”å›å€¼é›†çš„Collectioné›†åˆ
å› ä¸ºMapä¸­ä¸èƒ½åŒ…å«é‡å¤çš„é”®ï¼›æ¯ä¸ªé”®æœ€å¤šåªèƒ½æ˜ å°„åˆ°ä¸€ä¸ªå€¼ã€‚æ‰€ä»¥ï¼Œé”®å€¼é›†ã€é”®é›†éƒ½æ˜¯Setï¼Œå€¼é›†æ˜¯Collectionã€‚
Mapæä¾›äº†ä¸€äº›æ–¹æ³•ï¼šæ ¹æ®é”®è·å–å€¼ã€åˆ é™¤é”®ã€è·å–å®¹é‡å¤§å°ã€é”®å€¼å¯¹ã€‚</p>
<h1 id="mapentry">Map.Entry<a hidden class="anchor" aria-hidden="true" href="#mapentry">#</a></h1>
<p>Map.Entryå®šä¹‰å¦‚ä¸‹ï¼š
<code>interface Entry&lt;K,V&gt; {}</code>
<code>Map.Entry</code>æ˜¯Mapå†…éƒ¨çš„ä¸€ä¸ªæ¥å£ï¼ŒMap.Entryæ˜¯é”®å€¼å¯¹ï¼ŒMapé€šè¿‡ entrySet() è·å–Map.Entryçš„é”®å€¼å¯¹é›†åˆï¼Œä»è€Œé€šè¿‡è¯¥é›†åˆå®ç°å¯¹é”®å€¼å¯¹çš„æ“ä½œã€‚</p>
<p>Map.Entryçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>abstract boolean     equals(Object object)
</span></span><span style="display:flex;"><span>abstract K             getKey()
</span></span><span style="display:flex;"><span>abstract V             getValue()
</span></span><span style="display:flex;"><span>abstract int         hashCode()
</span></span><span style="display:flex;"><span>abstract V             setValue(V object)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="abstractmap">AbstractMap<a hidden class="anchor" aria-hidden="true" href="#abstractmap">#</a></h1>
<p><code>public abstract class AbstractMap&lt;K,V&gt; implements Map&lt;K,V&gt; {}</code>
AbstractMapç±»æä¾›Mapæ¥å£çš„å®ç°ï¼Œä»¥æœ€å¤§é™åº¦çš„å‡å°‘å®ç°æ­¤æ¥å£æ‰€éœ€çš„å·¥ä½œã€‚
è¦å®ç°ä¸å¯ä¿®æ”¹çš„æ˜ å°„ï¼Œç¼–ç¨‹äººå‘˜åªéœ€æ‰©å±•æ­¤ç±»å¹¶æä¾› entrySet æ–¹æ³•çš„å®ç°å³å¯ï¼Œè¯¥æ–¹æ³•å°†è¿”å›æ˜ å°„çš„æ˜ å°„å…³ç³» set è§†å›¾ã€‚é€šå¸¸ï¼Œè¿”å›çš„ set å°†ä¾æ¬¡åœ¨ AbstractSet ä¸Šå®ç°ã€‚æ­¤ set ä¸æ”¯æŒ add() æˆ– remove() æ–¹æ³•ï¼Œå…¶è¿­ä»£å™¨ä¹Ÿä¸æ”¯æŒ remove() æ–¹æ³•ã€‚
è¦å®ç°å¯ä¿®æ”¹çš„æ˜ å°„ï¼Œç¼–ç¨‹äººå‘˜å¿…é¡»å¦å¤–é‡å†™æ­¤ç±»çš„ put æ–¹æ³•ï¼ˆå¦åˆ™å°†æŠ›å‡º UnsupportedOperationExceptionï¼‰ï¼ŒentrySet().iterator() è¿”å›çš„è¿­ä»£å™¨ä¹Ÿå¿…é¡»å¦å¤–å®ç°å…¶ remove æ–¹æ³•ã€‚</p>
<p>AbstractMapçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Set&lt;Entry&lt;K, V&gt;&gt;     entrySet()
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span>                 clear()
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span>              containsKey(Object key)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span>              containsValue(Object value)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span>              equals(Object object)
</span></span><span style="display:flex;"><span>    V                    get(Object key)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span>                  hashCode()
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">boolean</span>              isEmpty()
</span></span><span style="display:flex;"><span>    Set&lt;K&gt;               keySet()
</span></span><span style="display:flex;"><span>    V                    put(K key, V value)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">void</span>                 putAll(Map&lt;? <span style="color:#fff;font-weight:bold">extends</span> K, ? <span style="color:#fff;font-weight:bold">extends</span> V&gt; map)
</span></span><span style="display:flex;"><span>    V                    remove(Object key)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span>                  size()
</span></span><span style="display:flex;"><span>    String               toString()
</span></span><span style="display:flex;"><span>    Collection&lt;V&gt;        values()
</span></span><span style="display:flex;"><span>    Object               clone()
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="sortedmap">SortedMap<a hidden class="anchor" aria-hidden="true" href="#sortedmap">#</a></h1>
<p><code>public interface SortedMap&lt;K,V&gt; extends Map&lt;K,V&gt; {}</code>
SortedMapæ˜¯ä¸€ä¸ªç»§æ‰¿äºMapæ¥å£çš„æ¥å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰åºçš„SortedMapé”®å€¼æ˜ å°„ã€‚
SortedMapçš„æ’åºæ–¹å¼æœ‰ä¸¤ç§ï¼šè‡ªç„¶æ’åºæˆ–è€…ç”¨æˆ·æŒ‡å®šæ¯”è¾ƒå™¨ã€‚ æ’å…¥æœ‰åº SortedMap çš„æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»å®ç° Comparable æ¥å£ï¼ˆæˆ–è€…è¢«æŒ‡å®šçš„æ¯”è¾ƒå™¨æ‰€æ¥å—ï¼‰ã€‚</p>
<p>å¦å¤–ï¼Œæ‰€æœ‰SortedMap å®ç°ç±»éƒ½åº”è¯¥æä¾› 4 ä¸ªâ€œæ ‡å‡†â€æ„é€ æ–¹æ³•ï¼š</p>
<ol>
<li>voidï¼ˆæ— å‚æ•°ï¼‰æ„é€ æ–¹æ³•ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªç©ºçš„æœ‰åºæ˜ å°„ï¼ŒæŒ‰ç…§é”®çš„è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºã€‚</li>
<li>å¸¦æœ‰ä¸€ä¸ª Comparator ç±»å‹å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªç©ºçš„æœ‰åºæ˜ å°„ï¼Œæ ¹æ®æŒ‡å®šçš„æ¯”è¾ƒå™¨è¿›è¡Œæ’åºã€‚</li>
<li>å¸¦æœ‰ä¸€ä¸ª Map ç±»å‹å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„æœ‰åºæ˜ å°„ï¼Œå…¶é”®-å€¼æ˜ å°„å…³ç³»ä¸å‚æ•°ç›¸åŒï¼ŒæŒ‰ç…§é”®çš„è‡ªç„¶é¡ºåºè¿›è¡Œæ’åºã€‚</li>
<li>å¸¦æœ‰ä¸€ä¸ª SortedMap ç±»å‹å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°çš„æœ‰åºæ˜ å°„ï¼Œå…¶é”®-å€¼æ˜ å°„å…³ç³»å’Œæ’åºæ–¹æ³•ä¸è¾“å…¥çš„æœ‰åºæ˜ å°„ç›¸åŒã€‚æ— æ³•ä¿è¯å¼ºåˆ¶å®æ–½æ­¤å»ºè®®ï¼Œå› ä¸ºæ¥å£ä¸èƒ½åŒ…å«æ„é€ æ–¹æ³•ã€‚</li>
</ol>
<p>SortedMapçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// ç»§æ‰¿äºMapçš„API
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span>                 clear()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              containsKey(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              containsValue(Object value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Set&lt;Entry&lt;K, V&gt;&gt;     entrySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              equals(Object object)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    get(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span>                  hashCode()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>              isEmpty()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Set&lt;K&gt;               keySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    put(K key, V value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">void</span>                 putAll(Map&lt;? <span style="color:#fff;font-weight:bold">extends</span> K, ? <span style="color:#fff;font-weight:bold">extends</span> V&gt; map)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                    remove(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span>                  size()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Collection&lt;V&gt;        values()
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// SortedMapæ–°å¢çš„API 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">abstract</span> Comparator&lt;? <span style="color:#fff;font-weight:bold">super</span> K&gt;     comparator()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                         firstKey()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;           headMap(K endKey)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                         lastKey()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;           subMap(K startKey, K endKey)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;           tailMap(K startKey)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="navigablemap">NavigableMap<a hidden class="anchor" aria-hidden="true" href="#navigablemap">#</a></h1>
<p><code>public interface NavigableMap&lt;K,V&gt; extends SortedMap&lt;K,V&gt; {}</code>
NavigableMapæ˜¯ç»§æ‰¿äºSortedMapçš„æ¥å£ã€‚å®ƒæ˜¯ä¸€ä¸ªå¯å¯¼èˆªçš„é”®-å€¼å¯¹é›†åˆï¼Œå…·æœ‰äº†ä¸ºç»™å®šæœç´¢ç›®æ ‡æŠ¥å‘Šæœ€æ¥è¿‘åŒ¹é…é¡¹çš„å¯¼èˆªæ–¹æ³•ã€‚
NavigableMapåˆ†åˆ«æä¾›äº†è·å–â€œé”®â€ã€â€œé”®-å€¼å¯¹â€ã€â€œé”®é›†â€ã€â€œé”®-å€¼å¯¹é›†â€çš„ç›¸å…³æ–¹æ³•ã€‚</p>
<p>NavigableMapçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             ceilingEntry(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             firstEntry()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             floorEntry(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             higherEntry(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             lastEntry()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             lowerEntry(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             pollFirstEntry()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Entry&lt;K, V&gt;             pollLastEntry()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                       ceilingKey(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                       floorKey(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                       higherKey(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> K                       lowerKey(K key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableSet&lt;K&gt;         descendingKeySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableSet&lt;K&gt;         navigableKeySet()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableMap&lt;K, V&gt;      descendingMap()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableMap&lt;K, V&gt;      headMap(K toKey, <span style="color:#fff;font-weight:bold">boolean</span> inclusive)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;         headMap(K toKey)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;         subMap(K fromKey, K toKey)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableMap&lt;K, V&gt;      subMap(K fromKey, <span style="color:#fff;font-weight:bold">boolean</span> fromInclusive, K toKey, <span style="color:#fff;font-weight:bold">boolean</span> toInclusive)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> SortedMap&lt;K, V&gt;         tailMap(K fromKey)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> NavigableMap&lt;K, V&gt;      tailMap(K fromKey, <span style="color:#fff;font-weight:bold">boolean</span> inclusive)
</span></span></code></pre></td></tr></table>
</div>
</div><p>è¯´æ˜ï¼š
NavigableMapé™¤äº†ç»§æ‰¿SortedMapçš„ç‰¹æ€§å¤–ï¼Œå®ƒçš„æä¾›çš„åŠŸèƒ½å¯ä»¥åˆ†ä¸º4ç±»ï¼š</p>
<ul>
<li>æä¾›æ“ä½œé”®-å€¼å¯¹çš„æ–¹æ³•ã€‚
lowerEntryã€floorEntryã€ceilingEntry å’Œ higherEntry æ–¹æ³•ï¼Œå®ƒä»¬åˆ†åˆ«è¿”å›ä¸å°äºã€å°äºç­‰äºã€å¤§äºç­‰äºã€å¤§äºç»™å®šé”®çš„é”®å…³è”çš„ Map.Entry å¯¹è±¡ã€‚
firstEntryã€pollFirstEntryã€lastEntry å’Œ pollLastEntry æ–¹æ³•ï¼Œå®ƒä»¬è¿”å›å’Œ/æˆ–ç§»é™¤æœ€å°å’Œæœ€å¤§çš„æ˜ å°„å…³ç³»ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œå¦åˆ™è¿”å› nullã€‚</li>
<li>æä¾›æ“ä½œé”®çš„æ–¹æ³•ã€‚è¿™ä¸ªå’Œç¬¬1ç±»æ¯”è¾ƒç±»ä¼¼
lowerKeyã€floorKeyã€ceilingKey å’Œ higherKey æ–¹æ³•ï¼Œå®ƒä»¬åˆ†åˆ«è¿”å›ä¸å°äºã€å°äºç­‰äºã€å¤§äºç­‰äºã€å¤§äºç»™å®šé”®çš„é”®ã€‚</li>
<li>è·å–é”®é›†ã€‚
navigableKeySetã€descendingKeySetåˆ†åˆ«è·å–æ­£åº/ååºçš„é”®é›†ã€‚</li>
<li>è·å–é”®-å€¼å¯¹çš„å­é›†ã€‚</li>
</ul>
<h1 id="dictionary">Dictionary<a hidden class="anchor" aria-hidden="true" href="#dictionary">#</a></h1>
<p><code>public abstract class Dictionary&lt;K,V&gt; {}</code>
Dictionaryæ˜¯JDK 1.0å®šä¹‰çš„é”®å€¼å¯¹çš„æ¥å£ï¼Œå®ƒä¹ŸåŒ…æ‹¬äº†æ“ä½œé”®å€¼å¯¹çš„åŸºæœ¬å‡½æ•°ã€‚</p>
<p>Dictionaryçš„API</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Enumeration&lt;V&gt;     elements()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                  get(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">boolean</span>            isEmpty()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> Enumeration&lt;K&gt;     keys()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                  put(K key, V value)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> V                  remove(Object key)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">int</span>                size()
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="mapæ¦‚æ‹¬">Mapæ¦‚æ‹¬<a hidden class="anchor" aria-hidden="true" href="#mapæ¦‚æ‹¬">#</a></h1>
<ol>
<li>Map æ˜¯â€œé”®å€¼å¯¹â€æ˜ å°„çš„æŠ½è±¡æ¥å£ã€‚</li>
<li>AbstractMap å®ç°äº†Mapä¸­çš„ç»å¤§éƒ¨åˆ†å‡½æ•°æ¥å£ã€‚å®ƒå‡å°‘äº†â€œMapçš„å®ç°ç±»â€çš„é‡å¤ç¼–ç ã€‚</li>
<li>SortedMap æœ‰åºçš„â€œé”®å€¼å¯¹â€æ˜ å°„æ¥å£ã€‚</li>
<li>NavigableMap æ˜¯ç»§æ‰¿äºSortedMapçš„ï¼Œæ”¯æŒå¯¼èˆªå‡½æ•°çš„æ¥å£ã€‚</li>
<li>HashMap, Hashtable, TreeMap, WeakHashMapè¿™4ä¸ªç±»æ˜¯â€œé”®å€¼å¯¹â€æ˜ å°„çš„å®ç°ç±»ï¼Œå®ƒä»¬å„æœ‰åŒºåˆ«ã€‚
<ul>
<li>HashMap æ˜¯åŸºäºâ€œæ‹‰é“¾æ³•â€å®ç°çš„æ•£åˆ—è¡¨ã€‚ä¸€èˆ¬ç”¨äºå•çº¿ç¨‹ç¨‹åºä¸­ã€‚</li>
<li>Hashtable ä¹Ÿæ˜¯åŸºäºâ€œæ‹‰é“¾æ³•â€å®ç°çš„æ•£åˆ—è¡¨ã€‚å®ƒä¸€èˆ¬ç”¨äºå¤šçº¿ç¨‹ç¨‹åºä¸­ã€‚</li>
<li>WeakHashMap ä¹Ÿæ˜¯åŸºäºâ€œæ‹‰é“¾æ³•â€å®ç°çš„æ•£åˆ—è¡¨ï¼Œå®ƒä¸€èˆ¬ä¹Ÿç”¨äºå•çº¿ç¨‹ç¨‹åºä¸­ã€‚ç›¸æ¯”HashMapï¼ŒWeakHashMapä¸­çš„é”®æ˜¯â€œå¼±é”®â€ï¼Œå½“â€œå¼±é”®â€è¢«GCå›æ”¶æ—¶ï¼Œå®ƒå¯¹åº”çš„é”®å€¼å¯¹ä¹Ÿä¼šè¢«ä»WeakHashMapä¸­åˆ é™¤ï¼›è€ŒHashMapä¸­çš„é”®æ˜¯å¼ºé”®ã€‚</li>
<li>TreeMap æ˜¯æœ‰åºçš„æ•£åˆ—è¡¨ï¼Œå®ƒæ˜¯é€šè¿‡çº¢é»‘æ ‘å®ç°çš„ã€‚å®ƒä¸€èˆ¬ç”¨äºå•çº¿ç¨‹ä¸­å­˜å‚¨æœ‰åºçš„æ˜ å°„ã€‚</li>
</ul>
</li>
</ol>
<h1 id="hashmapå’Œhashtableå¼‚åŒ">HashMapå’ŒHashtableå¼‚åŒ<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œhashtableå¼‚åŒ">#</a></h1>
<h2 id="hashmapå’Œhashtableçš„ç›¸åŒç‚¹">HashMapå’ŒHashtableçš„ç›¸åŒç‚¹<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œhashtableçš„ç›¸åŒç‚¹">#</a></h2>
<p>HashMapå’ŒHashtableéƒ½æ˜¯å­˜å‚¨â€œé”®å€¼å¯¹(key-value)â€çš„æ•£åˆ—è¡¨ï¼Œè€Œä¸”éƒ½æ˜¯é‡‡ç”¨æ‹‰é“¾æ³•å®ç°çš„ã€‚
å­˜å‚¨çš„æ€æƒ³éƒ½æ˜¯ï¼šé€šè¿‡tableæ•°ç»„å­˜å‚¨ï¼Œæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªEntryï¼›è€Œä¸€ä¸ªEntryå°±æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ï¼ŒEntryé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹å°±ä¿å­˜äº†key-valueé”®å€¼å¯¹æ•°æ®ã€‚</p>
<p>æ·»åŠ key-valueé”®å€¼å¯¹ï¼šé¦–å…ˆï¼Œæ ¹æ®keyå€¼è®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œå†è®¡ç®—å‡ºæ•°ç»„ç´¢å¼•(å³ï¼Œè¯¥key-valueåœ¨tableä¸­çš„ç´¢å¼•)ã€‚ç„¶åï¼Œæ ¹æ®æ•°ç»„ç´¢å¼•æ‰¾åˆ°Entry(å³ï¼Œå•å‘é“¾è¡¨)ï¼Œå†éå†å•å‘é“¾è¡¨ï¼Œå°†keyå’Œé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„keyè¿›è¡Œå¯¹æ¯”ã€‚è‹¥keyå·²ç»å­˜åœ¨Entryé“¾è¡¨ä¸­ï¼Œåˆ™ç”¨è¯¥valueå€¼å–ä»£æ—§çš„valueå€¼ï¼›è‹¥keyä¸å­˜åœ¨Entryé“¾è¡¨ä¸­ï¼Œåˆ™æ–°å»ºä¸€ä¸ªkey-valueèŠ‚ç‚¹ï¼Œå¹¶å°†è¯¥èŠ‚ç‚¹æ’å…¥Entryé“¾è¡¨çš„è¡¨å¤´ä½ç½®ã€‚
åˆ é™¤key-valueé”®å€¼å¯¹ï¼šåˆ é™¤é”®å€¼å¯¹ï¼Œç›¸æ¯”äºâ€œæ·»åŠ é”®å€¼å¯¹â€æ¥è¯´ï¼Œç®€å•å¾ˆå¤šã€‚é¦–å…ˆï¼Œè¿˜æ˜¯æ ¹æ®keyè®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œå†è®¡ç®—å‡ºæ•°ç»„ç´¢å¼•(å³ï¼Œè¯¥key-valueåœ¨tableä¸­çš„ç´¢å¼•)ã€‚ç„¶åï¼Œæ ¹æ®ç´¢å¼•æ‰¾å‡ºEntry(å³ï¼Œå•å‘é“¾è¡¨)ã€‚è‹¥èŠ‚ç‚¹key-valueå­˜åœ¨ä¸é“¾è¡¨Entryä¸­ï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹å³å¯ã€‚</p>
<p>ä¸Šé¢ä»‹ç»äº†HashMapå’ŒHashtableçš„ç›¸åŒç‚¹ã€‚æ­£æ˜¯ç”±äºå®ƒä»¬éƒ½æ˜¯æ•£åˆ—è¡¨ï¼Œæˆ‘ä»¬å…³æ³¨æ›´å¤šçš„æ˜¯â€œå®ƒä»¬çš„åŒºåˆ«ï¼Œä»¥åŠå®ƒä»¬åˆ†åˆ«é€‚åˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨â€ã€‚é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å®ƒä»¬çš„åŒºåˆ«ã€‚</p>
<h2 id="hashmapå’Œhashtableçš„ä¸åŒç‚¹">HashMapå’ŒHashtableçš„ä¸åŒç‚¹<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œhashtableçš„ä¸åŒç‚¹">#</a></h2>
<ol>
<li>
<p>ç»§æ‰¿å’Œå®ç°æ–¹å¼ä¸åŒ
HashMap ç»§æ‰¿äºAbstractMapï¼Œå®ç°äº†Mapã€Cloneableã€java.io.Serializableæ¥å£ã€‚
Hashtable ç»§æ‰¿äºDictionaryï¼Œå®ç°äº†Mapã€Cloneableã€java.io.Serializableæ¥å£ã€‚
HashMapçš„å®šä¹‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> HashMap&lt;K,V&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">extends</span> AbstractMap&lt;K,V&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">implements</span> Map&lt;K,V&gt;, Cloneable, Serializable { ... }
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hashtableçš„å®šä¹‰ï¼š</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Hashtable&lt;K,V&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">extends</span> Dictionary&lt;K,V&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">implements</span> Map&lt;K,V&gt;, Cloneable, java.<span style="color:#007f7f">io</span>.<span style="color:#007f7f">Serializable</span> { ... } 
</span></span></code></pre></td></tr></table>
</div>
</div><p>ä»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p>
</li>
</ol>
<ul>
<li>
<p>HashMapå’ŒHashtableéƒ½å®ç°äº†Mapã€Cloneableã€java.io.Serializableæ¥å£ã€‚
å®ç°äº†Mapæ¥å£ï¼Œæ„å‘³ç€å®ƒä»¬éƒ½æ”¯æŒkey-valueé”®å€¼å¯¹æ“ä½œã€‚æ”¯æŒâ€œæ·»åŠ key-valueé”®å€¼å¯¹â€ã€â€œè·å–keyâ€ã€â€œè·å–valueâ€ã€â€œè·å–mapå¤§å°â€ã€â€œæ¸…ç©ºmapâ€ç­‰åŸºæœ¬çš„key-valueé”®å€¼å¯¹æ“ä½œã€‚
å®ç°äº†Cloneableæ¥å£ï¼Œæ„å‘³ç€å®ƒèƒ½è¢«å…‹éš†ã€‚
å®ç°äº†java.io.Serializableæ¥å£ï¼Œæ„å‘³ç€å®ƒä»¬æ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</p>
</li>
<li>
<p>HashMapç»§æ‰¿äºAbstractMapï¼Œè€ŒHashtableç»§æ‰¿äºDictionary
Dictionaryæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒç›´æ¥ç»§æ‰¿äºObjectç±»ï¼Œæ²¡æœ‰å®ç°ä»»ä½•æ¥å£ã€‚Dictionaryç±»æ˜¯JDK 1.0çš„å¼•å…¥çš„ã€‚è™½ç„¶Dictionaryä¹Ÿæ”¯æŒâ€œæ·»åŠ key-valueé”®å€¼å¯¹â€ã€â€œè·å–valueâ€ã€â€œè·å–å¤§å°â€ç­‰åŸºæœ¬æ“ä½œï¼Œä½†å®ƒçš„APIå‡½æ•°æ¯”Mapå°‘ï¼›è€Œä¸”Dictionaryä¸€èˆ¬æ˜¯é€šè¿‡Enumeration(æšä¸¾ç±»)å»éå†ï¼ŒMapåˆ™æ˜¯é€šè¿‡Iterator(è¿­ä»£å™¨)å»éå†ã€‚ ç„¶è€Œâ€˜ç”±äºHashtableä¹Ÿå®ç°äº†Mapæ¥å£ï¼Œæ‰€ä»¥ï¼Œå®ƒå³æ”¯æŒEnumerationéå†ï¼Œä¹Ÿæ”¯æŒIteratoréå†ã€‚å…³äºè¿™ç‚¹ï¼Œåé¢è¿˜ä¼šè¿›ä¸€æ­¥è¯´æ˜ã€‚
AbstractMapæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒå®ç°äº†Mapæ¥å£çš„ç»å¤§éƒ¨åˆ†APIå‡½æ•°ï¼›ä¸ºMapçš„å…·ä½“å®ç°ç±»æä¾›äº†æå¤§çš„ä¾¿åˆ©ã€‚å®ƒæ˜¯JDK 1.2æ–°å¢çš„ç±»ã€‚</p>
</li>
</ul>
<ol start="2">
<li>
<p>çº¿ç¨‹å®‰å…¨ä¸åŒ
Hashtableçš„å‡ ä¹æ‰€æœ‰å‡½æ•°éƒ½æ˜¯åŒæ­¥çš„ï¼Œå³å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ”¯æŒå¤šçº¿ç¨‹ã€‚
è€ŒHashMapçš„å‡½æ•°åˆ™æ˜¯éåŒæ­¥çš„ï¼Œå®ƒä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è‹¥è¦åœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨HashMapï¼Œéœ€è¦æˆ‘ä»¬é¢å¤–çš„è¿›è¡ŒåŒæ­¥å¤„ç†ã€‚
å¯¹HashMapçš„åŒæ­¥å¤„ç†å¯ä»¥ä½¿ç”¨Collectionsç±»æä¾›çš„synchronizedMapé™æ€æ–¹æ³•ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨JDK 5.0ä¹‹åæä¾›çš„java.util.concurrentåŒ…é‡Œçš„ConcurrentHashMapç±»ã€‚</p>
</li>
<li>
<p>å¯¹nullå€¼çš„å¤„ç†ä¸åŒ
HashMapçš„keyã€valueéƒ½å¯ä»¥ä¸ºnullã€‚
Hashtableçš„keyã€valueéƒ½ä¸å¯ä»¥ä¸ºnullã€‚
æˆ‘ä»¬å…ˆçœ‹çœ‹HashMapå’ŒHashtable â€œæ·»åŠ key-valueâ€çš„æ–¹æ³•
HashMapçš„æ·»åŠ key-valueçš„æ–¹æ³•</p>
</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// å°†â€œkey-valueâ€æ·»åŠ åˆ°HashMapä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> V put(K key, V value) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œkeyä¸ºnullâ€ï¼Œåˆ™å°†è¯¥é”®å€¼å¯¹æ·»åŠ åˆ°table[0]ä¸­ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (key == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> putForNullKey(value);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œkeyä¸ä¸ºnullâ€ï¼Œåˆ™è®¡ç®—è¯¥keyçš„å“ˆå¸Œå€¼ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°è¯¥å“ˆå¸Œå€¼å¯¹åº”çš„é“¾è¡¨ä¸­ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> hash = hash(key.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> i = indexFor(hash, table.<span style="color:#007f7f">length</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span style="color:#fff;font-weight:bold">null</span>; e = e.<span style="color:#007f7f">next</span>) {
</span></span><span style="display:flex;"><span>        Object k;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è‹¥â€œè¯¥keyâ€å¯¹åº”çš„é”®å€¼å¯¹å·²ç»å­˜åœ¨ï¼Œåˆ™ç”¨æ–°çš„valueå–ä»£æ—§çš„valueã€‚ç„¶åé€€å‡ºï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (e.<span style="color:#007f7f">hash</span> == hash &amp;&amp; ((k = e.<span style="color:#007f7f">key</span>) == key || key.<span style="color:#007f7f">equals</span>(k))) {
</span></span><span style="display:flex;"><span>            V oldValue = e.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">value</span> = value;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">recordAccess</span>(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> oldValue;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œè¯¥keyâ€å¯¹åº”çš„é”®å€¼å¯¹ä¸å­˜åœ¨ï¼Œåˆ™å°†â€œkey-valueâ€æ·»åŠ åˆ°tableä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    modCount++;
</span></span><span style="display:flex;"><span>    addEntry(hash, key, value, i);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// putForNullKey()çš„ä½œç”¨æ˜¯å°†â€œkeyä¸ºnullâ€é”®å€¼å¯¹æ·»åŠ åˆ°table[0]ä½ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">private</span> V putForNullKey(V value) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; e = table[<span style="color:#ff0;font-weight:bold">0</span>]; e != <span style="color:#fff;font-weight:bold">null</span>; e = e.<span style="color:#007f7f">next</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (e.<span style="color:#007f7f">key</span> == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            V oldValue = e.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">value</span> = value;
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// recordAccess()å‡½æ•°ä»€ä¹ˆä¹Ÿæ²¡æœ‰åš
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            e.<span style="color:#007f7f">recordAccess</span>(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> oldValue;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æ·»åŠ ç¬¬1ä¸ªâ€œkeyä¸ºnullâ€çš„å…ƒç´ éƒ½tableä¸­çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œåˆ°è¿™é‡Œã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// å®ƒçš„ä½œç”¨æ˜¯å°†â€œè®¾ç½®table[0]çš„keyä¸ºnullï¼Œå€¼ä¸ºvalueâ€ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    modCount++;
</span></span><span style="display:flex;"><span>    addEntry(<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#fff;font-weight:bold">null</span>, value, <span style="color:#ff0;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hashtableçš„æ·»åŠ key-valueçš„æ–¹æ³•</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// å°†â€œkey-valueâ€æ·»åŠ åˆ°Hashtableä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">synchronized</span> V put(K key, V value) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// Hashtableä¸­ä¸èƒ½æ’å…¥valueä¸ºnullçš„å…ƒç´ ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (value == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> NullPointerException();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œHashtableä¸­å·²å­˜åœ¨é”®ä¸ºkeyçš„é”®å€¼å¯¹â€ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// åˆ™ç”¨â€œæ–°çš„valueâ€æ›¿æ¢â€œæ—§çš„valueâ€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry tab[] = table;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// Hashtableä¸­ä¸èƒ½æ’å…¥keyä¸ºnullçš„å…ƒç´ ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// å¦åˆ™ï¼Œä¸‹é¢çš„è¯­å¥ä¼šæŠ›å‡ºå¼‚å¸¸ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> hash = key.<span style="color:#007f7f">hashCode</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> index = (hash &amp; <span style="color:#ff0;font-weight:bold">0x7FFFFFFF</span>) % tab.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span style="color:#fff;font-weight:bold">null</span> ; e = e.<span style="color:#007f7f">next</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> ((e.<span style="color:#007f7f">hash</span> == hash) &amp;&amp; e.<span style="color:#007f7f">key</span>.<span style="color:#007f7f">equals</span>(key)) {
</span></span><span style="display:flex;"><span>            V old = e.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">value</span> = value;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> old;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œHashtableä¸­ä¸å­˜åœ¨é”®ä¸ºkeyçš„é”®å€¼å¯¹â€ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// (01) å°†â€œä¿®æ”¹ç»Ÿè®¡æ•°â€+1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    modCount++;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (02) è‹¥â€œHashtableå®é™…å®¹é‡â€ &gt; â€œé˜ˆå€¼â€(é˜ˆå€¼=æ€»çš„å®¹é‡ * åŠ è½½å› å­)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">//  åˆ™è°ƒæ•´Hashtableçš„å¤§å°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (count &gt;= threshold) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Rehash the table if the threshold is exceeded
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        rehash();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tab = table;
</span></span><span style="display:flex;"><span>        index = (hash &amp; <span style="color:#ff0;font-weight:bold">0x7FFFFFFF</span>) % tab.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (03) å°†â€œHashtableä¸­indexâ€ä½ç½®çš„Entry(é“¾è¡¨)ä¿å­˜åˆ°eä¸­ Entry&lt;K,V&gt; e = tab[index];
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// (04) åˆ›å»ºâ€œæ–°çš„EntryèŠ‚ç‚¹â€ï¼Œå¹¶å°†â€œæ–°çš„Entryâ€æ’å…¥â€œHashtableçš„indexä½ç½®â€ï¼Œå¹¶è®¾ç½®eä¸ºâ€œæ–°çš„Entryâ€çš„ä¸‹ä¸€ä¸ªå…ƒç´ (å³â€œæ–°Entryâ€ä¸ºé“¾è¡¨è¡¨å¤´)ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    tab[index] = <span style="color:#fff;font-weight:bold">new</span> Entry&lt;K,V&gt;(hash, key, value, e);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (05) å°†â€œHashtableçš„å®é™…å®¹é‡â€+1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    count++;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ¹æ®ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š
Hashtableçš„keyæˆ–valueï¼Œéƒ½ä¸èƒ½ä¸ºnullï¼å¦åˆ™ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸NullPointerExceptionã€‚
HashMapçš„keyã€valueéƒ½å¯ä»¥ä¸ºnullã€‚ å½“HashMapçš„keyä¸ºnullæ—¶ï¼ŒHashMapä¼šå°†å…¶å›ºå®šçš„æ’å…¥table[0]ä½ç½®(å³HashMapæ•£åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªä½ç½®)ï¼›è€Œä¸”table[0]å¤„åªä¼šå®¹çº³ä¸€ä¸ªkeyä¸ºnullçš„å€¼ï¼Œå½“æœ‰å¤šä¸ªkeyä¸ºnullçš„å€¼æ’å…¥çš„æ—¶å€™ï¼Œtable[0]ä¼šä¿ç•™æœ€åæ’å…¥çš„valueã€‚</p>
<ol start="4">
<li>
<p>æ”¯æŒçš„éå†ç§ç±»ä¸åŒ
HashMapåªæ”¯æŒIterator(è¿­ä»£å™¨)éå†ã€‚
è€ŒHashtableæ”¯æŒIterator(è¿­ä»£å™¨)å’ŒEnumeration(æšä¸¾å™¨)ä¸¤ç§æ–¹å¼éå†ã€‚
Enumeration æ˜¯JDK 1.0æ·»åŠ çš„æ¥å£ï¼Œåªæœ‰hasMoreElements(), nextElement() ä¸¤ä¸ªAPIæ¥å£ï¼Œä¸èƒ½é€šè¿‡Enumeration()å¯¹å…ƒç´ è¿›è¡Œä¿®æ”¹ ã€‚
è€ŒIterator æ˜¯JDK 1.2æ‰æ·»åŠ çš„æ¥å£ï¼Œæ”¯æŒhasNext(), next(), remove() ä¸‰ä¸ªAPIæ¥å£ã€‚HashMapä¹Ÿæ˜¯JDK 1.2ç‰ˆæœ¬æ‰æ·»åŠ çš„ï¼Œæ‰€ä»¥ç”¨Iteratorå–ä»£Enumerationï¼ŒHashMapåªæ”¯æŒIteratoréå†ã€‚</p>
</li>
<li>
<p>é€šè¿‡Iteratorè¿­ä»£å™¨éå†æ—¶ï¼Œéå†çš„é¡ºåºä¸åŒ
HashMapæ˜¯â€œä»å‰å‘åâ€çš„éå†æ•°ç»„ï¼›å†å¯¹æ•°ç»„å…·ä½“æŸä¸€é¡¹å¯¹åº”çš„é“¾è¡¨ï¼Œä»è¡¨å¤´å¼€å§‹è¿›è¡Œéå†ã€‚
Hashtablæ˜¯â€œä»åå¾€å‰â€çš„éå†æ•°ç»„ï¼›å†å¯¹æ•°ç»„å…·ä½“æŸä¸€é¡¹å¯¹åº”çš„é“¾è¡¨ï¼Œä»è¡¨å¤´å¼€å§‹è¿›è¡Œéå†ã€‚
HashMapå’ŒHashtableéƒ½å®ç°Mapæ¥å£ï¼Œæ‰€ä»¥æ”¯æŒè·å–å®ƒä»¬â€œkeyçš„é›†åˆâ€ã€â€œvalueçš„é›†åˆâ€ã€â€œkey-valueçš„é›†åˆâ€ï¼Œç„¶åé€šè¿‡Iteratorå¯¹è¿™äº›é›†åˆè¿›è¡Œéå†ã€‚
ç”±äºâ€œkeyçš„é›†åˆâ€ã€â€œvalueçš„é›†åˆâ€ã€â€œkey-valueçš„é›†åˆâ€çš„éå†åŸç†éƒ½æ˜¯ä¸€æ ·çš„ï¼›ä¸‹é¢ï¼Œæˆ‘ä»¥éå†â€œkey-valueçš„é›†åˆâ€æ¥è¿›è¡Œè¯´æ˜ã€‚
HashMap å’ŒHashtable éå†&quot;key-valueé›†åˆ&quot;çš„æ–¹å¼æ˜¯ï¼š(01) é€šè¿‡entrySet()è·å–â€œMap.Entryé›†åˆâ€ã€‚ (02) é€šè¿‡iterator()è·å–â€œMap.Entryé›†åˆâ€çš„è¿­ä»£å™¨ï¼Œå†è¿›è¡Œéå†ã€‚
HashMapçš„å®ç°æ–¹å¼ï¼šå…ˆâ€œä»å‰å‘åâ€çš„éå†æ•°ç»„ï¼›å¯¹æ•°ç»„å…·ä½“æŸä¸€é¡¹å¯¹åº”çš„é“¾è¡¨ï¼Œåˆ™ä»è¡¨å¤´å¼€å§‹å¾€åéå†ã€‚</p>
</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è¿”å›â€œHashMapçš„Entryé›†åˆâ€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> Set&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; entrySet() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> entrySet0();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è¿”å›â€œHashMapçš„Entryé›†åˆâ€ï¼Œå®ƒå®é™…æ˜¯è¿”å›ä¸€ä¸ªEntrySetå¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">private</span> Set&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; entrySet0() {
</span></span><span style="display:flex;"><span>    Set&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; es = entrySet;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> es != <span style="color:#fff;font-weight:bold">null</span> ? es : (entrySet = <span style="color:#fff;font-weight:bold">new</span> EntrySet());
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// EntrySetå¯¹åº”çš„é›†åˆ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// EntrySetç»§æ‰¿äºAbstractSetï¼Œè¯´æ˜è¯¥é›†åˆä¸­æ²¡æœ‰é‡å¤çš„EntrySetã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">class</span> EntrySet <span style="color:#fff;font-weight:bold">extends</span> AbstractSet&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Iterator&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; iterator() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> newEntryIterator();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// è¿”å›ä¸€ä¸ªâ€œentryè¿­ä»£å™¨â€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>Iterator&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; newEntryIterator()   {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">new</span> EntryIterator();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// Entryçš„è¿­ä»£å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">class</span> EntryIterator <span style="color:#fff;font-weight:bold">extends</span> HashIterator&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt; next() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> nextEntry();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">class</span> HashIterator&lt;E&gt; <span style="color:#fff;font-weight:bold">implements</span> Iterator&lt;E&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry&lt;K,V&gt; next;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// expectedModCountç”¨äºå®ç°fail-fastæœºåˆ¶ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> expectedModCount;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å½“å‰ç´¢å¼•
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> index;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// å½“å‰å…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry&lt;K,V&gt; current;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    HashIterator() {
</span></span><span style="display:flex;"><span>        expectedModCount = modCount;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (size &gt; <span style="color:#ff0;font-weight:bold">0</span>) { <span style="color:#007f7f">// advance to first entry
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            Entry[] t = table;
</span></span><span style="display:flex;"><span>            <span style="color:#007f7f">// å°†nextæŒ‡å‘tableä¸­ç¬¬ä¸€ä¸ªä¸ä¸ºnullçš„å…ƒç´ ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#007f7f">// è¿™é‡Œåˆ©ç”¨äº†indexçš„åˆå§‹å€¼ä¸º0ï¼Œä»0å¼€å§‹ä¾æ¬¡å‘åéå†ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ä¸ºnullçš„å…ƒç´ å°±é€€å‡ºå¾ªç¯ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>            <span style="color:#fff;font-weight:bold">while</span> (index &lt; t.<span style="color:#007f7f">length</span> &amp;&amp; (next = t[index++]) == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>                ;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> next != <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">final</span> Entry&lt;K,V&gt; nextEntry() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (modCount != expectedModCount)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> ConcurrentModificationException();
</span></span><span style="display:flex;"><span>        Entry&lt;K,V&gt; e = next;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (e == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> NoSuchElementException();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// æ³¨æ„ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// ä¸€ä¸ªEntryå°±æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// è‹¥è¯¥Entryçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå°±å°†nextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#007f7f">// å¦åˆ™ï¼Œå°†nextæŒ‡å‘ä¸‹ä¸€ä¸ªé“¾è¡¨(ä¹Ÿæ˜¯ä¸‹ä¸€ä¸ªEntry)çš„ä¸ä¸ºnullçš„èŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> ((next = e.<span style="color:#007f7f">next</span>) == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            Entry[] t = table;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">while</span> (index &lt; t.<span style="color:#007f7f">length</span> &amp;&amp; (next = t[index++]) == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>                ;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        current = e;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> e;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hashtableçš„å®ç°æ–¹å¼ï¼šå…ˆä»â€œåå‘å¾€å‰â€çš„éå†æ•°ç»„ï¼›å¯¹æ•°ç»„å…·ä½“æŸä¸€é¡¹å¯¹åº”çš„é“¾è¡¨ï¼Œåˆ™ä»è¡¨å¤´å¼€å§‹å¾€åéå†ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">87
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> Set&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; entrySet() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (entrySet==<span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>        entrySet = Collections.<span style="color:#007f7f">synchronizedSet</span>(<span style="color:#fff;font-weight:bold">new</span> EntrySet(), <span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> entrySet;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">class</span> EntrySet <span style="color:#fff;font-weight:bold">extends</span> AbstractSet&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Iterator&lt;Map.<span style="color:#007f7f">Entry</span>&lt;K,V&gt;&gt; iterator() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> getIterator(ENTRIES);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">class</span> Enumerator&lt;T&gt; <span style="color:#fff;font-weight:bold">implements</span> Enumeration&lt;T&gt;, Iterator&lt;T&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// æŒ‡å‘Hashtableçš„table
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry[] table = Hashtable.<span style="color:#007f7f">this</span>.<span style="color:#007f7f">table</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// Hashtableçš„æ€»çš„å¤§å°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> index = table.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    Entry&lt;K,V&gt; entry = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    Entry&lt;K,V&gt; lastReturned = <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> type;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// Enumeratoræ˜¯ â€œè¿­ä»£å™¨(Iterator)â€ è¿˜æ˜¯ â€œæšä¸¾ç±»(Enumeration)â€çš„æ ‡å¿—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// iteratorä¸ºtrueï¼Œè¡¨ç¤ºå®ƒæ˜¯è¿­ä»£å™¨ï¼›å¦åˆ™ï¼Œæ˜¯æšä¸¾ç±»ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">boolean</span> iterator;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// åœ¨å°†Enumeratorå½“ä½œè¿­ä»£å™¨ä½¿ç”¨æ—¶ä¼šç”¨åˆ°ï¼Œç”¨æ¥å®ç°fail-fastæœºåˆ¶ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">int</span> expectedModCount = modCount;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Enumerator(<span style="color:#fff;font-weight:bold">int</span> type, <span style="color:#fff;font-weight:bold">boolean</span> iterator) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">type</span> = type;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">iterator</span> = iterator;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ä»éå†tableçš„æ•°ç»„çš„æœ«å°¾å‘å‰æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ä¸ºnullçš„Entryã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> hasMoreElements() {
</span></span><span style="display:flex;"><span>        Entry&lt;K,V&gt; e = entry;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> i = index;
</span></span><span style="display:flex;"><span>        Entry[] t = table;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/* Use locals for faster loop iteration */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span> (e == <span style="color:#fff;font-weight:bold">null</span> &amp;&amp; i &gt; <span style="color:#ff0;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span>            e = t[--i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        entry = e;
</span></span><span style="display:flex;"><span>        index = i;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> e != <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// æ³¨æ„ï¼šä»hasMoreElements() å’ŒnextElement() å¯ä»¥çœ‹å‡ºâ€œHashtableçš„elements()éå†æ–¹å¼â€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// é¦–å…ˆï¼Œä»åå‘å‰çš„éå†tableæ•°ç»„ã€‚tableæ•°ç»„çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨(Entry)ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// ç„¶åï¼Œä¾æ¬¡å‘åéå†å•å‘é“¾è¡¨Entryã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> T nextElement() {
</span></span><span style="display:flex;"><span>        Entry&lt;K,V&gt; et = entry;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">int</span> i = index;
</span></span><span style="display:flex;"><span>        Entry[] t = table;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">/* Use locals for faster loop iteration */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">while</span> (et == <span style="color:#fff;font-weight:bold">null</span> &amp;&amp; i &gt; <span style="color:#ff0;font-weight:bold">0</span>) {
</span></span><span style="display:flex;"><span>            et = t[--i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        entry = et;
</span></span><span style="display:flex;"><span>        index = i;
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (et != <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>            Entry&lt;K,V&gt; e = lastReturned = entry;
</span></span><span style="display:flex;"><span>            entry = e.<span style="color:#007f7f">next</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> type == KEYS ? (T)e.<span style="color:#007f7f">key</span> : (type == VALUES ? (T)e.<span style="color:#007f7f">value</span> : (T)e);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> NoSuchElementException(<span style="color:#0ff;font-weight:bold">&#34;Hashtable Enumerator&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è¿­ä»£å™¨Iteratorçš„åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// å®é™…ä¸Šï¼Œå®ƒæ˜¯è°ƒç”¨çš„hasMoreElements()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">boolean</span> hasNext() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> hasMoreElements();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è¿­ä»£å™¨è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// å®é™…ä¸Šï¼Œå®ƒæ˜¯è°ƒç”¨çš„nextElement()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">public</span> T next() {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> (modCount != expectedModCount)
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> ConcurrentModificationException();
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> nextElement();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>å®¹é‡çš„åˆå§‹å€¼ å’Œ å¢åŠ æ–¹å¼éƒ½ä¸ä¸€æ ·
HashMapé»˜è®¤çš„å®¹é‡å¤§å°æ˜¯16ï¼›å¢åŠ å®¹é‡æ—¶ï¼Œæ¯æ¬¡å°†å®¹é‡å˜ä¸ºâ€œåŸå§‹å®¹é‡x2â€ã€‚
Hashtableé»˜è®¤çš„å®¹é‡å¤§å°æ˜¯11ï¼›å¢åŠ å®¹é‡æ—¶ï¼Œæ¯æ¬¡å°†å®¹é‡å˜ä¸ºâ€œåŸå§‹å®¹é‡x2 + 1â€ã€‚
HashMapé»˜è®¤çš„â€œåŠ è½½å› å­â€æ˜¯0.75, é»˜è®¤çš„å®¹é‡å¤§å°æ˜¯16ã€‚</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// é»˜è®¤çš„åˆå§‹å®¹é‡æ˜¯16ï¼Œå¿…é¡»æ˜¯2çš„å¹‚ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> DEFAULT_INITIAL_CAPACITY = <span style="color:#ff0;font-weight:bold">16</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// é»˜è®¤åŠ è½½å› å­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">float</span> DEFAULT_LOAD_FACTOR = <span style="color:#ff0;font-weight:bold">0.75f</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// æŒ‡å®šâ€œå®¹é‡å¤§å°â€çš„æ„é€ å‡½æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> HashMap(<span style="color:#fff;font-weight:bold">int</span> initialCapacity) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“HashMapçš„ â€œå®é™…å®¹é‡â€ &gt;= â€œé˜ˆå€¼â€æ—¶ï¼Œ(é˜ˆå€¼ = æ€»çš„å®¹é‡ * åŠ è½½å› å­)ï¼Œå°±å°†HashMapçš„å®¹é‡ç¿»å€ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// æ–°å¢Entryã€‚å°†â€œkey-valueâ€æ’å…¥æŒ‡å®šä½ç½®ï¼ŒbucketIndexæ˜¯ä½ç½®ç´¢å¼•ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">void</span> addEntry(<span style="color:#fff;font-weight:bold">int</span> hash, K key, V value, <span style="color:#fff;font-weight:bold">int</span> bucketIndex) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// ä¿å­˜â€œbucketIndexâ€ä½ç½®çš„å€¼åˆ°â€œeâ€ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry&lt;K,V&gt; e = table[bucketIndex];
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è®¾ç½®â€œbucketIndexâ€ä½ç½®çš„å…ƒç´ ä¸ºâ€œæ–°Entryâ€ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// è®¾ç½®â€œeâ€ä¸ºâ€œæ–°Entryçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹â€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    table[bucketIndex] = <span style="color:#fff;font-weight:bold">new</span> Entry&lt;K,V&gt;(hash, key, value, e);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥HashMapçš„å®é™…å¤§å° ä¸å°äº â€œé˜ˆå€¼â€ï¼Œåˆ™è°ƒæ•´HashMapçš„å¤§å°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (size++ &gt;= threshold)
</span></span><span style="display:flex;"><span>        resize(<span style="color:#ff0;font-weight:bold">2</span> * table.<span style="color:#007f7f">length</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hashtableé»˜è®¤çš„â€œåŠ è½½å› å­â€æ˜¯0.75, é»˜è®¤çš„å®¹é‡å¤§å°æ˜¯11ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>// é»˜è®¤æ„é€ å‡½æ•°ã€‚
</span></span><span style="display:flex;"><span>public Hashtable() {
</span></span><span style="display:flex;"><span>    // é»˜è®¤æ„é€ å‡½æ•°ï¼ŒæŒ‡å®šçš„å®¹é‡å¤§å°æ˜¯11ï¼›åŠ è½½å› å­æ˜¯0.75
</span></span><span style="display:flex;"><span>    this(11, 0.75f);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>å½“Hashtableçš„ â€œå®é™…å®¹é‡â€ &gt;= â€œé˜ˆå€¼â€æ—¶ï¼Œ(é˜ˆå€¼ = æ€»çš„å®¹é‡ x åŠ è½½å› å­)ï¼Œå°±å°†å˜ä¸ºâ€œåŸå§‹å®¹é‡x2 + 1â€ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">// è°ƒæ•´Hashtableçš„é•¿åº¦ï¼Œå°†é•¿åº¦å˜æˆåŸæ¥çš„(2å€+1)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// (01) å°†â€œæ—§çš„Entryæ•°ç»„â€èµ‹å€¼ç»™ä¸€ä¸ªä¸´æ—¶å˜é‡ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// (02) åˆ›å»ºä¸€ä¸ªâ€œæ–°çš„Entryæ•°ç»„â€ï¼Œå¹¶èµ‹å€¼ç»™â€œæ—§çš„Entryæ•°ç»„â€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">// (03) å°†â€œHashtableâ€ä¸­çš„å…¨éƒ¨å…ƒç´ ä¾æ¬¡æ·»åŠ åˆ°â€œæ–°çš„Entryæ•°ç»„â€ä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> rehash() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> oldCapacity = table.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    Entry[] oldMap = table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> newCapacity = oldCapacity * <span style="color:#ff0;font-weight:bold">2</span> + <span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span>    Entry[] newMap = <span style="color:#fff;font-weight:bold">new</span> Entry[newCapacity];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    modCount++;
</span></span><span style="display:flex;"><span>    threshold = (<span style="color:#fff;font-weight:bold">int</span>)(newCapacity * loadFactor);
</span></span><span style="display:flex;"><span>    table = newMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = oldCapacity ; i-- &gt; <span style="color:#ff0;font-weight:bold">0</span> ;) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; old = oldMap[i] ; old != <span style="color:#fff;font-weight:bold">null</span> ; ) {
</span></span><span style="display:flex;"><span>            Entry&lt;K,V&gt; e = old;
</span></span><span style="display:flex;"><span>            old = old.<span style="color:#007f7f">next</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">int</span> index = (e.<span style="color:#007f7f">hash</span> &amp; <span style="color:#ff0;font-weight:bold">0x7FFFFFFF</span>) % newCapacity;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">next</span> = newMap[index];
</span></span><span style="display:flex;"><span>            newMap[index] = e;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>æ·»åŠ key-valueæ—¶çš„hashå€¼ç®—æ³•ä¸åŒ
HashMapæ·»åŠ å…ƒç´ æ—¶ï¼Œæ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„å“ˆå¸Œç®—æ³•ã€‚
Hashtableæ²¡æœ‰è‡ªå®šä¹‰å“ˆå¸Œç®—æ³•ï¼Œè€Œç›´æ¥é‡‡ç”¨çš„keyçš„hashCode()ã€‚
HashMapæ·»åŠ å…ƒç´ æ—¶ï¼Œæ˜¯ä½¿ç”¨è‡ªå®šä¹‰çš„å“ˆå¸Œç®—æ³•ã€‚</li>
</ol>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> hash(<span style="color:#fff;font-weight:bold">int</span> h) {
</span></span><span style="display:flex;"><span>    h ^= (h &gt;&gt;&gt; <span style="color:#ff0;font-weight:bold">20</span>) ^ (h &gt;&gt;&gt; <span style="color:#ff0;font-weight:bold">12</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> h ^ (h &gt;&gt;&gt; <span style="color:#ff0;font-weight:bold">7</span>) ^ (h &gt;&gt;&gt; <span style="color:#ff0;font-weight:bold">4</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// å°†â€œkey-valueâ€æ·»åŠ åˆ°HashMapä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">public</span> V put(K key, V value) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œkeyä¸ºnullâ€ï¼Œåˆ™å°†è¯¥é”®å€¼å¯¹æ·»åŠ åˆ°table[0]ä¸­ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (key == <span style="color:#fff;font-weight:bold">null</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span> putForNullKey(value);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œkeyä¸ä¸ºnullâ€ï¼Œåˆ™è®¡ç®—è¯¥keyçš„å“ˆå¸Œå€¼ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°è¯¥å“ˆå¸Œå€¼å¯¹åº”çš„é“¾è¡¨ä¸­ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">int</span> hash = hash(key.<span style="color:#007f7f">hashCode</span>());
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> i = indexFor(hash, table.<span style="color:#007f7f">length</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span style="color:#fff;font-weight:bold">null</span>; e = e.<span style="color:#007f7f">next</span>) {
</span></span><span style="display:flex;"><span>        Object k;
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// è‹¥â€œè¯¥keyâ€å¯¹åº”çš„é”®å€¼å¯¹å·²ç»å­˜åœ¨ï¼Œåˆ™ç”¨æ–°çš„valueå–ä»£æ—§çš„valueã€‚ç„¶åé€€å‡ºï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        <span style="color:#fff;font-weight:bold">if</span> (e.<span style="color:#007f7f">hash</span> == hash &amp;&amp; ((k = e.<span style="color:#007f7f">key</span>) == key || key.<span style="color:#007f7f">equals</span>(k))) {
</span></span><span style="display:flex;"><span>            V oldValue = e.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">value</span> = value;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">recordAccess</span>(<span style="color:#fff;font-weight:bold">this</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> oldValue;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œè¯¥keyâ€å¯¹åº”çš„é”®å€¼å¯¹ä¸å­˜åœ¨ï¼Œåˆ™å°†â€œkey-valueâ€æ·»åŠ åˆ°tableä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    modCount++;
</span></span><span style="display:flex;"><span>    addEntry(hash, key, value, i);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hashtableæ²¡æœ‰è‡ªå®šä¹‰å“ˆå¸Œç®—æ³•ï¼Œè€Œç›´æ¥é‡‡ç”¨çš„keyçš„hashCode()ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">synchronized</span> V put(K key, V value) {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// Hashtableä¸­ä¸èƒ½æ’å…¥valueä¸ºnullçš„å…ƒç´ ï¼ï¼ï¼
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (value == <span style="color:#fff;font-weight:bold">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">throw</span> <span style="color:#fff;font-weight:bold">new</span> NullPointerException();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œHashtableä¸­å·²å­˜åœ¨é”®ä¸ºkeyçš„é”®å€¼å¯¹â€ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// åˆ™ç”¨â€œæ–°çš„valueâ€æ›¿æ¢â€œæ—§çš„valueâ€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry tab[] = table;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> hash = key.<span style="color:#007f7f">hashCode</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">int</span> index = (hash &amp; <span style="color:#ff0;font-weight:bold">0x7FFFFFFF</span>) % tab.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">for</span> (Entry&lt;K,V&gt; e = tab[index] ; e != <span style="color:#fff;font-weight:bold">null</span> ; e = e.<span style="color:#007f7f">next</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">if</span> ((e.<span style="color:#007f7f">hash</span> == hash) &amp;&amp; e.<span style="color:#007f7f">key</span>.<span style="color:#007f7f">equals</span>(key)) {
</span></span><span style="display:flex;"><span>            V old = e.<span style="color:#007f7f">value</span>;
</span></span><span style="display:flex;"><span>            e.<span style="color:#007f7f">value</span> = value;
</span></span><span style="display:flex;"><span>            <span style="color:#fff;font-weight:bold">return</span> old;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// è‹¥â€œHashtableä¸­ä¸å­˜åœ¨é”®ä¸ºkeyçš„é”®å€¼å¯¹â€ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">// (01) å°†â€œä¿®æ”¹ç»Ÿè®¡æ•°â€+1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    modCount++;
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (02) è‹¥â€œHashtableå®é™…å®¹é‡â€ &gt; â€œé˜ˆå€¼â€(é˜ˆå€¼=æ€»çš„å®¹é‡ * åŠ è½½å› å­)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#007f7f">//  åˆ™è°ƒæ•´Hashtableçš„å¤§å°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    <span style="color:#fff;font-weight:bold">if</span> (count &gt;= threshold) {
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// Rehash the table if the threshold is exceeded
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        rehash();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tab = table;
</span></span><span style="display:flex;"><span>        index = (hash &amp; <span style="color:#ff0;font-weight:bold">0x7FFFFFFF</span>) % tab.<span style="color:#007f7f">length</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (03) å°†â€œHashtableä¸­indexâ€ä½ç½®çš„Entry(é“¾è¡¨)ä¿å­˜åˆ°eä¸­
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    Entry&lt;K,V&gt; e = tab[index];
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (04) åˆ›å»ºâ€œæ–°çš„EntryèŠ‚ç‚¹â€ï¼Œå¹¶å°†â€œæ–°çš„Entryâ€æ’å…¥â€œHashtableçš„indexä½ç½®â€ï¼Œå¹¶è®¾ç½®eä¸ºâ€œæ–°çš„Entryâ€çš„ä¸‹ä¸€ä¸ªå…ƒç´ (å³â€œæ–°Entryâ€ä¸ºé“¾è¡¨è¡¨å¤´)ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    tab[index] = <span style="color:#fff;font-weight:bold">new</span> Entry&lt;K,V&gt;(hash, key, value, e);
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// (05) å°†â€œHashtableçš„å®é™…å®¹é‡â€+1
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    count++;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="8">
<li>
<p>éƒ¨åˆ†APIä¸åŒ
Hashtableæ”¯æŒcontains(Object value)æ–¹æ³•ï¼Œè€Œä¸”é‡å†™äº†toString()æ–¹æ³•ï¼›
è€ŒHashMapä¸æ”¯æŒcontains(Object value)æ–¹æ³•ï¼Œæ²¡æœ‰é‡å†™toString()æ–¹æ³•ã€‚</p>
</li>
<li>
<p>æœ€åï¼Œå†è¯´è¯´â€œHashMapå’ŒHashtableâ€ä½¿ç”¨çš„æƒ…æ™¯ã€‚
å…¶å®ï¼Œè‹¥äº†è§£å®ƒä»¬ä¹‹é—´çš„ä¸åŒä¹‹å¤„åï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åŒºåˆ†æ ¹æ®æƒ…å†µè¿›è¡Œå–èˆã€‚ä¾‹å¦‚ï¼š(01) è‹¥åœ¨å•çº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šé€‰æ‹©HashMapï¼›è€Œåœ¨å¤šçº¿ç¨‹ä¸­ï¼Œåˆ™ä¼šé€‰æ‹©Hashtableã€‚(02)ï¼Œè‹¥ä¸èƒ½æ’å…¥nullå…ƒç´ ï¼Œåˆ™é€‰æ‹©Hashtableï¼›å¦åˆ™ï¼Œå¯ä»¥é€‰æ‹©HashMapã€‚
ä½†è¿™ä¸ªä¸æ˜¯ç»å¯¹çš„æ ‡å‡†ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±å¯¹HashMapè¿›è¡ŒåŒæ­¥ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ConcurrentHashMapã€‚å½“HashMapå’ŒHashtableéƒ½ä¸èƒ½æ»¡è¶³è‡ªå·±çš„éœ€æ±‚æ—¶ï¼Œè¿˜å¯ä»¥è€ƒè™‘æ–°å®šä¹‰ä¸€ä¸ªç±»ï¼Œç»§æ‰¿æˆ–é‡æ–°å®ç°æ•£åˆ—è¡¨ï¼›å½“ç„¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦çš„äº†ã€‚</p>
</li>
</ol>
<h1 id="hashmapå’Œweakhashmapå¼‚åŒ">HashMapå’ŒWeakHashMapå¼‚åŒ<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œweakhashmapå¼‚åŒ">#</a></h1>
<h2 id="hashmapå’Œweakhashmapçš„ç›¸åŒç‚¹">HashMapå’ŒWeakHashMapçš„ç›¸åŒç‚¹<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œweakhashmapçš„ç›¸åŒç‚¹">#</a></h2>
<ul>
<li>å®ƒä»¬éƒ½æ˜¯æ•£åˆ—è¡¨ï¼Œå­˜å‚¨çš„æ˜¯â€œé”®å€¼å¯¹â€æ˜ å°„ã€‚</li>
<li>å®ƒä»¬éƒ½ç»§æ‰¿äºAbstractMapï¼Œå¹¶ä¸”å®ç°MapåŸºç¡€ã€‚</li>
<li>å®ƒä»¬çš„æ„é€ å‡½æ•°éƒ½ä¸€æ ·ã€‚</li>
<li>å®ƒä»¬éƒ½åŒ…æ‹¬4ä¸ªæ„é€ å‡½æ•°ï¼Œè€Œä¸”å‡½æ•°çš„å‚æ•°éƒ½ä¸€æ ·ã€‚</li>
<li>é»˜è®¤çš„å®¹é‡å¤§å°æ˜¯16ï¼Œé»˜è®¤çš„åŠ è½½å› å­æ˜¯0.75ã€‚</li>
<li>å®ƒä»¬çš„â€œé”®â€å’Œâ€œå€¼â€éƒ½å…è®¸ä¸ºnullã€‚</li>
<li>å®ƒä»¬éƒ½æ˜¯â€œéåŒæ­¥çš„â€ã€‚</li>
</ul>
<h2 id="hashmapå’Œweakhashmapçš„ä¸åŒç‚¹">HashMapå’ŒWeakHashMapçš„ä¸åŒç‚¹<a hidden class="anchor" aria-hidden="true" href="#hashmapå’Œweakhashmapçš„ä¸åŒç‚¹">#</a></h2>
<ul>
<li>
<p>HashMapå®ç°äº†Cloneableå’ŒSerializableæ¥å£ï¼Œè€ŒWeakHashMapæ²¡æœ‰ã€‚
HashMapå®ç°Cloneableï¼Œæ„å‘³ç€å®ƒèƒ½é€šè¿‡clone()å…‹éš†è‡ªå·±ã€‚
HashMapå®ç°Serializableï¼Œæ„å‘³ç€å®ƒæ”¯æŒåºåˆ—åŒ–ï¼Œèƒ½é€šè¿‡åºåˆ—åŒ–å»ä¼ è¾“ã€‚</p>
</li>
<li>
<p>HashMapçš„â€œé”®â€æ˜¯â€œå¼ºå¼•ç”¨(StrongReference)â€ï¼Œè€ŒWeakHashMapçš„é”®æ˜¯â€œå¼±å¼•ç”¨(WeakReference)â€ã€‚
WeakReferenceçš„â€œå¼±é”®â€èƒ½å®ç°WeakReferenceå¯¹â€œé”®å€¼å¯¹â€çš„åŠ¨æ€å›æ”¶ã€‚å½“â€œå¼±é”®â€ä¸å†è¢«ä½¿ç”¨åˆ°æ—¶ï¼ŒGCä¼šå›æ”¶å®ƒï¼ŒWeakReferenceä¹Ÿä¼šå°†â€œå¼±é”®â€å¯¹åº”çš„é”®å€¼å¯¹åˆ é™¤ã€‚
è¿™ä¸ªâ€œå¼±é”®â€å®ç°çš„åŠ¨æ€å›æ”¶â€œé”®å€¼å¯¹â€çš„åŸç†å‘¢ï¼Ÿå…¶å®ï¼Œé€šè¿‡WeakReference(å¼±å¼•ç”¨)å’ŒReferenceQueue(å¼•ç”¨é˜Ÿåˆ—)å®ç°çš„ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£WeakHashMapä¸­ï¼š
ç¬¬ä¸€ï¼Œâ€œé”®â€æ˜¯WeakReferenceï¼Œå³keyæ˜¯å¼±é”®ã€‚
ç¬¬äºŒï¼ŒReferenceQueueæ˜¯ä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼Œå®ƒæ˜¯å’ŒWeakHashMapè”åˆä½¿ç”¨çš„ã€‚å½“å¼±å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡è¢«åƒåœ¾å›æ”¶ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªå¼±å¼•ç”¨åŠ å…¥åˆ°ä¸ä¹‹å…³è”çš„å¼•ç”¨é˜Ÿåˆ—ä¸­ã€‚ WeakHashMapä¸­çš„ReferenceQueueæ˜¯queueã€‚
ç¬¬ä¸‰ï¼ŒWeakHashMapæ˜¯é€šè¿‡æ•°ç»„å®ç°çš„ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªæ•°ç»„æ˜¯tableã€‚
æ¥ä¸‹æ¥ï¼Œè¯´è¯´â€œåŠ¨æ€å›æ”¶â€çš„æ­¥éª¤ã€‚
(01) æ–°å»ºWeakHashMapï¼Œå°†â€œé”®å€¼å¯¹â€æ·»åŠ åˆ°WeakHashMapä¸­ã€‚
å°†â€œé”®å€¼å¯¹â€æ·»åŠ åˆ°WeakHashMapä¸­æ—¶ï¼Œæ·»åŠ çš„é”®éƒ½æ˜¯å¼±é”®ã€‚
å®é™…ä¸Šï¼ŒWeakHashMapæ˜¯é€šè¿‡æ•°ç»„tableä¿å­˜Entry(é”®å€¼å¯¹)ï¼›æ¯ä¸€ä¸ªEntryå®é™…ä¸Šæ˜¯ä¸€ä¸ªå•å‘é“¾è¡¨ï¼Œå³Entryæ˜¯é”®å€¼å¯¹é“¾è¡¨ã€‚
(02) å½“æŸâ€œå¼±é”®â€ä¸å†è¢«å…¶å®ƒå¯¹è±¡å¼•ç”¨ï¼Œå¹¶è¢«GCå›æ”¶æ—¶ã€‚åœ¨GCå›æ”¶è¯¥â€œå¼±é”®â€æ—¶ï¼Œè¿™ä¸ªâ€œå¼±é”®â€ä¹ŸåŒæ—¶ä¼šè¢«æ·»åŠ åˆ°queueé˜Ÿåˆ—ä¸­ã€‚
ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬åœ¨å°†â€œå¼±é”®â€keyæ·»åŠ åˆ°WeakHashMapä¹‹åï¼›åæ¥å°†keyè®¾ä¸ºnullã€‚è¿™æ—¶ï¼Œä¾¿æ²¡æœ‰å¤–éƒ¨å¤–éƒ¨å¯¹è±¡å†å¼•ç”¨è¯¥äº†keyã€‚
æ¥ç€ï¼Œå½“Javaè™šæ‹Ÿæœºçš„GCå›æ”¶å†…å­˜æ—¶ï¼Œä¼šå›æ”¶keyçš„ç›¸å…³å†…å­˜ï¼›åŒæ—¶ï¼Œå°†keyæ·»åŠ åˆ°queueé˜Ÿåˆ—ä¸­ã€‚
(03) å½“ä¸‹ä¸€æ¬¡æˆ‘ä»¬éœ€è¦æ“ä½œWeakHashMapæ—¶ï¼Œä¼šå…ˆåŒæ­¥tableå’Œqueueã€‚tableä¸­ä¿å­˜äº†å…¨éƒ¨çš„é”®å€¼å¯¹ï¼Œè€Œqueueä¸­ä¿å­˜è¢«GCå›æ”¶çš„â€œå¼±é”®â€ï¼›åŒæ­¥å®ƒä»¬ï¼Œå°±æ˜¯åˆ é™¤tableä¸­è¢«GCå›æ”¶çš„â€œå¼±é”®â€å¯¹åº”çš„é”®å€¼å¯¹ã€‚
ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬â€œè¯»å–WeakHashMapä¸­çš„å…ƒç´ æˆ–è·å–WeakReferenceçš„å¤§å°æ—¶â€ï¼Œå®ƒä¼šå…ˆåŒæ­¥tableå’Œqueueï¼Œç›®çš„æ˜¯â€œåˆ é™¤tableä¸­è¢«GCå›æ”¶çš„â€˜å¼±é”®â€™å¯¹åº”çš„é”®å€¼å¯¹â€ã€‚åˆ é™¤çš„æ–¹æ³•å°±æ˜¯é€ä¸ªæ¯”è¾ƒâ€œtableä¸­å…ƒç´ çš„â€˜é”®â€™å’Œqueueä¸­çš„â€˜é”®â€™â€ï¼Œè‹¥å®ƒä»¬ç›¸å½“ï¼Œåˆ™åˆ é™¤â€œtableä¸­çš„è¯¥é”®å€¼å¯¹â€ã€‚</p>
</li>
</ul>
<p>å‚è€ƒåœ°å€ï¼šhttp://www.cnblogs.com/skywang12345/p/3311126.html</p>
<h1 id="è®°ä¸€æ¬¡mapçš„ä½¿ç”¨">è®°ä¸€æ¬¡mapçš„ä½¿ç”¨<a hidden class="anchor" aria-hidden="true" href="#è®°ä¸€æ¬¡mapçš„ä½¿ç”¨">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>List&lt;Map&lt;String,String&gt;&gt; videoList = <span style="color:#fff;font-weight:bold">new</span> ArrayList&lt;&gt;();
</span></span><span style="display:flex;"><span>Map&lt;String,String&gt; map = <span style="color:#fff;font-weight:bold">new</span> HashMap&lt;&gt;();
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;video&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;v1&#34;</span>);
</span></span><span style="display:flex;"><span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;cover&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;c1&#34;</span>);
</span></span><span style="display:flex;"><span>videoList.<span style="color:#007f7f">add</span>(map);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//è¿™ä¸€æ­¥ï¼Œlistçš„ä¸­ç¬¬ä¸€ä¸ªmapä¸­çš„v1å˜æˆäº†v2
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;video&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;v2&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//c1å˜æˆäº†c2ï¼Œä¹Ÿå°±æ˜¯è¯´mapæ”¹å˜äº†ï¼ŒåŒæ—¶addåˆ°listä¸­çš„mapä¹Ÿæ”¹å˜äº†
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//ä¹Ÿå°±æ˜¯è¯´ï¼Œaddåˆ°listä¸­çš„mapï¼Œæ˜¯æŒ‡å‘äº†å†…å­˜åœ°å€ï¼Œå†…å­˜åœ°å€å˜äº†ï¼ŒæŒ‡å‘çš„ä¹Ÿæ”¹å˜äº†
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>map.<span style="color:#007f7f">put</span>(<span style="color:#0ff;font-weight:bold">&#34;cover&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;c2&#34;</span>);
</span></span><span style="display:flex;"><span>videoList.<span style="color:#007f7f">add</span>(map);
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://funny-toffee-4aa7c3.netlify.app/tags/collection/">Collection</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://funny-toffee-4aa7c3.netlify.app/">Wjy&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>