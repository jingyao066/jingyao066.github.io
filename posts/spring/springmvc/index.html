<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>springMVC | Wjy&#39;s Blog</title>
<meta name="keywords" content="spring">
<meta name="description" content="spring mvc 概述
MVC，即 model模型，view视图，controller控制。
spring mvc可以用来开发灵活、松散耦合的 web 应用程序。
MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。

模型封装了应用程序数据，通常由POJO组成。
视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。
控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。
">
<meta name="author" content="Wjy">
<link rel="canonical" href="https://009965.xyz/posts/spring/springmvc/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://009965.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://009965.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://009965.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://009965.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://009965.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://009965.xyz/posts/spring/springmvc/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:url" content="https://009965.xyz/posts/spring/springmvc/">
  <meta property="og:site_name" content="Wjy&#39;s Blog">
  <meta property="og:title" content="springMVC">
  <meta property="og:description" content="spring mvc 概述 MVC，即 model模型，view视图，controller控制。 spring mvc可以用来开发灵活、松散耦合的 web 应用程序。 MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。
模型封装了应用程序数据，通常由POJO组成。 视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。 控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。 ">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-01-13T23:35:36+00:00">
    <meta property="article:modified_time" content="2020-01-13T23:35:36+00:00">
    <meta property="article:tag" content="Spring">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="springMVC">
<meta name="twitter:description" content="spring mvc 概述
MVC，即 model模型，view视图，controller控制。
spring mvc可以用来开发灵活、松散耦合的 web 应用程序。
MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。

模型封装了应用程序数据，通常由POJO组成。
视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。
控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。
">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://009965.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "springMVC",
      "item": "https://009965.xyz/posts/spring/springmvc/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "springMVC",
  "name": "springMVC",
  "description": "spring mvc 概述 MVC，即 model模型，view视图，controller控制。 spring mvc可以用来开发灵活、松散耦合的 web 应用程序。 MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。\n模型封装了应用程序数据，通常由POJO组成。 视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。 控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。 ",
  "keywords": [
    "spring"
  ],
  "articleBody": "spring mvc 概述 MVC，即 model模型，view视图，controller控制。 spring mvc可以用来开发灵活、松散耦合的 web 应用程序。 MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。\n模型封装了应用程序数据，通常由POJO组成。 视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。 控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。 DispatcherServlet spring mvc框架是围绕 DispatcherServlet 设计的，DispatcherServlet 用来处理所有的 HTTP 请求和响应。 Spring Web MVC DispatcherServlet 的请求处理的工作流程如下：\n用户发送请求至前端控制器DispatcherServlet。 DispatcherServlet收到请求调用 HandlerMapping 处理器映射器。 HandlerMapping找到具体的处理器(可以根据xml配置、注解进行查找)，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet。 DispatcherServlet调用HandlerAdapter(处理器适配器)。 HandlerAdapter 调用具体的处理器(Controller，也叫后端控制器)。 Controller执行完成返回ModelAndView。 HandlerAdapter将controller执行结果ModelAndView返回给DispatcherServlet。 DispatcherServlet将ModelAndView传给ViewReslover视图解析器。 ViewReslover解析后返回具体View。 DispatcherServlet根据View进行渲染视图（即将模型数据填充至视图中）。 DispatcherServlet响应用户。 spring mvc 的注解 @Controller 在SpringMVC中，控制器Controller 负责处理由DispatcherServlet 分发的请求，它把用户请求的数据经过业务处理层处理之后封装成一个Model ，然后再把该Model 返回给对应的View 进行展示。 在SpringMVC 中提供了一个非常简便的定义Controller 的方法，你无需继承特定的类或实现特定的接口，只需使用@Controller 标记一个类是Controller ，然后使用@RequestMapping 或@RequestParam 等一些注解用以定义URL 请求和Controller 方法之间的映射，这样的Controller 就能被外界访问到。\n此外Controller 不会直接依赖于HttpServletRequest 和HttpServletResponse 等HttpServlet 对象，它们可以通过Controller 的方法参数灵活的获取到。\n@Controller 用于标记在一个类上，使用它标记的类就是一个SpringMVC Controller 对象。 分发处理器将会扫描使用了该注解的类的方法，并检测该方法是否使用了@RequestMapping 注解。 @Controller 只是定义了一个控制器类，而使用@RequestMapping 注解的方法才是真正处理请求的处理器。 单单使用@Controller 标记在一个类上还不能真正意义上的说它就是SpringMVC 的一个控制器类，因为这个时候Spring 还不认识它。那么要如何做Spring 才能认识它呢？这个时候就需要我们把这个控制器类交给Spring 来管理。有两种方式：\n在SpringMVC 的配置文件中定义MyController 的bean 对象。 在SpringMVC 的配置文件中告诉Spring 该到哪里去找标记为@Controller 的Controller 控制器。 1 2 3 4 \"com.host.app.web.controller.MyController\"/\u003e \u003c context:component-scan base-package = \"com.host.app.web\" /\u003e//路径写到controller的上一层(扫描包详解见下面浅析) @RequestMapping 1 2 3 4 5 6 7 8 9 10 /** * 设置处理方法的请求方式 * 假如将处理方法的请求方式设置成get，那么只能用get方式进行请求 * get之外的任何请求方式都不好用 */ @RequestMapping(value=\"/testGet\",method=RequestMethod.GET) public String testRequestMethod(){ System.out.println(\"testRequestMethod\"); return \"success\"; } Spring 4.3对@RequestMapping()进行了细分： @GetMapping：相当于Get请求@RequestMapping(method=RequestMethod.GET) @PostMapping：相当于POST请求@RequestMapping(method=RequestMethod.POST) @PutMapping：相当于PUT请求@RequestMapping(method=RequestMethod.PUT) @DeleteMapping：相当于DELETE请求@RequestMapping(method=RequestMethod.DELETE) @PatchMapping：相当于PATCH请求@RequestMapping(method=RequestMethod.PATCH)\nRequestMapping的params属性 1 2 3 4 5 6 7 8 9 10 /** * 请求必须包含username参数 * 不能包含address * 必须包含age参数，但是值不能等于10 */ @RequestMapping(value=\"/testParam\",params={\"username\",\"!address\",\"age!=10\"}) public String testParam(){ System.out.println(\"testParam\"); return \"success\"; } mapping中参数解析： value：指定请求的实际地址，指定的地址可以是URI Template 模式（后面将会说明） method：指定请求的method类型， GET、POST、PUT、DELETE等 consumes：指定处理请求的提交内容类型（Content-Type），例如application/json, text/html; produces：指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回 params：指定request中必须包含某些参数值是，才让该方法处理 headers：指定request中必须包含某些指定的header值，才能让该方法处理请求\n@Resource和@Autowired @Resource和@Autowired都是做bean的注入时使用，其实@Resource并不是Spring的注解， 它的包是javax.annotation.Resource，需要导入，但是Spring支持该注解的注入。\n共同点： 两者都可以写在字段和setter方法上。两者如果都写在字段上，那么就不需要再写setter方法。\n不同点：\n@Autowired @Autowired是Spring提供的注解，需要导入包 org.springframework.beans.factory.annotation.Autowired，只按照byType注入。 1 2 3 4 5 6 7 8 9 10 public class TestServiceImpl { // 下面两种@Autowired只要使用一种即可 @Autowired private UserDao userDao; // 用于类上，常用于在service实现类注入dao层对象。 @Autowired public void setUserDao(UserDao userDao) { // 用于属性的方法上 this.userDao = userDao; } } @Autowired注解是按照类型（byType）装配依赖对象，默认情况下它要求依赖对象必须存在，如果允许null值，可以设置它的required属性为false。 如果我们想使用按照名称（byName）来装配，可以结合@Qualifier注解一起使用。如下：\n1 2 3 4 5 public class TestServiceImpl { @Autowired @Qualifier(\"userDao\") private UserDao userDao; } @Resource @Resource默认按照ByName自动注入，由J2EE提供，需要导入包javax.annotation.Resource。 @Resource有两个重要的属性：name和type，而Spring将@Resource注解的name属性解析为bean的名字，而type属性则解析为bean的类型。 所以，如果使用name属性，则使用byName的自动注入策略，而使用type属性时则使用byType自动注入策略。如果既不指定name也不指定type属性，这时将通过反射机制使用byName自动注入。 1 2 3 4 5 6 7 8 9 10 public class TestServiceImpl { // 下面两种@Resource只要使用一种即可 @Resource(name=\"userDao\") private UserDao userDao; // 用于字段上 @Resource(name=\"userDao\") public void setUserDao(UserDao userDao) { // 用于属性的setter方法上 this.userDao = userDao; } } 注：最好是将@Resource放在setter方法上，因为这样更符合面向对象的思想，通过set、get去操作属性，而不是直接去操作属性。 @Resource装配顺序：\n如果同时指定了name和type，则从Spring上下文中找到唯一匹配的bean进行装配，找不到则抛出异常。 如果指定了name，则从上下文中查找名称（id）匹配的bean进行装配，找不到则抛出异常。 如果指定了type，则从上下文中找到类似匹配的唯一bean进行装配，找不到或是找到多个，都会抛出异常。 如果既没有指定name，又没有指定type，则自动按照byName方式进行装配；如果没有匹配，则回退为一个原始类型进行匹配，如果匹配则自动装配。 @Resource的作用相当于@Autowired，只不过@Autowired按照byType自动注入。\n参考\n@PathVariable 1 2 3 4 5 6 7 8 9 10 11 12 13 /** * 用于将请求URL中的模板变量映射到功能处理方法的参数上，即取出uri模板中的变量作为参数 */ @RequestMapping(\"/testPathV/{id}/{name}\") //testPathV/1/abc //testPathV/2/fff // 地址栏：http://localhost:8080/MySpringMvc/mvc/testPathV/10/abc public String testPathVariable(@PathVariable(\"id\")Integer id, @PathVariable(\"name\")String name){ System.out.println(\"id~~~~~~~~\"+id); System.out.println(\"name~~~~~~~~\"+name); return \"success\"; } @requestParam 获取请求参数，要写在方法的括号内，两个属性\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /** * 1.value 要获取的参数名字 * 2.required 是否必须传递 * 如果将其中的一个参数设置为了必须传递，那么在浏览器上如果不传递该参数，则会报400错误 * 如果不指定value值，那么传递的参数必须和参数名一致 */ @RequestMapping(\"/testRequestParam\") // 地址栏：http://localhost:8080/MySpringMvc/mvc/testRequestParam?email=123456@qq.com public String testRequestParam( @RequestParam(value = \"age\",required = false)Integer age, @RequestParam(value = \"email\",required = true)String email){ System.out.println(\"age~~~~~~~~\"+age); System.out.println(\"email~~~~~~~~\"+email); return \"success\"; } @requestBody 该常用来处理content-type不是默认的application/x-www-form-urlcoded编码的内容， 比如说：application/json或者是application/xml等。一般情况下来说常用其来处理application/json类型。\n通常使用该注解来接收前端传递的参数。写法如下： (@RequestBody Map paramMap)\n传值方法如下：\n1 2 3 4 5 6 7 8 { \"pageNum\":1, \"pageSize\":10, \"status\":100, \"groupId\":\"\", \"startTime\":\"\", \"endTime\":\"\" } 今天在写上传视频接口时，因为需要同时上传视频和传递参数，请求体同时使用了requestBody和requestParam两种注解： @RequestParam(\"file\") MultipartFile[] file,@RequestBody Map paramMap\n因为平时接前端参数都是requestbody+map，这时使用postMan调用接口报错(http415错误)：\n1 2 3 Resolved exception caused by Handler execution: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded;charset=UTF-8' not supported 我猜测，requestBody和requestParam两种请求方式的请求体是有区别的，requestBody的请求方式是application/json，requestParam的请求方式是：application/x-www-form-urlencode，就是表单。 这时接口同时要求两种请求方式，前端根本没法规定请求类型。\n解决办法： 不必非要使用requestBody注解，另外一个参数也使用requestParam好了，这样请求类型一致，即可以传文件(视频、音频、图片)，还可以带参数了。\n接收数组参数 普通数组参数 前端表单提交(form-data)，key要和后台接收的参数值一致，value为逗号分隔的字符串，而不是数组。如： ids：1,2正确 ids：[1,2]错误\nmvc参数： String[] ids 后台尽量使用string类型数组，因为通过实验发现，string数组可同时接收string类型和int类型的字符串，如： ids：1,2 ids：'1','2'\n使用requestBody接收数组参数 写法： @RequestBody Integer[] arr\npostMan请求方式：\nContent-Type：application/json body-\u003eraw-\u003eJSON(application/json) 在body中写： [1,2]\n通过阅读阅读json官方介绍和SpringMvc官方文档， 发现@RequestBody 会自动转成一个对象，这个对象有个属性叫ids,而你直接就写ids，而不是那个对象。所以直接提交[1,2]\n因为mvc接收的是单一类型Integer[]，所以只能传递一个数组，不能带key，但是这样就无法传递其他参数，比如说带个xxId啥的。 所以如果想这么写：\n1 2 3 4 { \"arr\":[1,2], \"xxId\":56 } 后台还是要用@RequestBody Map paramMap来接收参数，这样他会把参数放到map中，不过传递的数组被格式化成了list， 所以从map中取数据时，需要转为成(ArrayList) paramMap.get(\"ids\")，而不是(String[]) paramMap.get(\"ids\")\n另外，如果不想使用@RequestBody，可以使用form-data，即表单提交方式，即@RequestParam String[] ids，postMan选中body-\u003eform-data， key值需要和参数的名字完全一致(如果写了requestParam的value，则以value为准)，value为7,8，不用加中括号。 另外，还可以不使用注解，直接用String[] ids，来接收参数，这时传递的key值也必须和后台参数名一致。可以发现，如果不用注解接收参数，springMvc默认使用的是表单的解析方式，即@RequestParam的解析方式。\n@ResponseBody 作用：该注解用于将Controller的方法返回的对象，通过适当的HttpMessageConverter转换为指定格式后，写入到Response对象的body数据区。 使用时机：返回的数据不是html标签的页面，而是其他某种格式的数据时（如json、xml等）使用\n注：可以使用@ResponseBody来接收实体类参数，只需要这么写： @ResponseBody User u 如果不加@ResponseBody，前端就要form-data提交。\n通常这样用: @ResponseBody Map paramMap 但是这样后台还要判空，然后再向实体类中set，所以还是用@ResponseBody User u 这种。\n@RequestPart 同时上传文件和json参数。上传文件时，可能还需要带参数，直接上js代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 \"file\" id=\"file\" name=\"file\"/\u003e \"button\" name=\"\"\u003e上传 $(function () { $(\"#button\").click(function () { //构建formData var formData = new FormData(); //文件部分 var file = document.getElementById(\"file\").files[0]; formData.append(\"file\", file); //json部分 var imageInfo = JSON.stringify({ \"width\": \"240\", \"height\": \"320\" }); //这里包装 可以直接转换成对象 formData.append('imageInfo', new Blob([imageInfo], {type: \"application/json\"})); $.ajax({ url: \"/test/upload\", type: \"post\", //忽略contentType contentType: false, //取消序列换 formData本来就是序列化好的 processData: false, dataType: \"json\", data: formData, success: function (response) { alert(response); }, error: function () { } }); }); }) java：\n1 2 3 4 5 @PostMapping(\"upload\") public ImageInfo upload(@RequestPart(\"file\") MultipartFile file,@RequestPart(\"imageInfo\") ImageInfo imageInfo) { System.out.println(imageInfo); return imageInfo; } 使用实体类同时接收文件和复杂对象 前面写了接口同时文件和单一参数，即同时使用两个@RequestParam，现在讲讲如何同时接收文件和复杂对象。 如果只是复杂的json对象，完全可以使用Map map来接收，springMvc会自动将数据格式化到map中，例如这种对象：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 { \"param\":{ \"videoId\":1, \"right\":[ { \"content\":\"asdlijhdfghjk\", \"status\":1, \"sort\":1 }, { \"content\":\"dfghjkl;'ghjnkml,\", \"status\":1, \"sort\":2 } ], \"wrong\":[ { \"content\":\"错误错误···\", \"words\":[\"啊\",\"去\"], \"status\":1, \"sort\":1 }, { \"content\":\"错粗错粗从搓搓粗凑\", \"words\":[\"吧\",\"他\"], \"status\":1, \"sort\":2 } ] } } 如果加上文件类型，我试了很多次都无法放到map中，所以我觉得只能使用实体类来接收。所以新建实体类如下：\n1 2 3 4 5 6 7 8 9 10 11 12 public class AnalysisData implements Serializable { private Integer videoId; private List right; private List wrong; private MultipartFile[] file; //此处省略get/set方法 } 因为对象中还有对象，所以还需要上边实体类属性中Sentence的实体类：\n1 2 3 4 5 6 7 8 9 10 11 12 13 public class Sentence implements Serializable { private Integer chapterUserDubId; private String content; private Integer status; private Integer sort; private List words; //此处省略get/set方法 } 因为json对象中有数组，springmvc会把数组转为list，所以我这里用private List words;来接收数组。\n因为实体类中有private MultipartFile[] file;这个属性，所以我可以同时接收文件和复杂对象。 但是需要注意，文件需要在controller中直接上传，而不是到serviceImpl中上传，因为实体类中的MultipartFile[]无法被序列化，所以在向serviceImpl传递该实体类时会报错： Failed to invoke the method uploadCheckPayments in the service com.dxl.payment.service.payment.ITrepaymentService. Tried 3 times of the providers 译：xxx方法的参数传递错误。ITrepaymentService此接口尝试了3次请求 因为想要调用dubbo的方法，传递的参数必须序列化，即实现Serializable接口，但是即使实现了Serializable接口，MultipartFile[]依旧无法被序列化，另外还有 HttpServletRequest request和HttpSession session无法被序列化，所以需要在向service传递该实体类时，将MultipartFile[]属性置空，model.setFile(null);\njs代码是这样的：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003eTitle\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003cinput type=\"file\" id=\"abc\"\u003e \u003cbutton onclick=\"aa()\"\u003e点我\u003c/button\u003e \u003c/body\u003e \u003cscript src=\"jquery.js\"\u003e\u003c/script\u003e \u003cscript\u003e function aa(){ let files = document.getElementById('abc').files[0]; let param = new FormData(); //不能用这个对象 let aa = { \"videoId\":1, \"right\":[ { \"content\":\"asdlijhdfghjk\", \"status\":1, \"sort\":1 }, { \"content\":\"dfghjkl;'ghjnkml,\", \"status\":1, \"sort\":2 } ], \"wrong\":[ { \"content\":\"错误错误···\", \"words\":[\"啊\",\"去\"], \"status\":1, \"sort\":1 }, { \"content\":\"错粗错粗从搓搓粗凑\", \"words\":[\"吧\",\"他\"], \"status\":1, \"sort\":2 } ] } //只能是这种方式模拟表单提交，当然不会这样手写，起码会循环push到数组中。 param.append('file', files, files.name); param.append('videoId',1); param.append('right[0].content','asdasd'); param.append('right[0].status',1); param.append('right[0].sort',1); param.append('right[1].content','zxczxc'); param.append('right[1].status',1); param.append('right[1].sort',1); param.append('wrong[0].content','asdasd'); param.append('wrong[0].words[0]','啊'); param.append('wrong[0].words[1]','去'); param.append('wrong[0].status',2); param.append('wrong[0].sort',1); param.append('wrong[1].content','asdasd'); param.append('wrong[1].words[0]','啊'); param.append('wrong[1].words[1]','去'); param.append('wrong[1].status',2); param.append('wrong[1].sort',2); //param.append('right',JSON.stringify(aa)); //param.append('id',123); //param.append('aa','这是参数'); $.ajax({ type: 'POST', url: 'http://192.168.10.103:8000/zjx/api/chapter/previewDub', data: param, contentType:false, processData:false, headers:{'token':'zUEHfaHdsacP48YXaGawK1JTJfrqGjM+xVQkCc4YkvoHgEDovoTO/bFNx1rjs63s'}, // async: false, success: function (res) { console.log(res); } }); } \u003c/script\u003e \u003c/html\u003e 上边的方法太麻烦 不必拘泥于非要使用对象来接收参数，完全可以使用json字符串接收，后台再转化成对象。\n前端传递的参数：\n1 2 3 4 5 6 { right = \"[{\"content\":\"大禹治水\",\"status\":\"1\",\"sort\":0},{\"content\":\"很久很久以前,洪水经常泛滥。大水淹没了田地，冲毁了房屋，毒蛇猛兽到处伤害百姓和牲畜，人们的生活痛苦极了。\",\"status\":\"1\",\"sort\":1}]\"; score = 90; videoId = 1; wrong = \"[{\"words\":[\"百\",\"必\",\"九\"],\"status\":\"2\",\"content\":\"洪水给百姓带来了无数的灾难，必须治好它。当时一个名叫鲧的人领着大家治水。他只知道筑坝挡水，九年过去了，洪水仍然没有消退。他的儿子禹继续治水。\",\"sort\":2},{\"words\":[\"十\",\"三\",\"次\"],\"status\":\"2\",\"content\":\"禹离开了家乡，一去就是十三年。这十三年里，他到处奔走，曾经三次路过自己家门口。可是他认为治水要紧，一次也没有走进家门看一看。\",\"sort\":3},{\"words\":[\"鲧\",\"疏\",\"渐\"],\"status\":\"2\",\"content\":\"禹吸取了鲧治水失败的教训，采取疏导的办法治水。他和千千万万的人一起，疏通了很多河道，让洪水通过河道，最后流到大海里去。洪水终于退了，毒蛇猛兽被驱赶走了，人们把家搬了回来。大家在被水淹过的土地上耕种，农业生产渐渐恢复了，百姓重新过上了安居乐业的生活。\",\"sort\":4}]\"; } 让前端将对象内容放到字符串中，后台通过下面的方法转化成对象： List right = JSONObject.parseArray(analysisData.getRight(),Sentence.class); 使用了阿里的fastJson包，如果想转化成list对象，需要指定一个实体类模型来接收。\n绑定POJO类型参数（实体类） 需要将页面元素的name属性与实体类对象属性保持一致，区分大小写，支持级联属性 ModelAndView 如果方法的返回值为ModelAndView，那么可返回页面或数据模型 返回页面：setViewName(name); 与返回String类型的用法一致 返回数据模型：addObject(key,value); 与request.setAttribute(key,vlaue); 一致 保存在了request中\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 /** * 如果方法的返回值为ModelAndView，那么可以同时返回页面和数据模型 * 返回页面：setViewName(name); 与返回String类型的用法一致 * 返回数据模型：addObject(key,value); 与request.setAttribute(key,vlaue); 一致 * 保存在了request中 */ @RequestMapping(\"/testMV\") public ModelAndView testMV( @RequestParam(value = \"email\",required = true)String email){ ModelAndView mv = new ModelAndView(); //设置返回的内容 mv.addObject(\"email\",email); //设置返回页面 mv.setViewName(\"success\"); return mv; } 隐藏的Map参数 处理方法中，可传递一个Map类型参数，SpringMvc会自动将此Map参数中的值保存到Request中\n1 2 3 4 5 6 7 8 /** * 处理方法中，可传递一个Map类型参数，SpringMvc会自动将此Map参数中的值保存到Request中 */ @RequestMapping(\"/testMap\") public String testMap(Map map){ map.put(\"address\",\"北京市丰台区马家堡西里\"); return \"success\"; } 可接收Servlet API的参数 1 2 3 4 5 6 7 @RequestMapping(\"/testServletAPI\") public String testServletAPI(HttpServletRequest request,HttpServletResponse response){ String name = request.getParameter(\"name\"); System.out.println(name); request.setAttribute(\"stuName\",name); return \"success\"; } @Component 相当于通用的注解，当不知道一些类归到哪个层时使用，但是不建议。\n@ModelAttribute 和 @SessionAttributes SpringMVC 支持使用 @ModelAttribute 和 @SessionAttributes 在不同的模型（model）和控制器之间共享数据。 @ModelAttribute 主要有两种使用方式，一种是标注在方法上，一种是标注在 Controller 方法参数上。 当 @ModelAttribute 标记在方法上的时候，该方法将在处理器方法执行之前执行，然后把返回的对象存放在 session 或模型属性中，属性名称可以使用 @ModelAttribute(“attributeName”) 在标记方法的时候指定，若未指定，则使用返回类型的类名称（首字母小写）作为属性名称。\n自定义视图 1.在springmvc.xml中增加配置\n1 2 3 4 属性order为优先级顺序，value值越大，越优先使用该视图解析器 2.编写自定义视图：\n1 2 3 4 5 6 7 8 9 10 11 12 @Component public class MyView implements View{ @Override public String getContentType() { return \"text/html\"; } @Override public void render(Map map, HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception { response.getWriter().write(\"this is my view\"); } } 3.在类定义处添加注解 @Component 将其装入SpringIOC容器中 getContentType方法为视图类型 render方法为视图内容\n4.修改springmvc配置文件，保证包扫描时可以扫描到自定义视图 配置自动扫描包\n1 5.编写测试方法\n1 2 3 4 @RequestMapping(\"/testView\") public String testView(){ return \"myView\"; } 重定向和转发 1 2 3 4 5 6 7 8 9 10 11 12 13 14 /** * 在返回值处增加前缀：forward */ @RequestMapping(\"/testForward\") public String testForward(){ return \"forward:testSession\"; } /** * 在返回值处增加前缀：redirect */ @RequestMapping(\"/testRedirect\") public String testRedirect(){ return \"redirect:testView\"; } 文件上传 SpringMVC拦截器 拦截器中有三个执行方法： 1.preHandle(): 这个方法在业务处理器处理请求之前被调用，在该方法中对用户请求request进行处理。如果决定该拦截器对请求进行拦截处理后还需要调用其他拦截器，或者是业务处理器去进行处理，则返回true。如果不需要则返回false。\n2.postHandle():这个方法在业务处理器处理完请求后，但是向客户端返回响应前被调用。\n3.afterCompletion():这个方法在完全处理完请求后被调用(渲染视图之前)，可以在该方法中进行一些资源清理的操作。\n执行顺序： 1.多个拦截器根据配置文件的配置顺序进行执行 2.首先顺序执行所有拦截器的preHandle方法 3.然后倒序执行所有拦截器的postHandle方法和afterCompletion方法 4.如果第一个拦截器的preHandle方法返回false，那么后续方法都不执行，只执行第一个拦截器的afterCompletion方法\n接收参数总结 get 以方法的形参接收参数 适用于参数比较少的情况。\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(String name,String phone) { log.info(\"name:{}\",name); log.info(\"phone:{}\",phone); return Result.success(null); } } postman：Params\n参数用 @RequestParam 标注，表示这个参数需要必传，否则会报错。 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(@RequestParam String name,@RequestParam String phone) { log.info(\"name:{}\",name); log.info(\"phone:{}\",phone); return Result.success(null); } } postman：Params\n以实体类接收参数 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(User user) { log.info(\"name:{}\",user.getName()); log.info(\"phone:{}\",user.getPhone()); return Result.success(null); } } 注：Get 请求以实体类接收参数时，不能用 RequestParam 注解进行标注，因为不支持这样的方式获取参数。\npostman：Params\n通过 HttpServletRequest 接收参数 1 2 3 4 5 6 7 8 9 10 11 12 13 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(HttpServletRequest request) { String name = request.getParameter(\"name\"); String phone = request.getParameter(\"phone\"); log.info(\"name:{}\",name); log.info(\"phone:{}\",phone); return Result.success(null); } } postman：Params\n通过 @PathVariable 注解接收参数 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail/{name}/{phone}\") public Result getUserDetail(@PathVariable String name,@PathVariable String phone) { log.info(\"name:{}\",name); log.info(\"phone:{}\",phone); return Result.success(null); } } postman：参数以斜杠形式拼接在url后\n接收数组参数 1 2 3 4 5 6 7 8 9 10 11 12 13 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(String[] names) { Arrays.asList(names).forEach(name-\u003e{ System.out.println(name); }); return Result.success(null); } } postman：Params\n接收集合参数 springboot 接收集合参数，需要用 RequestParam 注解绑定参数，否则会报错。\n1 2 3 4 5 6 7 8 9 10 11 12 13 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @GetMapping(\"/detail\") public Result getUserDetail(@RequestParam List names) { names.forEach(name-\u003e{ System.out.println(name); }); return Result.success(null); } } postman：Params\npost 以方法的形参接收参数 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(String name,String phone) { log.info(\"name:{}\",name); log.info(\"phone:{}\",phone); return Result.success(null); } } postman：Params\n以实体类接收参数 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(User user) { log.info(\"name:{}\",user.getName()); log.info(\"phone:{}\",user.getPhone()); return Result.success(null); } } postman：Params\n通过 HttpServletRequest 接收参数 1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(HttpServletRequest httpServletRequest) { log.info(\"name:{}\",httpServletRequest.getParameter(\"name\")); log.info(\"phone:{}\",httpServletRequest.getParameter(\"phone\")); return Result.success(null); } } postman：Params\n通过 @PathVariable 注解进行接收 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save/{name}\") public Result getUserDetail(@PathVariable String name) { log.info(\"name:{}\",name); return Result.success(null); } } postman：参数以斜杠形式拼接在url后\n请求体以 form-data 提交参数，以实体类接收参数 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(User user) { log.info(\"name:{}\",user.getName()); log.info(\"phone:{}\",user.getPhone()); return Result.success(null); } } postman：body-\u003eform-data\n请求体以 x-www-form-urlencoded 提交参数，以实体类接收参数 x-www-form-urlencoded 也是表单提交的一种方式，只不过提交的参数被进行了编码，并且转换成了键值对。\n例如你用form-data 提交的参数：\n1 2 name: wjy age: 22 用 x-www-form-urlencoded 提交的参数：\n1 name=%E5%BC%A0%E4%B8%89\u0026age=22 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(User user) { log.info(\"name:{}\",user.getName()); log.info(\"phone:{}\",user.getPhone()); return Result.success(null); } } postman：body-\u003eform-data\n通过 @RequestBody 注解接收参数 注：RequestBody 注解主要用来接收前端传过来的 body 中 json 格式的参数。\n接收实体类参数 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestBody User user) { log.info(\"name:{}\",user.getName()); log.info(\"phone:{}\",user.getPhone()); return Result.success(null); } } postman：Body-\u003ejson\n接收数组和集合 接收数组\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestBody String[] names) { Arrays.asList(names).forEach(name-\u003e{ System.out.println(name); }); return Result.success(null); } } 接收集合\n1 2 3 4 5 6 7 8 9 10 11 12 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestBody List names) { names.forEach(name-\u003e{ System.out.println(name); }); return Result.success(null); } } postman：body-\u003ejson\n1 2 3 [ \"1\",\"2\",\"3\" ] 通过 Map 接收参数 以 param 方式传参， RequestParam 注解接收参数 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestParam Map map) { System.out.println(map); System.out.println(map.get(\"name\")); return Result.success(null); } } Params。\n以 body json 格式传参，RequestBody 注解接收参数 1 2 3 4 5 6 7 8 9 10 11 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestBody Map map) { System.out.println(map); System.out.println(map.get(\"name\")); return Result.success(null); } } body-\u003ejson\nRequestBody 接收一个参数 1 2 3 4 5 6 7 8 9 10 @RestController @RequestMapping(\"/user\") @Slf4j public class UserController { @PostMapping(\"/save\") public Result getUserDetail(@RequestBody String name) { System.out.println(name); return Result.success(null); } } body-\u003ejson\n1 \"wjy\" ",
  "wordCount" : "11509",
  "inLanguage": "en",
  "datePublished": "2020-01-13T23:35:36Z",
  "dateModified": "2020-01-13T23:35:36Z",
  "author":{
    "@type": "Person",
    "name": "Wjy"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://009965.xyz/posts/spring/springmvc/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Wjy's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://009965.xyz/favicon.ico"
    }
  }
}
</script>

  <script id="MathJax-script" async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath:  [['\\(', '\\)'], ['$', '$']],  
    }
  };
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://009965.xyz/" accesskey="h" title="Wjy&#39;s Blog (Alt + H)">Wjy&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://009965.xyz/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://009965.xyz/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://009965.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://009965.xyz/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      springMVC
    </h1>
    <div class="post-meta"><span title='2020-01-13 23:35:36 +0000 UTC'>2020-01-13</span>&nbsp;·&nbsp;Wjy

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#spring-mvc-%e6%a6%82%e8%bf%b0" aria-label="spring mvc 概述">spring mvc 概述</a><ul>
                        
                <li>
                    <a href="#dispatcherservlet" aria-label="DispatcherServlet">DispatcherServlet</a></li></ul>
                </li>
                <li>
                    <a href="#spring-mvc-%e7%9a%84%e6%b3%a8%e8%a7%a3" aria-label="spring mvc 的注解">spring mvc 的注解</a><ul>
                        
                <li>
                    <a href="#controller" aria-label="@Controller">@Controller</a></li>
                <li>
                    <a href="#requestmapping" aria-label="@RequestMapping">@RequestMapping</a><ul>
                        
                <li>
                    <a href="#requestmapping%e7%9a%84params%e5%b1%9e%e6%80%a7" aria-label="RequestMapping的params属性">RequestMapping的params属性</a></li></ul>
                </li>
                <li>
                    <a href="#resource%e5%92%8cautowired" aria-label="@Resource和@Autowired">@Resource和@Autowired</a></li>
                <li>
                    <a href="#pathvariable" aria-label="@PathVariable">@PathVariable</a></li>
                <li>
                    <a href="#requestparam" aria-label="@requestParam">@requestParam</a></li>
                <li>
                    <a href="#requestbody" aria-label="@requestBody">@requestBody</a></li>
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e6%95%b0%e7%bb%84%e5%8f%82%e6%95%b0" aria-label="接收数组参数">接收数组参数</a><ul>
                        
                <li>
                    <a href="#%e6%99%ae%e9%80%9a%e6%95%b0%e7%bb%84%e5%8f%82%e6%95%b0" aria-label="普通数组参数">普通数组参数</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8requestbody%e6%8e%a5%e6%94%b6%e6%95%b0%e7%bb%84%e5%8f%82%e6%95%b0" aria-label="使用requestBody接收数组参数">使用requestBody接收数组参数</a></li></ul>
                </li>
                <li>
                    <a href="#responsebody" aria-label="@ResponseBody">@ResponseBody</a></li>
                <li>
                    <a href="#requestpart" aria-label="@RequestPart">@RequestPart</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%bd%93%e7%b1%bb%e5%90%8c%e6%97%b6%e6%8e%a5%e6%94%b6%e6%96%87%e4%bb%b6%e5%92%8c%e5%a4%8d%e6%9d%82%e5%af%b9%e8%b1%a1" aria-label="使用实体类同时接收文件和复杂对象">使用实体类同时接收文件和复杂对象</a><ul>
                        
                <li>
                    <a href="#%e4%b8%8a%e8%be%b9%e7%9a%84%e6%96%b9%e6%b3%95%e5%a4%aa%e9%ba%bb%e7%83%a6" aria-label="上边的方法太麻烦">上边的方法太麻烦</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%bb%91%e5%ae%9apojo%e7%b1%bb%e5%9e%8b%e5%8f%82%e6%95%b0%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="绑定POJO类型参数（实体类）">绑定POJO类型参数（实体类）</a></li>
                <li>
                    <a href="#modelandview" aria-label="ModelAndView">ModelAndView</a></li>
                <li>
                    <a href="#%e9%9a%90%e8%97%8f%e7%9a%84map%e5%8f%82%e6%95%b0" aria-label="隐藏的Map参数">隐藏的Map参数</a></li>
                <li>
                    <a href="#%e5%8f%af%e6%8e%a5%e6%94%b6servlet-api%e7%9a%84%e5%8f%82%e6%95%b0" aria-label="可接收Servlet API的参数">可接收Servlet API的参数</a></li>
                <li>
                    <a href="#component" aria-label="@Component">@Component</a></li>
                <li>
                    <a href="#modelattribute-%e5%92%8c-sessionattributes" aria-label="@ModelAttribute 和 @SessionAttributes">@ModelAttribute 和 @SessionAttributes</a></li>
                <li>
                    <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e8%a7%86%e5%9b%be" aria-label="自定义视图">自定义视图</a></li>
                <li>
                    <a href="#%e9%87%8d%e5%ae%9a%e5%90%91%e5%92%8c%e8%bd%ac%e5%8f%91" aria-label="重定向和转发">重定向和转发</a></li>
                <li>
                    <a href="#%e6%96%87%e4%bb%b6%e4%b8%8a%e4%bc%a0" aria-label="文件上传">文件上传</a></li>
                <li>
                    <a href="#springmvc%e6%8b%a6%e6%88%aa%e5%99%a8" aria-label="SpringMVC拦截器">SpringMVC拦截器</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0%e6%80%bb%e7%bb%93" aria-label="接收参数总结">接收参数总结</a><ul>
                        
                <li>
                    <a href="#get" aria-label="get">get</a><ul>
                        
                <li>
                    <a href="#%e4%bb%a5%e6%96%b9%e6%b3%95%e7%9a%84%e5%bd%a2%e5%8f%82%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="以方法的形参接收参数">以方法的形参接收参数</a></li>
                <li>
                    <a href="#%e5%8f%82%e6%95%b0%e7%94%a8-requestparam-%e6%a0%87%e6%b3%a8%e8%a1%a8%e7%a4%ba%e8%bf%99%e4%b8%aa%e5%8f%82%e6%95%b0%e9%9c%80%e8%a6%81%e5%bf%85%e4%bc%a0%e5%90%a6%e5%88%99%e4%bc%9a%e6%8a%a5%e9%94%99" aria-label="参数用 @RequestParam 标注，表示这个参数需要必传，否则会报错。">参数用 @RequestParam 标注，表示这个参数需要必传，否则会报错。</a></li>
                <li>
                    <a href="#%e4%bb%a5%e5%ae%9e%e4%bd%93%e7%b1%bb%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="以实体类接收参数">以实体类接收参数</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-httpservletrequest-%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="通过 HttpServletRequest 接收参数">通过 HttpServletRequest 接收参数</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-pathvariable-%e6%b3%a8%e8%a7%a3%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="通过 @PathVariable 注解接收参数">通过 @PathVariable 注解接收参数</a></li>
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e6%95%b0%e7%bb%84%e5%8f%82%e6%95%b0-1" aria-label="接收数组参数">接收数组参数</a></li>
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e9%9b%86%e5%90%88%e5%8f%82%e6%95%b0" aria-label="接收集合参数">接收集合参数</a></li></ul>
                </li>
                <li>
                    <a href="#post" aria-label="post">post</a><ul>
                        
                <li>
                    <a href="#%e4%bb%a5%e6%96%b9%e6%b3%95%e7%9a%84%e5%bd%a2%e5%8f%82%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0-1" aria-label="以方法的形参接收参数">以方法的形参接收参数</a></li>
                <li>
                    <a href="#%e4%bb%a5%e5%ae%9e%e4%bd%93%e7%b1%bb%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0-1" aria-label="以实体类接收参数">以实体类接收参数</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-httpservletrequest-%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0-1" aria-label="通过 HttpServletRequest 接收参数">通过 HttpServletRequest 接收参数</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-pathvariable-%e6%b3%a8%e8%a7%a3%e8%bf%9b%e8%a1%8c%e6%8e%a5%e6%94%b6" aria-label="通过 @PathVariable 注解进行接收">通过 @PathVariable 注解进行接收</a></li>
                <li>
                    <a href="#%e8%af%b7%e6%b1%82%e4%bd%93%e4%bb%a5-form-data-%e6%8f%90%e4%ba%a4%e5%8f%82%e6%95%b0%e4%bb%a5%e5%ae%9e%e4%bd%93%e7%b1%bb%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="请求体以 form-data 提交参数，以实体类接收参数">请求体以 form-data 提交参数，以实体类接收参数</a></li>
                <li>
                    <a href="#%e8%af%b7%e6%b1%82%e4%bd%93%e4%bb%a5-x-www-form-urlencoded-%e6%8f%90%e4%ba%a4%e5%8f%82%e6%95%b0%e4%bb%a5%e5%ae%9e%e4%bd%93%e7%b1%bb%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="请求体以 x-www-form-urlencoded 提交参数，以实体类接收参数">请求体以 x-www-form-urlencoded 提交参数，以实体类接收参数</a></li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-requestbody-%e6%b3%a8%e8%a7%a3%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="通过 @RequestBody 注解接收参数">通过 @RequestBody 注解接收参数</a><ul>
                        
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e5%ae%9e%e4%bd%93%e7%b1%bb%e5%8f%82%e6%95%b0" aria-label="接收实体类参数">接收实体类参数</a></li>
                <li>
                    <a href="#%e6%8e%a5%e6%94%b6%e6%95%b0%e7%bb%84%e5%92%8c%e9%9b%86%e5%90%88" aria-label="接收数组和集合">接收数组和集合</a></li></ul>
                </li>
                <li>
                    <a href="#%e9%80%9a%e8%bf%87-map-%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="通过 Map 接收参数">通过 Map 接收参数</a><ul>
                        
                <li>
                    <a href="#%e4%bb%a5-param-%e6%96%b9%e5%bc%8f%e4%bc%a0%e5%8f%82-requestparam-%e6%b3%a8%e8%a7%a3%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="以 param 方式传参， RequestParam 注解接收参数">以 param 方式传参， RequestParam 注解接收参数</a></li>
                <li>
                    <a href="#%e4%bb%a5-body-json-%e6%a0%bc%e5%bc%8f%e4%bc%a0%e5%8f%82requestbody-%e6%b3%a8%e8%a7%a3%e6%8e%a5%e6%94%b6%e5%8f%82%e6%95%b0" aria-label="以 body json 格式传参，RequestBody 注解接收参数">以 body json 格式传参，RequestBody 注解接收参数</a></li></ul>
                </li>
                <li>
                    <a href="#requestbody-%e6%8e%a5%e6%94%b6%e4%b8%80%e4%b8%aa%e5%8f%82%e6%95%b0" aria-label="RequestBody 接收一个参数">RequestBody 接收一个参数</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="spring-mvc-概述">spring mvc 概述<a hidden class="anchor" aria-hidden="true" href="#spring-mvc-概述">#</a></h1>
<p>MVC，即 model模型，view视图，controller控制。
spring mvc可以用来开发灵活、松散耦合的 web 应用程序。
MVC 模式使应用程序的不同方面分离(输入逻辑、业务逻辑和 UI 逻辑)，同时提供了在这些元素之间的松散耦合。</p>
<ul>
<li>模型封装了应用程序数据，通常由POJO组成。</li>
<li>视图主要用于展示模型数据，并且通常它生成客户端的浏览器可以解释的 HTML 输出。</li>
<li>控制器主要用于处理用户请求，并且构建合适的模型并将其传递到视图呈现。</li>
</ul>
<h2 id="dispatcherservlet">DispatcherServlet<a hidden class="anchor" aria-hidden="true" href="#dispatcherservlet">#</a></h2>
<p>spring mvc框架是围绕 DispatcherServlet 设计的，DispatcherServlet 用来处理所有的 HTTP 请求和响应。
Spring Web MVC DispatcherServlet 的请求处理的工作流程如下：</p>
<ol>
<li>用户发送请求至前端控制器DispatcherServlet。</li>
<li>DispatcherServlet收到请求调用 HandlerMapping 处理器映射器。</li>
<li>HandlerMapping找到具体的处理器(可以根据xml配置、注解进行查找)，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet。</li>
<li>DispatcherServlet调用HandlerAdapter(处理器适配器)。</li>
<li>HandlerAdapter 调用具体的处理器(Controller，也叫后端控制器)。</li>
<li>Controller执行完成返回ModelAndView。</li>
<li>HandlerAdapter将controller执行结果ModelAndView返回给DispatcherServlet。</li>
<li>DispatcherServlet将ModelAndView传给ViewReslover视图解析器。</li>
<li>ViewReslover解析后返回具体View。</li>
<li>DispatcherServlet根据View进行渲染视图（即将模型数据填充至视图中）。</li>
<li>DispatcherServlet响应用户。</li>
</ol>
<h1 id="spring-mvc-的注解">spring mvc 的注解<a hidden class="anchor" aria-hidden="true" href="#spring-mvc-的注解">#</a></h1>
<h2 id="controller">@Controller<a hidden class="anchor" aria-hidden="true" href="#controller">#</a></h2>
<p>在SpringMVC中，控制器Controller 负责处理由DispatcherServlet 分发的请求，它把用户请求的数据经过业务处理层处理之后封装成一个Model ，然后再把该Model 返回给对应的View 进行展示。
在SpringMVC 中提供了一个非常简便的定义Controller 的方法，你无需继承特定的类或实现特定的接口，只需使用@Controller 标记一个类是Controller ，然后使用@RequestMapping 或@RequestParam 等一些注解用以定义URL 请求和Controller 方法之间的映射，这样的Controller 就能被外界访问到。</p>
<p>此外Controller 不会直接依赖于HttpServletRequest 和HttpServletResponse 等HttpServlet 对象，它们可以通过Controller 的方法参数灵活的获取到。</p>
<p>@Controller 用于标记在一个类上，使用它标记的类就是一个SpringMVC Controller 对象。
分发处理器将会扫描使用了该注解的类的方法，并检测该方法是否使用了@RequestMapping 注解。
@Controller 只是定义了一个控制器类，而使用@RequestMapping 注解的方法才是真正处理请求的处理器。
单单使用@Controller 标记在一个类上还不能真正意义上的说它就是SpringMVC 的一个控制器类，因为这个时候Spring 还不认识它。那么要如何做Spring 才能认识它呢？这个时候就需要我们把这个控制器类交给Spring 来管理。有两种方式：</p>
<ul>
<li>在SpringMVC 的配置文件中定义MyController 的bean 对象。</li>
<li>在SpringMVC 的配置文件中告诉Spring 该到哪里去找标记为@Controller 的Controller 控制器。</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>&lt;!--方式一--&gt;
</span></span><span style="display:flex;"><span>&lt;bean class=<span style="color:#0ff;font-weight:bold">&#34;com.host.app.web.controller.MyController&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;!--方式二--&gt;
</span></span><span style="display:flex;"><span>&lt; context:component-scan base-<span style="color:#fff;font-weight:bold">package</span> = <span style="color:#0ff;font-weight:bold">&#34;com.host.app.web&#34;</span> /&gt;<span style="color:#007f7f">//路径写到controller的上一层(扫描包详解见下面浅析)
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="requestmapping">@RequestMapping<a hidden class="anchor" aria-hidden="true" href="#requestmapping">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 设置处理方法的请求方式
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 假如将处理方法的请求方式设置成get，那么只能用get方式进行请求
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * get之外的任何请求方式都不好用
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@RequestMapping(value=<span style="color:#0ff;font-weight:bold">&#34;/testGet&#34;</span>,method=RequestMethod.<span style="color:#007f7f">GET</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String testRequestMethod(){
</span></span><span style="display:flex;"><span>	System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;testRequestMethod&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Spring 4.3对@RequestMapping()进行了细分：
@GetMapping：相当于Get请求<code>@RequestMapping(method=RequestMethod.GET)</code>
@PostMapping：相当于POST请求<code>@RequestMapping(method=RequestMethod.POST)</code>
@PutMapping：相当于PUT请求<code>@RequestMapping(method=RequestMethod.PUT)</code>
@DeleteMapping：相当于DELETE请求<code>@RequestMapping(method=RequestMethod.DELETE)</code>
@PatchMapping：相当于PATCH请求<code>@RequestMapping(method=RequestMethod.PATCH)</code></p>
<h3 id="requestmapping的params属性">RequestMapping的params属性<a hidden class="anchor" aria-hidden="true" href="#requestmapping的params属性">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 请求必须包含username参数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 不能包含address
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 必须包含age参数，但是值不能等于10
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@RequestMapping(value=<span style="color:#0ff;font-weight:bold">&#34;/testParam&#34;</span>,params={<span style="color:#0ff;font-weight:bold">&#34;username&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;!address&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;age!=10&#34;</span>})
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String testParam(){
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;testParam&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>mapping中参数解析：
value：指定请求的实际地址，指定的地址可以是URI Template 模式（后面将会说明）
method：指定请求的method类型， GET、POST、PUT、DELETE等
consumes：指定处理请求的提交内容类型（Content-Type），例如application/json, text/html;
produces：指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回
params：指定request中必须包含某些参数值是，才让该方法处理
headers：指定request中必须包含某些指定的header值，才能让该方法处理请求</p>
<h2 id="resource和autowired">@Resource和@Autowired<a hidden class="anchor" aria-hidden="true" href="#resource和autowired">#</a></h2>
<p>@Resource和@Autowired都是做bean的注入时使用，其实@Resource并不是Spring的注解，
它的包是javax.annotation.Resource，需要导入，但是Spring支持该注解的注入。</p>
<p>共同点：
两者都可以写在字段和setter方法上。两者如果都写在字段上，那么就不需要再写setter方法。</p>
<p>不同点：</p>
<ul>
<li>@Autowired
@Autowired是Spring提供的注解，需要导入包
org.springframework.beans.factory.annotation.Autowired，只按照byType注入。</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TestServiceImpl {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 下面两种@Autowired只要使用一种即可</span>
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> UserDao userDao; <span style="color:#007f7f">// 用于类上，常用于在service实现类注入dao层对象。</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setUserDao(UserDao userDao) { <span style="color:#007f7f">// 用于属性的方法上</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">userDao</span> = userDao;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>@Autowired注解是按照类型（byType）装配依赖对象，默认情况下它要求依赖对象必须存在，如果允许null值，可以设置它的required属性为false。
如果我们想使用按照名称（byName）来装配，可以结合@Qualifier注解一起使用。如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TestServiceImpl {
</span></span><span style="display:flex;"><span>    @Autowired
</span></span><span style="display:flex;"><span>    @Qualifier(<span style="color:#0ff;font-weight:bold">&#34;userDao&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> UserDao userDao; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>@Resource
@Resource默认按照ByName自动注入，由J2EE提供，需要导入包javax.annotation.Resource。
@Resource有两个重要的属性：name和type，而Spring将@Resource注解的name属性解析为bean的名字，而type属性则解析为bean的类型。
所以，如果使用name属性，则使用byName的自动注入策略，而使用type属性时则使用byType自动注入策略。如果既不指定name也不指定type属性，这时将通过反射机制使用byName自动注入。</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> TestServiceImpl {
</span></span><span style="display:flex;"><span>    <span style="color:#007f7f">// 下面两种@Resource只要使用一种即可</span>
</span></span><span style="display:flex;"><span>    @Resource(name=<span style="color:#0ff;font-weight:bold">&#34;userDao&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> UserDao userDao; <span style="color:#007f7f">// 用于字段上</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    @Resource(name=<span style="color:#0ff;font-weight:bold">&#34;userDao&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setUserDao(UserDao userDao) { <span style="color:#007f7f">// 用于属性的setter方法上</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">userDao</span> = userDao;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：最好是将@Resource放在setter方法上，因为这样更符合面向对象的思想，通过set、get去操作属性，而不是直接去操作属性。
@Resource装配顺序：</p>
<ol>
<li>如果同时指定了name和type，则从Spring上下文中找到唯一匹配的bean进行装配，找不到则抛出异常。</li>
<li>如果指定了name，则从上下文中查找名称（id）匹配的bean进行装配，找不到则抛出异常。</li>
<li>如果指定了type，则从上下文中找到类似匹配的唯一bean进行装配，找不到或是找到多个，都会抛出异常。</li>
<li>如果既没有指定name，又没有指定type，则自动按照byName方式进行装配；如果没有匹配，则回退为一个原始类型进行匹配，如果匹配则自动装配。</li>
</ol>
<p>@Resource的作用相当于@Autowired，只不过@Autowired按照byType自动注入。</p>
<p><a href="https://blog.csdn.net/weixin_40423597/article/details/80643990">参考</a></p>
<h2 id="pathvariable">@PathVariable<a hidden class="anchor" aria-hidden="true" href="#pathvariable">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 用于将请求URL中的模板变量映射到功能处理方法的参数上，即取出uri模板中的变量作为参数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/testPathV/{id}/{name}&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//testPathV/1/abc</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//testPathV/2/fff</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 地址栏：http://localhost:8080/MySpringMvc/mvc/testPathV/10/abc</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String testPathVariable(@PathVariable(<span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>)Integer id,
</span></span><span style="display:flex;"><span>                        @PathVariable(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>)String name){
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;id~~~~~~~~&#34;</span>+id);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;name~~~~~~~~&#34;</span>+name);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="requestparam">@requestParam<a hidden class="anchor" aria-hidden="true" href="#requestparam">#</a></h2>
<p>获取请求参数，要写在方法的括号内，两个属性</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#007f7f">/**
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 1.value 要获取的参数名字
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 2.required 是否必须传递
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 如果将其中的一个参数设置为了必须传递，那么在浏览器上如果不传递该参数，则会报400错误
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> * 如果不指定value值，那么传递的参数必须和参数名一致
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"> */</span>
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/testRequestParam&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// 地址栏：http://localhost:8080/MySpringMvc/mvc/testRequestParam?email=123456@qq.com</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> String testRequestParam(
</span></span><span style="display:flex;"><span>        @RequestParam(value = <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>,required = <span style="color:#fff;font-weight:bold">false</span>)Integer age,
</span></span><span style="display:flex;"><span>        @RequestParam(value = <span style="color:#0ff;font-weight:bold">&#34;email&#34;</span>,required = <span style="color:#fff;font-weight:bold">true</span>)String email){
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;age~~~~~~~~&#34;</span>+age);
</span></span><span style="display:flex;"><span>    System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(<span style="color:#0ff;font-weight:bold">&#34;email~~~~~~~~&#34;</span>+email);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="requestbody">@requestBody<a hidden class="anchor" aria-hidden="true" href="#requestbody">#</a></h2>
<p>该常用来处理content-type不是默认的application/x-www-form-urlcoded编码的内容，
比如说：application/json或者是application/xml等。一般情况下来说常用其来处理application/json类型。</p>
<p>通常使用该注解来接收前端传递的参数。写法如下：
<code>(@RequestBody Map&lt;String,String&gt; paramMap)</code></p>
<p>传值方法如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	&#34;pageNum&#34;:1,
</span></span><span style="display:flex;"><span>	&#34;pageSize&#34;:10,
</span></span><span style="display:flex;"><span>	&#34;status&#34;:100,
</span></span><span style="display:flex;"><span>	&#34;groupId&#34;:&#34;&#34;,
</span></span><span style="display:flex;"><span>	&#34;startTime&#34;:&#34;&#34;,
</span></span><span style="display:flex;"><span>	&#34;endTime&#34;:&#34;&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>今天在写上传视频接口时，因为需要同时上传视频和传递参数，请求体同时使用了<code>requestBody</code>和<code>requestParam</code>两种注解：
<code>@RequestParam(&quot;file&quot;) MultipartFile[] file,@RequestBody Map&lt;String,String&gt; paramMap</code></p>
<p>因为平时接前端参数都是requestbody+map，这时使用postMan调用接口报错(http415错误)：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Resolved exception caused by Handler execution: 
</span></span><span style="display:flex;"><span>org.springframework.web.HttpMediaTypeNotSupportedException: 
</span></span><span style="display:flex;"><span>Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported
</span></span></code></pre></td></tr></table>
</div>
</div><p>我猜测，requestBody和requestParam两种请求方式的请求体是有区别的，requestBody的请求方式是<code>application/json</code>，requestParam的请求方式是：<code>application/x-www-form-urlencode</code>，就是表单。
这时接口同时要求两种请求方式，前端根本没法规定请求类型。</p>
<p>解决办法：
不必非要使用<code>requestBody</code>注解，另外一个参数也使用<code>requestParam</code>好了，这样请求类型一致，即可以传文件(视频、音频、图片)，还可以带参数了。</p>
<h2 id="接收数组参数">接收数组参数<a hidden class="anchor" aria-hidden="true" href="#接收数组参数">#</a></h2>
<h3 id="普通数组参数">普通数组参数<a hidden class="anchor" aria-hidden="true" href="#普通数组参数">#</a></h3>
<p>前端表单提交(form-data)，key要和后台接收的参数值一致，value为<code>逗号分隔的字符串</code>，而不是数组。如：
<code>ids：1,2</code>正确
<code>ids：[1,2]</code>错误</p>
<p>mvc参数：
<code>String[] ids</code>
后台尽量使用string类型数组，因为通过实验发现，string数组可同时接收string类型和int类型的字符串，如：
<code>ids：1,2</code>
<code>ids：'1','2'</code></p>
<h3 id="使用requestbody接收数组参数">使用requestBody接收数组参数<a hidden class="anchor" aria-hidden="true" href="#使用requestbody接收数组参数">#</a></h3>
<p>写法：
<code>@RequestBody Integer[] arr</code></p>
<p>postMan请求方式：</p>
<ul>
<li>Content-Type：application/json</li>
<li><code>body-&gt;raw-&gt;JSON(application/json)</code></li>
</ul>
<p>在body中写：
<code>[1,2]</code></p>
<p>通过阅读<a href="https://www.json.org/">阅读json官方介绍</a>和SpringMvc官方文档，
发现@RequestBody 会自动转成一个对象，这个对象有个属性叫ids,而你直接就写ids，而不是那个对象。所以直接提交[1,2]</p>
<p>因为mvc接收的是单一类型<code>Integer[]</code>，所以只能传递一个数组，不能带<code>key</code>，但是这样就无法传递其他参数，比如说带个xxId啥的。
所以如果想这么写：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	&#34;arr&#34;:[1,2],
</span></span><span style="display:flex;"><span>	&#34;xxId&#34;:56
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>后台还是要用<code>@RequestBody Map&lt;String,Object&gt; paramMap</code>来接收参数，这样他会把参数放到map中，不过传递的数组被格式化成了<code>list</code>，
所以从map中取数据时，需要转为成<code>(ArrayList) paramMap.get(&quot;ids&quot;)</code>，而不是<code>(String[]) paramMap.get(&quot;ids&quot;)</code></p>
<p>另外，如果不想使用<code>@RequestBody</code>，可以使用<code>form-data</code>，即表单提交方式，即<code>@RequestParam String[] ids</code>，postMan选中<code>body-&gt;form-data</code>，
key值需要和参数的名字完全一致(如果写了requestParam的value，则以value为准)，value为<code>7,8</code>，不用加中括号。
另外，还可以不使用注解，直接用<code>String[] ids</code>，来接收参数，这时传递的key值也必须和后台参数名一致。可以发现，如果不用注解接收参数，springMvc默认使用的是表单的解析方式，即<code>@RequestParam</code>的解析方式。</p>
<h2 id="responsebody">@ResponseBody<a hidden class="anchor" aria-hidden="true" href="#responsebody">#</a></h2>
<p>作用：该注解用于将Controller的方法返回的对象，通过适当的HttpMessageConverter转换为指定格式后，写入到Response对象的body数据区。
使用时机：返回的数据不是html标签的页面，而是其他某种格式的数据时（如json、xml等）使用</p>
<p>注：可以使用<code>@ResponseBody</code>来接收实体类参数，只需要这么写：
<code>@ResponseBody User u</code>
如果不加<code>@ResponseBody</code>，前端就要<code>form-data</code>提交。</p>
<p>通常这样用:
<code>@ResponseBody Map&lt;String,String&gt; paramMap</code>
但是这样后台还要判空，然后再向实体类中set，所以还是用<code>@ResponseBody User u</code>  这种。</p>
<h2 id="requestpart">@RequestPart<a hidden class="anchor" aria-hidden="true" href="#requestpart">#</a></h2>
<p>同时上传文件和json参数。上传文件时，可能还需要带参数，直接上js代码：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>&lt;body&gt;
</span></span><span style="display:flex;"><span>    &lt;input type=<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span> id=<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span> name=<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;button id=<span style="color:#0ff;font-weight:bold">&#34;button&#34;</span> name=<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>&gt;<span style="color:#f00">上传</span>&lt;/button&gt;
</span></span><span style="display:flex;"><span>&lt;/body&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$(function () {
</span></span><span style="display:flex;"><span>    $(<span style="color:#0ff;font-weight:bold">&#34;#button&#34;</span>).click(function () {
</span></span><span style="display:flex;"><span>        //<span style="color:#f00">构建</span>formData
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">var</span> formData = new FormData();
</span></span><span style="display:flex;"><span>        //<span style="color:#f00">文件部分</span>
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">var</span> file = document.getElementById(<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span>).files[<span style="color:#ff0;font-weight:bold">0</span>];
</span></span><span style="display:flex;"><span>        formData.append(<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span>, file);
</span></span><span style="display:flex;"><span>        //json部分
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">var</span> imageInfo = JSON.stringify({
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;width&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;240&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#0ff;font-weight:bold">&#34;height&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;320&#34;</span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        //<span style="color:#f00">这里包装</span> <span style="color:#f00">可以直接转换成对象</span>
</span></span><span style="display:flex;"><span>        formData.append(<span style="color:#0ff;font-weight:bold">&#39;imageInfo&#39;</span>, new Blob([imageInfo], {type: <span style="color:#0ff;font-weight:bold">&#34;application/json&#34;</span>}));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $.ajax({
</span></span><span style="display:flex;"><span>            url: <span style="color:#0ff;font-weight:bold">&#34;/test/upload&#34;</span>,
</span></span><span style="display:flex;"><span>            type: <span style="color:#0ff;font-weight:bold">&#34;post&#34;</span>,
</span></span><span style="display:flex;"><span>            //<span style="color:#f00">忽略</span>contentType
</span></span><span style="display:flex;"><span>            contentType: false,
</span></span><span style="display:flex;"><span>            //<span style="color:#f00">取消序列换</span> formData本来就是序列化好的
</span></span><span style="display:flex;"><span>            processData: false,
</span></span><span style="display:flex;"><span>            dataType: <span style="color:#0ff;font-weight:bold">&#34;json&#34;</span>,
</span></span><span style="display:flex;"><span>            data: formData,
</span></span><span style="display:flex;"><span>            success: function (response) {
</span></span><span style="display:flex;"><span>                alert(response);
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            error: function () {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></td></tr></table>
</div>
</div><p>java：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#f00">@</span>PostMapping(<span style="color:#0ff;font-weight:bold">&#34;upload&#34;</span>)
</span></span><span style="display:flex;"><span>public ImageInfo upload(<span style="color:#f00">@</span>RequestPart(<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span>) MultipartFile file,<span style="color:#f00">@</span>RequestPart(<span style="color:#0ff;font-weight:bold">&#34;imageInfo&#34;</span>) ImageInfo imageInfo) {
</span></span><span style="display:flex;"><span>    System.out.println(imageInfo);
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> imageInfo;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="使用实体类同时接收文件和复杂对象">使用实体类同时接收文件和复杂对象<a hidden class="anchor" aria-hidden="true" href="#使用实体类同时接收文件和复杂对象">#</a></h2>
<p>前面写了接口同时文件和单一参数，即同时使用两个<code>@RequestParam</code>，现在讲讲如何<strong>同时</strong>接收文件和复杂对象。
如果只是复杂的json对象，完全可以使用<code>Map&lt;String,Object&gt; map</code>来接收，springMvc会自动将数据格式化到map中，例如这种对象：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="font-weight:bold">&#34;param&#34;</span>:{
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;videoId&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;right&#34;</span>:[
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;asdlijhdfghjk&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>   },
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;dfghjkl;&#39;ghjnkml,&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;wrong&#34;</span>:[
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;错误错误···&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;words&#34;</span>:[<span style="color:#0ff;font-weight:bold">&#34;啊&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;去&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>   },
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;错粗错粗从搓搓粗凑&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;words&#34;</span>:[<span style="color:#0ff;font-weight:bold">&#34;吧&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;他&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果加上文件类型，我试了很多次都无法放到map中，所以我觉得只能使用实体类来接收。所以新建实体类如下：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> AnalysisData <span style="color:#fff;font-weight:bold">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer videoId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Sentence&gt; right;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;Sentence&gt; wrong;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> MultipartFile[] file;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//此处省略get/set方法</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>因为对象中还有对象，所以还需要上边实体类属性中<code>Sentence</code>的实体类：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Sentence <span style="color:#fff;font-weight:bold">implements</span> Serializable {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer chapterUserDubId;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> String content;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer status;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> Integer sort;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">private</span> List&lt;String&gt; words;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//此处省略get/set方法</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>因为json对象中有数组，springmvc会把数组转为list，所以我这里用<code>private List&lt;String&gt; words;</code>来接收数组。</p>
<p>因为实体类中有<code>private MultipartFile[] file;</code>这个属性，所以我可以同时接收文件和复杂对象。
但是需要注意，文件需要在controller中直接上传，而不是到serviceImpl中上传，因为实体类中的<code>MultipartFile[]</code>无法被序列化，所以在向serviceImpl传递该实体类时会报错：
<code>Failed to invoke the method uploadCheckPayments in the service com.dxl.payment.service.payment.ITrepaymentService. Tried 3 times of the providers</code>
译：xxx方法的参数传递错误。ITrepaymentService此接口尝试了3次请求
因为想要调用dubbo的方法，传递的参数必须序列化，即实现<code>Serializable</code>接口，但是即使实现了<code>Serializable</code>接口，<code>MultipartFile[]</code>依旧无法被序列化，另外还有
<code>HttpServletRequest request</code>和<code>HttpSession session</code>无法被序列化，所以需要在向service传递该实体类时，将<code>MultipartFile[]</code>属性置空，<code>model.setFile(null);</code></p>
<p>js代码是这样的：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">87
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#0f0;font-weight:bold">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">html</span> <span style="color:#007f7f">lang</span>=<span style="color:#0ff;font-weight:bold">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">meta</span> <span style="color:#007f7f">charset</span>=<span style="color:#0ff;font-weight:bold">&#34;UTF-8&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="font-weight:bold">title</span>&gt;Title&lt;/<span style="font-weight:bold">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">input</span> <span style="color:#007f7f">type</span>=<span style="color:#0ff;font-weight:bold">&#34;file&#34;</span> <span style="color:#007f7f">id</span>=<span style="color:#0ff;font-weight:bold">&#34;abc&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">button</span> <span style="color:#007f7f">onclick</span>=<span style="color:#0ff;font-weight:bold">&#34;aa()&#34;</span>&gt;点我&lt;/<span style="font-weight:bold">button</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">script</span> <span style="color:#007f7f">src</span>=<span style="color:#0ff;font-weight:bold">&#34;jquery.js&#34;</span>&gt;&lt;/<span style="font-weight:bold">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="font-weight:bold">script</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">function</span> aa(){
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">let</span> files = <span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#39;abc&#39;</span>).files[<span style="color:#ff0;font-weight:bold">0</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">let</span> param = <span style="color:#fff;font-weight:bold">new</span> FormData();
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//不能用这个对象
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	<span style="color:#fff;font-weight:bold">let</span> aa = {
</span></span><span style="display:flex;"><span>	 
</span></span><span style="display:flex;"><span>	  <span style="color:#0ff;font-weight:bold">&#34;videoId&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>	  <span style="color:#0ff;font-weight:bold">&#34;right&#34;</span>:[
</span></span><span style="display:flex;"><span>	   {
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;asdlijhdfghjk&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>	   },
</span></span><span style="display:flex;"><span>	   {
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;dfghjkl;&#39;ghjnkml,&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>	   }
</span></span><span style="display:flex;"><span>	  ],
</span></span><span style="display:flex;"><span>	  <span style="color:#0ff;font-weight:bold">&#34;wrong&#34;</span>:[
</span></span><span style="display:flex;"><span>	   {
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;错误错误···&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;words&#34;</span>:[<span style="color:#0ff;font-weight:bold">&#34;啊&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;去&#34;</span>],
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>	   },
</span></span><span style="display:flex;"><span>	   {
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;content&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;错粗错粗从搓搓粗凑&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;words&#34;</span>:[<span style="color:#0ff;font-weight:bold">&#34;吧&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;他&#34;</span>],
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;status&#34;</span>:<span style="color:#ff0;font-weight:bold">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#0ff;font-weight:bold">&#34;sort&#34;</span>:<span style="color:#ff0;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>	   }
</span></span><span style="display:flex;"><span>	  ]
</span></span><span style="display:flex;"><span>	 }
</span></span><span style="display:flex;"><span>	 
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//只能是这种方式模拟表单提交，当然不会这样手写，起码会循环push到数组中。
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    param.append(<span style="color:#0ff;font-weight:bold">&#39;file&#39;</span>, files, files.name);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;videoId&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[0].content&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;asdasd&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[0].status&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[0].sort&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[1].content&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;zxczxc&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[1].status&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;right[1].sort&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[0].content&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;asdasd&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[0].words[0]&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;啊&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[0].words[1]&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;去&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[0].status&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[0].sort&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[1].content&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;asdasd&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[1].words[0]&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;啊&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[1].words[1]&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;去&#39;</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[1].status&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>	param.append(<span style="color:#0ff;font-weight:bold">&#39;wrong[1].sort&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#007f7f">//param.append(&#39;right&#39;,JSON.stringify(aa));
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	<span style="color:#007f7f">//param.append(&#39;id&#39;,123);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	<span style="color:#007f7f">//param.append(&#39;aa&#39;,&#39;这是参数&#39;);
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    $.ajax({
</span></span><span style="display:flex;"><span>        type: <span style="color:#0ff;font-weight:bold">&#39;POST&#39;</span>,
</span></span><span style="display:flex;"><span>        url: <span style="color:#0ff;font-weight:bold">&#39;http://192.168.10.103:8000/zjx/api/chapter/previewDub&#39;</span>,
</span></span><span style="display:flex;"><span>        data: param,
</span></span><span style="display:flex;"><span>        contentType:<span style="color:#fff;font-weight:bold">false</span>,
</span></span><span style="display:flex;"><span>        processData:<span style="color:#fff;font-weight:bold">false</span>,
</span></span><span style="display:flex;"><span>		headers:{<span style="color:#0ff;font-weight:bold">&#39;token&#39;</span>:<span style="color:#0ff;font-weight:bold">&#39;zUEHfaHdsacP48YXaGawK1JTJfrqGjM+xVQkCc4YkvoHgEDovoTO/bFNx1rjs63s&#39;</span>},
</span></span><span style="display:flex;"><span>        <span style="color:#007f7f">// async: false,
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>        success: <span style="color:#fff;font-weight:bold">function</span> (res) {
</span></span><span style="display:flex;"><span>            console.log(res);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="font-weight:bold">html</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="上边的方法太麻烦">上边的方法太麻烦<a hidden class="anchor" aria-hidden="true" href="#上边的方法太麻烦">#</a></h3>
<p>不必拘泥于非要使用对象来接收参数，完全可以使用json字符串接收，后台再转化成对象。</p>
<p>前端传递的参数：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    right = &#34;[{&#34;content&#34;:&#34;大禹治水&#34;,&#34;status&#34;:&#34;1&#34;,&#34;sort&#34;:0},{&#34;content&#34;:&#34;很久很久以前,洪水经常泛滥。大水淹没了田地，冲毁了房屋，毒蛇猛兽到处伤害百姓和牲畜，人们的生活痛苦极了。&#34;,&#34;status&#34;:&#34;1&#34;,&#34;sort&#34;:1}]&#34;;
</span></span><span style="display:flex;"><span>    score = 90;
</span></span><span style="display:flex;"><span>    videoId = 1;
</span></span><span style="display:flex;"><span>    wrong = &#34;[{&#34;words&#34;:[&#34;百&#34;,&#34;必&#34;,&#34;九&#34;],&#34;status&#34;:&#34;2&#34;,&#34;content&#34;:&#34;洪水给百姓带来了无数的灾难，必须治好它。当时一个名叫鲧的人领着大家治水。他只知道筑坝挡水，九年过去了，洪水仍然没有消退。他的儿子禹继续治水。&#34;,&#34;sort&#34;:2},{&#34;words&#34;:[&#34;十&#34;,&#34;三&#34;,&#34;次&#34;],&#34;status&#34;:&#34;2&#34;,&#34;content&#34;:&#34;禹离开了家乡，一去就是十三年。这十三年里，他到处奔走，曾经三次路过自己家门口。可是他认为治水要紧，一次也没有走进家门看一看。&#34;,&#34;sort&#34;:3},{&#34;words&#34;:[&#34;鲧&#34;,&#34;疏&#34;,&#34;渐&#34;],&#34;status&#34;:&#34;2&#34;,&#34;content&#34;:&#34;禹吸取了鲧治水失败的教训，采取疏导的办法治水。他和千千万万的人一起，疏通了很多河道，让洪水通过河道，最后流到大海里去。洪水终于退了，毒蛇猛兽被驱赶走了，人们把家搬了回来。大家在被水淹过的土地上耕种，农业生产渐渐恢复了，百姓重新过上了安居乐业的生活。&#34;,&#34;sort&#34;:4}]&#34;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>让前端将对象内容放到字符串中，后台通过下面的方法转化成对象：
<code>List&lt;Sentence&gt; right = JSONObject.parseArray(analysisData.getRight(),Sentence.class);</code>
使用了阿里的<code>fastJson</code>包，如果想转化成list对象，需要指定一个实体类模型来接收。</p>
<h2 id="绑定pojo类型参数实体类">绑定POJO类型参数（实体类）<a hidden class="anchor" aria-hidden="true" href="#绑定pojo类型参数实体类">#</a></h2>
<p>需要将页面元素的name属性与实体类对象属性保持一致，区分大小写，支持级联属性
<img loading="lazy" src="/posts/spring/springmvc/1.png"></p>
<h2 id="modelandview">ModelAndView<a hidden class="anchor" aria-hidden="true" href="#modelandview">#</a></h2>
<p>如果方法的返回值为ModelAndView，那么可返回页面或数据模型
返回页面：setViewName(name); 与返回String类型的用法一致
返回数据模型：addObject(key,value); 与request.setAttribute(key,vlaue); 一致
保存在了request中</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * 如果方法的返回值为ModelAndView，那么可以同时返回页面和数据模型
</span></span><span style="display:flex;"><span> * 返回页面：setViewName(name); 与返回String类型的用法一致
</span></span><span style="display:flex;"><span> * 返回数据模型：addObject(key,value); 与request.setAttribute(key,vlaue); 一致
</span></span><span style="display:flex;"><span> * 保存在了request中
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>@RequestMapping(&#34;/testMV&#34;)
</span></span><span style="display:flex;"><span>public ModelAndView testMV(
</span></span><span style="display:flex;"><span>        @RequestParam(value = &#34;email&#34;,required = true)String email){
</span></span><span style="display:flex;"><span>    ModelAndView mv = new ModelAndView();
</span></span><span style="display:flex;"><span>    //设置返回的内容
</span></span><span style="display:flex;"><span>    mv.addObject(&#34;email&#34;,email);
</span></span><span style="display:flex;"><span>    //设置返回页面
</span></span><span style="display:flex;"><span>    mv.setViewName(&#34;success&#34;);
</span></span><span style="display:flex;"><span>    return mv;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="隐藏的map参数">隐藏的Map参数<a hidden class="anchor" aria-hidden="true" href="#隐藏的map参数">#</a></h2>
<p>处理方法中，可传递一个Map类型参数，SpringMvc会自动将此Map参数中的值保存到Request中</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * 处理方法中，可传递一个Map类型参数，SpringMvc会自动将此Map参数中的值保存到Request中
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>@RequestMapping(&#34;/testMap&#34;)
</span></span><span style="display:flex;"><span>public String testMap(Map&lt;String,Object&gt; map){
</span></span><span style="display:flex;"><span>    map.put(&#34;address&#34;,&#34;北京市丰台区马家堡西里&#34;);
</span></span><span style="display:flex;"><span>    return &#34;success&#34;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="可接收servlet-api的参数">可接收Servlet API的参数<a hidden class="anchor" aria-hidden="true" href="#可接收servlet-api的参数">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@RequestMapping(&#34;/testServletAPI&#34;)
</span></span><span style="display:flex;"><span>public String testServletAPI(HttpServletRequest request,HttpServletResponse response){
</span></span><span style="display:flex;"><span>    String name = request.getParameter(&#34;name&#34;);
</span></span><span style="display:flex;"><span>    System.out.println(name);
</span></span><span style="display:flex;"><span>    request.setAttribute(&#34;stuName&#34;,name);
</span></span><span style="display:flex;"><span>    return &#34;success&#34;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="component">@Component<a hidden class="anchor" aria-hidden="true" href="#component">#</a></h2>
<p>相当于通用的注解，当不知道一些类归到哪个层时使用，但是不建议。</p>
<h2 id="modelattribute-和-sessionattributes">@ModelAttribute 和 @SessionAttributes<a hidden class="anchor" aria-hidden="true" href="#modelattribute-和-sessionattributes">#</a></h2>
<p>SpringMVC 支持使用 @ModelAttribute 和 @SessionAttributes 在不同的模型（model）和控制器之间共享数据。
@ModelAttribute 主要有两种使用方式，一种是标注在方法上，一种是标注在 Controller 方法参数上。
当 @ModelAttribute 标记在方法上的时候，该方法将在处理器方法执行之前执行，然后把返回的对象存放在 session 或模型属性中，属性名称可以使用 @ModelAttribute(“attributeName”) 在标记方法的时候指定，若未指定，则使用返回类型的类名称（首字母小写）作为属性名称。</p>
<h2 id="自定义视图">自定义视图<a hidden class="anchor" aria-hidden="true" href="#自定义视图">#</a></h2>
<p>1.在springmvc.xml中增加配置</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;bean class=&#34;prg.springframework.web.servlet.view.BeanNameViewResolver&#34;&gt;
</span></span><span style="display:flex;"><span>	&lt;property name=&#34;order&#34; value=&#34;99&#34;&gt;&lt;/property&gt;
</span></span><span style="display:flex;"><span>&lt;/bean&gt;
</span></span><span style="display:flex;"><span>属性order为优先级顺序，value值越大，越优先使用该视图解析器
</span></span></code></pre></td></tr></table>
</div>
</div><p>2.编写自定义视图：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@Component
</span></span><span style="display:flex;"><span>public class MyView implements View{
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    public String getContentType() {
</span></span><span style="display:flex;"><span>        return &#34;text/html&#34;;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @Override
</span></span><span style="display:flex;"><span>    public void render(Map&lt;String, ?&gt; map, HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception {
</span></span><span style="display:flex;"><span>        response.getWriter().write(&#34;&lt;h1&gt;this is my view&lt;/h1&gt;&#34;);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>3.在类定义处添加注解 @Component 将其装入SpringIOC容器中
getContentType方法为视图类型
render方法为视图内容</p>
<p>4.修改springmvc配置文件，保证包扫描时可以扫描到自定义视图
配置自动扫描包</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;context:component-scan bese-package=&#34;com.*&#34;/&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>5.编写测试方法</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>@RequestMapping(&#34;/testView&#34;)
</span></span><span style="display:flex;"><span>public String testView(){
</span></span><span style="display:flex;"><span>    return &#34;myView&#34;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="重定向和转发">重定向和转发<a hidden class="anchor" aria-hidden="true" href="#重定向和转发">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * 在返回值处增加前缀：forward
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>@RequestMapping(&#34;/testForward&#34;)
</span></span><span style="display:flex;"><span>public String testForward(){
</span></span><span style="display:flex;"><span>    return &#34;forward:testSession&#34;;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>/**
</span></span><span style="display:flex;"><span> * 在返回值处增加前缀：redirect
</span></span><span style="display:flex;"><span> */
</span></span><span style="display:flex;"><span>@RequestMapping(&#34;/testRedirect&#34;)
</span></span><span style="display:flex;"><span>public String testRedirect(){
</span></span><span style="display:flex;"><span>    return &#34;redirect:testView&#34;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="文件上传">文件上传<a hidden class="anchor" aria-hidden="true" href="#文件上传">#</a></h2>
<p><img loading="lazy" src="/posts/spring/springmvc/2.png"></p>
<h2 id="springmvc拦截器">SpringMVC拦截器<a hidden class="anchor" aria-hidden="true" href="#springmvc拦截器">#</a></h2>
<p>拦截器中有三个执行方法：
1.preHandle(): 这个方法在业务处理器处理请求之前被调用，在该方法中对用户请求request进行处理。如果决定该拦截器对请求进行拦截处理后还需要调用其他拦截器，或者是业务处理器去进行处理，则返回true。如果不需要则返回false。</p>
<p>2.postHandle():这个方法在业务处理器处理完请求后，但是向客户端返回响应前被调用。</p>
<p>3.afterCompletion():这个方法在完全处理完请求后被调用(渲染视图之前)，可以在该方法中进行一些资源清理的操作。</p>
<p>执行顺序：
1.多个拦截器根据配置文件的配置顺序进行执行
2.首先顺序执行所有拦截器的preHandle方法
3.然后倒序执行所有拦截器的postHandle方法和afterCompletion方法
4.如果第一个拦截器的preHandle方法返回false，那么后续方法都不执行，只执行第一个拦截器的afterCompletion方法</p>
<p><img loading="lazy" src="/posts/spring/springmvc/3.png"></p>
<h1 id="接收参数总结">接收参数总结<a hidden class="anchor" aria-hidden="true" href="#接收参数总结">#</a></h1>
<h2 id="get">get<a hidden class="anchor" aria-hidden="true" href="#get">#</a></h2>
<h3 id="以方法的形参接收参数">以方法的形参接收参数<a hidden class="anchor" aria-hidden="true" href="#以方法的形参接收参数">#</a></h3>
<p>适用于参数比较少的情况。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(String name,String phone) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,phone);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="参数用-requestparam-标注表示这个参数需要必传否则会报错">参数用 @RequestParam 标注，表示这个参数需要必传，否则会报错。<a hidden class="anchor" aria-hidden="true" href="#参数用-requestparam-标注表示这个参数需要必传否则会报错">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestParam String name,@RequestParam String phone) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,phone);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="以实体类接收参数">以实体类接收参数<a hidden class="anchor" aria-hidden="true" href="#以实体类接收参数">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(User user) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,user.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,user.<span style="color:#007f7f">getPhone</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>注：Get 请求以实体类接收参数时，不能用 RequestParam 注解进行标注，因为不支持这样的方式获取参数。</p>
<p>postman：Params</p>
<h3 id="通过-httpservletrequest-接收参数">通过 HttpServletRequest 接收参数<a hidden class="anchor" aria-hidden="true" href="#通过-httpservletrequest-接收参数">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(HttpServletRequest request) {
</span></span><span style="display:flex;"><span>        String name = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>);
</span></span><span style="display:flex;"><span>        String phone = request.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;phone&#34;</span>);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,phone);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="通过-pathvariable-注解接收参数">通过 @PathVariable 注解接收参数<a hidden class="anchor" aria-hidden="true" href="#通过-pathvariable-注解接收参数">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail/{name}/{phone}&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@PathVariable String name,@PathVariable String phone) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,phone);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：参数以斜杠形式拼接在url后</p>
<h3 id="接收数组参数-1">接收数组参数<a hidden class="anchor" aria-hidden="true" href="#接收数组参数-1">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(String[] names) {
</span></span><span style="display:flex;"><span>        Arrays.<span style="color:#007f7f">asList</span>(names).<span style="color:#007f7f">forEach</span>(name-&gt;{
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(name);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="接收集合参数">接收集合参数<a hidden class="anchor" aria-hidden="true" href="#接收集合参数">#</a></h3>
<p>springboot 接收集合参数，需要用 RequestParam 注解绑定参数，否则会报错。</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @GetMapping(<span style="color:#0ff;font-weight:bold">&#34;/detail&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestParam List&lt;String&gt; names) {
</span></span><span style="display:flex;"><span>        names.<span style="color:#007f7f">forEach</span>(name-&gt;{
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(name);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h2 id="post">post<a hidden class="anchor" aria-hidden="true" href="#post">#</a></h2>
<h3 id="以方法的形参接收参数-1">以方法的形参接收参数<a hidden class="anchor" aria-hidden="true" href="#以方法的形参接收参数-1">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(String name,String phone) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,phone);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="以实体类接收参数-1">以实体类接收参数<a hidden class="anchor" aria-hidden="true" href="#以实体类接收参数-1">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(User user) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,user.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,user.<span style="color:#007f7f">getPhone</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="通过-httpservletrequest-接收参数-1">通过 HttpServletRequest 接收参数<a hidden class="anchor" aria-hidden="true" href="#通过-httpservletrequest-接收参数-1">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(HttpServletRequest httpServletRequest) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,httpServletRequest.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>));
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,httpServletRequest.<span style="color:#007f7f">getParameter</span>(<span style="color:#0ff;font-weight:bold">&#34;phone&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Params</p>
<h3 id="通过-pathvariable-注解进行接收">通过 @PathVariable 注解进行接收<a hidden class="anchor" aria-hidden="true" href="#通过-pathvariable-注解进行接收">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save/{name}&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@PathVariable String name) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,name);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：参数以斜杠形式拼接在url后</p>
<h3 id="请求体以-form-data-提交参数以实体类接收参数">请求体以 form-data 提交参数，以实体类接收参数<a hidden class="anchor" aria-hidden="true" href="#请求体以-form-data-提交参数以实体类接收参数">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(User user) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,user.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,user.<span style="color:#007f7f">getPhone</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：body-&gt;form-data</p>
<h3 id="请求体以-x-www-form-urlencoded-提交参数以实体类接收参数">请求体以 x-www-form-urlencoded 提交参数，以实体类接收参数<a hidden class="anchor" aria-hidden="true" href="#请求体以-x-www-form-urlencoded-提交参数以实体类接收参数">#</a></h3>
<p>x-www-form-urlencoded 也是表单提交的一种方式，只不过提交的参数被进行了编码，并且转换成了键值对。</p>
<p>例如你用form-data 提交的参数：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>name: wjy
</span></span><span style="display:flex;"><span>age: 22
</span></span></code></pre></td></tr></table>
</div>
</div><p>用 x-www-form-urlencoded 提交的参数：</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>name=%E5%BC%A0%E4%B8%89&amp;age=22
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(User user) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,user.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,user.<span style="color:#007f7f">getPhone</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：body-&gt;form-data</p>
<h3 id="通过-requestbody-注解接收参数">通过 @RequestBody 注解接收参数<a hidden class="anchor" aria-hidden="true" href="#通过-requestbody-注解接收参数">#</a></h3>
<p>注：RequestBody 注解主要用来接收前端传过来的 body 中 json 格式的参数。</p>
<h4 id="接收实体类参数">接收实体类参数<a hidden class="anchor" aria-hidden="true" href="#接收实体类参数">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestBody User user) {
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;name:{}&#34;</span>,user.<span style="color:#007f7f">getName</span>());
</span></span><span style="display:flex;"><span>        log.<span style="color:#007f7f">info</span>(<span style="color:#0ff;font-weight:bold">&#34;phone:{}&#34;</span>,user.<span style="color:#007f7f">getPhone</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：Body-&gt;json</p>
<h4 id="接收数组和集合">接收数组和集合<a hidden class="anchor" aria-hidden="true" href="#接收数组和集合">#</a></h4>
<p>接收数组</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestBody String[] names) {
</span></span><span style="display:flex;"><span>        Arrays.<span style="color:#007f7f">asList</span>(names).<span style="color:#007f7f">forEach</span>(name-&gt;{
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(name);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>接收集合</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestBody List&lt;String&gt; names) {
</span></span><span style="display:flex;"><span>        names.<span style="color:#007f7f">forEach</span>(name-&gt;{
</span></span><span style="display:flex;"><span>            System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(name);
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>postman：body-&gt;json</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>    <span style="color:#0ff;font-weight:bold">&#34;1&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;2&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="通过-map-接收参数">通过 Map 接收参数<a hidden class="anchor" aria-hidden="true" href="#通过-map-接收参数">#</a></h3>
<h4 id="以-param-方式传参-requestparam-注解接收参数">以 param 方式传参， RequestParam 注解接收参数<a hidden class="anchor" aria-hidden="true" href="#以-param-方式传参-requestparam-注解接收参数">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestParam Map&lt;String,Object&gt; map) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Params。</p>
<h4 id="以-body-json-格式传参requestbody-注解接收参数">以 body json 格式传参，RequestBody 注解接收参数<a hidden class="anchor" aria-hidden="true" href="#以-body-json-格式传参requestbody-注解接收参数">#</a></h4>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestBody Map&lt;String,Object&gt; map) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map);
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(map.<span style="color:#007f7f">get</span>(<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>body-&gt;json</p>
<h3 id="requestbody-接收一个参数">RequestBody 接收一个参数<a hidden class="anchor" aria-hidden="true" href="#requestbody-接收一个参数">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>@RestController
</span></span><span style="display:flex;"><span>@RequestMapping(<span style="color:#0ff;font-weight:bold">&#34;/user&#34;</span>)
</span></span><span style="display:flex;"><span>@Slf4j
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> UserController {
</span></span><span style="display:flex;"><span>    @PostMapping(<span style="color:#0ff;font-weight:bold">&#34;/save&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">public</span> Result&lt;User&gt; getUserDetail(@RequestBody String name) {
</span></span><span style="display:flex;"><span>        System.<span style="color:#007f7f">out</span>.<span style="color:#007f7f">println</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#fff;font-weight:bold">return</span>  Result.<span style="color:#007f7f">success</span>(<span style="color:#fff;font-weight:bold">null</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>body-&gt;json</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&#34;wjy&#34;
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://009965.xyz/tags/spring/">Spring</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://009965.xyz/">Wjy&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>